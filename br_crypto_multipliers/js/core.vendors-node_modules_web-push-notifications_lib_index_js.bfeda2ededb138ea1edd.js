/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunk"] = self["webpackChunk"] || []).push([["vendors-node_modules_web-push-notifications_lib_index_js"],{

/***/ "../../../node_modules/web-push-notifications/lib/index.js":
/*!*****************************************************************!*\
  !*** ../../../node_modules/web-push-notifications/lib/index.js ***!
  \*****************************************************************/
/***/ (function(module) {

eval("!function(root,factory){if(true)module.exports=factory();else { var i, a; }}(this,function(){return function(modules){var installedModules={};function __nested_webpack_require_318__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__nested_webpack_require_318__),module.l=!0,module.exports}return __nested_webpack_require_318__.m=modules,__nested_webpack_require_318__.c=installedModules,__nested_webpack_require_318__.d=function(exports,name,getter){__nested_webpack_require_318__.o(exports,name)||Object.defineProperty(exports,name,{configurable:!1,enumerable:!0,get:getter})},__nested_webpack_require_318__.r=function(exports){Object.defineProperty(exports,\"__esModule\",{value:!0})},__nested_webpack_require_318__.n=function(module){var getter=module&&module.__esModule?function(){return module.default}:function(){return module};return __nested_webpack_require_318__.d(getter,\"a\",getter),getter},__nested_webpack_require_318__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__nested_webpack_require_318__.p=\"\",__nested_webpack_require_318__(__nested_webpack_require_318__.s=78)}([function(module,exports,__nested_webpack_require_1351__){\"use strict\";var support=__nested_webpack_require_1351__(7),base64=__nested_webpack_require_1351__(59),nodejsUtils=__nested_webpack_require_1351__(35),setImmediate=__nested_webpack_require_1351__(102),external=__nested_webpack_require_1351__(29);function identity(input){return input}function stringToArrayLike(str,array){for(var i=0;i<str.length;++i)array[i]=255&str.charCodeAt(i);return array}exports.newBlob=function(part,type){exports.checkSupport(\"blob\");try{return new Blob([part],{type:type})}catch(e){try{var builder=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return builder.append(part),builder.getBlob(type)}catch(e){throw new Error(\"Bug : can't construct the Blob.\")}}};var arrayToStringHelper={stringifyByChunk:function(array,type,chunk){var result=[],k=0,len=array.length;if(len<=chunk)return String.fromCharCode.apply(null,array);for(;k<len;)\"array\"===type||\"nodebuffer\"===type?result.push(String.fromCharCode.apply(null,array.slice(k,Math.min(k+chunk,len)))):result.push(String.fromCharCode.apply(null,array.subarray(k,Math.min(k+chunk,len)))),k+=chunk;return result.join(\"\")},stringifyByChar:function(array){for(var resultStr=\"\",i=0;i<array.length;i++)resultStr+=String.fromCharCode(array[i]);return resultStr},applyCanBeUsed:{uint8array:function(){try{return support.uint8array&&1===String.fromCharCode.apply(null,new Uint8Array(1)).length}catch(e){return!1}}(),nodebuffer:function(){try{return support.nodebuffer&&1===String.fromCharCode.apply(null,nodejsUtils.allocBuffer(1)).length}catch(e){return!1}}()}};function arrayLikeToString(array){var chunk=65536,type=exports.getTypeOf(array),canUseApply=!0;if(\"uint8array\"===type?canUseApply=arrayToStringHelper.applyCanBeUsed.uint8array:\"nodebuffer\"===type&&(canUseApply=arrayToStringHelper.applyCanBeUsed.nodebuffer),canUseApply)for(;chunk>1;)try{return arrayToStringHelper.stringifyByChunk(array,type,chunk)}catch(e){chunk=Math.floor(chunk/2)}return arrayToStringHelper.stringifyByChar(array)}function arrayLikeToArrayLike(arrayFrom,arrayTo){for(var i=0;i<arrayFrom.length;i++)arrayTo[i]=arrayFrom[i];return arrayTo}exports.applyFromCharCode=arrayLikeToString;var transform={};transform.string={string:identity,array:function(input){return stringToArrayLike(input,new Array(input.length))},arraybuffer:function(input){return transform.string.uint8array(input).buffer},uint8array:function(input){return stringToArrayLike(input,new Uint8Array(input.length))},nodebuffer:function(input){return stringToArrayLike(input,nodejsUtils.allocBuffer(input.length))}},transform.array={string:arrayLikeToString,array:identity,arraybuffer:function(input){return new Uint8Array(input).buffer},uint8array:function(input){return new Uint8Array(input)},nodebuffer:function(input){return nodejsUtils.newBufferFrom(input)}},transform.arraybuffer={string:function(input){return arrayLikeToString(new Uint8Array(input))},array:function(input){return arrayLikeToArrayLike(new Uint8Array(input),new Array(input.byteLength))},arraybuffer:identity,uint8array:function(input){return new Uint8Array(input)},nodebuffer:function(input){return nodejsUtils.newBufferFrom(new Uint8Array(input))}},transform.uint8array={string:arrayLikeToString,array:function(input){return arrayLikeToArrayLike(input,new Array(input.length))},arraybuffer:function(input){return input.buffer},uint8array:identity,nodebuffer:function(input){return nodejsUtils.newBufferFrom(input)}},transform.nodebuffer={string:arrayLikeToString,array:function(input){return arrayLikeToArrayLike(input,new Array(input.length))},arraybuffer:function(input){return transform.nodebuffer.uint8array(input).buffer},uint8array:function(input){return arrayLikeToArrayLike(input,new Uint8Array(input.length))},nodebuffer:identity},exports.transformTo=function(outputType,input){if(input||(input=\"\"),!outputType)return input;exports.checkSupport(outputType);var inputType=exports.getTypeOf(input);return transform[inputType][outputType](input)},exports.getTypeOf=function(input){return\"string\"==typeof input?\"string\":\"[object Array]\"===Object.prototype.toString.call(input)?\"array\":support.nodebuffer&&nodejsUtils.isBuffer(input)?\"nodebuffer\":support.uint8array&&input instanceof Uint8Array?\"uint8array\":support.arraybuffer&&input instanceof ArrayBuffer?\"arraybuffer\":void 0},exports.checkSupport=function(type){if(!support[type.toLowerCase()])throw new Error(type+\" is not supported by this platform\")},exports.MAX_VALUE_16BITS=65535,exports.MAX_VALUE_32BITS=-1,exports.pretty=function(str){var code,i,res=\"\";for(i=0;i<(str||\"\").length;i++)res+=\"\\\\x\"+((code=str.charCodeAt(i))<16?\"0\":\"\")+code.toString(16).toUpperCase();return res},exports.delay=function(callback,args,self){setImmediate(function(){callback.apply(self||null,args||[])})},exports.inherits=function(ctor,superCtor){var Obj=function(){};Obj.prototype=superCtor.prototype,ctor.prototype=new Obj},exports.extend=function(){var i,attr,result={};for(i=0;i<arguments.length;i++)for(attr in arguments[i])arguments[i].hasOwnProperty(attr)&&void 0===result[attr]&&(result[attr]=arguments[i][attr]);return result},exports.prepareContent=function(name,inputData,isBinary,isOptimizedBinaryString,isBase64){return external.Promise.resolve(inputData).then(function(data){return support.blob&&(data instanceof Blob||-1!==[\"[object File]\",\"[object Blob]\"].indexOf(Object.prototype.toString.call(data)))&&\"undefined\"!=typeof FileReader?new external.Promise(function(resolve,reject){var reader=new FileReader;reader.onload=function(e){resolve(e.target.result)},reader.onerror=function(e){reject(e.target.error)},reader.readAsArrayBuffer(data)}):data}).then(function(data){var dataType=exports.getTypeOf(data);return dataType?(\"arraybuffer\"===dataType?data=exports.transformTo(\"uint8array\",data):\"string\"===dataType&&(isBase64?data=base64.decode(data):isBinary&&!0!==isOptimizedBinaryString&&(data=function(str){return stringToArrayLike(str,support.uint8array?new Uint8Array(str.length):new Array(str.length))}(data))),data):external.Promise.reject(new Error(\"Can't read the data of '\"+name+\"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?\"))})}},function(module,exports,__webpack_require__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.DEFAULT_SERVICE_WORKER_URL=\"/pushwoosh-service-worker.js\",exports.DEFAULT_API_URL=\"https://cp.pushwoosh.com/json/1.3/\",exports.FACEBOOK_APP_ID=\"436711767081797\",exports.FACEBOOK_HWID_KEY=\"FACEBOOK_HWID_KEY\",exports.PERIOD_SEND_APP_OPEN=36e5,exports.PERIOD_GOAL_EVENT=864e5,exports.DEFAULT_NOTIFICATION_DURATION=10,exports.MIN_NOTIFICATION_DURATION=10,exports.MAX_NOTIFICATION_DURATION=55,exports.WAKE_UP_SERVICE_WORKER_INTERVAL=20,exports.DEFAULT_NOTIFICATION_TITLE=\"Pushwoosh notification\",exports.DEFAULT_NOTIFICATION_IMAGE=\"https://cp.pushwoosh.com/img/logo-medium.png\",exports.DEFAULT_NOTIFICATION_URL=\"/\",exports.KEY_API_PARAMS=\"API_PARAMS\",exports.KEY_INIT_PARAMS=\"INIT_PARAMS\",exports.KEY_SDK_VERSION=\"SDK_VERSION\",exports.KEY_WORKER_VERSION=\"WORKER_VERSION\",exports.KEY_LAST_SENT_APP_OPEN=\"LAST_SENT_APP_OPEN\",exports.KEY_LAST_OPEN_MESSAGE=\"LAST_OPEN_MESSAGE\",exports.KEY_API_BASE_URL=\"API_BASE_URL\",exports.KEY_SHOW_SUBSCRIBE_WIDGET=\"WIDGET_SHOWED\",exports.KEY_CLICK_SUBSCRIBE_WIDGET=\"WIDGET_CLICKED\",exports.KEY_DELAYED_EVENT=\"DELAYED_EVENT\",exports.KEY_COMMUNICATION_ENABLED=\"COMMUNICATION_ENABLED\",exports.KEY_DEVICE_DATA_REMOVED=\"DEVICE_DATA_REMOVED\",exports.KEY_INTERNAL_EVENTS=\"INTERNAL_EVENTS\",exports.KEY_UNSUBSCRIBED_DUE_TO_UNDEFINED_KEYS=\"UNSUBSCRIBED_DUE_TO_UNDEFINED_KEYS\",exports.KEY_FAKE_PUSH_TOKEN=\"fakePushToken\",exports.KEY_DEVICE_REGISTRATION_STATUS=\"deviceRegistrationStatus\",exports.KEY_SAFARI_PREVIOUS_PERMISSION=\"safariPreviousPermission\",exports.MANUAL_SET_LOGGER_LEVEL=\"PW_SET_LOGGER_LEVEL\",exports.DEVICE_REGISTRATION_STATUS_REGISTERED=\"registered\",exports.DEVICE_REGISTRATION_STATUS_UNREGISTERED=\"unregistered\",exports.KEY_SENDER_ID=\"GCM_SENDER_ID\",exports.KEY_FCM_SUBSCRIPTION=\"FCM_SUBSCRIPTION\",exports.PERMISSION_DENIED=\"denied\",exports.PERMISSION_GRANTED=\"granted\",exports.PERMISSION_PROMPT=\"default\",exports.EVENT_ON_READY=\"onReady\",exports.EVENT_ON_SUBSCRIBE=\"onSubscribe\",exports.EVENT_ON_UNSUBSCRIBE=\"onUnsubscribe\",exports.EVENT_ON_REGISTER=\"onRegister\",exports.EVENT_ON_PERMISSION_PROMPT=\"onPermissionPrompt\",exports.EVENT_ON_PERMISSION_DENIED=\"onPermissionDenied\",exports.EVENT_ON_PERMISSION_GRANTED=\"onPermissionGranted\",exports.EVENT_ON_SW_INIT_ERROR=\"onSWInitError\",exports.EVENT_ON_PUSH_DELIVERY=\"onPushDelivery\",exports.EVENT_ON_NOTIFICATION_CLICK=\"onNotificationClick\",exports.EVENT_ON_NOTIFICATION_CLOSE=\"onNotificationClose\",exports.EVENT_ON_CHANGE_COMMUNICATION_ENABLED=\"onChangeCommunicationEnabled\",exports.EVENT_ON_PUT_NEW_MESSAGE_TO_INBOX_STORE=\"onPutNewMessageToInboxStore\",exports.EVENT_ON_UPDATE_INBOX_MESSAGES=\"onUpdateInboxMessages\",exports.EVENT_ON_SHOW_NOTIFICATION_PERMISSION_DIALOG=\"onShowNotificationPermissionDialog\",exports.EVENT_ON_HIDE_NOTIFICATION_PERMISSION_DIALOG=\"onHideNotificationPermissionDialog\",exports.EVENT_ON_SHOW_SUBSCRIPTION_WIDGET=\"onShowSubscriptionWidget\",exports.EVENT_ON_HIDE_SUBSCRIPTION_WIDGET=\"onHideSubscriptionWidget\",exports.EVENT_SHOW_SUBSCRIBE_BUTTON=\"showSubscribeButton\",exports.EVENT_CLICK_SUBSCRIBE_BUTTON=\"clickSubscribeButton\",exports.EVENT_GDPR_CONSENT=\"GDPRConsent\",exports.EVENT_GDPR_DELETE=\"GDPRDelete\",exports.EVENT_PW_SITE_OPENED=\"PW_SiteOpened\",exports.MANUAL_UNSUBSCRIBE=\"MANUAL_UNSUBSCRIBE\",exports.PAGE_VISITED_URL=\"PAGE_VISITED_URL\",exports.CHANNELS=\"CHANNELS\",exports.SUBSCRIPTION_SEGMENT_EVENT=\"Subscription Segments\",exports.SUBSCRIPTION_WIDGET_USE_CASE_NOT_SET=\"not-set\",exports.SUBSCRIPTION_WIDGET_USE_CASE_NOT_USED=\"not-used\",exports.SUBSCRIPTION_WIDGET_USE_CASE_DEFAULT=\"default\",exports.SUBSCRIPTION_WIDGET_USE_CASE_TOPIC_BASED=\"topic-based\",exports.SUBSCRIPTION_PROMPT_WIDGET_DEFAULT_CONFIG={headerText:\"Subscribe to our news\",headerTextColor:\"#000000\",subheaderText:\"Don't miss out on the latest news and updates!\",subheaderTextColor:\"#000000\",buttonAcceptText:\"Agree\",buttonAcceptTextColor:\"#1A72E8\",buttonAcceptRound:\"4px\",buttonAcceptBackgroundColor:\"#FFFFFF\",buttonAcceptBorderColor:\"#E3E4E8\",buttonCancelText:\"Deny\",buttonCancelTextColor:\"#1A72E8\",buttonCancelRound:\"4px\",buttonCancelBackgroundColor:\"#FFFFFF\",buttonCancelBorderColor:\"#E3E4E8\",cappingCount:3,cappingDelay:144e5,backgroundColor:\"#FFFFFF\"}},function(module,exports,__nested_webpack_require_11750__){\"use strict\";var __extends=this&&this.__extends||function(){var extendStatics=function(d,b){return(extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)b.hasOwnProperty(p)&&(d[p]=b[p])})(d,b)};return function(d,b){function __(){this.constructor=d}extendStatics(d,b),d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})},__generator=this&&this.__generator||function(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},\"function\"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function(op){if(f)throw new TypeError(\"Generator is already executing.\");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=(t=_.trys).length>0&&t[t.length-1])&&(6===op[0]||2===op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}},__rest=this&&this.__rest||function(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&\"function\"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]])}return t};Object.defineProperty(exports,\"__esModule\",{value:!0});var databasePromise,version_1=__nested_webpack_require_11750__(18),MigrationExecutor_1=__nested_webpack_require_11750__(19),constants_1=__nested_webpack_require_11750__(10);function onversionchange(database,event){console.info(\"onversionchange\",event),database.close()}function getInstance(){return databasePromise||(databasePromise=new Promise(function(resolve,reject){var request=indexedDB.open(\"PUSHWOOSH_SDK_STORE\",version_1.default);request.onsuccess=function(event){var database=event.target.result;database.onversionchange=onversionchange.bind(null,database,reject),resolve(database)},request.onerror=function(){return reject(request.error)},request.onupgradeneeded=function(event){var database=event.target.result;database.onversionchange=onversionchange.bind(null,database,reject),new MigrationExecutor_1.default(database).applyMigrations()}})),databasePromise}function getInstanceWithPromise(executor){return getInstance().then(function(database){return new Promise(function(resolve,reject){return executor(database,resolve,reject)})})}exports.getInstance=getInstance;var LogBase=function(){function LogBase(){}return LogBase.prototype._add=function(obj){var _this=this;return getInstanceWithPromise(function(database,resolve,reject){var request=database.transaction([_this.name],\"readwrite\").objectStore(_this.name).add(obj);request.onsuccess=function(){resolve(obj)},request.onerror=function(){reject(request.error)}}).then(function(obj){return _this.getAll().then(function(items){if(Array.isArray(items)){var ids=items.map(function(i){return i.id}).sort(function(a,b){return a==b?0:a<b?1:-1});if(ids.length>_this.maxItems)return Promise.all(ids.slice(_this.maxItems).map(function(id){return _this.delete(id)})).then(function(){return obj})}return obj})})},LogBase.prototype.delete=function(key){var _this=this;return getInstanceWithPromise(function(database,resolve,reject){var request=database.transaction([_this.name],\"readwrite\").objectStore(_this.name).delete(key);request.onsuccess=function(){resolve(request.result)},request.onerror=function(){reject(request.error)}})},LogBase.prototype.getAll=function(){var _this=this;return getInstanceWithPromise(function(database,resolve,reject){var result=[],cursor=database.transaction(_this.name).objectStore(_this.name).openCursor();cursor.onsuccess=function(ev){var cursorResult=ev.target.result;cursorResult?(cursorResult.value&&result.push(cursorResult.value),cursorResult.continue()):resolve(result)},cursor.onerror=function(){reject(cursor.error)}})},LogBase}();exports.LogBase=LogBase;var LogLog=function(_super){function LogLog(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.name=constants_1.STORE_NAME_MAIN_LOG,_this.maxItems=100,_this.environment=\"undefined\"!=typeof self&&self.registration?\"worker\":\"browser\",_this}return __extends(LogLog,_super),LogLog.prototype.add=function(type,message,additional){var obj={type:type,environment:this.environment,message:\"\"+message,date:new Date};return message instanceof Error&&(obj.stack=message.stack),additional&&(obj.additional=additional),this._add(obj)},LogLog}(LogBase);exports.LogLog=LogLog;var LogMessage=function(_super){function LogMessage(){var _this=null!==_super&&_super.apply(this,arguments)||this;return _this.name=constants_1.STORE_NAME_MESSAGE_LOG,_this.maxItems=25,_this}return __extends(LogMessage,_super),LogMessage.prototype.add=function(log){return this._add(__assign(__assign({},log),{date:new Date}))},LogMessage}(LogBase);exports.LogMessage=LogMessage,exports.keyValue=function(name){return{get:function(key,defaultValue){return getInstanceWithPromise(function(database,resolve,reject){var timeout,request=database.transaction(name).objectStore(name).get(key),isComplete=!1,isError=!1,check=function(){if(clearTimeout(timeout),isComplete){var result=request.result;resolve(result&&result.value||defaultValue)}else isError?reject(request.error):timeout=setTimeout(check,0)};request.onsuccess=function(){return isComplete=!0},request.onerror=function(){return isError=!0},check()})},getAll:function(){return getInstanceWithPromise(function(database,resolve,reject){var timeout,result={},cursor=database.transaction(name).objectStore(name).openCursor(),isComplete=!1,isError=!1,check=function(){clearTimeout(timeout),isComplete?resolve(result):isError?reject(cursor.error):timeout=setTimeout(check,0)};cursor.onsuccess=function(event){var cursorResult=event.target.result;cursorResult?(result[cursorResult.key]=cursorResult.value.value,cursorResult.continue()):isComplete=!0},cursor.onerror=function(){return isError=!0},check()})},extend:function(key,value){return __awaiter(this,void 0,void 0,function(){var oldValues,newValues;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.get(key)];case 1:return oldValues=_a.sent(),newValues=__rest(value,[]),[4,this.set(key,__assign(__assign({},oldValues),newValues))];case 2:return _a.sent(),[2]}})})},set:function(key,value){return getInstanceWithPromise(function(database,resolve,reject){var timeout,request=database.transaction([name],\"readwrite\").objectStore(name).put({key:key,value:value}),isComplete=!1,isError=!1,check=function(){clearTimeout(timeout),isComplete?resolve(key):isError?reject(request.error):timeout=setTimeout(check,0)};request.onsuccess=function(){return isComplete=!0},request.onerror=function(){return isError=!0},check()})}}}(constants_1.STORE_NAME_KEY_VALUE),exports.log=new LogLog,exports.message=new LogMessage},function(module,exports,__webpack_require__){\"use strict\";function GenericWorker(name){this.name=name||\"default\",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}GenericWorker.prototype={push:function(chunk){this.emit(\"data\",chunk)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit(\"end\"),this.cleanUp(),this.isFinished=!0}catch(e){this.emit(\"error\",e)}return!0},error:function(e){return!this.isFinished&&(this.isPaused?this.generatedError=e:(this.isFinished=!0,this.emit(\"error\",e),this.previous&&this.previous.error(e),this.cleanUp()),!0)},on:function(name,listener){return this._listeners[name].push(listener),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(name,arg){if(this._listeners[name])for(var i=0;i<this._listeners[name].length;i++)this._listeners[name][i].call(this,arg)},pipe:function(next){return next.registerPrevious(this)},registerPrevious:function(previous){if(this.isLocked)throw new Error(\"The stream '\"+this+\"' has already been used.\");this.streamInfo=previous.streamInfo,this.mergeStreamInfo(),this.previous=previous;var self=this;return previous.on(\"data\",function(chunk){self.processChunk(chunk)}),previous.on(\"end\",function(){self.end()}),previous.on(\"error\",function(e){self.error(e)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;this.isPaused=!1;var withError=!1;return this.generatedError&&(this.error(this.generatedError),withError=!0),this.previous&&this.previous.resume(),!withError},flush:function(){},processChunk:function(chunk){this.push(chunk)},withStreamInfo:function(key,value){return this.extraStreamInfo[key]=value,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var key in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(key)&&(this.streamInfo[key]=this.extraStreamInfo[key])},lock:function(){if(this.isLocked)throw new Error(\"The stream '\"+this+\"' has already been used.\");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var me=\"Worker \"+this.name;return this.previous?this.previous+\" -> \"+me:me}},module.exports=GenericWorker},function(module,exports,__nested_webpack_require_22372__){\"use strict\";var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})},__generator=this&&this.__generator||function(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},\"function\"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function(op){if(f)throw new TypeError(\"Generator is already executing.\");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=(t=_.trys).length>0&&t[t.length-1])&&(6===op[0]||2===op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}};Object.defineProperty(exports,\"__esModule\",{value:!0});var storage_1=__nested_webpack_require_22372__(2),CONSTANTS=__nested_webpack_require_22372__(1),Data=function(){function Data(store){void 0===store&&(store=storage_1.keyValue),this.store=store}return Data.prototype.clearAll=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.set(\"params.applicationCode\",void 0)];case 1:return _a.sent(),[4,this.store.set(\"params.hwid\",void 0)];case 2:return _a.sent(),[4,this.store.set(\"params.deviceType\",void 0)];case 3:return _a.sent(),[4,this.store.set(\"params.deviceModel\",void 0)];case 4:return _a.sent(),[4,this.store.set(\"params.language\",void 0)];case 5:return _a.sent(),[4,this.store.set(\"params.apiEntrypoint\",void 0)];case 6:return _a.sent(),[4,this.store.set(\"params.tokens\",void 0)];case 7:return _a.sent(),[4,this.store.set(\"params.applicationServerKey\",void 0)];case 8:return _a.sent(),[4,this.store.set(\"params.senderId\",void 0)];case 9:return _a.sent(),[4,this.store.set(\"params.webSitePushId\",void 0)];case 10:return _a.sent(),[4,this.store.set(\"params.defaultNotificationImage\",void 0)];case 11:return _a.sent(),[4,this.store.set(\"params.defaultNotificationTitle\",void 0)];case 12:return _a.sent(),[4,this.store.set(\"params.userId\",void 0)];case 13:return _a.sent(),[4,this.store.set(\"params.userIdWasChanged\",void 0)];case 14:return _a.sent(),[4,this.store.set(\"params.isLastPermissionStatus\",void 0)];case 15:return _a.sent(),[4,this.store.set(\"params.isManualUnsubscribed\",void 0)];case 16:return _a.sent(),[4,this.store.set(\"params.isCommunicationDisabled\",void 0)];case 17:return _a.sent(),[4,this.store.set(\"params.isDropAllData\",void 0)];case 18:return _a.sent(),[4,this.store.set(\"params.sdkVersion\",void 0)];case 19:return _a.sent(),[4,this.store.set(\"params.serviceWorkerVersion\",void 0)];case 20:return _a.sent(),[4,this.store.set(\"params.serviceWorkerUrl\",void 0)];case 21:return _a.sent(),[4,this.store.set(\"params.serviceWorkerScope\",void 0)];case 22:return _a.sent(),[4,this.store.set(\"params.lastOpenMessage\",void 0)];case 23:return _a.sent(),[4,this.store.set(\"params.lastOpenApplicationTime\",void 0)];case 24:return _a.sent(),[4,this.store.set(\"params.features\",void 0)];case 25:return _a.sent(),[4,this.store.set(\"params.init\",void 0)];case 26:return _a.sent(),[4,this.store.set(\"API_PARAMS\",void 0)];case 27:return _a.sent(),[4,this.store.set(\"SENDER_ID\",void 0)];case 28:return _a.sent(),[4,this.store.set(\"COMMUNICATION_ENABLED\",void 0)];case 29:return _a.sent(),[4,this.store.set(\"DEVICE_DATA_REMOVED\",void 0)];case 30:return _a.sent(),[4,this.store.set(\"LAST_OPEN_MESSAGE\",void 0)];case 31:return _a.sent(),[4,this.store.set(\"DELAYED_EVENT\",void 0)];case 32:return _a.sent(),[2]}})})},Data.prototype.setApplicationCode=function(application){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.set(\"params.applicationCode\",application)];case 1:return _a.sent(),[2]}})})},Data.prototype.getApplicationCode=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.get(\"params.applicationCode\")];case 1:return[2,_a.sent()]}})})},Data.prototype.setHwid=function(hwid){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.set(\"params.hwid\",hwid)];case 1:return _a.sent(),[2]}})})},Data.prototype.getHwid=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.get(\"params.hwid\")];case 1:return[2,_a.sent()]}})})},Data.prototype.setDeviceType=function(type){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.set(\"params.deviceType\",type)];case 1:return _a.sent(),[2]}})})},Data.prototype.getDeviceType=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.get(\"params.deviceType\")];case 1:return[2,_a.sent()]}})})},Data.prototype.setDeviceModel=function(model){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.set(\"params.deviceModel\",model)];case 1:return _a.sent(),[2]}})})},Data.prototype.getDeviceModel=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.get(\"params.deviceModel\")];case 1:return[2,_a.sent()]}})})},Data.prototype.setLanguage=function(language){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.set(\"params.language\",language)];case 1:return _a.sent(),[2]}})})},Data.prototype.getLanguage=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.get(\"params.language\",\"en\")];case 1:return[2,_a.sent()]}})})},Data.prototype.setApiEntrypoint=function(url){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.set(\"params.apiEntrypoint\",url)];case 1:return _a.sent(),[2]}})})},Data.prototype.getApiEntrypoint=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.get(\"params.apiEntrypoint\",CONSTANTS.DEFAULT_API_URL)];case 1:return[2,_a.sent()]}})})},Data.prototype.setTokens=function(tokens){return __awaiter(this,void 0,void 0,function(){var hwid;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.getHwid()];case 1:return hwid=_a.sent(),[4,this.store.set(\"API_PARAMS\",__assign({hwid:hwid},tokens))];case 2:return _a.sent(),[4,this.store.set(\"params.tokens\",tokens)];case 3:return _a.sent(),[2]}})})},Data.prototype.getTokens=function(){return __awaiter(this,void 0,void 0,function(){var oldValue,newValue;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.get(\"API_PARAMS\")];case 1:return oldValue=_a.sent(),[4,this.store.get(\"params.tokens\")];case 2:return[2,void 0!==(newValue=_a.sent())?newValue:oldValue]}})})},Data.prototype.setApplicationServerKey=function(key){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.set(\"params.applicationServerKey\",key)];case 1:return _a.sent(),[2]}})})},Data.prototype.getApplicationServerKey=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.get(\"params.applicationServerKey\")];case 1:return[2,_a.sent()]}})})},Data.prototype.setSenderId=function(senderId){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.set(\"GCM_SENDER_ID\",senderId)];case 1:return _a.sent(),[4,this.store.set(\"params.senderId\",senderId)];case 2:return _a.sent(),[2]}})})},Data.prototype.getSenderId=function(){return __awaiter(this,void 0,void 0,function(){var oldValue,newValue;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.get(\"GCM_SENDER_ID\")];case 1:return oldValue=_a.sent(),[4,this.store.get(\"params.senderId\")];case 2:return[2,void 0!==(newValue=_a.sent())?newValue:oldValue]}})})},Data.prototype.setWebSitePushId=function(senderId){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.set(\"params.webSitePushId\",senderId)];case 1:return _a.sent(),[2]}})})},Data.prototype.getWebSitePushId=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.get(\"params.webSitePushId\")];case 1:return[2,_a.sent()]}})})},Data.prototype.setDefaultNotificationImage=function(url){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.set(\"params.defaultNotificationImage\",url)];case 1:return _a.sent(),[2]}})})},Data.prototype.getDefaultNotificationImage=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.get(\"params.defaultNotificationImage\",CONSTANTS.DEFAULT_NOTIFICATION_IMAGE)];case 1:return[2,_a.sent()]}})})},Data.prototype.setDefaultNotificationTitle=function(text){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.set(\"params.defaultNotificationTitle\",text)];case 1:return _a.sent(),[2]}})})},Data.prototype.getDefaultNotificationTitle=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.get(\"params.defaultNotificationTitle\",CONSTANTS.DEFAULT_NOTIFICATION_TITLE)];case 1:return[2,_a.sent()]}})})},Data.prototype.setUserId=function(userId){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return userId?[3,2]:[4,this.store.set(\"params.userId\",void 0)];case 1:return _a.sent(),[2];case 2:return[4,this.store.set(\"params.userId\",userId.toString())];case 3:return _a.sent(),[2]}})})},Data.prototype.getUserId=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.get(\"params.userId\")];case 1:return[2,_a.sent()]}})})},Data.prototype.setStatusUserIdWasChanged=function(status){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.set(\"params.userIdWasChanged\",status)];case 1:return _a.sent(),[2]}})})},Data.prototype.getStatusUserIdWasChanged=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.get(\"params.userIdWasChanged\",!1)];case 1:return[2,_a.sent()]}})})},Data.prototype.setLastPermissionStatus=function(status){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.set(\"params.isLastPermissionStatus\",status)];case 1:return _a.sent(),[2]}})})},Data.prototype.getLastPermissionStatus=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.get(\"params.isLastPermissionStatus\")];case 1:return[2,_a.sent()]}})})},Data.prototype.setStatusManualUnsubscribed=function(status){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.set(\"MANUAL_UNSUBSCRIBE\",status)];case 1:return _a.sent(),[4,this.store.set(\"params.isManualUnsubscribed\",status)];case 2:return _a.sent(),[2]}})})},Data.prototype.getStatusManualUnsubscribed=function(){return __awaiter(this,void 0,void 0,function(){var oldValue,newValue;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.get(\"MANUAL_UNSUBSCRIBE\",!1)];case 1:return oldValue=_a.sent(),[4,this.store.get(\"params.isManualUnsubscribed\",!1)];case 2:return[2,void 0!==(newValue=_a.sent())?newValue:oldValue]}})})},Data.prototype.setStatusCommunicationDisabled=function(status){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.set(\"COMMUNICATION_ENABLED\",status?0:1)];case 1:return _a.sent(),[4,this.store.set(\"params.isCommunicationDisabled\",status)];case 2:return _a.sent(),[2]}})})},Data.prototype.getStatusCommunicationDisabled=function(){return __awaiter(this,void 0,void 0,function(){var oldValue,newValue;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.get(\"COMMUNICATION_ENABLED\")];case 1:return oldValue=_a.sent(),[4,this.store.get(\"params.isCommunicationDisabled\",!1)];case 2:return[2,void 0!==(newValue=_a.sent())?newValue:0==oldValue]}})})},Data.prototype.setStatusDropAllData=function(status){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.set(\"DEVICE_DATA_REMOVED\",status)];case 1:return _a.sent(),[4,this.store.set(\"params.isDropAllData\",status)];case 2:return _a.sent(),[2]}})})},Data.prototype.getStatusDropAllData=function(){return __awaiter(this,void 0,void 0,function(){var oldValue,newValue;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.get(\"DEVICE_DATA_REMOVED\",!1)];case 1:return oldValue=_a.sent(),[4,this.store.get(\"params.isDropAllData\",!1)];case 2:return[2,void 0!==(newValue=_a.sent())?newValue:oldValue]}})})},Data.prototype.setSdkVersion=function(version){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.set(\"params.sdkVersion\",version)];case 1:return _a.sent(),[2]}})})},Data.prototype.getSdkVersion=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.get(\"params.sdkVersion\")];case 1:return[2,_a.sent()]}})})},Data.prototype.setServiceWorkerVersion=function(version){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.set(\"WORKER_VERSION\",version)];case 1:return _a.sent(),[4,this.store.set(\"params.serviceWorkerVersion\",version)];case 2:return _a.sent(),[2]}})})},Data.prototype.getServiceWorkerVersion=function(){return __awaiter(this,void 0,void 0,function(){var oldValue,newValue;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.get(\"WORKER_VERSION\")];case 1:return oldValue=_a.sent(),[4,this.store.get(\"params.serviceWorkerVersion\")];case 2:return[2,void 0!==(newValue=_a.sent())?newValue:oldValue]}})})},Data.prototype.setServiceWorkerUrl=function(url){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return url?[4,this.store.set(\"params.serviceWorkerUrl\",url)]:[2];case 1:return _a.sent(),[2]}})})},Data.prototype.getServiceWorkerUrl=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.get(\"params.serviceWorkerUrl\",CONSTANTS.DEFAULT_SERVICE_WORKER_URL)];case 1:return[2,_a.sent()]}})})},Data.prototype.setServiceWorkerScope=function(scope){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return scope?[4,this.store.set(\"params.serviceWorkerScope\",scope)]:[2];case 1:return _a.sent(),[2]}})})},Data.prototype.getServiceWorkerScope=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.get(\"params.serviceWorkerScope\")];case 1:return[2,_a.sent()]}})})},Data.prototype.setLastOpenMessage=function(message){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.set(\"LAST_OPEN_MESSAGE\",message)];case 1:return _a.sent(),[4,this.store.set(\"params.lastOpenMessage\",message)];case 2:return _a.sent(),[2]}})})},Data.prototype.getLastOpenMessage=function(){return __awaiter(this,void 0,void 0,function(){var oldValue,newValue;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.get(\"LAST_OPEN_MESSAGE\")];case 1:return oldValue=_a.sent(),[4,this.store.get(\"params.lastOpenMessage\")];case 2:return[2,void 0!==(newValue=_a.sent())?newValue:oldValue]}})})},Data.prototype.setLastOpenApplicationTime=function(time){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.set(\"params.lastOpenApplicationTime\",time)];case 1:return _a.sent(),[2]}})})},Data.prototype.getLastOpenApplicationTime=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.get(\"params.lastOpenApplicationTime\")];case 1:return[2,_a.sent()]}})})},Data.prototype.setFeatures=function(features){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.set(\"params.features\",features)];case 1:return _a.sent(),[2]}})})},Data.prototype.getFeatures=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.get(\"params.features\")];case 1:return[2,_a.sent()]}})})},Data.prototype.setInitParams=function(params){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.set(\"params.init\",params)];case 1:return _a.sent(),[2]}})})},Data.prototype.getInitParams=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.get(\"params.init\")];case 1:return[2,_a.sent()]}})})},Data.prototype.setInboxLastRequestCode=function(lastCode){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.set(\"params.inbox.lastRequestCode\",lastCode)];case 1:return _a.sent(),[2]}})})},Data.prototype.getInboxLastRequestCode=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.get(\"params.inbox.lastRequestCode\",\"\")];case 1:return[2,_a.sent()]}})})},Data.prototype.setInboxLastRequestTime=function(lastRequestTime){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.set(\"params.inbox.lastRequestTime\",lastRequestTime)];case 1:return _a.sent(),[2]}})})},Data.prototype.getInboxLastRequestTime=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){return[2,this.store.get(\"params.inbox.lastRequestTime\",0)]})})},Data.prototype.setInboxNewMessagesCount=function(count){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.set(\"params.inbox.newMessagesCount\",count)];case 1:return _a.sent(),[2]}})})},Data.prototype.getInboxNewMessagesCount=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){return[2,this.store.get(\"params.inbox.newMessagesCount\",0)]})})},Data.prototype.setDelayedEvent=function(event){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.set(\"DELAYED_EVENT\",event)];case 1:return _a.sent(),[4,this.store.set(\"params.delayedEvent\",event)];case 2:return _a.sent(),[2]}})})},Data.prototype.getDelayedEvent=function(){return __awaiter(this,void 0,void 0,function(){var oldValue,newValue;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.get(\"DELAYED_EVENT\")];case 1:return oldValue=_a.sent(),[4,this.store.get(\"params.delayedEvent\")];case 2:return[2,void 0!==(newValue=_a.sent())?newValue:oldValue]}})})},Data.prototype.setInApps=function(inApps){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.set(\"params.inApps\",inApps)];case 1:return _a.sent(),[2]}})})},Data.prototype.getInApps=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){return[2,this.store.get(\"params.inApps\")]})})},Data.prototype.setPromptDisplayCount=function(count){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.set(\"params.promptDisplayCount\",count)];case 1:return _a.sent(),[2]}})})},Data.prototype.getPromptDisplayCount=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){return[2,this.store.get(\"params.promptDisplayCount\",0)]})})},Data.prototype.setPromptLastSeenTime=function(time){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.store.set(\"params.promptLastSeenTime\",time)];case 1:return _a.sent(),[2]}})})},Data.prototype.getPromptLastSeenTime=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){return[2,this.store.get(\"params.promptLastSeenTime\",0)]})})},Data}();exports.Data=Data},function(module,exports,__nested_webpack_require_45024__){\"use strict\";var __spreadArrays=this&&this.__spreadArrays||function(){for(var s=0,i=0,il=arguments.length;i<il;i++)s+=arguments[i].length;var r=Array(s),k=0;for(i=0;i<il;i++)for(var a=arguments[i],j=0,jl=a.length;j<jl;j++,k++)r[k]=a[j];return r};Object.defineProperty(exports,\"__esModule\",{value:!0});var storage_1=__nested_webpack_require_45024__(2),levels={error:1,info:2,debug:3},limitLevel=3;__nested_webpack_require_45024__(11).patchConsole();var Logger={setLevel:function(level){levels[level]||(level=\"error\"),limitLevel=levels[level]},write:function(type,message,additional){return\"error\"===type?this.error(message):this.info(message),storage_1.log.add(type,message,additional)}};exports.Logger=Logger,Object.keys(levels).forEach(function(levelName){var levelNumber=levels[levelName];Logger[levelName]=function(){for(var args=[],_i=0;_i<arguments.length;_i++)args[_i]=arguments[_i];levelNumber<=limitLevel&&(console.groupCollapsed(levelName),console.info.apply(console,__spreadArrays([\"\"],args)),console.trace(\"trace\"),console.groupEnd())}}),exports.logAndThrowError=function(error){var logText=new Error(error);throw Logger.write(\"error\",logText,\"logAndThrowError\"),logText},exports.logAndRejectError=function(error,reject){var logText=new Error(error);Logger.write(\"error\",logText,\"logAndRejectError\"),reject(logText)}},function(module,exports,__webpack_require__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var DateModule=function(){function DateModule(date){void 0===date&&(date=new Date),this._date=date}return Object.defineProperty(DateModule.prototype,\"date\",{get:function(){return this._date},set:function(date){this._date=date},enumerable:!0,configurable:!0}),DateModule.prototype.getUtcTimestamp=function(){return Math.floor((this.date.getTime()+60*this.date.getTimezoneOffset()*1e3)/1e3)},DateModule.prototype.getTimestamp=function(){return Math.round(this.date.getTime()/1e3)},DateModule.prototype.setLocal=function(){var newDateTimestamp=this._date.getTime()-60*this.date.getTimezoneOffset()*1e3;this._date=new Date(newDateTimestamp)},DateModule.prototype.addDays=function(days){var newDateTimestamp=this._date.getTime()+24*days*60*60*1e3;this._date=new Date(newDateTimestamp)},DateModule.prototype.getInboxFakeOrder=function(){return(100*this._date.getTime()+9e9).toString()},DateModule}();exports.default=DateModule},function(module,exports,__nested_webpack_require_47407__){\"use strict\";(function(Buffer){if(exports.base64=!0,exports.array=!0,exports.string=!0,exports.arraybuffer=\"undefined\"!=typeof ArrayBuffer&&\"undefined\"!=typeof Uint8Array,exports.nodebuffer=void 0!==Buffer,exports.uint8array=\"undefined\"!=typeof Uint8Array,\"undefined\"==typeof ArrayBuffer)exports.blob=!1;else{var buffer=new ArrayBuffer(0);try{exports.blob=0===new Blob([buffer],{type:\"application/zip\"}).size}catch(e){try{var builder=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);builder.append(buffer),exports.blob=0===builder.getBlob(\"application/zip\").size}catch(e){exports.blob=!1}}}try{exports.nodestream=!!__nested_webpack_require_47407__(52).Readable}catch(e){exports.nodestream=!1}}).call(this,__nested_webpack_require_47407__(26).Buffer)},function(module,exports,__webpack_require__){\"use strict\";var TYPED_OK=\"undefined\"!=typeof Uint8Array&&\"undefined\"!=typeof Uint16Array&&\"undefined\"!=typeof Int32Array;function _has(obj,key){return Object.prototype.hasOwnProperty.call(obj,key)}exports.assign=function(obj){for(var sources=Array.prototype.slice.call(arguments,1);sources.length;){var source=sources.shift();if(source){if(\"object\"!=typeof source)throw new TypeError(source+\"must be non-object\");for(var p in source)_has(source,p)&&(obj[p]=source[p])}}return obj},exports.shrinkBuf=function(buf,size){return buf.length===size?buf:buf.subarray?buf.subarray(0,size):(buf.length=size,buf)};var fnTyped={arraySet:function(dest,src,src_offs,len,dest_offs){if(src.subarray&&dest.subarray)dest.set(src.subarray(src_offs,src_offs+len),dest_offs);else for(var i=0;i<len;i++)dest[dest_offs+i]=src[src_offs+i]},flattenChunks:function(chunks){var i,l,len,pos,chunk,result;for(len=0,i=0,l=chunks.length;i<l;i++)len+=chunks[i].length;for(result=new Uint8Array(len),pos=0,i=0,l=chunks.length;i<l;i++)chunk=chunks[i],result.set(chunk,pos),pos+=chunk.length;return result}},fnUntyped={arraySet:function(dest,src,src_offs,len,dest_offs){for(var i=0;i<len;i++)dest[dest_offs+i]=src[src_offs+i]},flattenChunks:function(chunks){return[].concat.apply([],chunks)}};exports.setTyped=function(on){on?(exports.Buf8=Uint8Array,exports.Buf16=Uint16Array,exports.Buf32=Int32Array,exports.assign(exports,fnTyped)):(exports.Buf8=Array,exports.Buf16=Array,exports.Buf32=Array,exports.assign(exports,fnUntyped))},exports.setTyped(TYPED_OK)},function(module,exports,__nested_webpack_require_49786__){var rng=__nested_webpack_require_49786__(31),bytesToUuid=__nested_webpack_require_49786__(32);module.exports=function(options,buf,offset){var i=buf&&offset||0;\"string\"==typeof options&&(buf=\"binary\"===options?new Array(16):null,options=null);var rnds=(options=options||{}).random||(options.rng||rng)();if(rnds[6]=15&rnds[6]|64,rnds[8]=63&rnds[8]|128,buf)for(var ii=0;ii<16;++ii)buf[i+ii]=rnds[ii];return buf||bytesToUuid(rnds)}},function(module,exports,__webpack_require__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.STORE_NAME_KEY_VALUE=\"keyValue\",exports.STORE_NAME_MESSAGE_LOG=\"messages\",exports.STORE_NAME_MAIN_LOG=\"log\",exports.STORE_NAME_INBOX_MESSAGES=\"inboxMessages\",exports.KEY_PATH_BASE_INCREMENT=\"id\"},function(module,exports,__nested_webpack_require_50551__){\"use strict\";var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)},__rest=this&&this.__rest||function(s,e){var t={};for(var p in s)Object.prototype.hasOwnProperty.call(s,p)&&e.indexOf(p)<0&&(t[p]=s[p]);if(null!=s&&\"function\"==typeof Object.getOwnPropertySymbols){var i=0;for(p=Object.getOwnPropertySymbols(s);i<p.length;i++)e.indexOf(p[i])<0&&Object.prototype.propertyIsEnumerable.call(s,p[i])&&(t[p[i]]=s[p[i]])}return t};Object.defineProperty(exports,\"__esModule\",{value:!0});var storage_1=__nested_webpack_require_50551__(2),constants_1=__nested_webpack_require_50551__(1),PlatformChecker_1=__nested_webpack_require_50551__(22);function getGlobal(){return Function(\"return this\")()}function createUUID(pushToken){for(var s=\"\",i=0;i<32;i++){var l=pushToken.length-i-1,charCode=0;l>=0&&(charCode=pushToken.charCodeAt(l)),s+=\"0123456789abcdef\".substr(charCode%\"0123456789abcdef\".length,1)}return s}function getFakePushToken(){return localStorage.getItem(constants_1.KEY_FAKE_PUSH_TOKEN)}function generateFakePushToken(){var token=function(len){len=len||32;for(var text=\"\",possible=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789\",i=0;i<len;i++)text+=possible.charAt(Math.floor(Math.random()*possible.length));return text}();return localStorage.setItem(constants_1.KEY_FAKE_PUSH_TOKEN,token),token}function getSubsKey(pushSubscription,key){var rawKey=pushSubscription&&pushSubscription.getKey&&pushSubscription.getKey(key);return rawKey?btoa(String.fromCharCode.apply(String,new Uint8Array(rawKey))):\"\"}exports.getGlobal=getGlobal,exports.getVersion=function(){return\"3.18.2\"},exports.parseSerializedNotificationParams=function(param,defaultValue){if(\"string\"==typeof param)try{return JSON.parse(param)}catch(e){console.log(e)}return void 0===param&&void 0!==defaultValue?defaultValue:param},exports.urlB64ToUint8Array=function(base64String){for(var base64=(base64String+\"=\".repeat((4-base64String.length%4)%4)).replace(/-/g,\"+\").replace(/_/g,\"/\"),rawData=window.atob(base64),outputArray=new Uint8Array(rawData.length),i=0;i<rawData.length;++i)outputArray[i]=rawData.charCodeAt(i);return outputArray},exports.createUUID=createUUID,exports.generateHwid=function(applicationCode,pushToken){return applicationCode+\"_\"+createUUID(pushToken=getFakePushToken()||pushToken||generateFakePushToken())},exports.getFakePushToken=getFakePushToken,exports.generateFakePushToken=generateFakePushToken,exports.getPushToken=function(pushSubscription){return pushSubscription?pushSubscription.subscriptionId?pushSubscription.subscriptionId:12===PlatformChecker_1.default.platform?pushSubscription.endpoint:pushSubscription.endpoint.split(\"/\").pop()||\"\":\"\"},exports.getFcmKey=function(pushSubscription,key){return pushSubscription?new Promise(function(resolve){storage_1.keyValue.get(constants_1.KEY_FCM_SUBSCRIPTION).then(function(fcmSubscription){resolve(fcmSubscription&&fcmSubscription[key]||\"\")}).catch(function(){resolve(\"\")})}):Promise.resolve(\"\")},exports.getAuthToken=function(pushSubscription){return getSubsKey(pushSubscription,\"auth\")},exports.getPublicKey=function(pushSubscription){return getSubsKey(pushSubscription,\"p256dh\")},exports.getPushwooshUrl=function(applicationCode){var url=applicationCode&&!~applicationCode.indexOf(\".\")?\"https://\"+applicationCode+\".api.pushwoosh.com/json/1.3/\":\"https://cp.pushwoosh.com/json/1.3/\";return storage_1.keyValue.get(constants_1.KEY_API_BASE_URL).then(function(base_url){return void 0===base_url&&(base_url=null),base_url||url}).catch(function(){return url})},exports.patchConsole=function(){for(var method,noop=function(){},methods=[\"assert\",\"clear\",\"count\",\"debug\",\"dir\",\"dirxml\",\"error\",\"exception\",\"group\",\"groupCollapsed\",\"groupEnd\",\"info\",\"log\",\"markTimeline\",\"profile\",\"profileEnd\",\"table\",\"time\",\"timeEnd\",\"timeStamp\",\"trace\",\"warn\"],len=methods.length,global=getGlobal(),console=global.console=global.console||{};len--;)console[method=methods[len]]||(console[method]=noop)},exports.clearLocationHash=function(){\"history\"in getGlobal()&&history.pushState?history.pushState(null,\"\",\"#\"):location.hash=\"#\"},exports.validateParams=function(params){var result=__rest(params,[]);return result.userId&&\"user_id\"===result.userId&&delete result.userId,result},exports.sendInternalPostEvent=function(params){storage_1.keyValue.get(constants_1.KEY_INTERNAL_EVENTS).then(function(events){var _a;void 0===events&&(events={}),0===Object.keys(events).length&&storage_1.keyValue.set(constants_1.KEY_INTERNAL_EVENTS,{});var currentDate=(new Date).setHours(0,0,0,0),dateFromStore=events[params.event];if(!dateFromStore||currentDate>dateFromStore){storage_1.keyValue.extend(constants_1.KEY_INTERNAL_EVENTS,((_a={})[params.event]=currentDate,_a));var xhr=new XMLHttpRequest,request=__assign({application:\"DD275-06947\"},params);xhr.open(\"POST\",\"https://cp.pushwoosh.com/json/1.3/postEvent\",!0),xhr.setRequestHeader(\"Content-Type\",\"text/plain;charset=UTF-8\"),xhr.send(JSON.stringify({request:request}))}})},exports.generateUUID=function(){var d=(new Date).getTime();return\"undefined\"!=typeof performance&&\"function\"==typeof performance.now&&(d+=performance.now()),\"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g,function(c){var r=(d+16*Math.random())%16|0;return d=Math.floor(d/16),(\"x\"===c?r:3&r|8).toString(16)})}},function(module,exports,__nested_webpack_require_56013__){\"use strict\";var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)};Object.defineProperty(exports,\"__esModule\",{value:!0});var uuid=__nested_webpack_require_56013__(9),CommandBus_types_1=__nested_webpack_require_56013__(24);exports.TCommands=CommandBus_types_1.TCommands;var CommandBus=function(){function CommandBus(){this.observers=[]}return CommandBus.getInstance=function(){return CommandBus.instance||(CommandBus.instance=new CommandBus),CommandBus.instance},CommandBus.prototype.on=function(arg1,callback){this.observers.push({command:arg1,handler:callback})},CommandBus.prototype.emit=function(arg1,arg2,arg3){var commandId=uuid(),params={};\"string\"==typeof arg3&&(commandId=arg3),\"string\"==typeof arg2&&(commandId=arg2),\"object\"==typeof arg2&&arg2&&(params=arg2),this.observers.forEach(function(observer){observer.command===arg1&&observer.handler(__assign({commandId:commandId},params))})},CommandBus}();exports.CommandBus=CommandBus},function(module,exports,__nested_webpack_require_57166__){\"use strict\";var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)};Object.defineProperty(exports,\"__esModule\",{value:!0});var uuid=__nested_webpack_require_57166__(9),EventBus_types_1=__nested_webpack_require_57166__(25);exports.TEvents=EventBus_types_1.TEvents;var EventBus=function(){function EventBus(){this.observers=[]}return EventBus.getInstance=function(){return EventBus.instance||(EventBus.instance=new EventBus),EventBus.instance},EventBus.prototype.on=function(arg1,callback){this.observers.push({event:arg1,handler:callback})},EventBus.prototype.emit=function(arg1,arg2,arg3){var eventId=uuid(),params={};\"string\"==typeof arg3&&(eventId=arg3),\"string\"==typeof arg2&&(eventId=arg2),\"object\"==typeof arg2&&arg2&&(params=arg2),this.observers.forEach(function(observer){observer.event===arg1&&observer.handler(__assign({eventId:eventId},params))})},EventBus}();exports.EventBus=EventBus},function(module,exports){var g;g=function(){return this}();try{g=g||Function(\"return this\")()||(0,eval)(\"this\")}catch(e){\"object\"==typeof window&&(g=window)}module.exports=g},function(module,exports,__nested_webpack_require_58448__){\"use strict\";var pna=__nested_webpack_require_58448__(33),objectKeys=Object.keys||function(obj){var keys=[];for(var key in obj)keys.push(key);return keys};module.exports=Duplex;var util=Object.create(__nested_webpack_require_58448__(28));util.inherits=__nested_webpack_require_58448__(17);var Readable=__nested_webpack_require_58448__(53),Writable=__nested_webpack_require_58448__(42);util.inherits(Duplex,Readable);for(var keys=objectKeys(Writable.prototype),v=0;v<keys.length;v++){var method=keys[v];Duplex.prototype[method]||(Duplex.prototype[method]=Writable.prototype[method])}function Duplex(options){if(!(this instanceof Duplex))return new Duplex(options);Readable.call(this,options),Writable.call(this,options),options&&!1===options.readable&&(this.readable=!1),options&&!1===options.writable&&(this.writable=!1),this.allowHalfOpen=!0,options&&!1===options.allowHalfOpen&&(this.allowHalfOpen=!1),this.once(\"end\",onend)}function onend(){this.allowHalfOpen||this._writableState.ended||pna.nextTick(onEndNT,this)}function onEndNT(self){self.end()}Object.defineProperty(Duplex.prototype,\"writableHighWaterMark\",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(Duplex.prototype,\"destroyed\",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(value){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=value,this._writableState.destroyed=value)}}),Duplex.prototype._destroy=function(err,cb){this.push(null),this.end(),pna.nextTick(cb,err)}},function(module,exports,__nested_webpack_require_60065__){\"use strict\";for(var utils=__nested_webpack_require_60065__(0),support=__nested_webpack_require_60065__(7),nodejsUtils=__nested_webpack_require_60065__(35),GenericWorker=__nested_webpack_require_60065__(3),_utf8len=new Array(256),i=0;i<256;i++)_utf8len[i]=i>=252?6:i>=248?5:i>=240?4:i>=224?3:i>=192?2:1;_utf8len[254]=_utf8len[254]=1;function Utf8DecodeWorker(){GenericWorker.call(this,\"utf-8 decode\"),this.leftOver=null}function Utf8EncodeWorker(){GenericWorker.call(this,\"utf-8 encode\")}exports.utf8encode=function(str){return support.nodebuffer?nodejsUtils.newBufferFrom(str,\"utf-8\"):function(str){var buf,c,c2,m_pos,i,str_len=str.length,buf_len=0;for(m_pos=0;m_pos<str_len;m_pos++)55296==(64512&(c=str.charCodeAt(m_pos)))&&m_pos+1<str_len&&56320==(64512&(c2=str.charCodeAt(m_pos+1)))&&(c=65536+(c-55296<<10)+(c2-56320),m_pos++),buf_len+=c<128?1:c<2048?2:c<65536?3:4;for(buf=support.uint8array?new Uint8Array(buf_len):new Array(buf_len),i=0,m_pos=0;i<buf_len;m_pos++)55296==(64512&(c=str.charCodeAt(m_pos)))&&m_pos+1<str_len&&56320==(64512&(c2=str.charCodeAt(m_pos+1)))&&(c=65536+(c-55296<<10)+(c2-56320),m_pos++),c<128?buf[i++]=c:c<2048?(buf[i++]=192|c>>>6,buf[i++]=128|63&c):c<65536?(buf[i++]=224|c>>>12,buf[i++]=128|c>>>6&63,buf[i++]=128|63&c):(buf[i++]=240|c>>>18,buf[i++]=128|c>>>12&63,buf[i++]=128|c>>>6&63,buf[i++]=128|63&c);return buf}(str)},exports.utf8decode=function(buf){return support.nodebuffer?utils.transformTo(\"nodebuffer\",buf).toString(\"utf-8\"):function(buf){var i,out,c,c_len,len=buf.length,utf16buf=new Array(2*len);for(out=0,i=0;i<len;)if((c=buf[i++])<128)utf16buf[out++]=c;else if((c_len=_utf8len[c])>4)utf16buf[out++]=65533,i+=c_len-1;else{for(c&=2===c_len?31:3===c_len?15:7;c_len>1&&i<len;)c=c<<6|63&buf[i++],c_len--;c_len>1?utf16buf[out++]=65533:c<65536?utf16buf[out++]=c:(c-=65536,utf16buf[out++]=55296|c>>10&1023,utf16buf[out++]=56320|1023&c)}return utf16buf.length!==out&&(utf16buf.subarray?utf16buf=utf16buf.subarray(0,out):utf16buf.length=out),utils.applyFromCharCode(utf16buf)}(buf=utils.transformTo(support.uint8array?\"uint8array\":\"array\",buf))},utils.inherits(Utf8DecodeWorker,GenericWorker),Utf8DecodeWorker.prototype.processChunk=function(chunk){var data=utils.transformTo(support.uint8array?\"uint8array\":\"array\",chunk.data);if(this.leftOver&&this.leftOver.length){if(support.uint8array){var previousData=data;(data=new Uint8Array(previousData.length+this.leftOver.length)).set(this.leftOver,0),data.set(previousData,this.leftOver.length)}else data=this.leftOver.concat(data);this.leftOver=null}var nextBoundary=function(buf,max){var pos;for((max=max||buf.length)>buf.length&&(max=buf.length),pos=max-1;pos>=0&&128==(192&buf[pos]);)pos--;return pos<0?max:0===pos?max:pos+_utf8len[buf[pos]]>max?pos:max}(data),usableData=data;nextBoundary!==data.length&&(support.uint8array?(usableData=data.subarray(0,nextBoundary),this.leftOver=data.subarray(nextBoundary,data.length)):(usableData=data.slice(0,nextBoundary),this.leftOver=data.slice(nextBoundary,data.length))),this.push({data:exports.utf8decode(usableData),meta:chunk.meta})},Utf8DecodeWorker.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:exports.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},exports.Utf8DecodeWorker=Utf8DecodeWorker,utils.inherits(Utf8EncodeWorker,GenericWorker),Utf8EncodeWorker.prototype.processChunk=function(chunk){this.push({data:exports.utf8encode(chunk.data),meta:chunk.meta})},exports.Utf8EncodeWorker=Utf8EncodeWorker},function(module,exports){\"function\"==typeof Object.create?module.exports=function(ctor,superCtor){superCtor&&(ctor.super_=superCtor,ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:!1,writable:!0,configurable:!0}}))}:module.exports=function(ctor,superCtor){if(superCtor){ctor.super_=superCtor;var TempCtor=function(){};TempCtor.prototype=superCtor.prototype,ctor.prototype=new TempCtor,ctor.prototype.constructor=ctor}}},function(module,exports,__webpack_require__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=7},function(module,exports,__nested_webpack_require_64129__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var Migrations_1=__nested_webpack_require_64129__(37),MigrationExecutor=function(){function MigrationExecutor(db,migrationsBuilder){void 0===migrationsBuilder&&(migrationsBuilder=new Migrations_1.default),this.db=db,this.migrationsBuilder=migrationsBuilder}return MigrationExecutor.prototype.applyMigrations=function(){var _this=this;this.applyMigrationsPack(this.migrationsBuilder.initial),this.migrationsBuilder.dateSorted.forEach(function(migrationsPack){_this.applyMigrationsPack(migrationsPack)})},MigrationExecutor.prototype.applyMigrationsPack=function(migrationsPack){var _this=this;migrationsPack.forEach(function(migration){migration(_this.db)})},MigrationExecutor}();exports.default=MigrationExecutor},function(module,exports,__webpack_require__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.storeCreatorDecorator=function(name,storeCreator){return function(database){database.objectStoreNames.contains(name)||storeCreator(database)}}},function(module,exports,__nested_webpack_require_65207__){\"use strict\";var __awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})},__generator=this&&this.__generator||function(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},\"function\"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function(op){if(f)throw new TypeError(\"Generator is already executing.\");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=(t=_.trys).length>0&&t[t.length-1])&&(6===op[0]||2===op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}};Object.defineProperty(exports,\"__esModule\",{value:!0});var Data_1=__nested_webpack_require_65207__(4),logger_1=__nested_webpack_require_65207__(5),ApiClient=function(){function ApiClient(data,logger){void 0===data&&(data=new Data_1.Data),void 0===logger&&(logger=logger_1.Logger),this.data=data,this.logger=logger}return ApiClient.prototype.checkDevice=function(options){return this.createRequest(\"checkDevice\",options)},ApiClient.prototype.getConfig=function(options){return this.createRequest(\"getConfig\",options)},ApiClient.prototype.applicationOpen=function(options){return this.createRequest(\"applicationOpen\",options)},ApiClient.prototype.registerDevice=function(options){return this.createRequest(\"registerDevice\",options)},ApiClient.prototype.unregisterDevice=function(options){return this.createRequest(\"unregisterDevice\",options)},ApiClient.prototype.deleteDevice=function(options){return this.createRequest(\"deleteDevice\",options)},ApiClient.prototype.messageDeliveryEvent=function(options){return this.createRequest(\"messageDeliveryEvent\",options)},ApiClient.prototype.pushStat=function(options){return this.createRequest(\"pushStat\",options)},ApiClient.prototype.setTags=function(options){return this.createRequest(\"setTags\",options)},ApiClient.prototype.getTags=function(options){return this.createRequest(\"getTags\",options)},ApiClient.prototype.registerUser=function(options){return this.createRequest(\"registerUser\",options)},ApiClient.prototype.postEvent=function(options){return this.createRequest(\"postEvent\",options)},ApiClient.prototype.getInboxMessages=function(options){return this.createRequest(\"getInboxMessages\",options)},ApiClient.prototype.inboxStatus=function(options){return this.createRequest(\"inboxStatus\",options)},ApiClient.prototype.pageVisit=function(options,url){return this.createRequest(\"pageVisit\",options,url)},ApiClient.prototype.getInApps=function(options){return this.createRequest(\"getInApps\",options)},ApiClient.prototype.setPurchase=function(options){return this.createRequest(\"setPurchase\",options)},ApiClient.prototype.createRequest=function(methodName,request,customUrl){return __awaiter(this,void 0,void 0,function(){var entrypoint,response,result;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.data.getApiEntrypoint()];case 1:return entrypoint=_a.sent(),[4,fetch(customUrl||entrypoint+methodName,{method:\"POST\",headers:{\"Content-Type\":\"text/plain;charset=UTF-8\"},body:JSON.stringify({request:request})})];case 2:return response=_a.sent(),[4,this.checkResponse(response)];case 3:return(result=_a.sent()).base_url?[4,this.data.setApiEntrypoint(result.base_url)]:[3,5];case 4:_a.sent(),_a.label=5;case 5:return[4,this.logger.write(\"apirequest\",methodName+\" call with arguments: \"+JSON.stringify(request)+\" to Pushwoosh has been successful. Result: \"+JSON.stringify(result.response))];case 6:return _a.sent(),[2,result.response]}})})},ApiClient.prototype.checkResponse=function(response){return __awaiter(this,void 0,void 0,function(){var data;return __generator(this,function(_a){switch(_a.label){case 0:if(200!==response.status)throw new Error(\"Error code: \"+response.status+\". Error text: \"+response.statusText);return[4,response.json()];case 1:if(200!==(data=_a.sent()).status_code)throw new Error(\"Error code: \"+data.status_code+\". Error text: \"+data.status_message);return[2,data]}})})},ApiClient}();exports.ApiClient=ApiClient},function(module,exports,__nested_webpack_require_70341__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var PlatformChecker_1=__nested_webpack_require_70341__(23),PlatformChecker_2=__nested_webpack_require_70341__(23);exports.PlatformChecker=PlatformChecker_2.PlatformChecker,exports.default=PlatformChecker_1.platformChecker},function(module,exports,__webpack_require__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var PlatformChecker=function(){function PlatformChecker(global){void 0===global&&(global=window),this.global=global,this._isSafari=this.isSafariBrowser(),this._isOpera=this.isOperaBrowser(),this._isEdge=this.isEdgeBrowser(),this._isFirefox=this.isFirefoxBrowser(),this._isChrome=this.isChromeBrowser(),this._isMacOS=this.isMacOS(),this._isAvailablePromise=this.canUsePromise(),this._isAvailableServiceWorker=this.canUseServiceWorkers(),this._isAvailableNotifications=this.canReceiveNotifications(),this._platform=this.getPlatformType(),this._browserVersion=this.getBrowserVersion()}return Object.defineProperty(PlatformChecker.prototype,\"isEdge\",{get:function(){return this._isEdge},enumerable:!0,configurable:!0}),Object.defineProperty(PlatformChecker.prototype,\"isSafari\",{get:function(){return this._isSafari},enumerable:!0,configurable:!0}),Object.defineProperty(PlatformChecker.prototype,\"isOpera\",{get:function(){return this._isOpera},enumerable:!0,configurable:!0}),Object.defineProperty(PlatformChecker.prototype,\"isAvailablePromise\",{get:function(){return this._isAvailablePromise},enumerable:!0,configurable:!0}),Object.defineProperty(PlatformChecker.prototype,\"isAvailableServiceWorker\",{get:function(){return this._isAvailableServiceWorker},enumerable:!0,configurable:!0}),Object.defineProperty(PlatformChecker.prototype,\"isAvailableNotifications\",{get:function(){return this._isAvailableNotifications},enumerable:!0,configurable:!0}),Object.defineProperty(PlatformChecker.prototype,\"platform\",{get:function(){return this._platform},enumerable:!0,configurable:!0}),Object.defineProperty(PlatformChecker.prototype,\"browserVersion\",{get:function(){return this._browserVersion},enumerable:!0,configurable:!0}),PlatformChecker.prototype.isSafariBrowser=function(){return\"safari\"in this.global&&navigator.userAgent.indexOf(\"Safari\")>-1},PlatformChecker.prototype.isOperaBrowser=function(){return-1!==navigator.userAgent.indexOf(\"Opera\")||-1!==navigator.userAgent.indexOf(\"OPR\")},PlatformChecker.prototype.isEdgeBrowser=function(){return navigator.userAgent.indexOf(\"Edge\")>-1},PlatformChecker.prototype.isFirefoxBrowser=function(){return-1!==navigator.userAgent.toLowerCase().indexOf(\"firefox\")},PlatformChecker.prototype.isChromeBrowser=function(){return/Chrome/.test(navigator.userAgent)&&/Google Inc/.test(navigator.vendor)&&!this._isOpera&&!this._isEdge},PlatformChecker.prototype.isMacOS=function(){return\"platform\"in navigator&&-1!==navigator.platform.toLowerCase().indexOf(\"mac\")},PlatformChecker.prototype.canUseServiceWorkers=function(){return!!navigator.serviceWorker&&\"PushManager\"in this.global&&\"Notification\"in this.global},PlatformChecker.prototype.canUsePromise=function(){return\"Promise\"in this.global},PlatformChecker.prototype.canReceiveNotifications=function(){return this._isSafari&&this._isMacOS||this._isAvailableServiceWorker&&!this._isEdge},PlatformChecker.prototype.getPlatformType=function(){var platform=11;switch(!0){case this._isSafari:platform=10;break;case this._isOpera||this._isChrome:platform=11;break;case this._isFirefox:platform=12;break;case this._isEdge:platform=150}return platform},PlatformChecker.prototype.getBrowserVersion=function(){var userAgent=navigator.userAgent,matchOperaVersion=userAgent.match(/\\bOPR\\/(\\d+)/);if(null!==matchOperaVersion)return\"Opera \"+matchOperaVersion[1];var matchEdgeVersion=userAgent.match(/\\bEdge\\/(\\d+)/);if(null!==matchEdgeVersion)return\"Edge \"+matchEdgeVersion[1];var match=userAgent.match(/(opera|chrome|safari|firefox|msie|trident(?=\\/))\\/?\\s*(\\d+)/i)||[],_a=(match[0],match[1]),browser=void 0===_a?\"\":_a;if(/trident/i.test(userAgent)){var matchIeVersion=/trident\\/([.\\d]+)/gi.exec(userAgent)||[];return\"IE \"+((\"7.0\"===matchIeVersion[1]?\"11\":matchIeVersion[1])||\"\")}match=match[2]?[browser,match[2]]:[navigator.appName,navigator.appVersion,\"-?\"];var version=userAgent.match(/version\\/([.\\d]+)/i);return null!==version&&match.splice(1,1,version[1]),match.join(\" \")},PlatformChecker}();exports.PlatformChecker=PlatformChecker,exports.platformChecker=new PlatformChecker(Function(\"return this\")())},function(module,exports,__webpack_require__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),function(TCommands){TCommands.SUBSCRIBE=\"SUBSCRIBE\",TCommands.UNSUBSCRIBE=\"UNSUBSCRIBE\",TCommands.GET_TAGS=\"GET_TAGS\",TCommands.SET_TAGS=\"SET_TAGS\",TCommands.GET_CHANNELS=\"GET_CHANNELS\",TCommands.CHECK_IS_SUBSCRIBED=\"CHECK_IS_SUBSCRIBED\",TCommands.CHECK_IS_MANUAL_UNSUBSCRIBED=\"CHECK_IS_MANUAL_UNSUBSCRIBED\",TCommands.CLOSE_IN_APP=\"CLOSE_IN_APP\",TCommands.SHOW_IN_APP=\"SHOW_IN_APP\",TCommands.OPEN_NEW_LINK=\"OPEN_NEW_LINK\",TCommands.POST_MESSAGE_TO_IFRAME=\"POST_MESSAGE_TO_IFRAME\"}(exports.TCommands||(exports.TCommands={}))},function(module,exports,__webpack_require__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),function(TEvents){TEvents.SUBSCRIBE=\"SUBSCRIBE\",TEvents.UNSUBSCRIBE=\"UNSUBSCRIBE\",TEvents.GET_TAGS=\"GET_TAGS\",TEvents.SET_TAGS=\"SET_TAGS\",TEvents.GET_CHANNELS=\"GET_CHANNELS\",TEvents.CHECK_IS_SUBSCRIBED=\"CHECK_IS_SUBSCRIBED\",TEvents.CHECK_IS_MANUAL_UNSUBSCRIBED=\"CHECK_IS_MANUAL_UNSUBSCRIBED\",TEvents.SHOW_NOTIFICATION_PERMISSION_DIALOG=\"SHOW_NOTIFICATION_PERMISSION_DIALOG\",TEvents.HIDE_NOTIFICATION_PERMISSION_DIALOG=\"HIDE_NOTIFICATION_PERMISSION_DIALOG\",TEvents.INIT_IN_APPS_MODULE=\"INIT_IN_APPS_MODULE\"}(exports.TEvents||(exports.TEvents={}))},function(module,exports,__nested_webpack_require_76145__){\"use strict\";(function(global){\n/*!\n * The buffer module from node.js, for the browser.\n *\n * @author   Feross Aboukhadijeh <http://feross.org>\n * @license  MIT\n */\nvar base64=__nested_webpack_require_76145__(89),ieee754=__nested_webpack_require_76145__(90),isArray=__nested_webpack_require_76145__(51);function kMaxLength(){return Buffer.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function createBuffer(that,length){if(kMaxLength()<length)throw new RangeError(\"Invalid typed array length\");return Buffer.TYPED_ARRAY_SUPPORT?(that=new Uint8Array(length)).__proto__=Buffer.prototype:(null===that&&(that=new Buffer(length)),that.length=length),that}function Buffer(arg,encodingOrOffset,length){if(!(Buffer.TYPED_ARRAY_SUPPORT||this instanceof Buffer))return new Buffer(arg,encodingOrOffset,length);if(\"number\"==typeof arg){if(\"string\"==typeof encodingOrOffset)throw new Error(\"If encoding is specified then the first argument must be a string\");return allocUnsafe(this,arg)}return from(this,arg,encodingOrOffset,length)}function from(that,value,encodingOrOffset,length){if(\"number\"==typeof value)throw new TypeError('\"value\" argument must not be a number');return\"undefined\"!=typeof ArrayBuffer&&value instanceof ArrayBuffer?function(that,array,byteOffset,length){if(array.byteLength,byteOffset<0||array.byteLength<byteOffset)throw new RangeError(\"'offset' is out of bounds\");if(array.byteLength<byteOffset+(length||0))throw new RangeError(\"'length' is out of bounds\");array=void 0===byteOffset&&void 0===length?new Uint8Array(array):void 0===length?new Uint8Array(array,byteOffset):new Uint8Array(array,byteOffset,length);Buffer.TYPED_ARRAY_SUPPORT?(that=array).__proto__=Buffer.prototype:that=fromArrayLike(that,array);return that}(that,value,encodingOrOffset,length):\"string\"==typeof value?function(that,string,encoding){\"string\"==typeof encoding&&\"\"!==encoding||(encoding=\"utf8\");if(!Buffer.isEncoding(encoding))throw new TypeError('\"encoding\" must be a valid string encoding');var length=0|byteLength(string,encoding),actual=(that=createBuffer(that,length)).write(string,encoding);actual!==length&&(that=that.slice(0,actual));return that}(that,value,encodingOrOffset):function(that,obj){if(Buffer.isBuffer(obj)){var len=0|checked(obj.length);return 0===(that=createBuffer(that,len)).length?that:(obj.copy(that,0,0,len),that)}if(obj){if(\"undefined\"!=typeof ArrayBuffer&&obj.buffer instanceof ArrayBuffer||\"length\"in obj)return\"number\"!=typeof obj.length||function(val){return val!=val}(obj.length)?createBuffer(that,0):fromArrayLike(that,obj);if(\"Buffer\"===obj.type&&isArray(obj.data))return fromArrayLike(that,obj.data)}throw new TypeError(\"First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.\")}(that,value)}function assertSize(size){if(\"number\"!=typeof size)throw new TypeError('\"size\" argument must be a number');if(size<0)throw new RangeError('\"size\" argument must not be negative')}function allocUnsafe(that,size){if(assertSize(size),that=createBuffer(that,size<0?0:0|checked(size)),!Buffer.TYPED_ARRAY_SUPPORT)for(var i=0;i<size;++i)that[i]=0;return that}function fromArrayLike(that,array){var length=array.length<0?0:0|checked(array.length);that=createBuffer(that,length);for(var i=0;i<length;i+=1)that[i]=255&array[i];return that}function checked(length){if(length>=kMaxLength())throw new RangeError(\"Attempt to allocate Buffer larger than maximum size: 0x\"+kMaxLength().toString(16)+\" bytes\");return 0|length}function byteLength(string,encoding){if(Buffer.isBuffer(string))return string.length;if(\"undefined\"!=typeof ArrayBuffer&&\"function\"==typeof ArrayBuffer.isView&&(ArrayBuffer.isView(string)||string instanceof ArrayBuffer))return string.byteLength;\"string\"!=typeof string&&(string=\"\"+string);var len=string.length;if(0===len)return 0;for(var loweredCase=!1;;)switch(encoding){case\"ascii\":case\"latin1\":case\"binary\":return len;case\"utf8\":case\"utf-8\":case void 0:return utf8ToBytes(string).length;case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return 2*len;case\"hex\":return len>>>1;case\"base64\":return base64ToBytes(string).length;default:if(loweredCase)return utf8ToBytes(string).length;encoding=(\"\"+encoding).toLowerCase(),loweredCase=!0}}function swap(b,n,m){var i=b[n];b[n]=b[m],b[m]=i}function bidirectionalIndexOf(buffer,val,byteOffset,encoding,dir){if(0===buffer.length)return-1;if(\"string\"==typeof byteOffset?(encoding=byteOffset,byteOffset=0):byteOffset>2147483647?byteOffset=2147483647:byteOffset<-2147483648&&(byteOffset=-2147483648),byteOffset=+byteOffset,isNaN(byteOffset)&&(byteOffset=dir?0:buffer.length-1),byteOffset<0&&(byteOffset=buffer.length+byteOffset),byteOffset>=buffer.length){if(dir)return-1;byteOffset=buffer.length-1}else if(byteOffset<0){if(!dir)return-1;byteOffset=0}if(\"string\"==typeof val&&(val=Buffer.from(val,encoding)),Buffer.isBuffer(val))return 0===val.length?-1:arrayIndexOf(buffer,val,byteOffset,encoding,dir);if(\"number\"==typeof val)return val&=255,Buffer.TYPED_ARRAY_SUPPORT&&\"function\"==typeof Uint8Array.prototype.indexOf?dir?Uint8Array.prototype.indexOf.call(buffer,val,byteOffset):Uint8Array.prototype.lastIndexOf.call(buffer,val,byteOffset):arrayIndexOf(buffer,[val],byteOffset,encoding,dir);throw new TypeError(\"val must be string, number or Buffer\")}function arrayIndexOf(arr,val,byteOffset,encoding,dir){var i,indexSize=1,arrLength=arr.length,valLength=val.length;if(void 0!==encoding&&(\"ucs2\"===(encoding=String(encoding).toLowerCase())||\"ucs-2\"===encoding||\"utf16le\"===encoding||\"utf-16le\"===encoding)){if(arr.length<2||val.length<2)return-1;indexSize=2,arrLength/=2,valLength/=2,byteOffset/=2}function read(buf,i){return 1===indexSize?buf[i]:buf.readUInt16BE(i*indexSize)}if(dir){var foundIndex=-1;for(i=byteOffset;i<arrLength;i++)if(read(arr,i)===read(val,-1===foundIndex?0:i-foundIndex)){if(-1===foundIndex&&(foundIndex=i),i-foundIndex+1===valLength)return foundIndex*indexSize}else-1!==foundIndex&&(i-=i-foundIndex),foundIndex=-1}else for(byteOffset+valLength>arrLength&&(byteOffset=arrLength-valLength),i=byteOffset;i>=0;i--){for(var found=!0,j=0;j<valLength;j++)if(read(arr,i+j)!==read(val,j)){found=!1;break}if(found)return i}return-1}function hexWrite(buf,string,offset,length){offset=Number(offset)||0;var remaining=buf.length-offset;length?(length=Number(length))>remaining&&(length=remaining):length=remaining;var strLen=string.length;if(strLen%2!=0)throw new TypeError(\"Invalid hex string\");length>strLen/2&&(length=strLen/2);for(var i=0;i<length;++i){var parsed=parseInt(string.substr(2*i,2),16);if(isNaN(parsed))return i;buf[offset+i]=parsed}return i}function utf8Write(buf,string,offset,length){return blitBuffer(utf8ToBytes(string,buf.length-offset),buf,offset,length)}function asciiWrite(buf,string,offset,length){return blitBuffer(function(str){for(var byteArray=[],i=0;i<str.length;++i)byteArray.push(255&str.charCodeAt(i));return byteArray}(string),buf,offset,length)}function latin1Write(buf,string,offset,length){return asciiWrite(buf,string,offset,length)}function base64Write(buf,string,offset,length){return blitBuffer(base64ToBytes(string),buf,offset,length)}function ucs2Write(buf,string,offset,length){return blitBuffer(function(str,units){for(var c,hi,lo,byteArray=[],i=0;i<str.length&&!((units-=2)<0);++i)c=str.charCodeAt(i),hi=c>>8,lo=c%256,byteArray.push(lo),byteArray.push(hi);return byteArray}(string,buf.length-offset),buf,offset,length)}function base64Slice(buf,start,end){return 0===start&&end===buf.length?base64.fromByteArray(buf):base64.fromByteArray(buf.slice(start,end))}function utf8Slice(buf,start,end){end=Math.min(buf.length,end);for(var res=[],i=start;i<end;){var secondByte,thirdByte,fourthByte,tempCodePoint,firstByte=buf[i],codePoint=null,bytesPerSequence=firstByte>239?4:firstByte>223?3:firstByte>191?2:1;if(i+bytesPerSequence<=end)switch(bytesPerSequence){case 1:firstByte<128&&(codePoint=firstByte);break;case 2:128==(192&(secondByte=buf[i+1]))&&(tempCodePoint=(31&firstByte)<<6|63&secondByte)>127&&(codePoint=tempCodePoint);break;case 3:secondByte=buf[i+1],thirdByte=buf[i+2],128==(192&secondByte)&&128==(192&thirdByte)&&(tempCodePoint=(15&firstByte)<<12|(63&secondByte)<<6|63&thirdByte)>2047&&(tempCodePoint<55296||tempCodePoint>57343)&&(codePoint=tempCodePoint);break;case 4:secondByte=buf[i+1],thirdByte=buf[i+2],fourthByte=buf[i+3],128==(192&secondByte)&&128==(192&thirdByte)&&128==(192&fourthByte)&&(tempCodePoint=(15&firstByte)<<18|(63&secondByte)<<12|(63&thirdByte)<<6|63&fourthByte)>65535&&tempCodePoint<1114112&&(codePoint=tempCodePoint)}null===codePoint?(codePoint=65533,bytesPerSequence=1):codePoint>65535&&(codePoint-=65536,res.push(codePoint>>>10&1023|55296),codePoint=56320|1023&codePoint),res.push(codePoint),i+=bytesPerSequence}return function(codePoints){var len=codePoints.length;if(len<=MAX_ARGUMENTS_LENGTH)return String.fromCharCode.apply(String,codePoints);var res=\"\",i=0;for(;i<len;)res+=String.fromCharCode.apply(String,codePoints.slice(i,i+=MAX_ARGUMENTS_LENGTH));return res}(res)}exports.Buffer=Buffer,exports.SlowBuffer=function(length){+length!=length&&(length=0);return Buffer.alloc(+length)},exports.INSPECT_MAX_BYTES=50,Buffer.TYPED_ARRAY_SUPPORT=void 0!==global.TYPED_ARRAY_SUPPORT?global.TYPED_ARRAY_SUPPORT:function(){try{var arr=new Uint8Array(1);return arr.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===arr.foo()&&\"function\"==typeof arr.subarray&&0===arr.subarray(1,1).byteLength}catch(e){return!1}}(),exports.kMaxLength=kMaxLength(),Buffer.poolSize=8192,Buffer._augment=function(arr){return arr.__proto__=Buffer.prototype,arr},Buffer.from=function(value,encodingOrOffset,length){return from(null,value,encodingOrOffset,length)},Buffer.TYPED_ARRAY_SUPPORT&&(Buffer.prototype.__proto__=Uint8Array.prototype,Buffer.__proto__=Uint8Array,\"undefined\"!=typeof Symbol&&Symbol.species&&Buffer[Symbol.species]===Buffer&&Object.defineProperty(Buffer,Symbol.species,{value:null,configurable:!0})),Buffer.alloc=function(size,fill,encoding){return function(that,size,fill,encoding){return assertSize(size),size<=0?createBuffer(that,size):void 0!==fill?\"string\"==typeof encoding?createBuffer(that,size).fill(fill,encoding):createBuffer(that,size).fill(fill):createBuffer(that,size)}(null,size,fill,encoding)},Buffer.allocUnsafe=function(size){return allocUnsafe(null,size)},Buffer.allocUnsafeSlow=function(size){return allocUnsafe(null,size)},Buffer.isBuffer=function(b){return!(null==b||!b._isBuffer)},Buffer.compare=function(a,b){if(!Buffer.isBuffer(a)||!Buffer.isBuffer(b))throw new TypeError(\"Arguments must be Buffers\");if(a===b)return 0;for(var x=a.length,y=b.length,i=0,len=Math.min(x,y);i<len;++i)if(a[i]!==b[i]){x=a[i],y=b[i];break}return x<y?-1:y<x?1:0},Buffer.isEncoding=function(encoding){switch(String(encoding).toLowerCase()){case\"hex\":case\"utf8\":case\"utf-8\":case\"ascii\":case\"latin1\":case\"binary\":case\"base64\":case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return!0;default:return!1}},Buffer.concat=function(list,length){if(!isArray(list))throw new TypeError('\"list\" argument must be an Array of Buffers');if(0===list.length)return Buffer.alloc(0);var i;if(void 0===length)for(length=0,i=0;i<list.length;++i)length+=list[i].length;var buffer=Buffer.allocUnsafe(length),pos=0;for(i=0;i<list.length;++i){var buf=list[i];if(!Buffer.isBuffer(buf))throw new TypeError('\"list\" argument must be an Array of Buffers');buf.copy(buffer,pos),pos+=buf.length}return buffer},Buffer.byteLength=byteLength,Buffer.prototype._isBuffer=!0,Buffer.prototype.swap16=function(){var len=this.length;if(len%2!=0)throw new RangeError(\"Buffer size must be a multiple of 16-bits\");for(var i=0;i<len;i+=2)swap(this,i,i+1);return this},Buffer.prototype.swap32=function(){var len=this.length;if(len%4!=0)throw new RangeError(\"Buffer size must be a multiple of 32-bits\");for(var i=0;i<len;i+=4)swap(this,i,i+3),swap(this,i+1,i+2);return this},Buffer.prototype.swap64=function(){var len=this.length;if(len%8!=0)throw new RangeError(\"Buffer size must be a multiple of 64-bits\");for(var i=0;i<len;i+=8)swap(this,i,i+7),swap(this,i+1,i+6),swap(this,i+2,i+5),swap(this,i+3,i+4);return this},Buffer.prototype.toString=function(){var length=0|this.length;return 0===length?\"\":0===arguments.length?utf8Slice(this,0,length):function(encoding,start,end){var loweredCase=!1;if((void 0===start||start<0)&&(start=0),start>this.length)return\"\";if((void 0===end||end>this.length)&&(end=this.length),end<=0)return\"\";if((end>>>=0)<=(start>>>=0))return\"\";for(encoding||(encoding=\"utf8\");;)switch(encoding){case\"hex\":return hexSlice(this,start,end);case\"utf8\":case\"utf-8\":return utf8Slice(this,start,end);case\"ascii\":return asciiSlice(this,start,end);case\"latin1\":case\"binary\":return latin1Slice(this,start,end);case\"base64\":return base64Slice(this,start,end);case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return utf16leSlice(this,start,end);default:if(loweredCase)throw new TypeError(\"Unknown encoding: \"+encoding);encoding=(encoding+\"\").toLowerCase(),loweredCase=!0}}.apply(this,arguments)},Buffer.prototype.equals=function(b){if(!Buffer.isBuffer(b))throw new TypeError(\"Argument must be a Buffer\");return this===b||0===Buffer.compare(this,b)},Buffer.prototype.inspect=function(){var str=\"\",max=exports.INSPECT_MAX_BYTES;return this.length>0&&(str=this.toString(\"hex\",0,max).match(/.{2}/g).join(\" \"),this.length>max&&(str+=\" ... \")),\"<Buffer \"+str+\">\"},Buffer.prototype.compare=function(target,start,end,thisStart,thisEnd){if(!Buffer.isBuffer(target))throw new TypeError(\"Argument must be a Buffer\");if(void 0===start&&(start=0),void 0===end&&(end=target?target.length:0),void 0===thisStart&&(thisStart=0),void 0===thisEnd&&(thisEnd=this.length),start<0||end>target.length||thisStart<0||thisEnd>this.length)throw new RangeError(\"out of range index\");if(thisStart>=thisEnd&&start>=end)return 0;if(thisStart>=thisEnd)return-1;if(start>=end)return 1;if(start>>>=0,end>>>=0,thisStart>>>=0,thisEnd>>>=0,this===target)return 0;for(var x=thisEnd-thisStart,y=end-start,len=Math.min(x,y),thisCopy=this.slice(thisStart,thisEnd),targetCopy=target.slice(start,end),i=0;i<len;++i)if(thisCopy[i]!==targetCopy[i]){x=thisCopy[i],y=targetCopy[i];break}return x<y?-1:y<x?1:0},Buffer.prototype.includes=function(val,byteOffset,encoding){return-1!==this.indexOf(val,byteOffset,encoding)},Buffer.prototype.indexOf=function(val,byteOffset,encoding){return bidirectionalIndexOf(this,val,byteOffset,encoding,!0)},Buffer.prototype.lastIndexOf=function(val,byteOffset,encoding){return bidirectionalIndexOf(this,val,byteOffset,encoding,!1)},Buffer.prototype.write=function(string,offset,length,encoding){if(void 0===offset)encoding=\"utf8\",length=this.length,offset=0;else if(void 0===length&&\"string\"==typeof offset)encoding=offset,length=this.length,offset=0;else{if(!isFinite(offset))throw new Error(\"Buffer.write(string, encoding, offset[, length]) is no longer supported\");offset|=0,isFinite(length)?(length|=0,void 0===encoding&&(encoding=\"utf8\")):(encoding=length,length=void 0)}var remaining=this.length-offset;if((void 0===length||length>remaining)&&(length=remaining),string.length>0&&(length<0||offset<0)||offset>this.length)throw new RangeError(\"Attempt to write outside buffer bounds\");encoding||(encoding=\"utf8\");for(var loweredCase=!1;;)switch(encoding){case\"hex\":return hexWrite(this,string,offset,length);case\"utf8\":case\"utf-8\":return utf8Write(this,string,offset,length);case\"ascii\":return asciiWrite(this,string,offset,length);case\"latin1\":case\"binary\":return latin1Write(this,string,offset,length);case\"base64\":return base64Write(this,string,offset,length);case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return ucs2Write(this,string,offset,length);default:if(loweredCase)throw new TypeError(\"Unknown encoding: \"+encoding);encoding=(\"\"+encoding).toLowerCase(),loweredCase=!0}},Buffer.prototype.toJSON=function(){return{type:\"Buffer\",data:Array.prototype.slice.call(this._arr||this,0)}};var MAX_ARGUMENTS_LENGTH=4096;function asciiSlice(buf,start,end){var ret=\"\";end=Math.min(buf.length,end);for(var i=start;i<end;++i)ret+=String.fromCharCode(127&buf[i]);return ret}function latin1Slice(buf,start,end){var ret=\"\";end=Math.min(buf.length,end);for(var i=start;i<end;++i)ret+=String.fromCharCode(buf[i]);return ret}function hexSlice(buf,start,end){var len=buf.length;(!start||start<0)&&(start=0),(!end||end<0||end>len)&&(end=len);for(var out=\"\",i=start;i<end;++i)out+=toHex(buf[i]);return out}function utf16leSlice(buf,start,end){for(var bytes=buf.slice(start,end),res=\"\",i=0;i<bytes.length;i+=2)res+=String.fromCharCode(bytes[i]+256*bytes[i+1]);return res}function checkOffset(offset,ext,length){if(offset%1!=0||offset<0)throw new RangeError(\"offset is not uint\");if(offset+ext>length)throw new RangeError(\"Trying to access beyond buffer length\")}function checkInt(buf,value,offset,ext,max,min){if(!Buffer.isBuffer(buf))throw new TypeError('\"buffer\" argument must be a Buffer instance');if(value>max||value<min)throw new RangeError('\"value\" argument is out of bounds');if(offset+ext>buf.length)throw new RangeError(\"Index out of range\")}function objectWriteUInt16(buf,value,offset,littleEndian){value<0&&(value=65535+value+1);for(var i=0,j=Math.min(buf.length-offset,2);i<j;++i)buf[offset+i]=(value&255<<8*(littleEndian?i:1-i))>>>8*(littleEndian?i:1-i)}function objectWriteUInt32(buf,value,offset,littleEndian){value<0&&(value=4294967295+value+1);for(var i=0,j=Math.min(buf.length-offset,4);i<j;++i)buf[offset+i]=value>>>8*(littleEndian?i:3-i)&255}function checkIEEE754(buf,value,offset,ext,max,min){if(offset+ext>buf.length)throw new RangeError(\"Index out of range\");if(offset<0)throw new RangeError(\"Index out of range\")}function writeFloat(buf,value,offset,littleEndian,noAssert){return noAssert||checkIEEE754(buf,0,offset,4),ieee754.write(buf,value,offset,littleEndian,23,4),offset+4}function writeDouble(buf,value,offset,littleEndian,noAssert){return noAssert||checkIEEE754(buf,0,offset,8),ieee754.write(buf,value,offset,littleEndian,52,8),offset+8}Buffer.prototype.slice=function(start,end){var newBuf,len=this.length;if(start=~~start,end=void 0===end?len:~~end,start<0?(start+=len)<0&&(start=0):start>len&&(start=len),end<0?(end+=len)<0&&(end=0):end>len&&(end=len),end<start&&(end=start),Buffer.TYPED_ARRAY_SUPPORT)(newBuf=this.subarray(start,end)).__proto__=Buffer.prototype;else{var sliceLen=end-start;newBuf=new Buffer(sliceLen,void 0);for(var i=0;i<sliceLen;++i)newBuf[i]=this[i+start]}return newBuf},Buffer.prototype.readUIntLE=function(offset,byteLength,noAssert){offset|=0,byteLength|=0,noAssert||checkOffset(offset,byteLength,this.length);for(var val=this[offset],mul=1,i=0;++i<byteLength&&(mul*=256);)val+=this[offset+i]*mul;return val},Buffer.prototype.readUIntBE=function(offset,byteLength,noAssert){offset|=0,byteLength|=0,noAssert||checkOffset(offset,byteLength,this.length);for(var val=this[offset+--byteLength],mul=1;byteLength>0&&(mul*=256);)val+=this[offset+--byteLength]*mul;return val},Buffer.prototype.readUInt8=function(offset,noAssert){return noAssert||checkOffset(offset,1,this.length),this[offset]},Buffer.prototype.readUInt16LE=function(offset,noAssert){return noAssert||checkOffset(offset,2,this.length),this[offset]|this[offset+1]<<8},Buffer.prototype.readUInt16BE=function(offset,noAssert){return noAssert||checkOffset(offset,2,this.length),this[offset]<<8|this[offset+1]},Buffer.prototype.readUInt32LE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),(this[offset]|this[offset+1]<<8|this[offset+2]<<16)+16777216*this[offset+3]},Buffer.prototype.readUInt32BE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),16777216*this[offset]+(this[offset+1]<<16|this[offset+2]<<8|this[offset+3])},Buffer.prototype.readIntLE=function(offset,byteLength,noAssert){offset|=0,byteLength|=0,noAssert||checkOffset(offset,byteLength,this.length);for(var val=this[offset],mul=1,i=0;++i<byteLength&&(mul*=256);)val+=this[offset+i]*mul;return val>=(mul*=128)&&(val-=Math.pow(2,8*byteLength)),val},Buffer.prototype.readIntBE=function(offset,byteLength,noAssert){offset|=0,byteLength|=0,noAssert||checkOffset(offset,byteLength,this.length);for(var i=byteLength,mul=1,val=this[offset+--i];i>0&&(mul*=256);)val+=this[offset+--i]*mul;return val>=(mul*=128)&&(val-=Math.pow(2,8*byteLength)),val},Buffer.prototype.readInt8=function(offset,noAssert){return noAssert||checkOffset(offset,1,this.length),128&this[offset]?-1*(255-this[offset]+1):this[offset]},Buffer.prototype.readInt16LE=function(offset,noAssert){noAssert||checkOffset(offset,2,this.length);var val=this[offset]|this[offset+1]<<8;return 32768&val?4294901760|val:val},Buffer.prototype.readInt16BE=function(offset,noAssert){noAssert||checkOffset(offset,2,this.length);var val=this[offset+1]|this[offset]<<8;return 32768&val?4294901760|val:val},Buffer.prototype.readInt32LE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),this[offset]|this[offset+1]<<8|this[offset+2]<<16|this[offset+3]<<24},Buffer.prototype.readInt32BE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),this[offset]<<24|this[offset+1]<<16|this[offset+2]<<8|this[offset+3]},Buffer.prototype.readFloatLE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),ieee754.read(this,offset,!0,23,4)},Buffer.prototype.readFloatBE=function(offset,noAssert){return noAssert||checkOffset(offset,4,this.length),ieee754.read(this,offset,!1,23,4)},Buffer.prototype.readDoubleLE=function(offset,noAssert){return noAssert||checkOffset(offset,8,this.length),ieee754.read(this,offset,!0,52,8)},Buffer.prototype.readDoubleBE=function(offset,noAssert){return noAssert||checkOffset(offset,8,this.length),ieee754.read(this,offset,!1,52,8)},Buffer.prototype.writeUIntLE=function(value,offset,byteLength,noAssert){(value=+value,offset|=0,byteLength|=0,noAssert)||checkInt(this,value,offset,byteLength,Math.pow(2,8*byteLength)-1,0);var mul=1,i=0;for(this[offset]=255&value;++i<byteLength&&(mul*=256);)this[offset+i]=value/mul&255;return offset+byteLength},Buffer.prototype.writeUIntBE=function(value,offset,byteLength,noAssert){(value=+value,offset|=0,byteLength|=0,noAssert)||checkInt(this,value,offset,byteLength,Math.pow(2,8*byteLength)-1,0);var i=byteLength-1,mul=1;for(this[offset+i]=255&value;--i>=0&&(mul*=256);)this[offset+i]=value/mul&255;return offset+byteLength},Buffer.prototype.writeUInt8=function(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,1,255,0),Buffer.TYPED_ARRAY_SUPPORT||(value=Math.floor(value)),this[offset]=255&value,offset+1},Buffer.prototype.writeUInt16LE=function(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=255&value,this[offset+1]=value>>>8):objectWriteUInt16(this,value,offset,!0),offset+2},Buffer.prototype.writeUInt16BE=function(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,2,65535,0),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=value>>>8,this[offset+1]=255&value):objectWriteUInt16(this,value,offset,!1),offset+2},Buffer.prototype.writeUInt32LE=function(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[offset+3]=value>>>24,this[offset+2]=value>>>16,this[offset+1]=value>>>8,this[offset]=255&value):objectWriteUInt32(this,value,offset,!0),offset+4},Buffer.prototype.writeUInt32BE=function(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,4,4294967295,0),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=value>>>24,this[offset+1]=value>>>16,this[offset+2]=value>>>8,this[offset+3]=255&value):objectWriteUInt32(this,value,offset,!1),offset+4},Buffer.prototype.writeIntLE=function(value,offset,byteLength,noAssert){if(value=+value,offset|=0,!noAssert){var limit=Math.pow(2,8*byteLength-1);checkInt(this,value,offset,byteLength,limit-1,-limit)}var i=0,mul=1,sub=0;for(this[offset]=255&value;++i<byteLength&&(mul*=256);)value<0&&0===sub&&0!==this[offset+i-1]&&(sub=1),this[offset+i]=(value/mul>>0)-sub&255;return offset+byteLength},Buffer.prototype.writeIntBE=function(value,offset,byteLength,noAssert){if(value=+value,offset|=0,!noAssert){var limit=Math.pow(2,8*byteLength-1);checkInt(this,value,offset,byteLength,limit-1,-limit)}var i=byteLength-1,mul=1,sub=0;for(this[offset+i]=255&value;--i>=0&&(mul*=256);)value<0&&0===sub&&0!==this[offset+i+1]&&(sub=1),this[offset+i]=(value/mul>>0)-sub&255;return offset+byteLength},Buffer.prototype.writeInt8=function(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,1,127,-128),Buffer.TYPED_ARRAY_SUPPORT||(value=Math.floor(value)),value<0&&(value=255+value+1),this[offset]=255&value,offset+1},Buffer.prototype.writeInt16LE=function(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=255&value,this[offset+1]=value>>>8):objectWriteUInt16(this,value,offset,!0),offset+2},Buffer.prototype.writeInt16BE=function(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,2,32767,-32768),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=value>>>8,this[offset+1]=255&value):objectWriteUInt16(this,value,offset,!1),offset+2},Buffer.prototype.writeInt32LE=function(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,4,2147483647,-2147483648),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=255&value,this[offset+1]=value>>>8,this[offset+2]=value>>>16,this[offset+3]=value>>>24):objectWriteUInt32(this,value,offset,!0),offset+4},Buffer.prototype.writeInt32BE=function(value,offset,noAssert){return value=+value,offset|=0,noAssert||checkInt(this,value,offset,4,2147483647,-2147483648),value<0&&(value=4294967295+value+1),Buffer.TYPED_ARRAY_SUPPORT?(this[offset]=value>>>24,this[offset+1]=value>>>16,this[offset+2]=value>>>8,this[offset+3]=255&value):objectWriteUInt32(this,value,offset,!1),offset+4},Buffer.prototype.writeFloatLE=function(value,offset,noAssert){return writeFloat(this,value,offset,!0,noAssert)},Buffer.prototype.writeFloatBE=function(value,offset,noAssert){return writeFloat(this,value,offset,!1,noAssert)},Buffer.prototype.writeDoubleLE=function(value,offset,noAssert){return writeDouble(this,value,offset,!0,noAssert)},Buffer.prototype.writeDoubleBE=function(value,offset,noAssert){return writeDouble(this,value,offset,!1,noAssert)},Buffer.prototype.copy=function(target,targetStart,start,end){if(start||(start=0),end||0===end||(end=this.length),targetStart>=target.length&&(targetStart=target.length),targetStart||(targetStart=0),end>0&&end<start&&(end=start),end===start)return 0;if(0===target.length||0===this.length)return 0;if(targetStart<0)throw new RangeError(\"targetStart out of bounds\");if(start<0||start>=this.length)throw new RangeError(\"sourceStart out of bounds\");if(end<0)throw new RangeError(\"sourceEnd out of bounds\");end>this.length&&(end=this.length),target.length-targetStart<end-start&&(end=target.length-targetStart+start);var i,len=end-start;if(this===target&&start<targetStart&&targetStart<end)for(i=len-1;i>=0;--i)target[i+targetStart]=this[i+start];else if(len<1e3||!Buffer.TYPED_ARRAY_SUPPORT)for(i=0;i<len;++i)target[i+targetStart]=this[i+start];else Uint8Array.prototype.set.call(target,this.subarray(start,start+len),targetStart);return len},Buffer.prototype.fill=function(val,start,end,encoding){if(\"string\"==typeof val){if(\"string\"==typeof start?(encoding=start,start=0,end=this.length):\"string\"==typeof end&&(encoding=end,end=this.length),1===val.length){var code=val.charCodeAt(0);code<256&&(val=code)}if(void 0!==encoding&&\"string\"!=typeof encoding)throw new TypeError(\"encoding must be a string\");if(\"string\"==typeof encoding&&!Buffer.isEncoding(encoding))throw new TypeError(\"Unknown encoding: \"+encoding)}else\"number\"==typeof val&&(val&=255);if(start<0||this.length<start||this.length<end)throw new RangeError(\"Out of range index\");if(end<=start)return this;var i;if(start>>>=0,end=void 0===end?this.length:end>>>0,val||(val=0),\"number\"==typeof val)for(i=start;i<end;++i)this[i]=val;else{var bytes=Buffer.isBuffer(val)?val:utf8ToBytes(new Buffer(val,encoding).toString()),len=bytes.length;for(i=0;i<end-start;++i)this[i+start]=bytes[i%len]}return this};var INVALID_BASE64_RE=/[^+\\/0-9A-Za-z-_]/g;function toHex(n){return n<16?\"0\"+n.toString(16):n.toString(16)}function utf8ToBytes(string,units){var codePoint;units=units||1/0;for(var length=string.length,leadSurrogate=null,bytes=[],i=0;i<length;++i){if((codePoint=string.charCodeAt(i))>55295&&codePoint<57344){if(!leadSurrogate){if(codePoint>56319){(units-=3)>-1&&bytes.push(239,191,189);continue}if(i+1===length){(units-=3)>-1&&bytes.push(239,191,189);continue}leadSurrogate=codePoint;continue}if(codePoint<56320){(units-=3)>-1&&bytes.push(239,191,189),leadSurrogate=codePoint;continue}codePoint=65536+(leadSurrogate-55296<<10|codePoint-56320)}else leadSurrogate&&(units-=3)>-1&&bytes.push(239,191,189);if(leadSurrogate=null,codePoint<128){if((units-=1)<0)break;bytes.push(codePoint)}else if(codePoint<2048){if((units-=2)<0)break;bytes.push(codePoint>>6|192,63&codePoint|128)}else if(codePoint<65536){if((units-=3)<0)break;bytes.push(codePoint>>12|224,codePoint>>6&63|128,63&codePoint|128)}else{if(!(codePoint<1114112))throw new Error(\"Invalid code point\");if((units-=4)<0)break;bytes.push(codePoint>>18|240,codePoint>>12&63|128,codePoint>>6&63|128,63&codePoint|128)}}return bytes}function base64ToBytes(str){return base64.toByteArray(function(str){if((str=function(str){return str.trim?str.trim():str.replace(/^\\s+|\\s+$/g,\"\")}(str).replace(INVALID_BASE64_RE,\"\")).length<2)return\"\";for(;str.length%4!=0;)str+=\"=\";return str}(str))}function blitBuffer(src,dst,offset,length){for(var i=0;i<length&&!(i+offset>=dst.length||i>=src.length);++i)dst[i+offset]=src[i];return i}}).call(this,__nested_webpack_require_76145__(14))},function(module,exports){var cachedSetTimeout,cachedClearTimeout,process=module.exports={};function defaultSetTimout(){throw new Error(\"setTimeout has not been defined\")}function defaultClearTimeout(){throw new Error(\"clearTimeout has not been defined\")}function runTimeout(fun){if(cachedSetTimeout===setTimeout)return setTimeout(fun,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(fun,0);try{return cachedSetTimeout(fun,0)}catch(e){try{return cachedSetTimeout.call(null,fun,0)}catch(e){return cachedSetTimeout.call(this,fun,0)}}}!function(){try{cachedSetTimeout=\"function\"==typeof setTimeout?setTimeout:defaultSetTimout}catch(e){cachedSetTimeout=defaultSetTimout}try{cachedClearTimeout=\"function\"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(e){cachedClearTimeout=defaultClearTimeout}}();var currentQueue,queue=[],draining=!1,queueIndex=-1;function cleanUpNextTick(){draining&&currentQueue&&(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var timeout=runTimeout(cleanUpNextTick);draining=!0;for(var len=queue.length;len;){for(currentQueue=queue,queue=[];++queueIndex<len;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,len=queue.length}currentQueue=null,draining=!1,function(marker){if(cachedClearTimeout===clearTimeout)return clearTimeout(marker);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(marker);try{cachedClearTimeout(marker)}catch(e){try{return cachedClearTimeout.call(null,marker)}catch(e){return cachedClearTimeout.call(this,marker)}}}(timeout)}}function Item(fun,array){this.fun=fun,this.array=array}function noop(){}process.nextTick=function(fun){var args=new Array(arguments.length-1);if(arguments.length>1)for(var i=1;i<arguments.length;i++)args[i-1]=arguments[i];queue.push(new Item(fun,args)),1!==queue.length||draining||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},process.title=\"browser\",process.browser=!0,process.env={},process.argv=[],process.version=\"\",process.versions={},process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.prependListener=noop,process.prependOnceListener=noop,process.listeners=function(name){return[]},process.binding=function(name){throw new Error(\"process.binding is not supported\")},process.cwd=function(){return\"/\"},process.chdir=function(dir){throw new Error(\"process.chdir is not supported\")},process.umask=function(){return 0}},function(module,exports,__nested_webpack_require_108756__){(function(Buffer){function objectToString(o){return Object.prototype.toString.call(o)}exports.isArray=function(arg){return Array.isArray?Array.isArray(arg):\"[object Array]\"===objectToString(arg)},exports.isBoolean=function(arg){return\"boolean\"==typeof arg},exports.isNull=function(arg){return null===arg},exports.isNullOrUndefined=function(arg){return null==arg},exports.isNumber=function(arg){return\"number\"==typeof arg},exports.isString=function(arg){return\"string\"==typeof arg},exports.isSymbol=function(arg){return\"symbol\"==typeof arg},exports.isUndefined=function(arg){return void 0===arg},exports.isRegExp=function(re){return\"[object RegExp]\"===objectToString(re)},exports.isObject=function(arg){return\"object\"==typeof arg&&null!==arg},exports.isDate=function(d){return\"[object Date]\"===objectToString(d)},exports.isError=function(e){return\"[object Error]\"===objectToString(e)||e instanceof Error},exports.isFunction=function(arg){return\"function\"==typeof arg},exports.isPrimitive=function(arg){return null===arg||\"boolean\"==typeof arg||\"number\"==typeof arg||\"string\"==typeof arg||\"symbol\"==typeof arg||void 0===arg},exports.isBuffer=Buffer.isBuffer}).call(this,__nested_webpack_require_108756__(26).Buffer)},function(module,exports,__nested_webpack_require_110002__){\"use strict\";var ES6Promise=null;ES6Promise=\"undefined\"!=typeof Promise?Promise:__nested_webpack_require_110002__(103),module.exports={Promise:ES6Promise}},function(module,exports,__nested_webpack_require_110189__){\"use strict\";var __awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})},__generator=this&&this.__generator||function(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},\"function\"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function(op){if(f)throw new TypeError(\"Generator is already executing.\");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=(t=_.trys).length>0&&t[t.length-1])&&(6===op[0]||2===op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}},__spreadArrays=this&&this.__spreadArrays||function(){for(var s=0,i=0,il=arguments.length;i<il;i++)s+=arguments[i].length;var r=Array(s),k=0;for(i=0;i<il;i++)for(var a=arguments[i],j=0,jl=a.length;j<jl;j++,k++)r[k]=a[j];return r};Object.defineProperty(exports,\"__esModule\",{value:!0});var DateModule_1=__nested_webpack_require_110189__(6),InboxMessages=function(){function InboxMessages(data,api,inboxModel,dateModule){void 0===dateModule&&(dateModule=new DateModule_1.default),this.data=data,this.api=api,this.inboxModel=inboxModel,this.dateModule=dateModule,this.publicMessageBuilder=this.publicMessageBuilder.bind(this)}return InboxMessages.prototype.messageTypeFactory=function(actionParams){var messageType=0;return\"h\"in actionParams||\"rm\"in actionParams||\"r\"in actionParams?messageType=1:\"l\"in actionParams&&void 0!==actionParams.l&&(messageType=actionParams.l.startsWith(\"http\")?2:3),messageType},InboxMessages.prototype.updateMessagesStatusWithCodes=function(codes,messages,status){return __awaiter(this,void 0,void 0,function(){var updatedMessages,inboxStatusQueries,_this=this;return __generator(this,function(_a){switch(_a.label){case 0:return updatedMessages=[],inboxStatusQueries=[],messages.forEach(function(msg){return __awaiter(_this,void 0,void 0,function(){return __generator(this,function(_a){return-1===codes.indexOf(msg.inbox_id)?[2]:(msg.status=status,updatedMessages.push(msg),inboxStatusQueries.push(this.api.inboxStatus(msg.order,msg.status)),[2])})})}),[4,this.inboxModel.putBulkMessages(updatedMessages)];case 1:return _a.sent(),[4,Promise.all(inboxStatusQueries)];case 2:return _a.sent(),[2]}})})},InboxMessages.prototype.publicMessageBuilder=function(message){return __awaiter(this,void 0,void 0,function(){var imageUrl,_a,title,_b;return __generator(this,function(_c){switch(_c.label){case 0:return(_a=message.image)?[3,2]:[4,this.data.getDefaultNotificationImage()];case 1:_a=_c.sent(),_c.label=2;case 2:return imageUrl=_a,(_b=message.title)?[3,4]:[4,this.data.getDefaultNotificationTitle()];case 3:_b=_c.sent(),_c.label=4;case 4:return title=_b,this.dateModule.date=new Date(1e3*parseInt(message.send_date)),this.dateModule.setLocal(),[2,{title:title,imageUrl:imageUrl,code:message.inbox_id,message:message.text,sendDate:this.dateModule.date.toISOString(),type:this.messageTypeFactory(JSON.parse(message.action_params)),isRead:2===message.status||3===message.status,isActionPerformed:3===message.status}]}})})},InboxMessages.prototype.messagesWithNoActionPerformedCount=function(){return this.inboxModel.getDeliveredReadMessagesCount()},InboxMessages.prototype.unreadMessagesCount=function(){return this.inboxModel.getDeliveredMessagesCount()},InboxMessages.prototype.messagesCount=function(){return this.inboxModel.messagesCount()},InboxMessages.prototype.loadMessages=function(){return __awaiter(this,void 0,void 0,function(){var readMessages,unreadMessages,buildMessagePromises;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.inboxModel.getReadOpenMessages()];case 1:return readMessages=_a.sent(),[4,this.inboxModel.getDeliveredMessages()];case 2:return unreadMessages=_a.sent(),buildMessagePromises=__spreadArrays(readMessages,unreadMessages).sort(function(msgA,msgB){return parseInt(msgB.send_date,10)-parseInt(msgA.send_date,10)}).sort(function(msgA,msgB){return parseInt(msgB.order||\"0\",10)-parseInt(msgA.order||\"0\",10)}).map(this.publicMessageBuilder),[2,Promise.all(buildMessagePromises)]}})})},InboxMessages.prototype.readMessagesWithCodes=function(codes){return __awaiter(this,void 0,void 0,function(){var unreadMessages,statusRead;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.inboxModel.getDeliveredMessages()];case 1:return unreadMessages=_a.sent(),statusRead=2,[4,this.updateMessagesStatusWithCodes(codes,unreadMessages,statusRead)];case 2:return _a.sent(),[2]}})})},InboxMessages.prototype.performActionForMessageWithCode=function(code){return __awaiter(this,void 0,void 0,function(){var message,actionParams,messageType;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.inboxModel.getMessage(code)];case 1:return message=_a.sent(),actionParams=JSON.parse(message.action_params),2===(messageType=this.messageTypeFactory(actionParams))&&void 0!==actionParams.l?document.location.href=actionParams.l:3===messageType&&void 0!==actionParams.l&&window.history.go(actionParams.l),message.status=3,[4,this.inboxModel.putMessage(message)];case 2:return _a.sent(),[4,this.api.inboxStatus(message.order,message.status)];case 3:return _a.sent(),[2]}})})},InboxMessages.prototype.deleteMessagesWithCodes=function(codes){return __awaiter(this,void 0,void 0,function(){var readMessages,unreadMessages,statusDeleted;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.inboxModel.getReadOpenMessages()];case 1:return readMessages=_a.sent(),[4,this.inboxModel.getDeliveredMessages()];case 2:return unreadMessages=_a.sent(),statusDeleted=4,[4,this.updateMessagesStatusWithCodes(codes,__spreadArrays(readMessages,unreadMessages),statusDeleted)];case 3:return _a.sent(),[2]}})})},InboxMessages.prototype.syncMessages=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.inboxModel.updateMessages()];case 1:return _a.sent(),[2]}})})},InboxMessages}();exports.default=InboxMessages},function(module,exports){var getRandomValues=\"undefined\"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||\"undefined\"!=typeof msCrypto&&\"function\"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(getRandomValues){var rnds8=new Uint8Array(16);module.exports=function(){return getRandomValues(rnds8),rnds8}}else{var rnds=new Array(16);module.exports=function(){for(var r,i=0;i<16;i++)0==(3&i)&&(r=4294967296*Math.random()),rnds[i]=r>>>((3&i)<<3)&255;return rnds}}},function(module,exports){for(var byteToHex=[],i=0;i<256;++i)byteToHex[i]=(i+256).toString(16).substr(1);module.exports=function(buf,offset){var i=offset||0,bth=byteToHex;return[bth[buf[i++]],bth[buf[i++]],bth[buf[i++]],bth[buf[i++]],\"-\",bth[buf[i++]],bth[buf[i++]],\"-\",bth[buf[i++]],bth[buf[i++]],\"-\",bth[buf[i++]],bth[buf[i++]],\"-\",bth[buf[i++]],bth[buf[i++]],bth[buf[i++]],bth[buf[i++]],bth[buf[i++]],bth[buf[i++]]].join(\"\")}},function(module,exports,__nested_webpack_require_118272__){\"use strict\";(function(process){void 0===process||!process.version||0===process.version.indexOf(\"v0.\")||0===process.version.indexOf(\"v1.\")&&0!==process.version.indexOf(\"v1.8.\")?module.exports={nextTick:function(fn,arg1,arg2,arg3){if(\"function\"!=typeof fn)throw new TypeError('\"callback\" argument must be a function');var args,i,len=arguments.length;switch(len){case 0:case 1:return process.nextTick(fn);case 2:return process.nextTick(function(){fn.call(null,arg1)});case 3:return process.nextTick(function(){fn.call(null,arg1,arg2)});case 4:return process.nextTick(function(){fn.call(null,arg1,arg2,arg3)});default:for(args=new Array(len-1),i=0;i<args.length;)args[i++]=arguments[i];return process.nextTick(function(){fn.apply(null,args)})}}}:module.exports=process}).call(this,__nested_webpack_require_118272__(27))},function(module,exports,__nested_webpack_require_119121__){var buffer=__nested_webpack_require_119121__(26),Buffer=buffer.Buffer;function copyProps(src,dst){for(var key in src)dst[key]=src[key]}function SafeBuffer(arg,encodingOrOffset,length){return Buffer(arg,encodingOrOffset,length)}Buffer.from&&Buffer.alloc&&Buffer.allocUnsafe&&Buffer.allocUnsafeSlow?module.exports=buffer:(copyProps(buffer,exports),exports.Buffer=SafeBuffer),copyProps(Buffer,SafeBuffer),SafeBuffer.from=function(arg,encodingOrOffset,length){if(\"number\"==typeof arg)throw new TypeError(\"Argument must not be a number\");return Buffer(arg,encodingOrOffset,length)},SafeBuffer.alloc=function(size,fill,encoding){if(\"number\"!=typeof size)throw new TypeError(\"Argument must be a number\");var buf=Buffer(size);return void 0!==fill?\"string\"==typeof encoding?buf.fill(fill,encoding):buf.fill(fill):buf.fill(0),buf},SafeBuffer.allocUnsafe=function(size){if(\"number\"!=typeof size)throw new TypeError(\"Argument must be a number\");return Buffer(size)},SafeBuffer.allocUnsafeSlow=function(size){if(\"number\"!=typeof size)throw new TypeError(\"Argument must be a number\");return buffer.SlowBuffer(size)}},function(module,exports,__nested_webpack_require_120255__){\"use strict\";(function(Buffer){module.exports={isNode:void 0!==Buffer,newBufferFrom:function(data,encoding){if(Buffer.from&&Buffer.from!==Uint8Array.from)return Buffer.from(data,encoding);if(\"number\"==typeof data)throw new Error('The \"data\" argument must not be a number');return new Buffer(data,encoding)},allocBuffer:function(size){if(Buffer.alloc)return Buffer.alloc(size);var buf=new Buffer(size);return buf.fill(0),buf},isBuffer:function(b){return Buffer.isBuffer(b)},isStream:function(obj){return obj&&\"function\"==typeof obj.on&&\"function\"==typeof obj.pause&&\"function\"==typeof obj.resume}}}).call(this,__nested_webpack_require_120255__(26).Buffer)},function(module,exports,__nested_webpack_require_120942__){\"use strict\";var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})},__generator=this&&this.__generator||function(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},\"function\"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function(op){if(f)throw new TypeError(\"Generator is already executing.\");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=(t=_.trys).length>0&&t[t.length-1])&&(6===op[0]||2===op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}};Object.defineProperty(exports,\"__esModule\",{value:!0});var Data_1=__nested_webpack_require_120942__(4),ApiClient_1=__nested_webpack_require_120942__(21),CommandBus_1=__nested_webpack_require_120942__(12),EventBus_1=__nested_webpack_require_120942__(13),CommandBus_types_1=__nested_webpack_require_120942__(24),EventBus_types_1=__nested_webpack_require_120942__(25),CONSTANTS=__nested_webpack_require_120942__(1),Api=function(){function Api(data,apiClient,commandBus,eventBus,eventEmitter){var _this=this;void 0===data&&(data=new Data_1.Data),void 0===apiClient&&(apiClient=new ApiClient_1.ApiClient),void 0===commandBus&&(commandBus=CommandBus_1.CommandBus.getInstance()),void 0===eventBus&&(eventBus=EventBus_1.EventBus.getInstance()),this.eventEmitter=eventEmitter,this.eventBus=eventBus,this.data=data,this.apiClient=apiClient,this.commandBus=commandBus,this.commandBus.on(CommandBus_types_1.TCommands.GET_TAGS,function(_a){var commandId=_a.commandId;_this.getTags().then(function(_a){var result=_a.result;_this.eventBus.emit(EventBus_types_1.TEvents.GET_TAGS,{tags:result},commandId)})}),this.commandBus.on(CommandBus_types_1.TCommands.SET_TAGS,function(_a){var commandId=_a.commandId,tags=_a.tags;_this.setTags(tags).then(function(){_this.eventBus.emit(EventBus_types_1.TEvents.SET_TAGS,commandId)})})}return Api.prototype.checkDevice=function(){return __awaiter(this,void 0,void 0,function(){var params;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.getRequestParams()];case 1:return params=_a.sent(),[4,this.apiClient.checkDevice(params)];case 2:return[2,_a.sent()]}})})},Api.prototype.checkDeviceSubscribeForPushNotifications=function(useCache){return void 0===useCache&&(useCache=!0),__awaiter(this,void 0,void 0,function(){var status,_a,exist,push_token_exist;return __generator(this,function(_b){switch(_b.label){case 0:return void 0!==(status=localStorage.getItem(CONSTANTS.KEY_DEVICE_REGISTRATION_STATUS))&&useCache?[3,2]:[4,this.checkDevice()];case 1:_a=_b.sent(),exist=_a.exist,push_token_exist=_a.push_token_exist,localStorage.setItem(CONSTANTS.KEY_DEVICE_REGISTRATION_STATUS,exist&&push_token_exist?CONSTANTS.DEVICE_REGISTRATION_STATUS_REGISTERED:CONSTANTS.DEVICE_REGISTRATION_STATUS_UNREGISTERED),status=localStorage.getItem(CONSTANTS.KEY_DEVICE_REGISTRATION_STATUS),_b.label=2;case 2:return[2,status===CONSTANTS.DEVICE_REGISTRATION_STATUS_REGISTERED]}})})},Api.prototype.getConfig=function(features){return __awaiter(this,void 0,void 0,function(){var params;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.getRequestParams()];case 1:return params=_a.sent(),[2,this.apiClient.getConfig(__assign(__assign({},params),{features:features}))]}})})},Api.prototype.applicationOpen=function(){return __awaiter(this,void 0,void 0,function(){var params;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.getRequestParams()];case 1:return params=_a.sent(),[4,this.data.setLastOpenApplicationTime(Date.now())];case 2:return _a.sent(),[2,this.apiClient.applicationOpen(params)]}})})},Api.prototype.registerDevice=function(){return __awaiter(this,void 0,void 0,function(){var params,tokens,response;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.data.getStatusCommunicationDisabled()];case 1:if(_a.sent())throw new Error(\"Can't register device: Communication is disabled!\");return[4,this.getRequestParams()];case 2:return params=_a.sent(),[4,this.data.getTokens()];case 3:if(!(tokens=_a.sent()).pushToken)throw new Error(\"Can't register device: pushToken is not exist!\");return[4,this.apiClient.registerDevice(__assign(__assign({},params),{push_token:tokens.pushToken,auth_token:tokens.authToken,public_key:tokens.publicKey,fcm_push_set:tokens.fcmPushSet,fcm_token:tokens.fcmToken}))];case 4:return response=_a.sent(),[4,this.data.setStatusManualUnsubscribed(!1)];case 5:return _a.sent(),localStorage.setItem(CONSTANTS.KEY_DEVICE_REGISTRATION_STATUS,CONSTANTS.DEVICE_REGISTRATION_STATUS_REGISTERED),this.eventEmitter&&this.eventEmitter.emit(CONSTANTS.EVENT_ON_REGISTER),[2,response]}})})},Api.prototype.unregisterDevice=function(){return __awaiter(this,void 0,void 0,function(){var params,response;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.getRequestParams()];case 1:return params=_a.sent(),response=this.apiClient.unregisterDevice(params),localStorage.setItem(CONSTANTS.KEY_DEVICE_REGISTRATION_STATUS,CONSTANTS.DEVICE_REGISTRATION_STATUS_UNREGISTERED),this.eventEmitter&&this.eventEmitter.emit(CONSTANTS.EVENT_ON_UNSUBSCRIBE),[2,response]}})})},Api.prototype.deleteDevice=function(){return __awaiter(this,void 0,void 0,function(){var params,response;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.getRequestParams()];case 1:return params=_a.sent(),response=this.apiClient.deleteDevice(params),[4,this.data.setStatusManualUnsubscribed(!0)];case 2:return _a.sent(),localStorage.setItem(CONSTANTS.KEY_DEVICE_REGISTRATION_STATUS,CONSTANTS.DEVICE_REGISTRATION_STATUS_UNREGISTERED),this.eventEmitter&&this.eventEmitter.emit(CONSTANTS.EVENT_ON_UNSUBSCRIBE),[2,response]}})})},Api.prototype.messageDeliveryEvent=function(hash,isTrackingLogOnFailure){return __awaiter(this,void 0,void 0,function(){var startTime,params,error_1;return __generator(this,function(_a){switch(_a.label){case 0:return startTime=Math.round(+new Date),[4,this.getRequestParams()];case 1:params=_a.sent(),_a.label=2;case 2:return _a.trys.push([2,4,,5]),[4,this.apiClient.messageDeliveryEvent(__assign(__assign({},params),{hash:hash}))];case 3:return[2,_a.sent()];case 4:throw error_1=_a.sent(),isTrackingLogOnFailure&&this.trackLog(\"messageDeliveryEvent\",__assign(__assign({},params),{hash:hash}),{startTime:startTime,error:error_1}),error_1;case 5:return[2]}})})},Api.prototype.pushStat=function(hash,isTrackingLogOnFailure){return __awaiter(this,void 0,void 0,function(){var startTime,params,error_2;return __generator(this,function(_a){switch(_a.label){case 0:return startTime=Math.round(+new Date),[4,this.getRequestParams()];case 1:params=_a.sent(),_a.label=2;case 2:return _a.trys.push([2,4,,5]),[4,this.apiClient.pushStat(__assign(__assign({},params),{hash:hash}))];case 3:return[2,_a.sent()];case 4:throw error_2=_a.sent(),isTrackingLogOnFailure&&this.trackLog(\"pushStat\",__assign(__assign({},params),{hash:hash}),{startTime:startTime,error:error_2}),error_2;case 5:return[2]}})})},Api.prototype.setTags=function(tags){return __awaiter(this,void 0,void 0,function(){var params;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.getRequestParams()];case 1:return params=_a.sent(),[2,this.apiClient.setTags(__assign(__assign({},params),{tags:tags}))]}})})},Api.prototype.getTags=function(){return __awaiter(this,void 0,void 0,function(){var params;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.getRequestParams()];case 1:return params=_a.sent(),[2,this.apiClient.getTags(params)]}})})},Api.prototype.registerUser=function(userId){return __awaiter(this,void 0,void 0,function(){var params,deviceType,id,response;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.getRequestParams()];case 1:return params=_a.sent(),[4,this.data.getDeviceType()];case 2:return deviceType=_a.sent(),id=\"\"+userId,[4,this.apiClient.registerUser(__assign(__assign({},params),{userId:id,ts_offset:60*-(new Date).getTimezoneOffset(),device_type:deviceType}))];case 3:return response=_a.sent(),[4,this.data.setUserId(\"\"+userId)];case 4:return _a.sent(),[4,this.data.setStatusUserIdWasChanged(!0)];case 5:return _a.sent(),[2,response]}})})},Api.prototype.postEvent=function(event,attributes){return __awaiter(this,void 0,void 0,function(){var params,date,time,timestampUTC,timestampCurrent,lastOpenMessage,response;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.getRequestParams()];case 1:return params=_a.sent(),date=new Date,time=date.getTime(),timestampUTC=Math.floor(time/1e3),timestampCurrent=timestampUTC-date.getTimezoneOffset()/60*3600,[4,this.data.getLastOpenMessage()];case 2:if((lastOpenMessage=_a.sent())&&lastOpenMessage.expiry>Date.now()){if(attributes.msgHash)return[2,Promise.reject(\"attribute msgHash already defined\")];attributes=__assign(__assign({},attributes),{msgHash:lastOpenMessage.messageHash})}return[4,this.data.setLastOpenMessage(void 0)];case 3:return _a.sent(),[4,this.apiClient.postEvent(__assign(__assign({},params),{event:event,timestampUTC:timestampUTC,timestampCurrent:timestampCurrent,attributes:attributes}))];case 4:return(response=_a.sent())&&response.code&&this.commandBus.emit(CommandBus_types_1.TCommands.SHOW_IN_APP,{code:response.code}),[2,response]}})})},Api.prototype.getInboxMessages=function(count){return void 0===count&&(count=0),__awaiter(this,void 0,void 0,function(){var params,lastCode,lastRequestTime;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.getRequestParams()];case 1:return params=_a.sent(),[4,this.data.getInboxLastRequestCode()];case 2:return lastCode=_a.sent(),[4,this.data.getInboxLastRequestTime()];case 3:return lastRequestTime=_a.sent(),[2,this.apiClient.getInboxMessages(__assign(__assign({},params),{count:count,last_code:lastCode,last_request_time:lastRequestTime}))]}})})},Api.prototype.inboxStatus=function(order,status){return __awaiter(this,void 0,void 0,function(){var params;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.getRequestParams()];case 1:return params=_a.sent(),[2,this.apiClient.inboxStatus(__assign(__assign({},params),{inbox_code:order,status:status,time:(new Date).getTime()}))]}})})},Api.prototype.triggerEvent=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){throw new Error(\"Method has been deprecated, because we don't aggregate this statistics.\")})})},Api.prototype.pageVisit=function(config){return __awaiter(this,void 0,void 0,function(){var params,features,url;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.getRequestParams()];case 1:return params=_a.sent(),[4,this.data.getFeatures()];case 2:return features=_a.sent(),(url=features&&features.page_visit&&features.page_visit.entrypoint)?[2,this.apiClient.pageVisit(__assign(__assign({},params),config),url)]:[2]}})})},Api.prototype.getInApps=function(){return __awaiter(this,void 0,void 0,function(){var params;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.getRequestParams()];case 1:return params=_a.sent(),[2,this.apiClient.getInApps(params)]}})})},Api.prototype.setPurchase=function(attributes){return __awaiter(this,void 0,void 0,function(){var params;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.getRequestParams()];case 1:return params=_a.sent(),[2,this.apiClient.setPurchase(__assign(__assign({},params),attributes))]}})})},Api.prototype.getParams=function(){return __awaiter(this,void 0,void 0,function(){var applicationCode,hwid,apiParams,initParams;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.data.getApplicationCode()];case 1:return applicationCode=_a.sent(),[4,this.data.getHwid()];case 2:return hwid=_a.sent(),[4,this.data.getTokens()];case 3:return apiParams=_a.sent(),[4,this.data.getInitParams()];case 4:return initParams=_a.sent(),[2,__assign(__assign({applicationCode:applicationCode,hwid:hwid},apiParams),initParams)]}})})},Object.defineProperty(Api.prototype,\"params\",{get:function(){throw new Error('Property \"Pushwoosh.api.params\" have been deprecated. Use the async method \"Pushwoosh.api.getParams()\"')},enumerable:!0,configurable:!0}),Api.prototype.getRequestParams=function(){return __awaiter(this,void 0,void 0,function(){var applicationCode,hwid,userId,deviceType,deviceModel,language,version,timezone;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.data.getApplicationCode()];case 1:return applicationCode=_a.sent(),[4,this.data.getHwid()];case 2:return hwid=_a.sent(),[4,this.data.getUserId()];case 3:return userId=_a.sent(),[4,this.data.getDeviceType()];case 4:return deviceType=_a.sent(),[4,this.data.getDeviceModel()];case 5:return deviceModel=_a.sent(),[4,this.data.getLanguage()];case 6:return language=_a.sent(),[4,this.data.getSdkVersion()];case 7:return version=_a.sent(),timezone=60*-(new Date).getTimezoneOffset(),[2,{application:applicationCode,hwid:hwid,userId:userId||hwid,device_type:deviceType,device_model:deviceModel,timezone:timezone,language:language,v:version}]}})})},Api.prototype.trackLog=function(method,payload,others){return __awaiter(this,void 0,void 0,function(){var endTime,entrypoint;return __generator(this,function(_a){switch(_a.label){case 0:return endTime=Math.round(+new Date),[4,this.data.getApiEntrypoint()];case 1:return entrypoint=_a.sent(),fetch(\"https://post-log.pushwoosh.com/websdk\",{method:\"POST\",headers:{\"Content-Type\":\"text/plain;charset=UTF-8\"},body:JSON.stringify({payload:payload,startTime:others.startTime,endTime:endTime,executionTime:endTime-others.startTime,error:{code:others.error.code,message:others.error.message},method:method,entrypoint:entrypoint,location:{hostname:self.location.hostname,origin:self.location.origin,pathname:self.location.pathname},type:\"websdk\"})}),[2]}})})},Api}();exports.Api=Api},function(module,exports,__nested_webpack_require_136148__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var initial_1=__nested_webpack_require_136148__(38),_26_11_2018_1=__nested_webpack_require_136148__(39),DateModule_1=__nested_webpack_require_136148__(6),Migrations=function(){function Migrations(dateModule){void 0===dateModule&&(dateModule=new DateModule_1.default),this.migrations={initial:initial_1.default,\"2018/11/26\":_26_11_2018_1.default},this.dateModule=dateModule}return Object.defineProperty(Migrations.prototype,\"initial\",{get:function(){return this.migrations.initial},enumerable:!0,configurable:!0}),Object.defineProperty(Migrations.prototype,\"dateSorted\",{get:function(){var _this=this;return Object.keys(this.migrations).filter(function(key){return\"initial\"!==key}).sort(function(a,b){var dateA=new DateModule_1.default(new Date(a)),dateB=new DateModule_1.default(new Date(b));return dateA.getTimestamp()-dateB.getTimestamp()}).map(function(key){return _this.migrations[key]})},enumerable:!0,configurable:!0}),Migrations}();exports.default=Migrations},function(module,exports,__nested_webpack_require_137186__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var helpers_1=__nested_webpack_require_137186__(20),constants_1=__nested_webpack_require_137186__(10);exports.default=[helpers_1.storeCreatorDecorator(constants_1.STORE_NAME_KEY_VALUE,function(database){database.createObjectStore(constants_1.STORE_NAME_KEY_VALUE,{keyPath:\"key\"})}),helpers_1.storeCreatorDecorator(constants_1.STORE_NAME_MAIN_LOG,function(database){var logStore=database.createObjectStore(constants_1.STORE_NAME_MAIN_LOG,{keyPath:constants_1.KEY_PATH_BASE_INCREMENT,autoIncrement:!0});logStore.createIndex(\"environment\",\"environment\",{unique:!1}),logStore.createIndex(\"date\",\"date\",{unique:!1}),logStore.createIndex(\"type\",\"type\",{unique:!1})}),helpers_1.storeCreatorDecorator(constants_1.STORE_NAME_MESSAGE_LOG,function(database){database.createObjectStore(constants_1.STORE_NAME_MESSAGE_LOG,{keyPath:constants_1.KEY_PATH_BASE_INCREMENT,autoIncrement:!0}).createIndex(\"date\",\"date\",{unique:!1})})]},function(module,exports,__nested_webpack_require_138187__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var helpers_1=__nested_webpack_require_138187__(20),constants_1=__nested_webpack_require_138187__(10);exports.default=[helpers_1.storeCreatorDecorator(constants_1.STORE_NAME_INBOX_MESSAGES,function(database){var store=database.createObjectStore(constants_1.STORE_NAME_INBOX_MESSAGES,{keyPath:\"inbox_id\",autoIncrement:!1});store.createIndex(\"status\",\"status\",{unique:!1,multiEntry:!0}),store.createIndex(\"rt\",\"rt\",{unique:!1,multiEntry:!0})})]},function(module,exports,__webpack_require__){\"use strict\";var ReflectOwnKeys,R=\"object\"==typeof Reflect?Reflect:null,ReflectApply=R&&\"function\"==typeof R.apply?R.apply:function(target,receiver,args){return Function.prototype.apply.call(target,receiver,args)};ReflectOwnKeys=R&&\"function\"==typeof R.ownKeys?R.ownKeys:Object.getOwnPropertySymbols?function(target){return Object.getOwnPropertyNames(target).concat(Object.getOwnPropertySymbols(target))}:function(target){return Object.getOwnPropertyNames(target)};var NumberIsNaN=Number.isNaN||function(value){return value!=value};function EventEmitter(){EventEmitter.init.call(this)}module.exports=EventEmitter,module.exports.once=function(emitter,name){return new Promise(function(resolve,reject){function eventListener(){void 0!==errorListener&&emitter.removeListener(\"error\",errorListener),resolve([].slice.call(arguments))}var errorListener;\"error\"!==name&&(errorListener=function(err){emitter.removeListener(name,eventListener),reject(err)},emitter.once(\"error\",errorListener)),emitter.once(name,eventListener)})},EventEmitter.EventEmitter=EventEmitter,EventEmitter.prototype._events=void 0,EventEmitter.prototype._eventsCount=0,EventEmitter.prototype._maxListeners=void 0;var defaultMaxListeners=10;function checkListener(listener){if(\"function\"!=typeof listener)throw new TypeError('The \"listener\" argument must be of type Function. Received type '+typeof listener)}function _getMaxListeners(that){return void 0===that._maxListeners?EventEmitter.defaultMaxListeners:that._maxListeners}function _addListener(target,type,listener,prepend){var m,events,existing;if(checkListener(listener),void 0===(events=target._events)?(events=target._events=Object.create(null),target._eventsCount=0):(void 0!==events.newListener&&(target.emit(\"newListener\",type,listener.listener?listener.listener:listener),events=target._events),existing=events[type]),void 0===existing)existing=events[type]=listener,++target._eventsCount;else if(\"function\"==typeof existing?existing=events[type]=prepend?[listener,existing]:[existing,listener]:prepend?existing.unshift(listener):existing.push(listener),(m=_getMaxListeners(target))>0&&existing.length>m&&!existing.warned){existing.warned=!0;var w=new Error(\"Possible EventEmitter memory leak detected. \"+existing.length+\" \"+String(type)+\" listeners added. Use emitter.setMaxListeners() to increase limit\");w.name=\"MaxListenersExceededWarning\",w.emitter=target,w.type=type,w.count=existing.length,function(warning){console&&console.warn&&console.warn(warning)}(w)}return target}function _onceWrap(target,type,listener){var state={fired:!1,wrapFn:void 0,target:target,type:type,listener:listener},wrapped=function(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}.bind(state);return wrapped.listener=listener,state.wrapFn=wrapped,wrapped}function _listeners(target,type,unwrap){var events=target._events;if(void 0===events)return[];var evlistener=events[type];return void 0===evlistener?[]:\"function\"==typeof evlistener?unwrap?[evlistener.listener||evlistener]:[evlistener]:unwrap?function(arr){for(var ret=new Array(arr.length),i=0;i<ret.length;++i)ret[i]=arr[i].listener||arr[i];return ret}(evlistener):arrayClone(evlistener,evlistener.length)}function listenerCount(type){var events=this._events;if(void 0!==events){var evlistener=events[type];if(\"function\"==typeof evlistener)return 1;if(void 0!==evlistener)return evlistener.length}return 0}function arrayClone(arr,n){for(var copy=new Array(n),i=0;i<n;++i)copy[i]=arr[i];return copy}Object.defineProperty(EventEmitter,\"defaultMaxListeners\",{enumerable:!0,get:function(){return defaultMaxListeners},set:function(arg){if(\"number\"!=typeof arg||arg<0||NumberIsNaN(arg))throw new RangeError('The value of \"defaultMaxListeners\" is out of range. It must be a non-negative number. Received '+arg+\".\");defaultMaxListeners=arg}}),EventEmitter.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},EventEmitter.prototype.setMaxListeners=function(n){if(\"number\"!=typeof n||n<0||NumberIsNaN(n))throw new RangeError('The value of \"n\" is out of range. It must be a non-negative number. Received '+n+\".\");return this._maxListeners=n,this},EventEmitter.prototype.getMaxListeners=function(){return _getMaxListeners(this)},EventEmitter.prototype.emit=function(type){for(var args=[],i=1;i<arguments.length;i++)args.push(arguments[i]);var doError=\"error\"===type,events=this._events;if(void 0!==events)doError=doError&&void 0===events.error;else if(!doError)return!1;if(doError){var er;if(args.length>0&&(er=args[0]),er instanceof Error)throw er;var err=new Error(\"Unhandled error.\"+(er?\" (\"+er.message+\")\":\"\"));throw err.context=er,err}var handler=events[type];if(void 0===handler)return!1;if(\"function\"==typeof handler)ReflectApply(handler,this,args);else{var len=handler.length,listeners=arrayClone(handler,len);for(i=0;i<len;++i)ReflectApply(listeners[i],this,args)}return!0},EventEmitter.prototype.addListener=function(type,listener){return _addListener(this,type,listener,!1)},EventEmitter.prototype.on=EventEmitter.prototype.addListener,EventEmitter.prototype.prependListener=function(type,listener){return _addListener(this,type,listener,!0)},EventEmitter.prototype.once=function(type,listener){return checkListener(listener),this.on(type,_onceWrap(this,type,listener)),this},EventEmitter.prototype.prependOnceListener=function(type,listener){return checkListener(listener),this.prependListener(type,_onceWrap(this,type,listener)),this},EventEmitter.prototype.removeListener=function(type,listener){var list,events,position,i,originalListener;if(checkListener(listener),void 0===(events=this._events))return this;if(void 0===(list=events[type]))return this;if(list===listener||list.listener===listener)0==--this._eventsCount?this._events=Object.create(null):(delete events[type],events.removeListener&&this.emit(\"removeListener\",type,list.listener||listener));else if(\"function\"!=typeof list){for(position=-1,i=list.length-1;i>=0;i--)if(list[i]===listener||list[i].listener===listener){originalListener=list[i].listener,position=i;break}if(position<0)return this;0===position?list.shift():function(list,index){for(;index+1<list.length;index++)list[index]=list[index+1];list.pop()}(list,position),1===list.length&&(events[type]=list[0]),void 0!==events.removeListener&&this.emit(\"removeListener\",type,originalListener||listener)}return this},EventEmitter.prototype.off=EventEmitter.prototype.removeListener,EventEmitter.prototype.removeAllListeners=function(type){var listeners,events,i;if(void 0===(events=this._events))return this;if(void 0===events.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==events[type]&&(0==--this._eventsCount?this._events=Object.create(null):delete events[type]),this;if(0===arguments.length){var key,keys=Object.keys(events);for(i=0;i<keys.length;++i)\"removeListener\"!==(key=keys[i])&&this.removeAllListeners(key);return this.removeAllListeners(\"removeListener\"),this._events=Object.create(null),this._eventsCount=0,this}if(\"function\"==typeof(listeners=events[type]))this.removeListener(type,listeners);else if(void 0!==listeners)for(i=listeners.length-1;i>=0;i--)this.removeListener(type,listeners[i]);return this},EventEmitter.prototype.listeners=function(type){return _listeners(this,type,!0)},EventEmitter.prototype.rawListeners=function(type){return _listeners(this,type,!1)},EventEmitter.listenerCount=function(emitter,type){return\"function\"==typeof emitter.listenerCount?emitter.listenerCount(type):listenerCount.call(emitter,type)},EventEmitter.prototype.listenerCount=listenerCount,EventEmitter.prototype.eventNames=function(){return this._eventsCount>0?ReflectOwnKeys(this._events):[]}},function(module,exports,__nested_webpack_require_146690__){(exports=module.exports=__nested_webpack_require_146690__(53)).Stream=exports,exports.Readable=exports,exports.Writable=__nested_webpack_require_146690__(42),exports.Duplex=__nested_webpack_require_146690__(15),exports.Transform=__nested_webpack_require_146690__(58),exports.PassThrough=__nested_webpack_require_146690__(97)},function(module,exports,__nested_webpack_require_146991__){\"use strict\";(function(process,setImmediate,global){var pna=__nested_webpack_require_146991__(33);function CorkedRequest(state){var _this=this;this.next=null,this.entry=null,this.finish=function(){!function(corkReq,state,err){var entry=corkReq.entry;corkReq.entry=null;for(;entry;){var cb=entry.callback;state.pendingcb--,cb(err),entry=entry.next}state.corkedRequestsFree?state.corkedRequestsFree.next=corkReq:state.corkedRequestsFree=corkReq}(_this,state)}}module.exports=Writable;var Duplex,asyncWrite=!process.browser&&[\"v0.10\",\"v0.9.\"].indexOf(process.version.slice(0,5))>-1?setImmediate:pna.nextTick;Writable.WritableState=WritableState;var util=Object.create(__nested_webpack_require_146991__(28));util.inherits=__nested_webpack_require_146991__(17);var internalUtil={deprecate:__nested_webpack_require_146991__(96)},Stream=__nested_webpack_require_146991__(54),Buffer=__nested_webpack_require_146991__(34).Buffer,OurUint8Array=global.Uint8Array||function(){};var realHasInstance,destroyImpl=__nested_webpack_require_146991__(55);function nop(){}function WritableState(options,stream){Duplex=Duplex||__nested_webpack_require_146991__(15),options=options||{};var isDuplex=stream instanceof Duplex;this.objectMode=!!options.objectMode,isDuplex&&(this.objectMode=this.objectMode||!!options.writableObjectMode);var hwm=options.highWaterMark,writableHwm=options.writableHighWaterMark,defaultHwm=this.objectMode?16:16384;this.highWaterMark=hwm||0===hwm?hwm:isDuplex&&(writableHwm||0===writableHwm)?writableHwm:defaultHwm,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var noDecode=!1===options.decodeStrings;this.decodeStrings=!noDecode,this.defaultEncoding=options.defaultEncoding||\"utf8\",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(er){!function(stream,er){var state=stream._writableState,sync=state.sync,cb=state.writecb;if(function(state){state.writing=!1,state.writecb=null,state.length-=state.writelen,state.writelen=0}(state),er)!function(stream,state,sync,er,cb){--state.pendingcb,sync?(pna.nextTick(cb,er),pna.nextTick(finishMaybe,stream,state),stream._writableState.errorEmitted=!0,stream.emit(\"error\",er)):(cb(er),stream._writableState.errorEmitted=!0,stream.emit(\"error\",er),finishMaybe(stream,state))}(stream,state,sync,er,cb);else{var finished=needFinish(state);finished||state.corked||state.bufferProcessing||!state.bufferedRequest||clearBuffer(stream,state),sync?asyncWrite(afterWrite,stream,state,finished,cb):afterWrite(stream,state,finished,cb)}}(stream,er)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new CorkedRequest(this)}function Writable(options){if(Duplex=Duplex||__nested_webpack_require_146991__(15),!(realHasInstance.call(Writable,this)||this instanceof Duplex))return new Writable(options);this._writableState=new WritableState(options,this),this.writable=!0,options&&(\"function\"==typeof options.write&&(this._write=options.write),\"function\"==typeof options.writev&&(this._writev=options.writev),\"function\"==typeof options.destroy&&(this._destroy=options.destroy),\"function\"==typeof options.final&&(this._final=options.final)),Stream.call(this)}function doWrite(stream,state,writev,len,chunk,encoding,cb){state.writelen=len,state.writecb=cb,state.writing=!0,state.sync=!0,writev?stream._writev(chunk,state.onwrite):stream._write(chunk,encoding,state.onwrite),state.sync=!1}function afterWrite(stream,state,finished,cb){finished||function(stream,state){0===state.length&&state.needDrain&&(state.needDrain=!1,stream.emit(\"drain\"))}(stream,state),state.pendingcb--,cb(),finishMaybe(stream,state)}function clearBuffer(stream,state){state.bufferProcessing=!0;var entry=state.bufferedRequest;if(stream._writev&&entry&&entry.next){var l=state.bufferedRequestCount,buffer=new Array(l),holder=state.corkedRequestsFree;holder.entry=entry;for(var count=0,allBuffers=!0;entry;)buffer[count]=entry,entry.isBuf||(allBuffers=!1),entry=entry.next,count+=1;buffer.allBuffers=allBuffers,doWrite(stream,state,!0,state.length,buffer,\"\",holder.finish),state.pendingcb++,state.lastBufferedRequest=null,holder.next?(state.corkedRequestsFree=holder.next,holder.next=null):state.corkedRequestsFree=new CorkedRequest(state),state.bufferedRequestCount=0}else{for(;entry;){var chunk=entry.chunk,encoding=entry.encoding,cb=entry.callback;if(doWrite(stream,state,!1,state.objectMode?1:chunk.length,chunk,encoding,cb),entry=entry.next,state.bufferedRequestCount--,state.writing)break}null===entry&&(state.lastBufferedRequest=null)}state.bufferedRequest=entry,state.bufferProcessing=!1}function needFinish(state){return state.ending&&0===state.length&&null===state.bufferedRequest&&!state.finished&&!state.writing}function callFinal(stream,state){stream._final(function(err){state.pendingcb--,err&&stream.emit(\"error\",err),state.prefinished=!0,stream.emit(\"prefinish\"),finishMaybe(stream,state)})}function finishMaybe(stream,state){var need=needFinish(state);return need&&(!function(stream,state){state.prefinished||state.finalCalled||(\"function\"==typeof stream._final?(state.pendingcb++,state.finalCalled=!0,pna.nextTick(callFinal,stream,state)):(state.prefinished=!0,stream.emit(\"prefinish\")))}(stream,state),0===state.pendingcb&&(state.finished=!0,stream.emit(\"finish\"))),need}util.inherits(Writable,Stream),WritableState.prototype.getBuffer=function(){for(var current=this.bufferedRequest,out=[];current;)out.push(current),current=current.next;return out},function(){try{Object.defineProperty(WritableState.prototype,\"buffer\",{get:internalUtil.deprecate(function(){return this.getBuffer()},\"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.\",\"DEP0003\")})}catch(_){}}(),\"function\"==typeof Symbol&&Symbol.hasInstance&&\"function\"==typeof Function.prototype[Symbol.hasInstance]?(realHasInstance=Function.prototype[Symbol.hasInstance],Object.defineProperty(Writable,Symbol.hasInstance,{value:function(object){return!!realHasInstance.call(this,object)||this===Writable&&(object&&object._writableState instanceof WritableState)}})):realHasInstance=function(object){return object instanceof this},Writable.prototype.pipe=function(){this.emit(\"error\",new Error(\"Cannot pipe, not readable\"))},Writable.prototype.write=function(chunk,encoding,cb){var state=this._writableState,ret=!1,isBuf=!state.objectMode&&function(obj){return Buffer.isBuffer(obj)||obj instanceof OurUint8Array}(chunk);return isBuf&&!Buffer.isBuffer(chunk)&&(chunk=function(chunk){return Buffer.from(chunk)}(chunk)),\"function\"==typeof encoding&&(cb=encoding,encoding=null),isBuf?encoding=\"buffer\":encoding||(encoding=state.defaultEncoding),\"function\"!=typeof cb&&(cb=nop),state.ended?function(stream,cb){var er=new Error(\"write after end\");stream.emit(\"error\",er),pna.nextTick(cb,er)}(this,cb):(isBuf||function(stream,state,chunk,cb){var valid=!0,er=!1;return null===chunk?er=new TypeError(\"May not write null values to stream\"):\"string\"==typeof chunk||void 0===chunk||state.objectMode||(er=new TypeError(\"Invalid non-string/buffer chunk\")),er&&(stream.emit(\"error\",er),pna.nextTick(cb,er),valid=!1),valid}(this,state,chunk,cb))&&(state.pendingcb++,ret=function(stream,state,isBuf,chunk,encoding,cb){if(!isBuf){var newChunk=function(state,chunk,encoding){state.objectMode||!1===state.decodeStrings||\"string\"!=typeof chunk||(chunk=Buffer.from(chunk,encoding));return chunk}(state,chunk,encoding);chunk!==newChunk&&(isBuf=!0,encoding=\"buffer\",chunk=newChunk)}var len=state.objectMode?1:chunk.length;state.length+=len;var ret=state.length<state.highWaterMark;ret||(state.needDrain=!0);if(state.writing||state.corked){var last=state.lastBufferedRequest;state.lastBufferedRequest={chunk:chunk,encoding:encoding,isBuf:isBuf,callback:cb,next:null},last?last.next=state.lastBufferedRequest:state.bufferedRequest=state.lastBufferedRequest,state.bufferedRequestCount+=1}else doWrite(stream,state,!1,len,chunk,encoding,cb);return ret}(this,state,isBuf,chunk,encoding,cb)),ret},Writable.prototype.cork=function(){this._writableState.corked++},Writable.prototype.uncork=function(){var state=this._writableState;state.corked&&(state.corked--,state.writing||state.corked||state.finished||state.bufferProcessing||!state.bufferedRequest||clearBuffer(this,state))},Writable.prototype.setDefaultEncoding=function(encoding){if(\"string\"==typeof encoding&&(encoding=encoding.toLowerCase()),!([\"hex\",\"utf8\",\"utf-8\",\"ascii\",\"binary\",\"base64\",\"ucs2\",\"ucs-2\",\"utf16le\",\"utf-16le\",\"raw\"].indexOf((encoding+\"\").toLowerCase())>-1))throw new TypeError(\"Unknown encoding: \"+encoding);return this._writableState.defaultEncoding=encoding,this},Object.defineProperty(Writable.prototype,\"writableHighWaterMark\",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Writable.prototype._write=function(chunk,encoding,cb){cb(new Error(\"_write() is not implemented\"))},Writable.prototype._writev=null,Writable.prototype.end=function(chunk,encoding,cb){var state=this._writableState;\"function\"==typeof chunk?(cb=chunk,chunk=null,encoding=null):\"function\"==typeof encoding&&(cb=encoding,encoding=null),null!==chunk&&void 0!==chunk&&this.write(chunk,encoding),state.corked&&(state.corked=1,this.uncork()),state.ending||state.finished||function(stream,state,cb){state.ending=!0,finishMaybe(stream,state),cb&&(state.finished?pna.nextTick(cb):stream.once(\"finish\",cb));state.ended=!0,stream.writable=!1}(this,state,cb)},Object.defineProperty(Writable.prototype,\"destroyed\",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(value){this._writableState&&(this._writableState.destroyed=value)}}),Writable.prototype.destroy=destroyImpl.destroy,Writable.prototype._undestroy=destroyImpl.undestroy,Writable.prototype._destroy=function(err,cb){this.end(),cb(err)}}).call(this,__nested_webpack_require_146991__(27),__nested_webpack_require_146991__(56).setImmediate,__nested_webpack_require_146991__(14))},function(module,exports,__nested_webpack_require_156995__){\"use strict\";var external=__nested_webpack_require_156995__(29),DataWorker=__nested_webpack_require_156995__(62),DataLengthProbe=__nested_webpack_require_156995__(63),Crc32Probe=__nested_webpack_require_156995__(64);DataLengthProbe=__nested_webpack_require_156995__(63);function CompressedObject(compressedSize,uncompressedSize,crc32,compression,data){this.compressedSize=compressedSize,this.uncompressedSize=uncompressedSize,this.crc32=crc32,this.compression=compression,this.compressedContent=data}CompressedObject.prototype={getContentWorker:function(){var worker=new DataWorker(external.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new DataLengthProbe(\"data_length\")),that=this;return worker.on(\"end\",function(){if(this.streamInfo.data_length!==that.uncompressedSize)throw new Error(\"Bug : uncompressed data size mismatch\")}),worker},getCompressedWorker:function(){return new DataWorker(external.Promise.resolve(this.compressedContent)).withStreamInfo(\"compressedSize\",this.compressedSize).withStreamInfo(\"uncompressedSize\",this.uncompressedSize).withStreamInfo(\"crc32\",this.crc32).withStreamInfo(\"compression\",this.compression)}},CompressedObject.createWorkerFrom=function(uncompressedWorker,compression,compressionOptions){return uncompressedWorker.pipe(new Crc32Probe).pipe(new DataLengthProbe(\"uncompressedSize\")).pipe(compression.compressWorker(compressionOptions)).pipe(new DataLengthProbe(\"compressedSize\")).withStreamInfo(\"compression\",compression)},module.exports=CompressedObject},function(module,exports,__nested_webpack_require_158508__){\"use strict\";var utils=__nested_webpack_require_158508__(0);var crcTable=function(){for(var c,table=[],n=0;n<256;n++){c=n;for(var k=0;k<8;k++)c=1&c?3988292384^c>>>1:c>>>1;table[n]=c}return table}();module.exports=function(input,crc){return void 0!==input&&input.length?\"string\"!==utils.getTypeOf(input)?function(crc,buf,len,pos){var t=crcTable,end=pos+len;crc^=-1;for(var i=pos;i<end;i++)crc=crc>>>8^t[255&(crc^buf[i])];return-1^crc}(0|crc,input,input.length,0):function(crc,str,len,pos){var t=crcTable,end=pos+len;crc^=-1;for(var i=pos;i<end;i++)crc=crc>>>8^t[255&(crc^str.charCodeAt(i))];return-1^crc}(0|crc,input,input.length,0):0}},function(module,exports,__webpack_require__){\"use strict\";module.exports={2:\"need dictionary\",1:\"stream end\",0:\"\",\"-1\":\"file error\",\"-2\":\"stream error\",\"-3\":\"data error\",\"-4\":\"insufficient memory\",\"-5\":\"buffer error\",\"-6\":\"incompatible version\"}},function(module,exports,__nested_webpack_require_159422__){\"use strict\";var __awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})},__generator=this&&this.__generator||function(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},\"function\"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function(op){if(f)throw new TypeError(\"Generator is already executing.\");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=(t=_.trys).length>0&&t[t.length-1])&&(6===op[0]||2===op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}};Object.defineProperty(exports,\"__esModule\",{value:!0});var Storage_1=__nested_webpack_require_159422__(47),DateModule_1=__nested_webpack_require_159422__(6),InboxMessagesPublic_1=__nested_webpack_require_159422__(30),constants_1=__nested_webpack_require_159422__(1),InboxMessages=function(){function InboxMessages(data,api,storage,dateModule){void 0===storage&&(storage=new Storage_1.default),void 0===dateModule&&(dateModule=new DateModule_1.default),this.data=data,this.api=api,this.storage=storage,this.storeName=\"inboxMessages\",this.dateModule=dateModule}return InboxMessages.prototype.getInboxMessages=function(){return __awaiter(this,void 0,void 0,function(){var response;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.api.getInboxMessages()];case 1:return response=_a.sent(),[4,this.storeGetInboxMessagesRequestParams(response.next,response.new_inbox)];case 2:return _a.sent(),[2,response]}})})},InboxMessages.prototype.storeGetInboxMessagesRequestParams=function(next,newMessagesCount){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return this.dateModule.date=new Date,[4,this.data.setInboxLastRequestTime(this.dateModule.getUtcTimestamp())];case 1:return _a.sent(),[4,this.data.setInboxLastRequestCode(next)];case 2:return _a.sent(),[4,this.data.setInboxNewMessagesCount(newMessagesCount)];case 3:return _a.sent(),[2]}})})},InboxMessages.prototype.putServerMessages=function(messages){return __awaiter(this,void 0,void 0,function(){var putTransactions,_this=this;return __generator(this,function(_a){return putTransactions=messages.map(function(message){return __awaiter(_this,void 0,void 0,function(){var localMessage;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.storage.get(this.storeName,message.inbox_id,{})];case 1:return\"status\"in(localMessage=_a.sent())&&(message.status=localMessage.status),[2,this.putMessage(message)]}})})}),[2,Promise.all(putTransactions)]})})},InboxMessages.prototype.putMessage=function(message){return this.storage.put(this.storeName,message)},InboxMessages.prototype.putBulkMessages=function(messages){var _this=this,putTransactions=messages.map(function(message){return _this.putMessage(message)});return Promise.all(putTransactions)},InboxMessages.prototype.deleteMessages=function(codes){var _this=this,deleteTransactions=codes.map(function(code){return _this.storage.delete(_this.storeName,code)});return Promise.all(deleteTransactions)},InboxMessages.prototype.deleteExpiredMessages=function(){return __awaiter(this,void 0,void 0,function(){var upperBound,allMessages,codesToDelete;return __generator(this,function(_a){switch(_a.label){case 0:return this.dateModule.date=new Date,upperBound=this.dateModule.getTimestamp().toString(),[4,this.storage.getAll(this.storeName)];case 1:return allMessages=_a.sent(),codesToDelete=allMessages.filter(function(msg){return msg.rt>upperBound}).map(function(msg){return msg.inbox_id}),[2,this.deleteMessages(codesToDelete)]}})})},InboxMessages.prototype.getMessage=function(code){return this.storage.get(this.storeName,code)},InboxMessages.prototype.getReadOpenMessages=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.storage.getAll(this.storeName)];case 1:return[2,_a.sent().filter(function(msg){return 2===msg.status||3===msg.status})]}})})},InboxMessages.prototype.getDeliveredMessages=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.storage.getAll(this.storeName)];case 1:return[2,_a.sent().filter(function(msg){return 1===msg.status})]}})})},InboxMessages.prototype.messagesCount=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){return[2,this.storage.count(this.storeName)]})})},InboxMessages.prototype.getDeliveredMessagesCount=function(){return __awaiter(this,void 0,void 0,function(){var deliveredStatus,statusIndexName;return __generator(this,function(_a){return deliveredStatus=1,statusIndexName=\"status\",[2,this.storage.countByIndex(this.storeName,statusIndexName,deliveredStatus)]})})},InboxMessages.prototype.getReadMessagesCount=function(){return __awaiter(this,void 0,void 0,function(){var readStatus,statusIndexName;return __generator(this,function(_a){return readStatus=2,statusIndexName=\"status\",[2,this.storage.countByIndex(this.storeName,statusIndexName,readStatus)]})})},InboxMessages.prototype.getDeliveredReadMessagesCount=function(){return __awaiter(this,void 0,void 0,function(){var _a,readStatus,openStatus,keyRange,statusIndexName;return __generator(this,function(_b){return readStatus=(_a=[2,3])[0],openStatus=_a[1],keyRange=IDBKeyRange.bound(readStatus,openStatus),statusIndexName=\"status\",[2,this.storage.countByIndex(this.storeName,statusIndexName,keyRange)]})})},InboxMessages.prototype.updateMessages=function(eventEmitter){return __awaiter(this,void 0,void 0,function(){var response;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.getInboxMessages()];case 1:return response=_a.sent(),[4,this.deleteExpiredMessages()];case 2:return _a.sent(),[4,this.deleteMessages(response.deleted)];case 3:return _a.sent(),[4,this.putServerMessages(response.messages)];case 4:return _a.sent(),eventEmitter&&eventEmitter.emit(constants_1.EVENT_ON_UPDATE_INBOX_MESSAGES,new InboxMessagesPublic_1.default(this.data,this.api,this)),[2]}})})},InboxMessages}();exports.default=InboxMessages},function(module,exports,__nested_webpack_require_166667__){\"use strict\";var __awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})},__generator=this&&this.__generator||function(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},\"function\"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function(op){if(f)throw new TypeError(\"Generator is already executing.\");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=(t=_.trys).length>0&&t[t.length-1])&&(6===op[0]||2===op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}};Object.defineProperty(exports,\"__esModule\",{value:!0});var version_1=__nested_webpack_require_166667__(18),MigrationExecutor_1=__nested_webpack_require_166667__(19),Store_1=__nested_webpack_require_166667__(48),Storage=function(){function Storage(){}return Storage.prototype.dbVersionChangeHandler=function(db,event){console.info(\"onversionchange\",event),db.close()},Storage.prototype.dbRequestSuccessHandler=function(resolve,event){var _this=this,database=event.target.result;database.onversionchange=function(event){_this.dbVersionChangeHandler(database,event)},resolve(database)},Storage.prototype.dbRequestUpgradeNeededHandler=function(event){var _this=this,database=event.target.result;database.onversionchange=function(event){_this.dbVersionChangeHandler(database,event)},new MigrationExecutor_1.default(database).applyMigrations()},Storage.prototype.getDB=function(){var _this=this;return new Promise(function(resolve,reject){var request=indexedDB.open(\"PUSHWOOSH_SDK_STORE\",version_1.default);request.onsuccess=function(event){_this.dbRequestSuccessHandler(resolve,event)},request.onupgradeneeded=function(event){_this.dbRequestUpgradeNeededHandler(event)},request.onerror=function(){return reject(request.error)}})},Storage.prototype.put=function(storeName,data,key){return __awaiter(this,void 0,void 0,function(){var db,result;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.getDB()];case 1:return db=_a.sent(),[4,new Store_1.default(db,storeName).put(data,key)];case 2:return result=_a.sent(),db.close(),[2,result]}})})},Storage.prototype.delete=function(storeName,key){return __awaiter(this,void 0,void 0,function(){var db,result;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.getDB()];case 1:return db=_a.sent(),[4,new Store_1.default(db,storeName).delete(key)];case 2:return result=_a.sent(),db.close(),[2,result]}})})},Storage.prototype.get=function(storeName,key,defaultValue){return __awaiter(this,void 0,void 0,function(){var db,result;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.getDB()];case 1:return db=_a.sent(),[4,new Store_1.default(db,storeName).get(key,defaultValue)];case 2:return result=_a.sent(),db.close(),[2,result]}})})},Storage.prototype.getAll=function(storeName){return __awaiter(this,void 0,void 0,function(){var db,result;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.getDB()];case 1:return db=_a.sent(),[4,new Store_1.default(db,storeName).getAll()];case 2:return result=_a.sent(),db.close(),[2,result||[]]}})})},Storage.prototype.count=function(storeName,query){return __awaiter(this,void 0,void 0,function(){var db,result;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.getDB()];case 1:return db=_a.sent(),[4,new Store_1.default(db,storeName).count(query)];case 2:return result=_a.sent(),db.close(),[2,result]}})})},Storage.prototype.countByIndex=function(storeName,indexName,key){return __awaiter(this,void 0,void 0,function(){var db,store,result;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.getDB()];case 1:return db=_a.sent(),(store=new Store_1.default(db,storeName)).index=indexName,[4,store.countByIndex(key)];case 2:return result=_a.sent(),db.close(),[2,result]}})})},Storage}();exports.default=Storage},function(module,exports,__webpack_require__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var Store=function(){function Store(db,name){this.name=name,this.store=db.transaction(this.name,\"readwrite\").objectStore(this.name)}return Object.defineProperty(Store.prototype,\"index\",{set:function(index){this.store.indexNames.contains(index)?this._index=this.store.index(index):console.warn('Index \"'+index+'\" in ')},enumerable:!0,configurable:!0}),Store.prototype.writeRequestPromise=function(request,result){return new Promise(function(resolve,reject){request.onsuccess=function(){resolve(result)},request.onerror=function(){reject(request.error)}})},Store.prototype.readRequestPromise=function(request,defaultValue){return new Promise(function(resolve,reject){request.onsuccess=function(event){var target=event.target;resolve(target.result||defaultValue)},request.onerror=function(){reject(request.error)}})},Store.prototype.put=function(data,key){var request=this.store.put(data,key);return this.writeRequestPromise(request,key)},Store.prototype.add=function(data,key){return this.put(data,key)},Store.prototype.delete=function(key){var request=this.store.delete(key);return this.writeRequestPromise(request)},Store.prototype.get=function(key,defaultValue){var request=this.store.get(key);return this.readRequestPromise(request,defaultValue)},Store.prototype.getAll=function(){var cursor=this.store.openCursor(),result=[];return new Promise(function(resolve,reject){cursor.onsuccess=function(event){var cursorResult=event.target.result;cursorResult?(result.push(cursorResult.value),cursorResult.continue()):resolve(result)},cursor.onerror=function(){reject(cursor.error)}})},Store.prototype.count=function(query){var request=this.store.count(query);return this.readRequestPromise(request,0)},Store.prototype.countByIndex=function(key){var request=this._index.count(key);return this.readRequestPromise(request,0)},Store}();exports.default=Store},function(module,exports,__nested_webpack_require_173661__){var v1=__nested_webpack_require_173661__(80),v4=__nested_webpack_require_173661__(9),uuid=v4;uuid.v1=v1,uuid.v4=v4,module.exports=uuid},function(module,exports,__nested_webpack_require_173814__){\"use strict\";var __awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})},__generator=this&&this.__generator||function(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},\"function\"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function(op){if(f)throw new TypeError(\"Generator is already executing.\");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=(t=_.trys).length>0&&t[t.length-1])&&(6===op[0]||2===op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}};Object.defineProperty(exports,\"__esModule\",{value:!0});var JSZip=__nested_webpack_require_173814__(87);exports.getZip=function(url){return __awaiter(this,void 0,void 0,function(){var response,result;return __generator(this,function(_a){switch(_a.label){case 0:return[4,fetch(url,{method:\"GET\"})];case 1:return 200!==(response=_a.sent()).status&&new Error(response.statusText),[4,response.blob()];case 2:return result=_a.sent(),[2,JSZip.loadAsync(result)]}})})}},function(module,exports){var toString={}.toString;module.exports=Array.isArray||function(arr){return\"[object Array]\"==toString.call(arr)}},function(module,exports,__nested_webpack_require_176151__){module.exports=__nested_webpack_require_176151__(91)},function(module,exports,__nested_webpack_require_176236__){\"use strict\";(function(global,process){var pna=__nested_webpack_require_176236__(33);module.exports=Readable;var Duplex,isArray=__nested_webpack_require_176236__(51);Readable.ReadableState=ReadableState;__nested_webpack_require_176236__(40).EventEmitter;var EElistenerCount=function(emitter,type){return emitter.listeners(type).length},Stream=__nested_webpack_require_176236__(54),Buffer=__nested_webpack_require_176236__(34).Buffer,OurUint8Array=global.Uint8Array||function(){};var util=Object.create(__nested_webpack_require_176236__(28));util.inherits=__nested_webpack_require_176236__(17);var debugUtil=__nested_webpack_require_176236__(92),debug=void 0;debug=debugUtil&&debugUtil.debuglog?debugUtil.debuglog(\"stream\"):function(){};var StringDecoder,BufferList=__nested_webpack_require_176236__(93),destroyImpl=__nested_webpack_require_176236__(55);util.inherits(Readable,Stream);var kProxyEvents=[\"error\",\"close\",\"destroy\",\"pause\",\"resume\"];function ReadableState(options,stream){Duplex=Duplex||__nested_webpack_require_176236__(15),options=options||{};var isDuplex=stream instanceof Duplex;this.objectMode=!!options.objectMode,isDuplex&&(this.objectMode=this.objectMode||!!options.readableObjectMode);var hwm=options.highWaterMark,readableHwm=options.readableHighWaterMark,defaultHwm=this.objectMode?16:16384;this.highWaterMark=hwm||0===hwm?hwm:isDuplex&&(readableHwm||0===readableHwm)?readableHwm:defaultHwm,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new BufferList,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=options.defaultEncoding||\"utf8\",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,options.encoding&&(StringDecoder||(StringDecoder=__nested_webpack_require_176236__(57).StringDecoder),this.decoder=new StringDecoder(options.encoding),this.encoding=options.encoding)}function Readable(options){if(Duplex=Duplex||__nested_webpack_require_176236__(15),!(this instanceof Readable))return new Readable(options);this._readableState=new ReadableState(options,this),this.readable=!0,options&&(\"function\"==typeof options.read&&(this._read=options.read),\"function\"==typeof options.destroy&&(this._destroy=options.destroy)),Stream.call(this)}function readableAddChunk(stream,chunk,encoding,addToFront,skipChunkCheck){var er,state=stream._readableState;null===chunk?(state.reading=!1,function(stream,state){if(state.ended)return;if(state.decoder){var chunk=state.decoder.end();chunk&&chunk.length&&(state.buffer.push(chunk),state.length+=state.objectMode?1:chunk.length)}state.ended=!0,emitReadable(stream)}(stream,state)):(skipChunkCheck||(er=function(state,chunk){var er;(function(obj){return Buffer.isBuffer(obj)||obj instanceof OurUint8Array})(chunk)||\"string\"==typeof chunk||void 0===chunk||state.objectMode||(er=new TypeError(\"Invalid non-string/buffer chunk\"));return er}(state,chunk)),er?stream.emit(\"error\",er):state.objectMode||chunk&&chunk.length>0?(\"string\"==typeof chunk||state.objectMode||Object.getPrototypeOf(chunk)===Buffer.prototype||(chunk=function(chunk){return Buffer.from(chunk)}(chunk)),addToFront?state.endEmitted?stream.emit(\"error\",new Error(\"stream.unshift() after end event\")):addChunk(stream,state,chunk,!0):state.ended?stream.emit(\"error\",new Error(\"stream.push() after EOF\")):(state.reading=!1,state.decoder&&!encoding?(chunk=state.decoder.write(chunk),state.objectMode||0!==chunk.length?addChunk(stream,state,chunk,!1):maybeReadMore(stream,state)):addChunk(stream,state,chunk,!1))):addToFront||(state.reading=!1));return function(state){return!state.ended&&(state.needReadable||state.length<state.highWaterMark||0===state.length)}(state)}function addChunk(stream,state,chunk,addToFront){state.flowing&&0===state.length&&!state.sync?(stream.emit(\"data\",chunk),stream.read(0)):(state.length+=state.objectMode?1:chunk.length,addToFront?state.buffer.unshift(chunk):state.buffer.push(chunk),state.needReadable&&emitReadable(stream)),maybeReadMore(stream,state)}Object.defineProperty(Readable.prototype,\"destroyed\",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(value){this._readableState&&(this._readableState.destroyed=value)}}),Readable.prototype.destroy=destroyImpl.destroy,Readable.prototype._undestroy=destroyImpl.undestroy,Readable.prototype._destroy=function(err,cb){this.push(null),cb(err)},Readable.prototype.push=function(chunk,encoding){var skipChunkCheck,state=this._readableState;return state.objectMode?skipChunkCheck=!0:\"string\"==typeof chunk&&((encoding=encoding||state.defaultEncoding)!==state.encoding&&(chunk=Buffer.from(chunk,encoding),encoding=\"\"),skipChunkCheck=!0),readableAddChunk(this,chunk,encoding,!1,skipChunkCheck)},Readable.prototype.unshift=function(chunk){return readableAddChunk(this,chunk,null,!0,!1)},Readable.prototype.isPaused=function(){return!1===this._readableState.flowing},Readable.prototype.setEncoding=function(enc){return StringDecoder||(StringDecoder=__nested_webpack_require_176236__(57).StringDecoder),this._readableState.decoder=new StringDecoder(enc),this._readableState.encoding=enc,this};var MAX_HWM=8388608;function howMuchToRead(n,state){return n<=0||0===state.length&&state.ended?0:state.objectMode?1:n!=n?state.flowing&&state.length?state.buffer.head.data.length:state.length:(n>state.highWaterMark&&(state.highWaterMark=function(n){return n>=MAX_HWM?n=MAX_HWM:(n--,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n++),n}(n)),n<=state.length?n:state.ended?state.length:(state.needReadable=!0,0))}function emitReadable(stream){var state=stream._readableState;state.needReadable=!1,state.emittedReadable||(debug(\"emitReadable\",state.flowing),state.emittedReadable=!0,state.sync?pna.nextTick(emitReadable_,stream):emitReadable_(stream))}function emitReadable_(stream){debug(\"emit readable\"),stream.emit(\"readable\"),flow(stream)}function maybeReadMore(stream,state){state.readingMore||(state.readingMore=!0,pna.nextTick(maybeReadMore_,stream,state))}function maybeReadMore_(stream,state){for(var len=state.length;!state.reading&&!state.flowing&&!state.ended&&state.length<state.highWaterMark&&(debug(\"maybeReadMore read 0\"),stream.read(0),len!==state.length);)len=state.length;state.readingMore=!1}function nReadingNextTick(self){debug(\"readable nexttick read 0\"),self.read(0)}function resume_(stream,state){state.reading||(debug(\"resume read 0\"),stream.read(0)),state.resumeScheduled=!1,state.awaitDrain=0,stream.emit(\"resume\"),flow(stream),state.flowing&&!state.reading&&stream.read(0)}function flow(stream){var state=stream._readableState;for(debug(\"flow\",state.flowing);state.flowing&&null!==stream.read(););}function fromList(n,state){return 0===state.length?null:(state.objectMode?ret=state.buffer.shift():!n||n>=state.length?(ret=state.decoder?state.buffer.join(\"\"):1===state.buffer.length?state.buffer.head.data:state.buffer.concat(state.length),state.buffer.clear()):ret=function(n,list,hasStrings){var ret;n<list.head.data.length?(ret=list.head.data.slice(0,n),list.head.data=list.head.data.slice(n)):ret=n===list.head.data.length?list.shift():hasStrings?function(n,list){var p=list.head,c=1,ret=p.data;n-=ret.length;for(;p=p.next;){var str=p.data,nb=n>str.length?str.length:n;if(nb===str.length?ret+=str:ret+=str.slice(0,n),0===(n-=nb)){nb===str.length?(++c,p.next?list.head=p.next:list.head=list.tail=null):(list.head=p,p.data=str.slice(nb));break}++c}return list.length-=c,ret}(n,list):function(n,list){var ret=Buffer.allocUnsafe(n),p=list.head,c=1;p.data.copy(ret),n-=p.data.length;for(;p=p.next;){var buf=p.data,nb=n>buf.length?buf.length:n;if(buf.copy(ret,ret.length-n,0,nb),0===(n-=nb)){nb===buf.length?(++c,p.next?list.head=p.next:list.head=list.tail=null):(list.head=p,p.data=buf.slice(nb));break}++c}return list.length-=c,ret}(n,list);return ret}(n,state.buffer,state.decoder),ret);var ret}function endReadable(stream){var state=stream._readableState;if(state.length>0)throw new Error('\"endReadable()\" called on non-empty stream');state.endEmitted||(state.ended=!0,pna.nextTick(endReadableNT,state,stream))}function endReadableNT(state,stream){state.endEmitted||0!==state.length||(state.endEmitted=!0,stream.readable=!1,stream.emit(\"end\"))}function indexOf(xs,x){for(var i=0,l=xs.length;i<l;i++)if(xs[i]===x)return i;return-1}Readable.prototype.read=function(n){debug(\"read\",n),n=parseInt(n,10);var state=this._readableState,nOrig=n;if(0!==n&&(state.emittedReadable=!1),0===n&&state.needReadable&&(state.length>=state.highWaterMark||state.ended))return debug(\"read: emitReadable\",state.length,state.ended),0===state.length&&state.ended?endReadable(this):emitReadable(this),null;if(0===(n=howMuchToRead(n,state))&&state.ended)return 0===state.length&&endReadable(this),null;var ret,doRead=state.needReadable;return debug(\"need readable\",doRead),(0===state.length||state.length-n<state.highWaterMark)&&debug(\"length less than watermark\",doRead=!0),state.ended||state.reading?debug(\"reading or ended\",doRead=!1):doRead&&(debug(\"do read\"),state.reading=!0,state.sync=!0,0===state.length&&(state.needReadable=!0),this._read(state.highWaterMark),state.sync=!1,state.reading||(n=howMuchToRead(nOrig,state))),null===(ret=n>0?fromList(n,state):null)?(state.needReadable=!0,n=0):state.length-=n,0===state.length&&(state.ended||(state.needReadable=!0),nOrig!==n&&state.ended&&endReadable(this)),null!==ret&&this.emit(\"data\",ret),ret},Readable.prototype._read=function(n){this.emit(\"error\",new Error(\"_read() is not implemented\"))},Readable.prototype.pipe=function(dest,pipeOpts){var src=this,state=this._readableState;switch(state.pipesCount){case 0:state.pipes=dest;break;case 1:state.pipes=[state.pipes,dest];break;default:state.pipes.push(dest)}state.pipesCount+=1,debug(\"pipe count=%d opts=%j\",state.pipesCount,pipeOpts);var endFn=(!pipeOpts||!1!==pipeOpts.end)&&dest!==process.stdout&&dest!==process.stderr?onend:unpipe;function onunpipe(readable,unpipeInfo){debug(\"onunpipe\"),readable===src&&unpipeInfo&&!1===unpipeInfo.hasUnpiped&&(unpipeInfo.hasUnpiped=!0,debug(\"cleanup\"),dest.removeListener(\"close\",onclose),dest.removeListener(\"finish\",onfinish),dest.removeListener(\"drain\",ondrain),dest.removeListener(\"error\",onerror),dest.removeListener(\"unpipe\",onunpipe),src.removeListener(\"end\",onend),src.removeListener(\"end\",unpipe),src.removeListener(\"data\",ondata),cleanedUp=!0,!state.awaitDrain||dest._writableState&&!dest._writableState.needDrain||ondrain())}function onend(){debug(\"onend\"),dest.end()}state.endEmitted?pna.nextTick(endFn):src.once(\"end\",endFn),dest.on(\"unpipe\",onunpipe);var ondrain=function(src){return function(){var state=src._readableState;debug(\"pipeOnDrain\",state.awaitDrain),state.awaitDrain&&state.awaitDrain--,0===state.awaitDrain&&EElistenerCount(src,\"data\")&&(state.flowing=!0,flow(src))}}(src);dest.on(\"drain\",ondrain);var cleanedUp=!1;var increasedAwaitDrain=!1;function ondata(chunk){debug(\"ondata\"),increasedAwaitDrain=!1,!1!==dest.write(chunk)||increasedAwaitDrain||((1===state.pipesCount&&state.pipes===dest||state.pipesCount>1&&-1!==indexOf(state.pipes,dest))&&!cleanedUp&&(debug(\"false write response, pause\",src._readableState.awaitDrain),src._readableState.awaitDrain++,increasedAwaitDrain=!0),src.pause())}function onerror(er){debug(\"onerror\",er),unpipe(),dest.removeListener(\"error\",onerror),0===EElistenerCount(dest,\"error\")&&dest.emit(\"error\",er)}function onclose(){dest.removeListener(\"finish\",onfinish),unpipe()}function onfinish(){debug(\"onfinish\"),dest.removeListener(\"close\",onclose),unpipe()}function unpipe(){debug(\"unpipe\"),src.unpipe(dest)}return src.on(\"data\",ondata),function(emitter,event,fn){if(\"function\"==typeof emitter.prependListener)return emitter.prependListener(event,fn);emitter._events&&emitter._events[event]?isArray(emitter._events[event])?emitter._events[event].unshift(fn):emitter._events[event]=[fn,emitter._events[event]]:emitter.on(event,fn)}(dest,\"error\",onerror),dest.once(\"close\",onclose),dest.once(\"finish\",onfinish),dest.emit(\"pipe\",src),state.flowing||(debug(\"pipe resume\"),src.resume()),dest},Readable.prototype.unpipe=function(dest){var state=this._readableState,unpipeInfo={hasUnpiped:!1};if(0===state.pipesCount)return this;if(1===state.pipesCount)return dest&&dest!==state.pipes?this:(dest||(dest=state.pipes),state.pipes=null,state.pipesCount=0,state.flowing=!1,dest&&dest.emit(\"unpipe\",this,unpipeInfo),this);if(!dest){var dests=state.pipes,len=state.pipesCount;state.pipes=null,state.pipesCount=0,state.flowing=!1;for(var i=0;i<len;i++)dests[i].emit(\"unpipe\",this,unpipeInfo);return this}var index=indexOf(state.pipes,dest);return-1===index?this:(state.pipes.splice(index,1),state.pipesCount-=1,1===state.pipesCount&&(state.pipes=state.pipes[0]),dest.emit(\"unpipe\",this,unpipeInfo),this)},Readable.prototype.on=function(ev,fn){var res=Stream.prototype.on.call(this,ev,fn);if(\"data\"===ev)!1!==this._readableState.flowing&&this.resume();else if(\"readable\"===ev){var state=this._readableState;state.endEmitted||state.readableListening||(state.readableListening=state.needReadable=!0,state.emittedReadable=!1,state.reading?state.length&&emitReadable(this):pna.nextTick(nReadingNextTick,this))}return res},Readable.prototype.addListener=Readable.prototype.on,Readable.prototype.resume=function(){var state=this._readableState;return state.flowing||(debug(\"resume\"),state.flowing=!0,function(stream,state){state.resumeScheduled||(state.resumeScheduled=!0,pna.nextTick(resume_,stream,state))}(this,state)),this},Readable.prototype.pause=function(){return debug(\"call pause flowing=%j\",this._readableState.flowing),!1!==this._readableState.flowing&&(debug(\"pause\"),this._readableState.flowing=!1,this.emit(\"pause\")),this},Readable.prototype.wrap=function(stream){var _this=this,state=this._readableState,paused=!1;for(var i in stream.on(\"end\",function(){if(debug(\"wrapped end\"),state.decoder&&!state.ended){var chunk=state.decoder.end();chunk&&chunk.length&&_this.push(chunk)}_this.push(null)}),stream.on(\"data\",function(chunk){(debug(\"wrapped data\"),state.decoder&&(chunk=state.decoder.write(chunk)),!state.objectMode||null!==chunk&&void 0!==chunk)&&((state.objectMode||chunk&&chunk.length)&&(_this.push(chunk)||(paused=!0,stream.pause())))}),stream)void 0===this[i]&&\"function\"==typeof stream[i]&&(this[i]=function(method){return function(){return stream[method].apply(stream,arguments)}}(i));for(var n=0;n<kProxyEvents.length;n++)stream.on(kProxyEvents[n],this.emit.bind(this,kProxyEvents[n]));return this._read=function(n){debug(\"wrapped _read\",n),paused&&(paused=!1,stream.resume())},this},Object.defineProperty(Readable.prototype,\"readableHighWaterMark\",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Readable._fromList=fromList}).call(this,__nested_webpack_require_176236__(14),__nested_webpack_require_176236__(27))},function(module,exports,__nested_webpack_require_190994__){module.exports=__nested_webpack_require_190994__(40).EventEmitter},function(module,exports,__nested_webpack_require_191092__){\"use strict\";var pna=__nested_webpack_require_191092__(33);function emitErrorNT(self,err){self.emit(\"error\",err)}module.exports={destroy:function(err,cb){var _this=this,readableDestroyed=this._readableState&&this._readableState.destroyed,writableDestroyed=this._writableState&&this._writableState.destroyed;return readableDestroyed||writableDestroyed?(cb?cb(err):!err||this._writableState&&this._writableState.errorEmitted||pna.nextTick(emitErrorNT,this,err),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(err||null,function(err){!cb&&err?(pna.nextTick(emitErrorNT,_this,err),_this._writableState&&(_this._writableState.errorEmitted=!0)):cb&&cb(err)}),this)},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},function(module,exports,__nested_webpack_require_192225__){(function(global){var scope=void 0!==global&&global||\"undefined\"!=typeof self&&self||window,apply=Function.prototype.apply;function Timeout(id,clearFn){this._id=id,this._clearFn=clearFn}exports.setTimeout=function(){return new Timeout(apply.call(setTimeout,scope,arguments),clearTimeout)},exports.setInterval=function(){return new Timeout(apply.call(setInterval,scope,arguments),clearInterval)},exports.clearTimeout=exports.clearInterval=function(timeout){timeout&&timeout.close()},Timeout.prototype.unref=Timeout.prototype.ref=function(){},Timeout.prototype.close=function(){this._clearFn.call(scope,this._id)},exports.enroll=function(item,msecs){clearTimeout(item._idleTimeoutId),item._idleTimeout=msecs},exports.unenroll=function(item){clearTimeout(item._idleTimeoutId),item._idleTimeout=-1},exports._unrefActive=exports.active=function(item){clearTimeout(item._idleTimeoutId);var msecs=item._idleTimeout;msecs>=0&&(item._idleTimeoutId=setTimeout(function(){item._onTimeout&&item._onTimeout()},msecs))},__nested_webpack_require_192225__(95),exports.setImmediate=\"undefined\"!=typeof self&&self.setImmediate||void 0!==global&&global.setImmediate||this&&this.setImmediate,exports.clearImmediate=\"undefined\"!=typeof self&&self.clearImmediate||void 0!==global&&global.clearImmediate||this&&this.clearImmediate}).call(this,__nested_webpack_require_192225__(14))},function(module,exports,__nested_webpack_require_193602__){\"use strict\";var Buffer=__nested_webpack_require_193602__(34).Buffer,isEncoding=Buffer.isEncoding||function(encoding){switch((encoding=\"\"+encoding)&&encoding.toLowerCase()){case\"hex\":case\"utf8\":case\"utf-8\":case\"ascii\":case\"binary\":case\"base64\":case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":case\"raw\":return!0;default:return!1}};function StringDecoder(encoding){var nb;switch(this.encoding=function(enc){var nenc=function(enc){if(!enc)return\"utf8\";for(var retried;;)switch(enc){case\"utf8\":case\"utf-8\":return\"utf8\";case\"ucs2\":case\"ucs-2\":case\"utf16le\":case\"utf-16le\":return\"utf16le\";case\"latin1\":case\"binary\":return\"latin1\";case\"base64\":case\"ascii\":case\"hex\":return enc;default:if(retried)return;enc=(\"\"+enc).toLowerCase(),retried=!0}}(enc);if(\"string\"!=typeof nenc&&(Buffer.isEncoding===isEncoding||!isEncoding(enc)))throw new Error(\"Unknown encoding: \"+enc);return nenc||enc}(encoding),this.encoding){case\"utf16le\":this.text=utf16Text,this.end=utf16End,nb=4;break;case\"utf8\":this.fillLast=utf8FillLast,nb=4;break;case\"base64\":this.text=base64Text,this.end=base64End,nb=3;break;default:return this.write=simpleWrite,void(this.end=simpleEnd)}this.lastNeed=0,this.lastTotal=0,this.lastChar=Buffer.allocUnsafe(nb)}function utf8CheckByte(byte){return byte<=127?0:byte>>5==6?2:byte>>4==14?3:byte>>3==30?4:byte>>6==2?-1:-2}function utf8FillLast(buf){var p=this.lastTotal-this.lastNeed,r=function(self,buf,p){if(128!=(192&buf[0]))return self.lastNeed=0,\"\";if(self.lastNeed>1&&buf.length>1){if(128!=(192&buf[1]))return self.lastNeed=1,\"\";if(self.lastNeed>2&&buf.length>2&&128!=(192&buf[2]))return self.lastNeed=2,\"\"}}(this,buf);return void 0!==r?r:this.lastNeed<=buf.length?(buf.copy(this.lastChar,p,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(buf.copy(this.lastChar,p,0,buf.length),void(this.lastNeed-=buf.length))}function utf16Text(buf,i){if((buf.length-i)%2==0){var r=buf.toString(\"utf16le\",i);if(r){var c=r.charCodeAt(r.length-1);if(c>=55296&&c<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=buf[buf.length-2],this.lastChar[1]=buf[buf.length-1],r.slice(0,-1)}return r}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=buf[buf.length-1],buf.toString(\"utf16le\",i,buf.length-1)}function utf16End(buf){var r=buf&&buf.length?this.write(buf):\"\";if(this.lastNeed){var end=this.lastTotal-this.lastNeed;return r+this.lastChar.toString(\"utf16le\",0,end)}return r}function base64Text(buf,i){var n=(buf.length-i)%3;return 0===n?buf.toString(\"base64\",i):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=buf[buf.length-1]:(this.lastChar[0]=buf[buf.length-2],this.lastChar[1]=buf[buf.length-1]),buf.toString(\"base64\",i,buf.length-n))}function base64End(buf){var r=buf&&buf.length?this.write(buf):\"\";return this.lastNeed?r+this.lastChar.toString(\"base64\",0,3-this.lastNeed):r}function simpleWrite(buf){return buf.toString(this.encoding)}function simpleEnd(buf){return buf&&buf.length?this.write(buf):\"\"}exports.StringDecoder=StringDecoder,StringDecoder.prototype.write=function(buf){if(0===buf.length)return\"\";var r,i;if(this.lastNeed){if(void 0===(r=this.fillLast(buf)))return\"\";i=this.lastNeed,this.lastNeed=0}else i=0;return i<buf.length?r?r+this.text(buf,i):this.text(buf,i):r||\"\"},StringDecoder.prototype.end=function(buf){var r=buf&&buf.length?this.write(buf):\"\";return this.lastNeed?r+\"\":r},StringDecoder.prototype.text=function(buf,i){var total=function(self,buf,i){var j=buf.length-1;if(j<i)return 0;var nb=utf8CheckByte(buf[j]);if(nb>=0)return nb>0&&(self.lastNeed=nb-1),nb;if(--j<i||-2===nb)return 0;if((nb=utf8CheckByte(buf[j]))>=0)return nb>0&&(self.lastNeed=nb-2),nb;if(--j<i||-2===nb)return 0;if((nb=utf8CheckByte(buf[j]))>=0)return nb>0&&(2===nb?nb=0:self.lastNeed=nb-3),nb;return 0}(this,buf,i);if(!this.lastNeed)return buf.toString(\"utf8\",i);this.lastTotal=total;var end=buf.length-(total-this.lastNeed);return buf.copy(this.lastChar,0,end),buf.toString(\"utf8\",i,end)},StringDecoder.prototype.fillLast=function(buf){if(this.lastNeed<=buf.length)return buf.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);buf.copy(this.lastChar,this.lastTotal-this.lastNeed,0,buf.length),this.lastNeed-=buf.length}},function(module,exports,__nested_webpack_require_197874__){\"use strict\";module.exports=Transform;var Duplex=__nested_webpack_require_197874__(15),util=Object.create(__nested_webpack_require_197874__(28));function Transform(options){if(!(this instanceof Transform))return new Transform(options);Duplex.call(this,options),this._transformState={afterTransform:function(er,data){var ts=this._transformState;ts.transforming=!1;var cb=ts.writecb;if(!cb)return this.emit(\"error\",new Error(\"write callback called multiple times\"));ts.writechunk=null,ts.writecb=null,null!=data&&this.push(data),cb(er);var rs=this._readableState;rs.reading=!1,(rs.needReadable||rs.length<rs.highWaterMark)&&this._read(rs.highWaterMark)}.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,options&&(\"function\"==typeof options.transform&&(this._transform=options.transform),\"function\"==typeof options.flush&&(this._flush=options.flush)),this.on(\"prefinish\",prefinish)}function prefinish(){var _this=this;\"function\"==typeof this._flush?this._flush(function(er,data){done(_this,er,data)}):done(this,null,null)}function done(stream,er,data){if(er)return stream.emit(\"error\",er);if(null!=data&&stream.push(data),stream._writableState.length)throw new Error(\"Calling transform done when ws.length != 0\");if(stream._transformState.transforming)throw new Error(\"Calling transform done when still transforming\");return stream.push(null)}util.inherits=__nested_webpack_require_197874__(17),util.inherits(Transform,Duplex),Transform.prototype.push=function(chunk,encoding){return this._transformState.needTransform=!1,Duplex.prototype.push.call(this,chunk,encoding)},Transform.prototype._transform=function(chunk,encoding,cb){throw new Error(\"_transform() is not implemented\")},Transform.prototype._write=function(chunk,encoding,cb){var ts=this._transformState;if(ts.writecb=cb,ts.writechunk=chunk,ts.writeencoding=encoding,!ts.transforming){var rs=this._readableState;(ts.needTransform||rs.needReadable||rs.length<rs.highWaterMark)&&this._read(rs.highWaterMark)}},Transform.prototype._read=function(n){var ts=this._transformState;null!==ts.writechunk&&ts.writecb&&!ts.transforming?(ts.transforming=!0,this._transform(ts.writechunk,ts.writeencoding,ts.afterTransform)):ts.needTransform=!0},Transform.prototype._destroy=function(err,cb){var _this2=this;Duplex.prototype._destroy.call(this,err,function(err2){cb(err2),_this2.emit(\"close\")})}},function(module,exports,__nested_webpack_require_200327__){\"use strict\";var utils=__nested_webpack_require_200327__(0),support=__nested_webpack_require_200327__(7),_keyStr=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=\";exports.encode=function(input){for(var chr1,chr2,chr3,enc1,enc2,enc3,enc4,output=[],i=0,len=input.length,remainingBytes=len,isArray=\"string\"!==utils.getTypeOf(input);i<input.length;)remainingBytes=len-i,isArray?(chr1=input[i++],chr2=i<len?input[i++]:0,chr3=i<len?input[i++]:0):(chr1=input.charCodeAt(i++),chr2=i<len?input.charCodeAt(i++):0,chr3=i<len?input.charCodeAt(i++):0),enc1=chr1>>2,enc2=(3&chr1)<<4|chr2>>4,enc3=remainingBytes>1?(15&chr2)<<2|chr3>>6:64,enc4=remainingBytes>2?63&chr3:64,output.push(_keyStr.charAt(enc1)+_keyStr.charAt(enc2)+_keyStr.charAt(enc3)+_keyStr.charAt(enc4));return output.join(\"\")},exports.decode=function(input){var chr1,chr2,chr3,enc2,enc3,enc4,i=0,resultIndex=0;if(\"data:\"===input.substr(0,\"data:\".length))throw new Error(\"Invalid base64 input, it looks like a data url.\");var output,totalLength=3*(input=input.replace(/[^A-Za-z0-9\\+\\/\\=]/g,\"\")).length/4;if(input.charAt(input.length-1)===_keyStr.charAt(64)&&totalLength--,input.charAt(input.length-2)===_keyStr.charAt(64)&&totalLength--,totalLength%1!=0)throw new Error(\"Invalid base64 input, bad content length.\");for(output=support.uint8array?new Uint8Array(0|totalLength):new Array(0|totalLength);i<input.length;)chr1=_keyStr.indexOf(input.charAt(i++))<<2|(enc2=_keyStr.indexOf(input.charAt(i++)))>>4,chr2=(15&enc2)<<4|(enc3=_keyStr.indexOf(input.charAt(i++)))>>2,chr3=(3&enc3)<<6|(enc4=_keyStr.indexOf(input.charAt(i++))),output[resultIndex++]=chr1,64!==enc3&&(output[resultIndex++]=chr2),64!==enc4&&(output[resultIndex++]=chr3);return output}},function(module,exports,__nested_webpack_require_202060__){\"use strict\";(function(Buffer){var utils=__nested_webpack_require_202060__(0),ConvertWorker=__nested_webpack_require_202060__(105),GenericWorker=__nested_webpack_require_202060__(3),base64=__nested_webpack_require_202060__(59),support=__nested_webpack_require_202060__(7),external=__nested_webpack_require_202060__(29),NodejsStreamOutputAdapter=null;if(support.nodestream)try{NodejsStreamOutputAdapter=__nested_webpack_require_202060__(106)}catch(e){}function accumulate(helper,updateCallback){return new external.Promise(function(resolve,reject){var dataArray=[],chunkType=helper._internalType,resultType=helper._outputType,mimeType=helper._mimeType;helper.on(\"data\",function(data,meta){dataArray.push(data),updateCallback&&updateCallback(meta)}).on(\"error\",function(err){dataArray=[],reject(err)}).on(\"end\",function(){try{var result=function(type,content,mimeType){switch(type){case\"blob\":return utils.newBlob(utils.transformTo(\"arraybuffer\",content),mimeType);case\"base64\":return base64.encode(content);default:return utils.transformTo(type,content)}}(resultType,function(type,dataArray){var i,index=0,res=null,totalLength=0;for(i=0;i<dataArray.length;i++)totalLength+=dataArray[i].length;switch(type){case\"string\":return dataArray.join(\"\");case\"array\":return Array.prototype.concat.apply([],dataArray);case\"uint8array\":for(res=new Uint8Array(totalLength),i=0;i<dataArray.length;i++)res.set(dataArray[i],index),index+=dataArray[i].length;return res;case\"nodebuffer\":return Buffer.concat(dataArray);default:throw new Error(\"concat : unsupported type '\"+type+\"'\")}}(chunkType,dataArray),mimeType);resolve(result)}catch(e){reject(e)}dataArray=[]}).resume()})}function StreamHelper(worker,outputType,mimeType){var internalType=outputType;switch(outputType){case\"blob\":case\"arraybuffer\":internalType=\"uint8array\";break;case\"base64\":internalType=\"string\"}try{this._internalType=internalType,this._outputType=outputType,this._mimeType=mimeType,utils.checkSupport(internalType),this._worker=worker.pipe(new ConvertWorker(internalType)),worker.lock()}catch(e){this._worker=new GenericWorker(\"error\"),this._worker.error(e)}}StreamHelper.prototype={accumulate:function(updateCb){return accumulate(this,updateCb)},on:function(evt,fn){var self=this;return\"data\"===evt?this._worker.on(evt,function(chunk){fn.call(self,chunk.data,chunk.meta)}):this._worker.on(evt,function(){utils.delay(fn,arguments,self)}),this},resume:function(){return utils.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(updateCb){if(utils.checkSupport(\"nodestream\"),\"nodebuffer\"!==this._outputType)throw new Error(this._outputType+\" is not supported by this method\");return new NodejsStreamOutputAdapter(this,{objectMode:\"nodebuffer\"!==this._outputType},updateCb)}},module.exports=StreamHelper}).call(this,__nested_webpack_require_202060__(26).Buffer)},function(module,exports,__webpack_require__){\"use strict\";exports.base64=!1,exports.binary=!1,exports.dir=!1,exports.createFolders=!0,exports.date=null,exports.compression=null,exports.compressionOptions=null,exports.comment=null,exports.unixPermissions=null,exports.dosPermissions=null},function(module,exports,__nested_webpack_require_205171__){\"use strict\";var utils=__nested_webpack_require_205171__(0),GenericWorker=__nested_webpack_require_205171__(3);function DataWorker(dataP){GenericWorker.call(this,\"DataWorker\");var self=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type=\"\",this._tickScheduled=!1,dataP.then(function(data){self.dataIsReady=!0,self.data=data,self.max=data&&data.length||0,self.type=utils.getTypeOf(data),self.isPaused||self._tickAndRepeat()},function(e){self.error(e)})}utils.inherits(DataWorker,GenericWorker),DataWorker.prototype.cleanUp=function(){GenericWorker.prototype.cleanUp.call(this),this.data=null},DataWorker.prototype.resume=function(){return!!GenericWorker.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,utils.delay(this._tickAndRepeat,[],this)),!0)},DataWorker.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(utils.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},DataWorker.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var data=null,nextIndex=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case\"string\":data=this.data.substring(this.index,nextIndex);break;case\"uint8array\":data=this.data.subarray(this.index,nextIndex);break;case\"array\":case\"nodebuffer\":data=this.data.slice(this.index,nextIndex)}return this.index=nextIndex,this.push({data:data,meta:{percent:this.max?this.index/this.max*100:0}})},module.exports=DataWorker},function(module,exports,__nested_webpack_require_206742__){\"use strict\";var utils=__nested_webpack_require_206742__(0),GenericWorker=__nested_webpack_require_206742__(3);function DataLengthProbe(propName){GenericWorker.call(this,\"DataLengthProbe for \"+propName),this.propName=propName,this.withStreamInfo(propName,0)}utils.inherits(DataLengthProbe,GenericWorker),DataLengthProbe.prototype.processChunk=function(chunk){if(chunk){var length=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=length+chunk.data.length}GenericWorker.prototype.processChunk.call(this,chunk)},module.exports=DataLengthProbe},function(module,exports,__nested_webpack_require_207316__){\"use strict\";var GenericWorker=__nested_webpack_require_207316__(3),crc32=__nested_webpack_require_207316__(44);function Crc32Probe(){GenericWorker.call(this,\"Crc32Probe\"),this.withStreamInfo(\"crc32\",0)}__nested_webpack_require_207316__(0).inherits(Crc32Probe,GenericWorker),Crc32Probe.prototype.processChunk=function(chunk){this.streamInfo.crc32=crc32(chunk.data,this.streamInfo.crc32||0),this.push(chunk)},module.exports=Crc32Probe},function(module,exports,__nested_webpack_require_207754__){\"use strict\";var GenericWorker=__nested_webpack_require_207754__(3);exports.STORE={magic:\"\\0\\0\",compressWorker:function(compressionOptions){return new GenericWorker(\"STORE compression\")},uncompressWorker:function(){return new GenericWorker(\"STORE decompression\")}},exports.DEFLATE=__nested_webpack_require_207754__(109)},function(module,exports,__webpack_require__){\"use strict\";module.exports=function(adler,buf,len,pos){for(var s1=65535&adler|0,s2=adler>>>16&65535|0,n=0;0!==len;){len-=n=len>2e3?2e3:len;do{s2=s2+(s1=s1+buf[pos++]|0)|0}while(--n);s1%=65521,s2%=65521}return s1|s2<<16|0}},function(module,exports,__webpack_require__){\"use strict\";var crcTable=function(){for(var c,table=[],n=0;n<256;n++){c=n;for(var k=0;k<8;k++)c=1&c?3988292384^c>>>1:c>>>1;table[n]=c}return table}();module.exports=function(crc,buf,len,pos){var t=crcTable,end=pos+len;crc^=-1;for(var i=pos;i<end;i++)crc=crc>>>8^t[255&(crc^buf[i])];return-1^crc}},function(module,exports,__nested_webpack_require_208704__){\"use strict\";var utils=__nested_webpack_require_208704__(8),STR_APPLY_OK=!0,STR_APPLY_UIA_OK=!0;try{String.fromCharCode.apply(null,[0])}catch(__){STR_APPLY_OK=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(__){STR_APPLY_UIA_OK=!1}for(var _utf8len=new utils.Buf8(256),q=0;q<256;q++)_utf8len[q]=q>=252?6:q>=248?5:q>=240?4:q>=224?3:q>=192?2:1;function buf2binstring(buf,len){if(len<65534&&(buf.subarray&&STR_APPLY_UIA_OK||!buf.subarray&&STR_APPLY_OK))return String.fromCharCode.apply(null,utils.shrinkBuf(buf,len));for(var result=\"\",i=0;i<len;i++)result+=String.fromCharCode(buf[i]);return result}_utf8len[254]=_utf8len[254]=1,exports.string2buf=function(str){var buf,c,c2,m_pos,i,str_len=str.length,buf_len=0;for(m_pos=0;m_pos<str_len;m_pos++)55296==(64512&(c=str.charCodeAt(m_pos)))&&m_pos+1<str_len&&56320==(64512&(c2=str.charCodeAt(m_pos+1)))&&(c=65536+(c-55296<<10)+(c2-56320),m_pos++),buf_len+=c<128?1:c<2048?2:c<65536?3:4;for(buf=new utils.Buf8(buf_len),i=0,m_pos=0;i<buf_len;m_pos++)55296==(64512&(c=str.charCodeAt(m_pos)))&&m_pos+1<str_len&&56320==(64512&(c2=str.charCodeAt(m_pos+1)))&&(c=65536+(c-55296<<10)+(c2-56320),m_pos++),c<128?buf[i++]=c:c<2048?(buf[i++]=192|c>>>6,buf[i++]=128|63&c):c<65536?(buf[i++]=224|c>>>12,buf[i++]=128|c>>>6&63,buf[i++]=128|63&c):(buf[i++]=240|c>>>18,buf[i++]=128|c>>>12&63,buf[i++]=128|c>>>6&63,buf[i++]=128|63&c);return buf},exports.buf2binstring=function(buf){return buf2binstring(buf,buf.length)},exports.binstring2buf=function(str){for(var buf=new utils.Buf8(str.length),i=0,len=buf.length;i<len;i++)buf[i]=str.charCodeAt(i);return buf},exports.buf2string=function(buf,max){var i,out,c,c_len,len=max||buf.length,utf16buf=new Array(2*len);for(out=0,i=0;i<len;)if((c=buf[i++])<128)utf16buf[out++]=c;else if((c_len=_utf8len[c])>4)utf16buf[out++]=65533,i+=c_len-1;else{for(c&=2===c_len?31:3===c_len?15:7;c_len>1&&i<len;)c=c<<6|63&buf[i++],c_len--;c_len>1?utf16buf[out++]=65533:c<65536?utf16buf[out++]=c:(c-=65536,utf16buf[out++]=55296|c>>10&1023,utf16buf[out++]=56320|1023&c)}return buf2binstring(utf16buf,out)},exports.utf8border=function(buf,max){var pos;for((max=max||buf.length)>buf.length&&(max=buf.length),pos=max-1;pos>=0&&128==(192&buf[pos]);)pos--;return pos<0?max:0===pos?max:pos+_utf8len[buf[pos]]>max?pos:max}},function(module,exports,__webpack_require__){\"use strict\";module.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg=\"\",this.state=null,this.data_type=2,this.adler=0}},function(module,exports,__webpack_require__){\"use strict\";module.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},function(module,exports,__webpack_require__){\"use strict\";exports.LOCAL_FILE_HEADER=\"PK\u0003\u0004\",exports.CENTRAL_FILE_HEADER=\"PK\u0001\u0002\",exports.CENTRAL_DIRECTORY_END=\"PK\u0005\u0006\",exports.ZIP64_CENTRAL_DIRECTORY_LOCATOR=\"PK\u0006\u0007\",exports.ZIP64_CENTRAL_DIRECTORY_END=\"PK\u0006\u0006\",exports.DATA_DESCRIPTOR=\"PK\u0007\\b\"},function(module,exports,__nested_webpack_require_212031__){\"use strict\";var utils=__nested_webpack_require_212031__(0),support=__nested_webpack_require_212031__(7),ArrayReader=__nested_webpack_require_212031__(73),StringReader=__nested_webpack_require_212031__(123),NodeBufferReader=__nested_webpack_require_212031__(124),Uint8ArrayReader=__nested_webpack_require_212031__(75);module.exports=function(data){var type=utils.getTypeOf(data);return utils.checkSupport(type),\"string\"!==type||support.uint8array?\"nodebuffer\"===type?new NodeBufferReader(data):support.uint8array?new Uint8ArrayReader(utils.transformTo(\"uint8array\",data)):new ArrayReader(utils.transformTo(\"array\",data)):new StringReader(data)}},function(module,exports,__nested_webpack_require_212638__){\"use strict\";var DataReader=__nested_webpack_require_212638__(74);function ArrayReader(data){DataReader.call(this,data);for(var i=0;i<this.data.length;i++)data[i]=255&data[i]}__nested_webpack_require_212638__(0).inherits(ArrayReader,DataReader),ArrayReader.prototype.byteAt=function(i){return this.data[this.zero+i]},ArrayReader.prototype.lastIndexOfSignature=function(sig){for(var sig0=sig.charCodeAt(0),sig1=sig.charCodeAt(1),sig2=sig.charCodeAt(2),sig3=sig.charCodeAt(3),i=this.length-4;i>=0;--i)if(this.data[i]===sig0&&this.data[i+1]===sig1&&this.data[i+2]===sig2&&this.data[i+3]===sig3)return i-this.zero;return-1},ArrayReader.prototype.readAndCheckSignature=function(sig){var sig0=sig.charCodeAt(0),sig1=sig.charCodeAt(1),sig2=sig.charCodeAt(2),sig3=sig.charCodeAt(3),data=this.readData(4);return sig0===data[0]&&sig1===data[1]&&sig2===data[2]&&sig3===data[3]},ArrayReader.prototype.readData=function(size){if(this.checkOffset(size),0===size)return[];var result=this.data.slice(this.zero+this.index,this.zero+this.index+size);return this.index+=size,result},module.exports=ArrayReader},function(module,exports,__nested_webpack_require_213747__){\"use strict\";var utils=__nested_webpack_require_213747__(0);function DataReader(data){this.data=data,this.length=data.length,this.index=0,this.zero=0}DataReader.prototype={checkOffset:function(offset){this.checkIndex(this.index+offset)},checkIndex:function(newIndex){if(this.length<this.zero+newIndex||newIndex<0)throw new Error(\"End of data reached (data length = \"+this.length+\", asked index = \"+newIndex+\"). Corrupted zip ?\")},setIndex:function(newIndex){this.checkIndex(newIndex),this.index=newIndex},skip:function(n){this.setIndex(this.index+n)},byteAt:function(i){},readInt:function(size){var i,result=0;for(this.checkOffset(size),i=this.index+size-1;i>=this.index;i--)result=(result<<8)+this.byteAt(i);return this.index+=size,result},readString:function(size){return utils.transformTo(\"string\",this.readData(size))},readData:function(size){},lastIndexOfSignature:function(sig){},readAndCheckSignature:function(sig){},readDate:function(){var dostime=this.readInt(4);return new Date(Date.UTC(1980+(dostime>>25&127),(dostime>>21&15)-1,dostime>>16&31,dostime>>11&31,dostime>>5&63,(31&dostime)<<1))}},module.exports=DataReader},function(module,exports,__nested_webpack_require_214908__){\"use strict\";var ArrayReader=__nested_webpack_require_214908__(73);function Uint8ArrayReader(data){ArrayReader.call(this,data)}__nested_webpack_require_214908__(0).inherits(Uint8ArrayReader,ArrayReader),Uint8ArrayReader.prototype.readData=function(size){if(this.checkOffset(size),0===size)return new Uint8Array(0);var result=this.data.subarray(this.zero+this.index,this.zero+this.index+size);return this.index+=size,result},module.exports=Uint8ArrayReader},function(module,exports,__webpack_require__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.SUBSCRIPTION_PROMPT_WIDGET_NAMESPACE=\"pushwoosh-subscription-widget\"},function(module,exports,__webpack_require__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.BELL_POSITION_BOTTOM_RIGHT=\"bottomRight\",exports.BELL_POSITION_BOTTOM_LEFT=\"bottomLeft\",exports.BELL_POSITION_TOP_RIGHT=\"topRight\",exports.BELL_POSITION_TOP_LEFT=\"topLeft\",exports.WIDGET_CONTAINER_ID=\"pushwooshBellWidget\",exports.SUBSCRIBE_WIDGET_DEFAULT_CONFIG={position:exports.BELL_POSITION_BOTTOM_LEFT,bgColor:\"#12AE7E\",bellColor:\"white\",bellStrokeColor:\"#08754f\",bellButtonBorder:\"1px solid #379676\",shadow:\"0px 0px 6px rgba(0, 0, 0, 0.75)\",size:\"48px\",indent:\"20px\",zIndex:\"999999\",tooltipText:{successSubscribe:\"You are successfully subscribed!\",needSubscribe:\"Get notifications about important news!\",blockSubscribe:\"Click to see how to get notifications\",alreadySubscribed:\"You are already subscribed\"}}},function(module,exports,__nested_webpack_require_216408__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var Pushwoosh_1=__nested_webpack_require_216408__(79);exports.Pushwoosh=Pushwoosh_1.default,__nested_webpack_require_216408__(149),__nested_webpack_require_216408__(155),__nested_webpack_require_216408__(157)},function(module,exports,__nested_webpack_require_216675__){\"use strict\";var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})},__generator=this&&this.__generator||function(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},\"function\"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function(op){if(f)throw new TypeError(\"Generator is already executing.\");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=(t=_.trys).length>0&&t[t.length-1])&&(6===op[0]||2===op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}};Object.defineProperty(exports,\"__esModule\",{value:!0});var uuid_1=__nested_webpack_require_216675__(49),Api_1=__nested_webpack_require_216675__(36),Data_1=__nested_webpack_require_216675__(4),ApiClient_1=__nested_webpack_require_216675__(21),PushService_1=__nested_webpack_require_216675__(81),Popup_1=__nested_webpack_require_216675__(84),SubscriptionSegmentsWidget_1=__nested_webpack_require_216675__(86),SubscriptionPromptWidget_1=__nested_webpack_require_216675__(127),CONSTANTS=__nested_webpack_require_216675__(1),EventEmitter_1=__nested_webpack_require_216675__(129),functions_1=__nested_webpack_require_216675__(11),PlatformChecker_1=__nested_webpack_require_216675__(22),logger_1=__nested_webpack_require_216675__(5),FacebookModule_1=__nested_webpack_require_216675__(130),InApps_1=__nested_webpack_require_216675__(131),storage_1=__nested_webpack_require_216675__(2),InboxMessages_1=__nested_webpack_require_216675__(46),InboxMessagesPublic_1=__nested_webpack_require_216675__(30),EventBus_1=__nested_webpack_require_216675__(13),CommandBus_1=__nested_webpack_require_216675__(12),Pushwoosh=function(){function Pushwoosh(platformChecker){var _a,_this=this;void 0===platformChecker&&(platformChecker=new PlatformChecker_1.PlatformChecker),this._ee=new EventEmitter_1.default,this.ready=!1,this.debug={showLog:function(){return __awaiter(this,void 0,void 0,function(){var items;return __generator(this,function(_a){switch(_a.label){case 0:return[4,storage_1.log.getAll()];case 1:return items=_a.sent(),console.log(items),[2]}})})},showKeyValues:function(){return __awaiter(this,void 0,void 0,function(){var items;return __generator(this,function(_a){switch(_a.label){case 0:return[4,storage_1.keyValue.getAll()];case 1:return items=_a.sent(),console.log(items),[2]}})})},showMessages:function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,storage_1.message.getAll()];case 1:return _a.sent().forEach(function(i){return console.log(i)}),[2]}})})}},this.data=new Data_1.Data,this.commandBus=CommandBus_1.CommandBus.getInstance(),this.eventBus=EventBus_1.EventBus.getInstance(),this.apiClient=new ApiClient_1.ApiClient(this.data),this.api=new Api_1.Api(this.data,this.apiClient,this.commandBus,this.eventBus,this._ee),this.inboxModel=new InboxMessages_1.default(this.data,this.api),this.pwinbox=new InboxMessagesPublic_1.default(this.data,this.api,this.inboxModel),this.platformChecker=platformChecker,this._onPromises={},this.platformChecker.isAvailablePromise&&(this._onPromises=((_a={})[CONSTANTS.EVENT_ON_PERMISSION_DENIED]=new Promise(function(resolve){return _this._ee.once(CONSTANTS.EVENT_ON_PERMISSION_DENIED,resolve)}),_a[CONSTANTS.EVENT_ON_PERMISSION_PROMPT]=new Promise(function(resolve){return _this._ee.once(CONSTANTS.EVENT_ON_PERMISSION_PROMPT,resolve)}),_a[CONSTANTS.EVENT_ON_PERMISSION_GRANTED]=new Promise(function(resolve){return _this._ee.once(CONSTANTS.EVENT_ON_PERMISSION_GRANTED,resolve)}),_a)),this.onServiceWorkerMessage=this.onServiceWorkerMessage.bind(this),this.commandBus.on(CommandBus_1.TCommands.SUBSCRIBE,function(_a){var commandId=_a.commandId;_this.subscribe().then(function(){_this.eventBus.emit(EventBus_1.TEvents.SUBSCRIBE,commandId)})}),this.commandBus.on(CommandBus_1.TCommands.UNSUBSCRIBE,function(_a){var commandId=_a.commandId;_this.unsubscribe().then(function(){_this.eventBus.emit(EventBus_1.TEvents.UNSUBSCRIBE,commandId)})}),this.commandBus.on(CommandBus_1.TCommands.CHECK_IS_SUBSCRIBED,function(_a){var commandId=_a.commandId;_this.api.checkDeviceSubscribeForPushNotifications(!1).then(function(state){_this.eventBus.emit(EventBus_1.TEvents.CHECK_IS_SUBSCRIBED,{state:state},commandId)})}),this.commandBus.on(CommandBus_1.TCommands.CHECK_IS_MANUAL_UNSUBSCRIBED,function(_a){var commandId=_a.commandId;_this.data.getStatusManualUnsubscribed().then(function(state){_this.eventBus.emit(EventBus_1.TEvents.CHECK_IS_MANUAL_UNSUBSCRIBED,{state:state},commandId)})});var popup=new Popup_1.Popup(\"subscription-segments\",function(){_this._ee.emit(CONSTANTS.EVENT_ON_HIDE_SUBSCRIPTION_WIDGET)},{position:\"top\"});this.subscriptionSegmentWidget=new SubscriptionSegmentsWidget_1.SubscriptionSegmentsWidget(this.data,this.apiClient,this.api,popup,this),this.subscriptionPromptWidget=new SubscriptionPromptWidget_1.SubscriptionPromptWidget(this)}return Pushwoosh.prototype.push=function(command){if(\"function\"!=typeof command){if(!Array.isArray(command))throw new Error(\"Invalid command!\");switch(command[0]){case\"init\":this.initialize(command[1]);break;case CONSTANTS.EVENT_ON_READY:this.handleOnReadyCallback(command[1]);break;case CONSTANTS.EVENT_ON_REGISTER:case CONSTANTS.EVENT_ON_SUBSCRIBE:case CONSTANTS.EVENT_ON_UNSUBSCRIBE:case CONSTANTS.EVENT_ON_SW_INIT_ERROR:case CONSTANTS.EVENT_ON_PUSH_DELIVERY:case CONSTANTS.EVENT_ON_NOTIFICATION_CLICK:case CONSTANTS.EVENT_ON_NOTIFICATION_CLOSE:case CONSTANTS.EVENT_ON_CHANGE_COMMUNICATION_ENABLED:case CONSTANTS.EVENT_ON_PUT_NEW_MESSAGE_TO_INBOX_STORE:case CONSTANTS.EVENT_ON_UPDATE_INBOX_MESSAGES:case CONSTANTS.EVENT_ON_SHOW_NOTIFICATION_PERMISSION_DIALOG:case CONSTANTS.EVENT_ON_HIDE_NOTIFICATION_PERMISSION_DIALOG:case CONSTANTS.EVENT_ON_SHOW_SUBSCRIPTION_WIDGET:case CONSTANTS.EVENT_ON_HIDE_SUBSCRIPTION_WIDGET:this.handleEventCallback(command[0],command[1]);break;case CONSTANTS.EVENT_ON_PERMISSION_DENIED:case CONSTANTS.EVENT_ON_PERMISSION_PROMPT:case CONSTANTS.EVENT_ON_PERMISSION_GRANTED:this.handleOnChangePermissionCallback(command[0],command[1]);break;default:throw new Error(\"Unknown command!\")}}else this.handleOnReadyCallback(command)},Pushwoosh.prototype.subscribe=function(isForceSubscribe){return void 0===isForceSubscribe&&(isForceSubscribe=!0),__awaiter(this,void 0,void 0,function(){var permission_1,permission,isManualUnsubscribed,isDeviceRegister;return __generator(this,function(_a){switch(_a.label){case 0:return this.isCommunicationDisabled&&logger_1.Logger.error(\"Communication is disabled!\"),this.driver.checkIsPermissionDefault()?(this._ee.emit(CONSTANTS.EVENT_ON_SHOW_NOTIFICATION_PERMISSION_DIALOG),this.eventBus.emit(EventBus_1.TEvents.SHOW_NOTIFICATION_PERMISSION_DIALOG),[4,this.driver.askPermission()]):[3,2];case 1:_a.sent(),permission_1=this.driver.getPermission(),this._ee.emit(CONSTANTS.EVENT_ON_HIDE_NOTIFICATION_PERMISSION_DIALOG,permission_1),this.eventBus.emit(EventBus_1.TEvents.HIDE_NOTIFICATION_PERMISSION_DIALOG),_a.label=2;case 2:return permission=this.driver.getPermission(),[4,this.data.getStatusManualUnsubscribed()];case 3:return isManualUnsubscribed=_a.sent(),[4,this.api.checkDeviceSubscribeForPushNotifications(!1)];case 4:return isDeviceRegister=_a.sent(),permission!==CONSTANTS.PERMISSION_GRANTED?[3,7]:(this._ee.emit(CONSTANTS.EVENT_ON_PERMISSION_GRANTED),!(isForceSubscribe||!isManualUnsubscribed)||isDeviceRegister?[3,6]:[4,this.driver.subscribe()]);case 5:_a.sent(),_a.label=6;case 6:return this._ee.emit(CONSTANTS.EVENT_ON_SUBSCRIBE),[2];case 7:return permission!==CONSTANTS.PERMISSION_DENIED?[3,10]:(this._ee.emit(CONSTANTS.EVENT_ON_PERMISSION_DENIED),isDeviceRegister?[4,this.driver.unsubscribe()]:[3,9]);case 8:_a.sent(),_a.label=9;case 9:case 10:return[2]}})})},Pushwoosh.prototype.unsubscribe=function(){return __awaiter(this,void 0,void 0,function(){var error_1;return __generator(this,function(_a){switch(_a.label){case 0:return _a.trys.push([0,2,,3]),[4,this.driver.unsubscribe()];case 1:return _a.sent(),[3,3];case 2:return error_1=_a.sent(),logger_1.Logger.error(error_1,\"Error occurred during the unsubscribe\"),[3,3];case 3:return[2]}})})},Pushwoosh.prototype.forceSubscribe=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.subscribe(!0)];case 1:return _a.sent(),[2]}})})},Pushwoosh.prototype.isDeviceRegistered=function(){return localStorage.getItem(CONSTANTS.KEY_DEVICE_REGISTRATION_STATUS)===CONSTANTS.DEVICE_REGISTRATION_STATUS_REGISTERED},Pushwoosh.prototype.isDeviceUnregistered=function(){return localStorage.getItem(CONSTANTS.KEY_DEVICE_REGISTRATION_STATUS)===CONSTANTS.DEVICE_REGISTRATION_STATUS_UNREGISTERED},Pushwoosh.prototype.isSubscribed=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){return[2,this.api.checkDeviceSubscribeForPushNotifications()]})})},Pushwoosh.prototype.isCommunicationEnabled=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.data.getStatusCommunicationDisabled()];case 1:return[2,!_a.sent()]}})})},Pushwoosh.prototype.setCommunicationEnabled=function(isEnabled){return void 0===isEnabled&&(isEnabled=!0),__awaiter(this,void 0,void 0,function(){var deviceType,isPermissionGranted;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.data.getDeviceType()];case 1:return deviceType=_a.sent(),isPermissionGranted=this.driver.checkIsPermissionGranted(),[4,this.data.setStatusCommunicationDisabled(!isEnabled)];case 2:return _a.sent(),isEnabled?[4,this.data.setStatusDropAllData(!1)]:[3,6];case 3:return _a.sent(),isPermissionGranted?[4,this.api.registerDevice()]:[3,5];case 4:_a.sent(),_a.label=5;case 5:return[3,8];case 6:return[4,this.api.unregisterDevice()];case 7:_a.sent(),_a.label=8;case 8:return this._ee.emit(CONSTANTS.EVENT_ON_CHANGE_COMMUNICATION_ENABLED,isEnabled),[4,this.api.postEvent(CONSTANTS.EVENT_GDPR_CONSENT,{channel:isEnabled,device_type:deviceType})];case 9:return _a.sent(),[2]}})})},Pushwoosh.prototype.removeAllDeviceData=function(){return __awaiter(this,void 0,void 0,function(){var deviceType;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.data.getDeviceType()];case 1:return deviceType=_a.sent(),[4,this.api.postEvent(CONSTANTS.EVENT_GDPR_DELETE,{status:!0,device_type:deviceType})];case 2:return _a.sent(),[4,this.api.deleteDevice()];case 3:return _a.sent(),[4,this.data.clearAll()];case 4:return _a.sent(),[4,this.data.setStatusDropAllData(!0)];case 5:return _a.sent(),[2]}})})},Pushwoosh.prototype.getHWID=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.data.getHwid()];case 1:return[2,_a.sent()]}})})},Pushwoosh.prototype.getPushToken=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.data.getTokens()];case 1:return[2,_a.sent().pushToken]}})})},Pushwoosh.prototype.getUserId=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.data.getUserId()];case 1:return[2,_a.sent()]}})})},Pushwoosh.prototype.getParams=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.api.getParams()];case 1:return[2,_a.sent()]}})})},Pushwoosh.prototype.isAvailableNotifications=function(){return this.platformChecker.isAvailableNotifications},Pushwoosh.prototype.sendStatisticsVisitedPage=function(){return __awaiter(this,void 0,void 0,function(){var title,_a,origin,pathname,href;return __generator(this,function(_b){switch(_b.label){case 0:return title=window.document.title,_a=window.location,origin=_a.origin,pathname=_a.pathname,href=_a.href,[4,this.api.pageVisit({title:title,url_path:\"\"+origin+pathname,url:href})];case 1:return _b.sent(),[2]}})})},Pushwoosh.prototype.isEnableChannels=function(){return __awaiter(this,void 0,void 0,function(){var features,channels;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.data.getFeatures()];case 1:return features=_a.sent(),channels=features&&features.channels,[2,Array.isArray(channels)&&!!channels.length]}})})},Pushwoosh.prototype.initialize=function(params){return __awaiter(this,void 0,void 0,function(){var manualDebug,applicationCode,notSavedApplicationCode,isChangeApplicationCode,id,config,_a,userIdWasChange,inAppsConfig,error_2,error_3,delayedEvent,type,payload,hashReg,hash;return __generator(this,function(_b){switch(_b.label){case 0:return manualDebug=localStorage.getItem(CONSTANTS.MANUAL_SET_LOGGER_LEVEL),logger_1.Logger.setLevel(manualDebug||params.logLevel||\"error\"),this.platformChecker.isAvailableNotifications?[4,this.data.getApplicationCode()]:[2];case 1:if(applicationCode=_b.sent(),!params.applicationCode)throw new Error(\"Can't find application code!\");return notSavedApplicationCode=!applicationCode,isChangeApplicationCode=applicationCode&&applicationCode!==params.applicationCode,notSavedApplicationCode||isChangeApplicationCode?[4,this.data.clearAll()]:[3,4];case 2:return _b.sent(),[4,this.data.setApplicationCode(params.applicationCode)];case 3:_b.sent(),_b.label=4;case 4:return[4,this.data.getHwid()];case 5:return _b.sent()?[3,7]:(id=params.applicationCode+\"_\"+uuid_1.v4(),[4,this.data.setHwid(id)]);case 6:return _b.sent(),[3,9];case 7:return[4,this.api.checkDevice()];case 8:_b.sent(),_b.label=9;case 9:return[4,this.data.setDeviceType(this.platformChecker.getPlatformType())];case 10:return _b.sent(),[4,this.data.setDeviceModel(this.platformChecker.getBrowserVersion())];case 11:return _b.sent(),[4,this.data.setLanguage(params.tags&&params.tags.Language||navigator.language)];case 12:return _b.sent(),params.pushwooshUrl?[4,this.data.setApiEntrypoint(params.pushwooshUrl)]:[3,14];case 13:_b.sent(),_b.label=14;case 14:return[4,this.data.setSdkVersion(\"3.18.2\")];case 15:return _b.sent(),[4,this.api.getConfig([\"page_visit\",\"vapid_key\",\"web_in_apps\",\"events\",\"subscription_prompt\"])];case 16:return config=_b.sent(),this.onGetConfig(config&&config.features),this.subscribeWidgetConfig=__assign({enable:!1},params.subscribeWidget),this.inboxWidgetConfig=__assign({enable:!1},params.inboxWidget),this.subscribePopupConfig=__assign({enable:!1},params.subscribePopup),_a=this,[4,this.data.getStatusCommunicationDisabled()];case 17:return _a.isCommunicationDisabled=_b.sent(),[4,this.open()];case 18:return _b.sent(),[4,this.data.getStatusUserIdWasChanged()];case 19:return userIdWasChange=_b.sent(),!params.userId||\"user_id\"===params.userId||userIdWasChange?[3,21]:[4,this.api.registerUser(params.userId)];case 20:_b.sent(),_b.label=21;case 21:return params.tags&&this.api.setTags(params.tags),inAppsConfig=__assign({enable:config.features.web_in_apps&&config.features.web_in_apps.enabled},params.inApps),[4,this.initInApp(inAppsConfig)];case 22:return _b.sent(),this.platformChecker.isAvailableNotifications?[4,this.initPushNotifications(params)]:[3,24];case 23:_b.sent(),_b.label=24;case 24:return _b.trys.push([24,26,,27]),[4,this.inboxModel.updateMessages(this._ee)];case 25:return _b.sent(),[3,27];case 26:return error_2=_b.sent(),logger_1.Logger.write(\"error\",error_2),[3,27];case 27:return _b.trys.push([27,29,,30]),[4,this.initFacebook(params)];case 28:return _b.sent(),[3,30];case 29:return error_3=_b.sent(),logger_1.Logger.write(\"error\",error_3),[3,30];case 30:return this._ee.emit(CONSTANTS.EVENT_ON_READY),this.ready=!0,[4,this.data.getDelayedEvent()];case 31:return(delayedEvent=_b.sent())?(type=delayedEvent.type,payload=delayedEvent.payload,[4,this._ee.emit(type,payload)]):[3,34];case 32:return _b.sent(),[4,this.data.setDelayedEvent(null)];case 33:_b.sent(),_b.label=34;case 34:return\"serviceWorker\"in navigator&&(navigator.serviceWorker.onmessage=this.onServiceWorkerMessage),localStorage.setItem(\"pushwoosh-websdk-status\",\"init\"),document.dispatchEvent(new CustomEvent(\"pushwoosh.initialized\",{detail:{pw:this}})),this.platformChecker.isSafari&&(hashReg=/#P(.*)/,hash=decodeURIComponent(document.location.hash),hashReg.test(hash)&&this.api.pushStat(hashReg.exec(hash)[1]).then(functions_1.clearLocationHash)),[2]}})})},Pushwoosh.prototype.defaultProcess=function(initParams){return __awaiter(this,void 0,void 0,function(){var permission,isCommunicationDisabled,isDropAllData,isNeedResubscribe,features,currentPromptUseCase,autoSubscribe,isManualUnsubscribed,isRegister,widgetConfig,isDefaultUseCase,isNotSetUseCase,result;return __generator(this,function(_b){switch(_b.label){case 0:return\"granted\"!==(permission=this.driver.getPermission())?[3,2]:[4,this.data.setLastPermissionStatus(permission)];case 1:_b.sent(),_b.label=2;case 2:return[4,this.data.getStatusCommunicationDisabled()];case 3:return isCommunicationDisabled=_b.sent(),[4,this.data.getStatusDropAllData()];case 4:return isDropAllData=_b.sent(),[4,this.driver.checkIsNeedResubscribe()];case 5:return isNeedResubscribe=_b.sent(),[4,this.data.getFeatures()];case 6:return features=_b.sent(),currentPromptUseCase=features.subscription_prompt&&features.subscription_prompt.use_case,isCommunicationDisabled||isDropAllData?[4,this.unsubscribe()]:[3,8];case 7:return _b.sent(),[2];case 8:return isNeedResubscribe?[4,this.unsubscribe()]:[3,11];case 9:return _b.sent(),[4,this.data.setStatusManualUnsubscribed(!1)];case 10:_b.sent(),_b.label=11;case 11:return autoSubscribe=initParams.autoSubscribe,[4,this.data.getStatusManualUnsubscribed()];case 12:return isManualUnsubscribed=_b.sent(),[4,this.api.checkDeviceSubscribeForPushNotifications(!1)];case 13:switch(isRegister=_b.sent(),permission){case CONSTANTS.PERMISSION_PROMPT:return[3,14];case CONSTANTS.PERMISSION_DENIED:return[3,22];case CONSTANTS.PERMISSION_GRANTED:return[3,25]}return[3,31];case 14:return this._ee.emit(CONSTANTS.EVENT_ON_PERMISSION_PROMPT),isRegister?[4,this.unsubscribe()]:[3,16];case 15:_b.sent(),_b.label=16;case 16:return[4,this.getWidgetConfig()];case 17:return widgetConfig=_b.sent(),[4,this.checkCanShowByCapping(widgetConfig)];case 18:return _b.sent()?currentPromptUseCase===CONSTANTS.SUBSCRIPTION_WIDGET_USE_CASE_TOPIC_BASED?[4,this.subscriptionSegmentWidget.init()]:[3,20]:[3,31];case 19:_b.sent(),_b.label=20;case 20:return isDefaultUseCase=currentPromptUseCase===CONSTANTS.SUBSCRIPTION_WIDGET_USE_CASE_DEFAULT,isNotSetUseCase=currentPromptUseCase===CONSTANTS.SUBSCRIPTION_WIDGET_USE_CASE_NOT_SET&&autoSubscribe,(isDefaultUseCase||isNotSetUseCase)&&(this.subscriptionPromptWidget.init(widgetConfig),this.subscriptionPromptWidget.show()),[4,this.updateCappingParams()];case 21:return _b.sent(),[3,31];case 22:return this._ee.emit(CONSTANTS.EVENT_ON_PERMISSION_DENIED),isRegister?[4,this.unsubscribe()]:[3,24];case 23:_b.sent(),_b.label=24;case 24:return[3,31];case 25:return this._ee.emit(CONSTANTS.EVENT_ON_PERMISSION_GRANTED),isManualUnsubscribed&&isRegister?[4,this.unsubscribe()]:[3,27];case 26:_b.sent(),_b.label=27;case 27:return!isRegister&&!isManualUnsubscribed||isNeedResubscribe?[4,this.subscribe(!0)]:[3,30];case 28:return _b.sent(),currentPromptUseCase===CONSTANTS.SUBSCRIPTION_WIDGET_USE_CASE_TOPIC_BASED?(result=features.channels.map(function(channel){return channel.code}),[4,this.api.setTags({\"Subscription Segments\":result})]):[3,30];case 29:_b.sent(),_b.label=30;case 30:return[3,31];case 31:return[2]}})})},Pushwoosh.prototype.getWidgetConfig=function(){return __awaiter(this,void 0,void 0,function(){var features,currentConfig,configWithDefaultCapping;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.data.getFeatures()];case 1:return features=_a.sent(),currentConfig=features.subscription_prompt_widget&&features.subscription_prompt_widget.params,configWithDefaultCapping=__assign({cappingCount:CONSTANTS.SUBSCRIPTION_PROMPT_WIDGET_DEFAULT_CONFIG.cappingCount,cappingDelay:CONSTANTS.SUBSCRIPTION_PROMPT_WIDGET_DEFAULT_CONFIG.cappingDelay},currentConfig),[2,currentConfig?configWithDefaultCapping:CONSTANTS.SUBSCRIPTION_PROMPT_WIDGET_DEFAULT_CONFIG]}})})},Pushwoosh.prototype.checkCanShowByCapping=function(widgetConfig){return __awaiter(this,void 0,void 0,function(){var currentTime,displayCount,lastSeenTime,canShowByCapping,canShowByLastTime;return __generator(this,function(_a){switch(_a.label){case 0:return currentTime=(new Date).getTime(),[4,this.data.getPromptDisplayCount()];case 1:return displayCount=_a.sent(),[4,this.data.getPromptLastSeenTime()];case 2:return lastSeenTime=_a.sent(),canShowByCapping=widgetConfig.cappingCount>displayCount,canShowByLastTime=currentTime-lastSeenTime>widgetConfig.cappingDelay,[2,canShowByCapping&&canShowByLastTime]}})})},Pushwoosh.prototype.updateCappingParams=function(){return __awaiter(this,void 0,void 0,function(){var displayCount,currentTime;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.data.getPromptDisplayCount()];case 1:return displayCount=_a.sent(),currentTime=(new Date).getTime(),[4,this.data.setPromptDisplayCount(displayCount+1)];case 2:return _a.sent(),[4,this.data.setPromptLastSeenTime(currentTime)];case 3:return _a.sent(),[2]}})})},Pushwoosh.prototype.onReadyHandler=function(cmd){var _this=this;this.ready?cmd(this.api):this._ee.on(CONSTANTS.EVENT_ON_READY,function(params){return cmd(_this.api,params)})},Pushwoosh.prototype.handleOnReadyCallback=function(callback){this.onReadyHandler(callback)},Pushwoosh.prototype.handleOnChangePermissionCallback=function(name,callback){var _this=this,currentPromise=this._onPromises[name];currentPromise&&currentPromise.then(function(){return callback(_this.api)})},Pushwoosh.prototype.handleEventCallback=function(name,callback){var _this=this;this._ee.on(name,function(params){return callback(_this.api,params)})},Pushwoosh.prototype.initFacebook=function(initParams){var facebook=__assign({enable:!1,pageId:\"\",containerClass:\"\"},initParams.facebook);if(facebook&&facebook.enable)try{new FacebookModule_1.default({pageId:facebook.pageId,containerClass:facebook.containerClass,applicationCode:initParams.applicationCode,userId:initParams.userId||\"\"})}catch(error){logger_1.Logger.error(error,\"facebook module initialization failed\")}},Pushwoosh.prototype.initInApp=function(params){return __awaiter(this,void 0,void 0,function(){var error_4,_this=this;return __generator(this,function(_a){switch(_a.label){case 0:if(!params||!params.enable)return[3,4];_a.label=1;case 1:return _a.trys.push([1,3,,4]),this.InApps=new InApps_1.InApps(params,this.api),[4,this.InApps.init().then(function(){logger_1.Logger.info(\"InApps module has been initialized\"),_this.eventBus.emit(EventBus_1.TEvents.INIT_IN_APPS_MODULE)}).catch(function(error){logger_1.Logger.error(error,\"InApps module initialization has been failed\")})];case 2:return _a.sent(),[3,4];case 3:return error_4=_a.sent(),logger_1.Logger.error(error_4,\"InApp module initialization has been failed\"),[3,4];case 4:return[2]}})})},Pushwoosh.prototype.onServiceWorkerMessage=function(event){var _a=(event||{}).data,_b=(void 0===_a?{}:_a)||{},_c=_b.type,type=void 0===_c?\"\":_c,_d=_b.payload,payload=void 0===_d?{}:_d;this._ee.emit(type,payload)},Pushwoosh.prototype.open=function(isForce){return __awaiter(this,void 0,void 0,function(){var lastApplicationOpenTime,currentTime,isSendingPeriodExceeded;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.data.getLastOpenApplicationTime()];case 1:return lastApplicationOpenTime=_a.sent(),currentTime=Date.now(),lastApplicationOpenTime||(lastApplicationOpenTime=0),isSendingPeriodExceeded=currentTime-lastApplicationOpenTime<CONSTANTS.PERIOD_SEND_APP_OPEN,isForce||!isSendingPeriodExceeded?[4,this.data.setLastOpenApplicationTime(currentTime)]:[2];case 2:return _a.sent(),[4,this.api.applicationOpen()];case 3:return _a.sent(),[2]}})})},Pushwoosh.prototype.onGetConfig=function(features){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.data.setFeatures(features)];case 1:return _a.sent(),features?features.page_visit&&features.page_visit.enabled?[4,storage_1.keyValue.set(CONSTANTS.PAGE_VISITED_URL,features.page_visit.entrypoint)]:[3,3]:[3,5];case 2:_a.sent(),this.sendStatisticsVisitedPage(),_a.label=3;case 3:return features.events&&features.events.length&&features.events.some(function(event){return event===CONSTANTS.EVENT_PW_SITE_OPENED})&&this.sendPostEventVisitedPage(),features.vapid_key?[4,this.data.setApplicationServerKey(features.vapid_key)]:[3,5];case 4:_a.sent(),_a.label=5;case 5:return[2]}})})},Pushwoosh.prototype.initPushNotifications=function(params){return __awaiter(this,void 0,void 0,function(){var error_5;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.data.setDefaultNotificationImage(params.defaultNotificationImage)];case 1:return _a.sent(),[4,this.data.setDefaultNotificationTitle(params.defaultNotificationTitle)];case 2:return _a.sent(),[4,this.data.setServiceWorkerUrl(params.serviceWorkerUrl)];case 3:return _a.sent(),[4,this.data.setServiceWorkerScope(params.scope)];case 4:return _a.sent(),[4,this.data.setInitParams(__assign({autoSubscribe:!0},params))];case 5:return _a.sent(),[4,this.initDriver()];case 6:_a.sent(),_a.label=7;case 7:return _a.trys.push([7,9,,10]),[4,this.defaultProcess(params)];case 8:return _a.sent(),[3,10];case 9:return error_5=_a.sent(),logger_1.Logger.error(error_5,\"Internal error: defaultProcess fail\"),[3,10];case 10:return[2]}})})},Pushwoosh.prototype.initDriver=function(){return __awaiter(this,void 0,void 0,function(){var webSitePushId;return __generator(this,function(_a){switch(_a.label){case 0:return this.platformChecker.isSafari?[4,this.data.getInitParams()]:[3,2];case 1:if(!(webSitePushId=_a.sent().safariWebsitePushID))throw new Error(\"For work with Safari Push Notification add safariWebsitePushID to initParams!\");return this.driver=new PushService_1.PushServiceSafari(this.api,this.data,{webSitePushId:webSitePushId}),[2];case 2:return this.platformChecker.isAvailableServiceWorker?(this.driver=new PushService_1.PushServiceDefault(this.api,this.data,{}),[2]):[2]}})})},Pushwoosh.prototype.sendPostEventVisitedPage=function(){return __awaiter(this,void 0,void 0,function(){var title,href;return __generator(this,function(_a){return title=window.document.title,href=window.location.href,this.api.postEvent(CONSTANTS.EVENT_PW_SITE_OPENED,{url:href,title:title,device_type:this.platformChecker.platform}),[2]})})},Pushwoosh}();exports.default=Pushwoosh},function(module,exports,__nested_webpack_require_244349__){var _nodeId,_clockseq,rng=__nested_webpack_require_244349__(31),bytesToUuid=__nested_webpack_require_244349__(32),_lastMSecs=0,_lastNSecs=0;module.exports=function(options,buf,offset){var i=buf&&offset||0,b=buf||[],node=(options=options||{}).node||_nodeId,clockseq=void 0!==options.clockseq?options.clockseq:_clockseq;if(null==node||null==clockseq){var seedBytes=rng();null==node&&(node=_nodeId=[1|seedBytes[0],seedBytes[1],seedBytes[2],seedBytes[3],seedBytes[4],seedBytes[5]]),null==clockseq&&(clockseq=_clockseq=16383&(seedBytes[6]<<8|seedBytes[7]))}var msecs=void 0!==options.msecs?options.msecs:(new Date).getTime(),nsecs=void 0!==options.nsecs?options.nsecs:_lastNSecs+1,dt=msecs-_lastMSecs+(nsecs-_lastNSecs)/1e4;if(dt<0&&void 0===options.clockseq&&(clockseq=clockseq+1&16383),(dt<0||msecs>_lastMSecs)&&void 0===options.nsecs&&(nsecs=0),nsecs>=1e4)throw new Error(\"uuid.v1(): Can't create more than 10M uuids/sec\");_lastMSecs=msecs,_lastNSecs=nsecs,_clockseq=clockseq;var tl=(1e4*(268435455&(msecs+=122192928e5))+nsecs)%4294967296;b[i++]=tl>>>24&255,b[i++]=tl>>>16&255,b[i++]=tl>>>8&255,b[i++]=255&tl;var tmh=msecs/4294967296*1e4&268435455;b[i++]=tmh>>>8&255,b[i++]=255&tmh,b[i++]=tmh>>>24&15|16,b[i++]=tmh>>>16&255,b[i++]=clockseq>>>8|128,b[i++]=255&clockseq;for(var n=0;n<6;++n)b[i+n]=node[n];return buf||bytesToUuid(b)}},function(module,exports,__nested_webpack_require_245696__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var PushServiceDefault_1=__nested_webpack_require_245696__(82);exports.PushServiceDefault=PushServiceDefault_1.PushServiceDefault;var PushServiceSafari_1=__nested_webpack_require_245696__(83);exports.PushServiceSafari=PushServiceSafari_1.PushServiceSafari},function(module,exports,__nested_webpack_require_246038__){\"use strict\";var __awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})},__generator=this&&this.__generator||function(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},\"function\"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function(op){if(f)throw new TypeError(\"Generator is already executing.\");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=(t=_.trys).length>0&&t[t.length-1])&&(6===op[0]||2===op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}};Object.defineProperty(exports,\"__esModule\",{value:!0});var uuid_1=__nested_webpack_require_246038__(49),logger_1=__nested_webpack_require_246038__(5),CONSTANTS=__nested_webpack_require_246038__(1),PushServiceDefault=function(){function PushServiceDefault(api,data,config){this.api=api,this.data=data,this.config=config}return PushServiceDefault.prototype.getPermission=function(){return Notification.permission},PushServiceDefault.prototype.checkIsPermissionGranted=function(){return this.getPermission()===CONSTANTS.PERMISSION_GRANTED},PushServiceDefault.prototype.checkIsPermissionDefault=function(){return this.getPermission()===CONSTANTS.PERMISSION_PROMPT},PushServiceDefault.prototype.checkIsManualUnsubscribed=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){return[2,this.data.getStatusManualUnsubscribed()]})})},PushServiceDefault.prototype.askPermission=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,Notification.requestPermission()];case 1:return _a.sent(),[2]}})})},PushServiceDefault.prototype.getTokens=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){return[2,this.data.getTokens()]})})},PushServiceDefault.prototype.subscribe=function(){return __awaiter(this,void 0,void 0,function(){var subscription,applicationServerKey,senderId,pushToken,_p256dn,_auth,p256dh,auth,_a,token,pushSet;return __generator(this,function(_b){switch(_b.label){case 0:return this.checkIsPermissionGranted()?[4,this.trySubscribe()]:(logger_1.Logger.error(\"You must have permission granted before subscribe!\"),[2]);case 1:return subscription=_b.sent(),[4,this.getApplicationServerKey()];case 2:return applicationServerKey=_b.sent(),[4,this.getSenderIdFromManifest()];case 3:return senderId=_b.sent(),[4,this.checkIsChangeSenderId(senderId)];case 4:return _b.sent()?[4,this.unsubscribe()]:[3,7];case 5:return _b.sent(),[4,this.data.setSenderId(senderId)];case 6:_b.sent(),_b.label=7;case 7:return[4,this.getPushToken(subscription)];case 8:if(pushToken=_b.sent(),_p256dn=subscription.getKey(\"p256dh\"),_auth=subscription.getKey(\"auth\"),!_p256dn||!_auth)throw new Error(\"Can't get subscription keys!\");return p256dh=btoa(String.fromCharCode.apply(String,new Uint8Array(_p256dn))),auth=btoa(String.fromCharCode.apply(String,new Uint8Array(_auth))),[4,this.getFcmKeys({endpoint:subscription.endpoint,application_pub_key:applicationServerKey,encryption_key:p256dh,encryption_auth:auth,authorized_entity:senderId})];case 9:return _a=_b.sent(),token=_a.token,pushSet=_a.pushSet,[4,this.data.setTokens({publicKey:p256dh,pushToken:pushToken,authToken:auth,fcmPushSet:pushSet,fcmToken:token,endpoint:subscription.endpoint})];case 10:return _b.sent(),[4,this.api.registerDevice()];case 11:return _b.sent(),[2]}})})},PushServiceDefault.prototype.unsubscribe=function(){return __awaiter(this,void 0,void 0,function(){var subscription;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.getServiceWorkerRegistration()];case 1:return[4,_a.sent().pushManager.getSubscription()];case 2:return subscription=_a.sent(),[4,this.data.setTokens({})];case 3:return _a.sent(),[4,this.data.setStatusManualUnsubscribed(!0)];case 4:return _a.sent(),[4,this.api.unregisterDevice()];case 5:return _a.sent(),subscription?[4,subscription.unsubscribe()]:[2];case 6:return _a.sent(),[2]}})})},PushServiceDefault.prototype.checkIsRegister=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){return[2,this.api.checkDeviceSubscribeForPushNotifications()]})})},PushServiceDefault.prototype.checkIsNeedResubscribe=function(){return __awaiter(this,void 0,void 0,function(){var savedSenderId,isExistSavedSenderId,manifestSenderId,isChangeSenderID,lastPermission,permission,credentials,pushTokenFromSubscription,pushTokenFromStore,isEqualPushTokens;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.data.getSenderId()];case 1:return savedSenderId=_a.sent(),isExistSavedSenderId=void 0!==savedSenderId,[4,this.getSenderIdFromManifest()];case 2:return manifestSenderId=_a.sent(),isChangeSenderID=isExistSavedSenderId&&manifestSenderId!==savedSenderId,[4,this.data.setSenderId(manifestSenderId)];case 3:return _a.sent(),[4,this.data.getLastPermissionStatus()];case 4:return lastPermission=_a.sent(),permission=this.getPermission(),isExistSavedSenderId&&lastPermission!==permission?[4,this.data.setLastPermissionStatus(permission)]:[3,6];case 5:return _a.sent(),[2,!0];case 6:return[4,this.getCredentials()];case 7:return credentials=_a.sent(),[4,this.getPushToken(credentials)];case 8:return pushTokenFromSubscription=_a.sent(),[4,this.data.getTokens()];case 9:return pushTokenFromStore=_a.sent(),isEqualPushTokens=pushTokenFromSubscription===(pushTokenFromStore&&pushTokenFromStore.pushToken),[2,isChangeSenderID||!isEqualPushTokens]}})})},PushServiceDefault.prototype.getServiceWorkerRegistration=function(){return __awaiter(this,void 0,void 0,function(){var _a;return __generator(this,function(_b){switch(_b.label){case 0:return this.registration?[3,4]:[4,this.registerServiceWorker()];case 1:return _b.sent(),_a=this,[4,navigator.serviceWorker.getRegistration()];case 2:return _a.registration=_b.sent(),[4,this.registration.update()];case 3:_b.sent(),_b.label=4;case 4:if(!this.registration)throw new Error(\"Internal Error: Can't register service worker!\");return[2,this.registration]}})})},PushServiceDefault.prototype.registerServiceWorker=function(){return __awaiter(this,void 0,void 0,function(){var url,scope,sdkVersion,serviceWorkerVersion,cleanCache;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.data.getServiceWorkerUrl()];case 1:return url=_a.sent(),[4,this.data.getServiceWorkerScope()];case 2:return scope=_a.sent(),[4,this.data.getSdkVersion()];case 3:return sdkVersion=_a.sent(),[4,this.data.getServiceWorkerVersion()];case 4:return serviceWorkerVersion=_a.sent(),cleanCache=\"\",sdkVersion!==serviceWorkerVersion&&(cleanCache=\"?cache_clean=\"+uuid_1.v4()),[4,navigator.serviceWorker.register(\"\"+url+cleanCache,{scope:scope})];case 5:return _a.sent(),[2]}})})},PushServiceDefault.prototype.trySubscribe=function(){return __awaiter(this,void 0,void 0,function(){var error_1;return __generator(this,function(_a){switch(_a.label){case 0:return _a.trys.push([0,2,,4]),[4,this.subscribePushManager()];case 1:return[2,_a.sent()];case 2:return error_1=_a.sent(),console.error(error_1),[4,this.unsubscribe()];case 3:return _a.sent(),[2,this.subscribePushManager()];case 4:return[2]}})})},PushServiceDefault.prototype.subscribePushManager=function(){return __awaiter(this,void 0,void 0,function(){var registration,applicationServerKey;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.getServiceWorkerRegistration()];case 1:return registration=_a.sent(),[4,this.getApplicationServerKey()];case 2:return applicationServerKey=_a.sent(),[2,registration.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:applicationServerKey})]}})})},PushServiceDefault.prototype.getCredentials=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.getServiceWorkerRegistration()];case 1:return[4,_a.sent().pushManager.getSubscription()];case 2:return[2,_a.sent()]}})})},PushServiceDefault.prototype.getFcmKeys=function(config){return __awaiter(this,void 0,void 0,function(){var response;return __generator(this,function(_a){switch(_a.label){case 0:return[4,fetch(this.config.entrypoint||\"https://fcm.googleapis.com/fcm/connect/subscribe\",{method:\"POST\",headers:{\"Content-Type\":\"text/plain;charset=UTF-8\"},body:JSON.stringify(config)})];case 1:return 200!==(response=_a.sent()).status?[3,3]:[4,response.json()];case 2:return[2,_a.sent()];case 3:throw new Error(\"Internal error: Can't register device in fcm. Status: \"+response.status+\". Message: \"+response.statusText)}})})},PushServiceDefault.prototype.getPushToken=function(subscription){return __awaiter(this,void 0,void 0,function(){var deviceType;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.data.getDeviceType()];case 1:return deviceType=_a.sent(),subscription?12===deviceType?[2,subscription.endpoint]:[2,subscription.endpoint.split(\"/\").pop()||\"\"]:[2,\"\"]}})})},PushServiceDefault.prototype.getApplicationServerKey=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.data.getDeviceType()];case 1:return 11!==_a.sent()?[2]:[4,this.data.getApplicationServerKey()];case 2:return[2,_a.sent()]}})})},PushServiceDefault.prototype.getSenderIdFromManifest=function(){return __awaiter(this,void 0,void 0,function(){var manifest,url,response,data,match;return __generator(this,function(_a){switch(_a.label){case 0:if(!(manifest=document.querySelector('link[rel=\"manifest\"]')))throw new Error(\"Error: manifest.json not found!\");if(!(url=manifest.getAttribute(\"href\")))throw new Error(\"Error: manifest.json url not found!\");return[4,fetch(url,{method:\"GET\",headers:{\"Content-Type\":\"application/json;charset=UTF-8\"}})];case 1:if(200!==(response=_a.sent()).status)throw new Error(\"Error: Can't load manifest.json! \"+response.statusText);return[4,response.text()];case 2:if(data=_a.sent(),!(match=data.match(/(\"|')?gcm_sender_id(\"|')?:\\s*(\"|')?(\\d+)(\"|')?/))||\"string\"!=typeof match[4])throw new Error(\"Error: Can't find gcm_sender_id in manifest.json!\");return[2,match[4]]}})})},PushServiceDefault.prototype.checkIsChangeSenderId=function(currentSenderId){return __awaiter(this,void 0,void 0,function(){var senderIdFromIndexedDB;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.data.getSenderId()];case 1:return senderIdFromIndexedDB=_a.sent(),[2,currentSenderId!==senderIdFromIndexedDB]}})})},PushServiceDefault}();exports.PushServiceDefault=PushServiceDefault},function(module,exports,__nested_webpack_require_257727__){\"use strict\";var __awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})},__generator=this&&this.__generator||function(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},\"function\"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function(op){if(f)throw new TypeError(\"Generator is already executing.\");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=(t=_.trys).length>0&&t[t.length-1])&&(6===op[0]||2===op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}};Object.defineProperty(exports,\"__esModule\",{value:!0});var logger_1=__nested_webpack_require_257727__(5),CONSTANTS=__nested_webpack_require_257727__(1),PushServiceSafari=function(){function PushServiceSafari(api,data,config){this.api=api,this.config=config,this.data=data}return PushServiceSafari.prototype.getPermission=function(){return this.getPermissionInfo().permission},PushServiceSafari.prototype.checkIsPermissionGranted=function(){return this.getPermission()===CONSTANTS.PERMISSION_GRANTED},PushServiceSafari.prototype.checkIsPermissionDefault=function(){return this.getPermission()===CONSTANTS.PERMISSION_PROMPT},PushServiceSafari.prototype.checkIsManualUnsubscribed=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.data.getStatusManualUnsubscribed()];case 1:return[2,_a.sent()]}})})},PushServiceSafari.prototype.askPermission=function(){return __awaiter(this,void 0,void 0,function(){var application,hwid,payload,_this=this;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.data.getApplicationCode()];case 1:return application=_a.sent(),[4,this.data.getHwid()];case 2:return hwid=_a.sent(),payload={application:application,hwid:hwid},[2,new Promise(function(resolve){safari.pushNotification.requestPermission(_this.config.entrypoint||\"https://cp.pushwoosh.com/json/1.3/safari\",_this.config.webSitePushId,payload,function(){return resolve()})})]}})})},PushServiceSafari.prototype.getTokens=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){return[2,this.data.getTokens()]})})},PushServiceSafari.prototype.subscribe=function(){return __awaiter(this,void 0,void 0,function(){var deviceToken;return __generator(this,function(_a){switch(_a.label){case 0:return this.checkIsPermissionGranted()?[4,this.getPermissionInfo()]:(logger_1.Logger.error(\"You must have permission granted before subscribe!\"),[2]);case 1:return deviceToken=_a.sent().deviceToken,[4,this.data.setTokens({pushToken:deviceToken})];case 2:return _a.sent(),[4,this.api.registerDevice()];case 3:return _a.sent(),[2]}})})},PushServiceSafari.prototype.unsubscribe=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.data.setTokens({})];case 1:return _a.sent(),[4,this.data.setStatusManualUnsubscribed(!0)];case 2:return _a.sent(),[4,this.api.unregisterDevice()];case 3:return _a.sent(),[2]}})})},PushServiceSafari.prototype.checkIsRegister=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){return[2,this.api.checkDeviceSubscribeForPushNotifications()]})})},PushServiceSafari.prototype.checkIsNeedResubscribe=function(){return __awaiter(this,void 0,void 0,function(){var savedWebSitePushId,isChangeWebSitePushId,lastPermission,permission;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.data.getWebSitePushId()];case 1:return savedWebSitePushId=_a.sent(),isChangeWebSitePushId=void 0!==savedWebSitePushId&&this.config.webSitePushId!==savedWebSitePushId,[4,this.data.setWebSitePushId(this.config.webSitePushId)];case 2:return _a.sent(),[4,this.data.getLastPermissionStatus()];case 3:return lastPermission=_a.sent(),permission=this.getPermission(),lastPermission===permission?[3,5]:[4,this.data.setLastPermissionStatus(permission)];case 4:return _a.sent(),[2,!0];case 5:return[2,isChangeWebSitePushId]}})})},PushServiceSafari.prototype.getPermissionInfo=function(){return safari.pushNotification.permission(this.config.webSitePushId)},PushServiceSafari}();exports.PushServiceSafari=PushServiceSafari},function(module,exports,__nested_webpack_require_263124__){\"use strict\";var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)};Object.defineProperty(exports,\"__esModule\",{value:!0});var Popup_helpers_1=__nested_webpack_require_263124__(85),Popup=function(){function Popup(namespace,onClickClose,config){if(this.namespace=namespace,this.onClickClose=onClickClose,this.config=__assign({position:\"center\"},config),!this.getRootElement()){var html=this.createHTML();document.body.insertAdjacentHTML(\"beforeend\",html),this.rootElement=this.getElementWithCheckExist(\"root\");var styles=Popup_helpers_1.getStyles(this.namespace);document.head.appendChild(styles)}this.rootElement.classList.add(\"pushwoosh-\"+this.namespace+\"-popup_position_\"+this.config.position),this.wrapperElement=this.getElementWithCheckExist(\"wrapper\"),this.innerElement=this.getElementWithCheckExist(\"inner\"),this.bodyElement=this.getElementWithCheckExist(\"body\"),this.closeElement=this.getElementWithCheckExist(\"close\"),this.addEventListeners()}return Popup.prototype.updateContent=function(html){this.bodyElement.innerHTML=html},Popup.prototype.removeContent=function(){this.bodyElement.innerHTML=\"\"},Popup.prototype.show=function(){document.body.style.overflow=\"hidden\",this.rootElement.classList.add(\"pushwoosh-\"+this.namespace+\"-popup_show\")},Popup.prototype.hide=function(){document.body.style.overflow=\"auto\",this.rootElement.classList.remove(\"pushwoosh-\"+this.namespace+\"-popup_show\"),this.onClickClose()},Popup.prototype.getRootElement=function(){return document.getElementById(\"pushwoosh-\"+this.namespace+\"-popup-root\")},Popup.prototype.createHTML=function(){return'\\n      <div\\n        id=\"pushwoosh-'+this.namespace+'-popup-root\"\\n        class=\"pushwoosh-'+this.namespace+'-popup\"\\n      >\\n        <div\\n          id=\"pushwoosh-'+this.namespace+'-popup-wrapper\"\\n          class=\"pushwoosh-'+this.namespace+'-popup__wrapper\"\\n        >\\n          <div\\n            id=\"pushwoosh-'+this.namespace+'-popup-inner\"\\n            class=\"pushwoosh-'+this.namespace+'-popup__inner\"\\n          >\\n            <div\\n              id=\"pushwoosh-'+this.namespace+'-popup-body\"\\n              class=\"pushwoosh-'+this.namespace+'-popup__body\"\\n            >\\n            </div>\\n          </div>\\n          <button\\n            id=\"pushwoosh-'+this.namespace+'-popup-close\"\\n            class=\"pushwoosh-'+this.namespace+'-popup__close\"\\n            type=\"button\"\\n          >\\n          </button>\\n        </div>\\n      </div>\\n    '},Popup.prototype.getElementWithCheckExist=function(type){var element=document.getElementById(\"pushwoosh-\"+this.namespace+\"-popup-\"+type);if(!element)throw new Error(\"Can't find element by id \\\"pushwoosh-\"+this.namespace+\"-popup-\"+type+'\"');return element},Popup.prototype.addEventListeners=function(){var _this=this;this.closeElement.addEventListener(\"click\",function(){_this.hide()}),document.addEventListener(\"click\",function(event){var clickInInner=_this.innerElement.contains(event.target),clickInWrapper=_this.wrapperElement.contains(event.target);!clickInInner&&clickInWrapper&&_this.hide()})},Popup}();exports.Popup=Popup},function(module,exports,__webpack_require__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.getStyles=function(namespace){var styles=document.createElement(\"style\");return styles.innerHTML=\"\\n    .pushwoosh-\"+namespace+\"-popup {\\n      position: fixed;\\n      top: 0;\\n      left: 0;\\n      width: 100%;\\n      height: 100%;\\n      display: none;\\n      z-index: 2147483648;\\n      opacity: 0.99;\\n    }\\n    \\n    .pushwoosh-\"+namespace+\"-popup_show {\\n      display: block;\\n    }\\n    \\n    .pushwoosh-\"+namespace+\"-popup__wrapper {\\n      width: 100%;\\n      height: 100%;\\n      background: rgba(0, 0, 0, .2);\\n    }\\n    \\n    .pushwoosh-\"+namespace+\"-popup_position_center .pushwoosh-\"+namespace+\"-popup__wrapper {\\n      text-align: center;\\n    }\\n    \\n    .pushwoosh-\"+namespace+\"-popup_position_center .pushwoosh-\"+namespace+\"-popup__wrapper:after {\\n      content: '';\\n      display: inline-block;\\n      width: 1px;\\n      height: 100%;\\n      vertical-align: middle;\\n    }\\n    \\n    .pushwoosh-\"+namespace+\"-popup__inner {\\n      min-width: 320px;\\n      max-width: 380px;\\n      width: 100%;\\n      margin: 0 auto;\\n    }\\n    \\n    .pushwoosh-\"+namespace+\"-popup_position_center .pushwoosh-\"+namespace+\"-popup__inner {\\n      display: inline-block;\\n      vertical-align: middle;\\n    }\\n    \\n    .pushwoosh-\"+namespace+\"-popup__body {\\n      background: #fff;\\n      text-align: left;\\n      vertical-align: baseline;\\n      box-shadow: 0px 10px 16px rgba(0, 0, 0, 0.1), 0px 0px 6px rgba(0, 0, 0, 0.06);\\n      border-radius: 4px;\\n    }\\n    \\n    .pushwoosh-\"+namespace+\"-popup__close {\\n      appearance: none;\\n      border: none;\\n      background-color: transparent;\\n      box-shadow: none;\\n      position: absolute;\\n      top: 24px;\\n      right: 24px;\\n      width: 40px;\\n      height: 40px;\\n      cursor: pointer;\\n    }\\n    \\n    .pushwoosh-\"+namespace+\"-popup__close:before {\\n      content: '';\\n      position: absolute;\\n      top: 50%;\\n      left: 50%;\\n      width: 30px;\\n      height: 2px;\\n      background-color: rgba(255, 255, 255, .8);\\n      transform: translateX(-50%) translateY(-50%) rotate(45deg);\\n    }\\n    \\n    .pushwoosh-\"+namespace+\"-popup__close:after {\\n      content: '';\\n      position: absolute;\\n      top: 50%;\\n      left: 50%;\\n      width: 30px;\\n      height: 2px;\\n      background-color: rgba(255, 255, 255, .8);\\n      transform: translateX(-50%) translateY(-50%) rotate(-45deg);\\n    }\\n  \",styles}},function(module,exports,__nested_webpack_require_268925__){\"use strict\";var __awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})},__generator=this&&this.__generator||function(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},\"function\"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function(op){if(f)throw new TypeError(\"Generator is already executing.\");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=(t=_.trys).length>0&&t[t.length-1])&&(6===op[0]||2===op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}};Object.defineProperty(exports,\"__esModule\",{value:!0});var getZip_1=__nested_webpack_require_268925__(50),constants_1=__nested_webpack_require_268925__(1),logger_1=__nested_webpack_require_268925__(5),SubscriptionSegmentsWidget_helpers_1=__nested_webpack_require_268925__(126),SubscriptionSegmentsWidget=function(){function SubscriptionSegmentsWidget(data,apiClient,api,popup,pw){this.data=data,this.apiClient=apiClient,this.api=api,this.popup=popup,this.pw=pw}return SubscriptionSegmentsWidget.prototype.init=function(){return __awaiter(this,void 0,void 0,function(){var inAppCode,richMediaUrl,content,segments,sortedSegments,html,styles,denyElement,acceptElement,_this=this;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.getInAppCode()];case 1:return(inAppCode=_a.sent())?[4,this.getRichMediaUrlByInAppCode(inAppCode)]:(logger_1.Logger.error(\"Internal error: Can't find in-app code for build subscription segment widget!\"),[2]);case 2:return(richMediaUrl=_a.sent())?[4,this.getDynamicContent(richMediaUrl)]:(logger_1.Logger.error(\"Internal error: Can't find rich media url for build subscription segment widget!\"),[2]);case 3:return content=_a.sent(),[4,this.getSegments()];case 4:return segments=_a.sent(),content&&segments?(sortedSegments=segments.sort(function(segment1,segment2){return segment1.position-segment2.position}),html=SubscriptionSegmentsWidget_helpers_1.getHTML(content,sortedSegments),styles=SubscriptionSegmentsWidget_helpers_1.getStyles(content),document.head.appendChild(styles),this.popup.updateContent(html),denyElement=document.getElementById(\"pushwoosh-subscription-segments-deny\"),acceptElement=document.getElementById(\"pushwoosh-subscription-segments-accept\"),denyElement&&denyElement.addEventListener(\"click\",function(){_this.hidePopup()}),acceptElement&&acceptElement.addEventListener(\"click\",function(){var result=[],segments=document.getElementsByClassName(\"pushwoosh-subscription-segments__field\");if(_this.hidePopup(),segments){for(var index=0;index<segments.length;index++){var field=segments[index];field.checked&&result.push(field.value)}_this.api.setTags({\"Subscription Segments\":result}),_this.pw.subscribe()}}),this.showPopup(),[2]):(logger_1.Logger.error(\"Internal error: Can't get content or segments for build subscription segment widget!\"),[2])}})})},SubscriptionSegmentsWidget.prototype.showPopup=function(){this.pw._ee.emit(constants_1.EVENT_ON_SHOW_SUBSCRIPTION_WIDGET),this.popup.show()},SubscriptionSegmentsWidget.prototype.hidePopup=function(){this.popup.hide()},SubscriptionSegmentsWidget.prototype.getRichMediaUrlByInAppCode=function(code){return __awaiter(this,void 0,void 0,function(){var inApps,inApp;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.data.getInApps()];case 1:return(inApps=_a.sent())&&(inApp=inApps.find(function(inApp){return inApp.code===code}))?[2,inApp.url]:[2]}})})},SubscriptionSegmentsWidget.prototype.getInAppCode=function(){return __awaiter(this,void 0,void 0,function(){var application,hwid,userId,deviceType,deviceModel,language,version,timezone,date,time,timestampUTC,timestampCurrent,response;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.data.getApplicationCode()];case 1:return application=_a.sent(),[4,this.data.getHwid()];case 2:return hwid=_a.sent(),[4,this.data.getUserId()];case 3:return userId=_a.sent(),[4,this.data.getDeviceType()];case 4:return deviceType=_a.sent(),[4,this.data.getDeviceModel()];case 5:return deviceModel=_a.sent(),[4,this.data.getLanguage()];case 6:return language=_a.sent(),[4,this.data.getSdkVersion()];case 7:return version=_a.sent(),timezone=60*-(new Date).getTimezoneOffset(),date=new Date,time=date.getTime(),timestampUTC=Math.floor(time/1e3),timestampCurrent=timestampUTC-date.getTimezoneOffset()/60*3600,[4,this.apiClient.postEvent({application:application,hwid:hwid,userId:userId||hwid,device_type:deviceType,device_model:deviceModel,language:language,v:version,timezone:timezone,timestampUTC:timestampUTC,timestampCurrent:timestampCurrent,event:\"Subscription Segments\",attributes:{}})];case 8:return[2,(response=_a.sent())&&response.code]}})})},SubscriptionSegmentsWidget.prototype.getSegments=function(){return __awaiter(this,void 0,void 0,function(){var features;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.data.getFeatures()];case 1:return[2,(features=_a.sent())&&features.channels]}})})},SubscriptionSegmentsWidget.prototype.getDynamicContent=function(url){return __awaiter(this,void 0,void 0,function(){var jszip,data,_a,_b;return __generator(this,function(_c){switch(_c.label){case 0:return[4,getZip_1.getZip(url)];case 1:return jszip=_c.sent(),_b=(_a=JSON).parse,[4,jszip.file(\"pushwoosh.json\").async(\"text\")];case 2:return[2,(data=_b.apply(_a,[_c.sent()]))&&data.localization&&data.default_language&&data.localization[data.default_language]]}})})},SubscriptionSegmentsWidget}();exports.SubscriptionSegmentsWidget=SubscriptionSegmentsWidget},function(module,exports,__nested_webpack_require_275606__){\"use strict\";function JSZip(){if(!(this instanceof JSZip))return new JSZip;if(arguments.length)throw new Error(\"The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.\");this.files={},this.comment=null,this.root=\"\",this.clone=function(){var newObj=new JSZip;for(var i in this)\"function\"!=typeof this[i]&&(newObj[i]=this[i]);return newObj}}JSZip.prototype=__nested_webpack_require_275606__(88),JSZip.prototype.loadAsync=__nested_webpack_require_275606__(121),JSZip.support=__nested_webpack_require_275606__(7),JSZip.defaults=__nested_webpack_require_275606__(61),JSZip.version=\"3.2.0\",JSZip.loadAsync=function(content,options){return(new JSZip).loadAsync(content,options)},JSZip.external=__nested_webpack_require_275606__(29),module.exports=JSZip},function(module,exports,__nested_webpack_require_276367__){\"use strict\";var utf8=__nested_webpack_require_276367__(16),utils=__nested_webpack_require_276367__(0),GenericWorker=__nested_webpack_require_276367__(3),StreamHelper=__nested_webpack_require_276367__(60),defaults=__nested_webpack_require_276367__(61),CompressedObject=__nested_webpack_require_276367__(43),ZipObject=__nested_webpack_require_276367__(107),generate=__nested_webpack_require_276367__(108),nodejsUtils=__nested_webpack_require_276367__(35),NodejsStreamInputAdapter=__nested_webpack_require_276367__(120),fileAdd=function(name,data,originalOptions){var parent,dataType=utils.getTypeOf(data),o=utils.extend(originalOptions||{},defaults);o.date=o.date||new Date,null!==o.compression&&(o.compression=o.compression.toUpperCase()),\"string\"==typeof o.unixPermissions&&(o.unixPermissions=parseInt(o.unixPermissions,8)),o.unixPermissions&&16384&o.unixPermissions&&(o.dir=!0),o.dosPermissions&&16&o.dosPermissions&&(o.dir=!0),o.dir&&(name=forceTrailingSlash(name)),o.createFolders&&(parent=parentFolder(name))&&folderAdd.call(this,parent,!0);var isUnicodeString=\"string\"===dataType&&!1===o.binary&&!1===o.base64;originalOptions&&void 0!==originalOptions.binary||(o.binary=!isUnicodeString),(data instanceof CompressedObject&&0===data.uncompressedSize||o.dir||!data||0===data.length)&&(o.base64=!1,o.binary=!0,data=\"\",o.compression=\"STORE\",dataType=\"string\");var zipObjectContent=null;zipObjectContent=data instanceof CompressedObject||data instanceof GenericWorker?data:nodejsUtils.isNode&&nodejsUtils.isStream(data)?new NodejsStreamInputAdapter(name,data):utils.prepareContent(name,data,o.binary,o.optimizedBinaryString,o.base64);var object=new ZipObject(name,zipObjectContent,o);this.files[name]=object},parentFolder=function(path){\"/\"===path.slice(-1)&&(path=path.substring(0,path.length-1));var lastSlash=path.lastIndexOf(\"/\");return lastSlash>0?path.substring(0,lastSlash):\"\"},forceTrailingSlash=function(path){return\"/\"!==path.slice(-1)&&(path+=\"/\"),path},folderAdd=function(name,createFolders){return createFolders=void 0!==createFolders?createFolders:defaults.createFolders,name=forceTrailingSlash(name),this.files[name]||fileAdd.call(this,name,null,{dir:!0,createFolders:createFolders}),this.files[name]};function isRegExp(object){return\"[object RegExp]\"===Object.prototype.toString.call(object)}var out={load:function(){throw new Error(\"This method has been removed in JSZip 3.0, please check the upgrade guide.\")},forEach:function(cb){var filename,relativePath,file;for(filename in this.files)this.files.hasOwnProperty(filename)&&(file=this.files[filename],(relativePath=filename.slice(this.root.length,filename.length))&&filename.slice(0,this.root.length)===this.root&&cb(relativePath,file))},filter:function(search){var result=[];return this.forEach(function(relativePath,entry){search(relativePath,entry)&&result.push(entry)}),result},file:function(name,data,o){if(1===arguments.length){if(isRegExp(name)){var regexp=name;return this.filter(function(relativePath,file){return!file.dir&&regexp.test(relativePath)})}var obj=this.files[this.root+name];return obj&&!obj.dir?obj:null}return name=this.root+name,fileAdd.call(this,name,data,o),this},folder:function(arg){if(!arg)return this;if(isRegExp(arg))return this.filter(function(relativePath,file){return file.dir&&arg.test(relativePath)});var name=this.root+arg,newFolder=folderAdd.call(this,name),ret=this.clone();return ret.root=newFolder.name,ret},remove:function(name){name=this.root+name;var file=this.files[name];if(file||(\"/\"!==name.slice(-1)&&(name+=\"/\"),file=this.files[name]),file&&!file.dir)delete this.files[name];else for(var kids=this.filter(function(relativePath,file){return file.name.slice(0,name.length)===name}),i=0;i<kids.length;i++)delete this.files[kids[i].name];return this},generate:function(options){throw new Error(\"This method has been removed in JSZip 3.0, please check the upgrade guide.\")},generateInternalStream:function(options){var worker,opts={};try{if((opts=utils.extend(options||{},{streamFiles:!1,compression:\"STORE\",compressionOptions:null,type:\"\",platform:\"DOS\",comment:null,mimeType:\"application/zip\",encodeFileName:utf8.utf8encode})).type=opts.type.toLowerCase(),opts.compression=opts.compression.toUpperCase(),\"binarystring\"===opts.type&&(opts.type=\"string\"),!opts.type)throw new Error(\"No output type specified.\");utils.checkSupport(opts.type),\"darwin\"!==opts.platform&&\"freebsd\"!==opts.platform&&\"linux\"!==opts.platform&&\"sunos\"!==opts.platform||(opts.platform=\"UNIX\"),\"win32\"===opts.platform&&(opts.platform=\"DOS\");var comment=opts.comment||this.comment||\"\";worker=generate.generateWorker(this,opts,comment)}catch(e){(worker=new GenericWorker(\"error\")).error(e)}return new StreamHelper(worker,opts.type||\"string\",opts.mimeType)},generateAsync:function(options,onUpdate){return this.generateInternalStream(options).accumulate(onUpdate)},generateNodeStream:function(options,onUpdate){return(options=options||{}).type||(options.type=\"nodebuffer\"),this.generateInternalStream(options).toNodejsStream(onUpdate)}};module.exports=out},function(module,exports,__webpack_require__){\"use strict\";exports.byteLength=function(b64){var lens=getLens(b64),validLen=lens[0],placeHoldersLen=lens[1];return 3*(validLen+placeHoldersLen)/4-placeHoldersLen},exports.toByteArray=function(b64){var tmp,i,lens=getLens(b64),validLen=lens[0],placeHoldersLen=lens[1],arr=new Arr(function(b64,validLen,placeHoldersLen){return 3*(validLen+placeHoldersLen)/4-placeHoldersLen}(0,validLen,placeHoldersLen)),curByte=0,len=placeHoldersLen>0?validLen-4:validLen;for(i=0;i<len;i+=4)tmp=revLookup[b64.charCodeAt(i)]<<18|revLookup[b64.charCodeAt(i+1)]<<12|revLookup[b64.charCodeAt(i+2)]<<6|revLookup[b64.charCodeAt(i+3)],arr[curByte++]=tmp>>16&255,arr[curByte++]=tmp>>8&255,arr[curByte++]=255&tmp;2===placeHoldersLen&&(tmp=revLookup[b64.charCodeAt(i)]<<2|revLookup[b64.charCodeAt(i+1)]>>4,arr[curByte++]=255&tmp);1===placeHoldersLen&&(tmp=revLookup[b64.charCodeAt(i)]<<10|revLookup[b64.charCodeAt(i+1)]<<4|revLookup[b64.charCodeAt(i+2)]>>2,arr[curByte++]=tmp>>8&255,arr[curByte++]=255&tmp);return arr},exports.fromByteArray=function(uint8){for(var tmp,len=uint8.length,extraBytes=len%3,parts=[],i=0,len2=len-extraBytes;i<len2;i+=16383)parts.push(encodeChunk(uint8,i,i+16383>len2?len2:i+16383));1===extraBytes?(tmp=uint8[len-1],parts.push(lookup[tmp>>2]+lookup[tmp<<4&63]+\"==\")):2===extraBytes&&(tmp=(uint8[len-2]<<8)+uint8[len-1],parts.push(lookup[tmp>>10]+lookup[tmp>>4&63]+lookup[tmp<<2&63]+\"=\"));return parts.join(\"\")};for(var lookup=[],revLookup=[],Arr=\"undefined\"!=typeof Uint8Array?Uint8Array:Array,code=\"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/\",i=0,len=code.length;i<len;++i)lookup[i]=code[i],revLookup[code.charCodeAt(i)]=i;function getLens(b64){var len=b64.length;if(len%4>0)throw new Error(\"Invalid string. Length must be a multiple of 4\");var validLen=b64.indexOf(\"=\");return-1===validLen&&(validLen=len),[validLen,validLen===len?0:4-validLen%4]}function tripletToBase64(num){return lookup[num>>18&63]+lookup[num>>12&63]+lookup[num>>6&63]+lookup[63&num]}function encodeChunk(uint8,start,end){for(var tmp,output=[],i=start;i<end;i+=3)tmp=(uint8[i]<<16&16711680)+(uint8[i+1]<<8&65280)+(255&uint8[i+2]),output.push(tripletToBase64(tmp));return output.join(\"\")}revLookup[\"-\".charCodeAt(0)]=62,revLookup[\"_\".charCodeAt(0)]=63},function(module,exports){\n/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */\nexports.read=function(buffer,offset,isLE,mLen,nBytes){var e,m,eLen=8*nBytes-mLen-1,eMax=(1<<eLen)-1,eBias=eMax>>1,nBits=-7,i=isLE?nBytes-1:0,d=isLE?-1:1,s=buffer[offset+i];for(i+=d,e=s&(1<<-nBits)-1,s>>=-nBits,nBits+=eLen;nBits>0;e=256*e+buffer[offset+i],i+=d,nBits-=8);for(m=e&(1<<-nBits)-1,e>>=-nBits,nBits+=mLen;nBits>0;m=256*m+buffer[offset+i],i+=d,nBits-=8);if(0===e)e=1-eBias;else{if(e===eMax)return m?NaN:1/0*(s?-1:1);m+=Math.pow(2,mLen),e-=eBias}return(s?-1:1)*m*Math.pow(2,e-mLen)},exports.write=function(buffer,value,offset,isLE,mLen,nBytes){var e,m,c,eLen=8*nBytes-mLen-1,eMax=(1<<eLen)-1,eBias=eMax>>1,rt=23===mLen?Math.pow(2,-24)-Math.pow(2,-77):0,i=isLE?0:nBytes-1,d=isLE?1:-1,s=value<0||0===value&&1/value<0?1:0;for(value=Math.abs(value),isNaN(value)||value===1/0?(m=isNaN(value)?1:0,e=eMax):(e=Math.floor(Math.log(value)/Math.LN2),value*(c=Math.pow(2,-e))<1&&(e--,c*=2),(value+=e+eBias>=1?rt/c:rt*Math.pow(2,1-eBias))*c>=2&&(e++,c/=2),e+eBias>=eMax?(m=0,e=eMax):e+eBias>=1?(m=(value*c-1)*Math.pow(2,mLen),e+=eBias):(m=value*Math.pow(2,eBias-1)*Math.pow(2,mLen),e=0));mLen>=8;buffer[offset+i]=255&m,i+=d,m/=256,mLen-=8);for(e=e<<mLen|m,eLen+=mLen;eLen>0;buffer[offset+i]=255&e,i+=d,e/=256,eLen-=8);buffer[offset+i-d]|=128*s}},function(module,exports,__nested_webpack_require_284963__){module.exports=Stream;var EE=__nested_webpack_require_284963__(40).EventEmitter;function Stream(){EE.call(this)}__nested_webpack_require_284963__(17)(Stream,EE),Stream.Readable=__nested_webpack_require_284963__(41),Stream.Writable=__nested_webpack_require_284963__(98),Stream.Duplex=__nested_webpack_require_284963__(99),Stream.Transform=__nested_webpack_require_284963__(100),Stream.PassThrough=__nested_webpack_require_284963__(101),Stream.Stream=Stream,Stream.prototype.pipe=function(dest,options){var source=this;function ondata(chunk){dest.writable&&!1===dest.write(chunk)&&source.pause&&source.pause()}function ondrain(){source.readable&&source.resume&&source.resume()}source.on(\"data\",ondata),dest.on(\"drain\",ondrain),dest._isStdio||options&&!1===options.end||(source.on(\"end\",onend),source.on(\"close\",onclose));var didOnEnd=!1;function onend(){didOnEnd||(didOnEnd=!0,dest.end())}function onclose(){didOnEnd||(didOnEnd=!0,\"function\"==typeof dest.destroy&&dest.destroy())}function onerror(er){if(cleanup(),0===EE.listenerCount(this,\"error\"))throw er}function cleanup(){source.removeListener(\"data\",ondata),dest.removeListener(\"drain\",ondrain),source.removeListener(\"end\",onend),source.removeListener(\"close\",onclose),source.removeListener(\"error\",onerror),dest.removeListener(\"error\",onerror),source.removeListener(\"end\",cleanup),source.removeListener(\"close\",cleanup),dest.removeListener(\"close\",cleanup)}return source.on(\"error\",onerror),dest.on(\"error\",onerror),source.on(\"end\",cleanup),source.on(\"close\",cleanup),dest.on(\"close\",cleanup),dest.emit(\"pipe\",source),dest}},function(module,exports){},function(module,exports,__nested_webpack_require_286517__){\"use strict\";var Buffer=__nested_webpack_require_286517__(34).Buffer,util=__nested_webpack_require_286517__(94);function copyBuffer(src,target,offset){src.copy(target,offset)}module.exports=function(){function BufferList(){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError(\"Cannot call a class as a function\")}(this,BufferList),this.head=null,this.tail=null,this.length=0}return BufferList.prototype.push=function(v){var entry={data:v,next:null};this.length>0?this.tail.next=entry:this.head=entry,this.tail=entry,++this.length},BufferList.prototype.unshift=function(v){var entry={data:v,next:this.head};0===this.length&&(this.tail=entry),this.head=entry,++this.length},BufferList.prototype.shift=function(){if(0!==this.length){var ret=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,ret}},BufferList.prototype.clear=function(){this.head=this.tail=null,this.length=0},BufferList.prototype.join=function(s){if(0===this.length)return\"\";for(var p=this.head,ret=\"\"+p.data;p=p.next;)ret+=s+p.data;return ret},BufferList.prototype.concat=function(n){if(0===this.length)return Buffer.alloc(0);if(1===this.length)return this.head.data;for(var ret=Buffer.allocUnsafe(n>>>0),p=this.head,i=0;p;)copyBuffer(p.data,ret,i),i+=p.data.length,p=p.next;return ret},BufferList}(),util&&util.inspect&&util.inspect.custom&&(module.exports.prototype[util.inspect.custom]=function(){var obj=util.inspect({length:this.length});return this.constructor.name+\" \"+obj})},function(module,exports){},function(module,exports,__nested_webpack_require_288097__){(function(global,process){!function(global,undefined){\"use strict\";if(!global.setImmediate){var registerImmediate,nextHandle=1,tasksByHandle={},currentlyRunningATask=!1,doc=global.document,attachTo=Object.getPrototypeOf&&Object.getPrototypeOf(global);attachTo=attachTo&&attachTo.setTimeout?attachTo:global,\"[object process]\"==={}.toString.call(global.process)?registerImmediate=function(handle){process.nextTick(function(){runIfPresent(handle)})}:function(){if(global.postMessage&&!global.importScripts){var postMessageIsAsynchronous=!0,oldOnMessage=global.onmessage;return global.onmessage=function(){postMessageIsAsynchronous=!1},global.postMessage(\"\",\"*\"),global.onmessage=oldOnMessage,postMessageIsAsynchronous}}()?function(){var messagePrefix=\"setImmediate$\"+Math.random()+\"$\",onGlobalMessage=function(event){event.source===global&&\"string\"==typeof event.data&&0===event.data.indexOf(messagePrefix)&&runIfPresent(+event.data.slice(messagePrefix.length))};global.addEventListener?global.addEventListener(\"message\",onGlobalMessage,!1):global.attachEvent(\"onmessage\",onGlobalMessage),registerImmediate=function(handle){global.postMessage(messagePrefix+handle,\"*\")}}():global.MessageChannel?function(){var channel=new MessageChannel;channel.port1.onmessage=function(event){runIfPresent(event.data)},registerImmediate=function(handle){channel.port2.postMessage(handle)}}():doc&&\"onreadystatechange\"in doc.createElement(\"script\")?function(){var html=doc.documentElement;registerImmediate=function(handle){var script=doc.createElement(\"script\");script.onreadystatechange=function(){runIfPresent(handle),script.onreadystatechange=null,html.removeChild(script),script=null},html.appendChild(script)}}():registerImmediate=function(handle){setTimeout(runIfPresent,0,handle)},attachTo.setImmediate=function(callback){\"function\"!=typeof callback&&(callback=new Function(\"\"+callback));for(var args=new Array(arguments.length-1),i=0;i<args.length;i++)args[i]=arguments[i+1];var task={callback:callback,args:args};return tasksByHandle[nextHandle]=task,registerImmediate(nextHandle),nextHandle++},attachTo.clearImmediate=clearImmediate}function clearImmediate(handle){delete tasksByHandle[handle]}function runIfPresent(handle){if(currentlyRunningATask)setTimeout(runIfPresent,0,handle);else{var task=tasksByHandle[handle];if(task){currentlyRunningATask=!0;try{!function(task){var callback=task.callback,args=task.args;switch(args.length){case 0:callback();break;case 1:callback(args[0]);break;case 2:callback(args[0],args[1]);break;case 3:callback(args[0],args[1],args[2]);break;default:callback.apply(undefined,args)}}(task)}finally{clearImmediate(handle),currentlyRunningATask=!1}}}}}(\"undefined\"==typeof self?void 0===global?this:global:self)}).call(this,__nested_webpack_require_288097__(14),__nested_webpack_require_288097__(27))},function(module,exports,__nested_webpack_require_290938__){(function(global){function config(name){try{if(!global.localStorage)return!1}catch(_){return!1}var val=global.localStorage[name];return null!=val&&\"true\"===String(val).toLowerCase()}module.exports=function(fn,msg){if(config(\"noDeprecation\"))return fn;var warned=!1;return function(){if(!warned){if(config(\"throwDeprecation\"))throw new Error(msg);config(\"traceDeprecation\")?console.trace(msg):console.warn(msg),warned=!0}return fn.apply(this,arguments)}}}).call(this,__nested_webpack_require_290938__(14))},function(module,exports,__nested_webpack_require_291475__){\"use strict\";module.exports=PassThrough;var Transform=__nested_webpack_require_291475__(58),util=Object.create(__nested_webpack_require_291475__(28));function PassThrough(options){if(!(this instanceof PassThrough))return new PassThrough(options);Transform.call(this,options)}util.inherits=__nested_webpack_require_291475__(17),util.inherits(PassThrough,Transform),PassThrough.prototype._transform=function(chunk,encoding,cb){cb(null,chunk)}},function(module,exports,__nested_webpack_require_291920__){module.exports=__nested_webpack_require_291920__(42)},function(module,exports,__nested_webpack_require_292005__){module.exports=__nested_webpack_require_292005__(15)},function(module,exports,__nested_webpack_require_292090__){module.exports=__nested_webpack_require_292090__(41).Transform},function(module,exports,__nested_webpack_require_292185__){module.exports=__nested_webpack_require_292185__(41).PassThrough},function(module,exports,__nested_webpack_require_292282__){\"use strict\";(function(setImmediate){module.exports=\"function\"==typeof setImmediate?setImmediate:function(){var args=[].slice.apply(arguments);args.splice(1,0,0),setTimeout.apply(null,args)}}).call(this,__nested_webpack_require_292282__(56).setImmediate)},function(module,exports,__nested_webpack_require_292569__){\"use strict\";var immediate=__nested_webpack_require_292569__(104);function INTERNAL(){}var handlers={},REJECTED=[\"REJECTED\"],FULFILLED=[\"FULFILLED\"],PENDING=[\"PENDING\"];function Promise(resolver){if(\"function\"!=typeof resolver)throw new TypeError(\"resolver must be a function\");this.state=PENDING,this.queue=[],this.outcome=void 0,resolver!==INTERNAL&&safelyResolveThenable(this,resolver)}function QueueItem(promise,onFulfilled,onRejected){this.promise=promise,\"function\"==typeof onFulfilled&&(this.onFulfilled=onFulfilled,this.callFulfilled=this.otherCallFulfilled),\"function\"==typeof onRejected&&(this.onRejected=onRejected,this.callRejected=this.otherCallRejected)}function unwrap(promise,func,value){immediate(function(){var returnValue;try{returnValue=func(value)}catch(e){return handlers.reject(promise,e)}returnValue===promise?handlers.reject(promise,new TypeError(\"Cannot resolve promise with itself\")):handlers.resolve(promise,returnValue)})}function getThen(obj){var then=obj&&obj.then;if(obj&&(\"object\"==typeof obj||\"function\"==typeof obj)&&\"function\"==typeof then)return function(){then.apply(obj,arguments)}}function safelyResolveThenable(self,thenable){var called=!1;function onError(value){called||(called=!0,handlers.reject(self,value))}function onSuccess(value){called||(called=!0,handlers.resolve(self,value))}var result=tryCatch(function(){thenable(onSuccess,onError)});\"error\"===result.status&&onError(result.value)}function tryCatch(func,value){var out={};try{out.value=func(value),out.status=\"success\"}catch(e){out.status=\"error\",out.value=e}return out}module.exports=Promise,Promise.prototype.finally=function(callback){if(\"function\"!=typeof callback)return this;var p=this.constructor;return this.then(function(value){return p.resolve(callback()).then(function(){return value})},function(reason){return p.resolve(callback()).then(function(){throw reason})})},Promise.prototype.catch=function(onRejected){return this.then(null,onRejected)},Promise.prototype.then=function(onFulfilled,onRejected){if(\"function\"!=typeof onFulfilled&&this.state===FULFILLED||\"function\"!=typeof onRejected&&this.state===REJECTED)return this;var promise=new this.constructor(INTERNAL);this.state!==PENDING?unwrap(promise,this.state===FULFILLED?onFulfilled:onRejected,this.outcome):this.queue.push(new QueueItem(promise,onFulfilled,onRejected));return promise},QueueItem.prototype.callFulfilled=function(value){handlers.resolve(this.promise,value)},QueueItem.prototype.otherCallFulfilled=function(value){unwrap(this.promise,this.onFulfilled,value)},QueueItem.prototype.callRejected=function(value){handlers.reject(this.promise,value)},QueueItem.prototype.otherCallRejected=function(value){unwrap(this.promise,this.onRejected,value)},handlers.resolve=function(self,value){var result=tryCatch(getThen,value);if(\"error\"===result.status)return handlers.reject(self,result.value);var thenable=result.value;if(thenable)safelyResolveThenable(self,thenable);else{self.state=FULFILLED,self.outcome=value;for(var i=-1,len=self.queue.length;++i<len;)self.queue[i].callFulfilled(value)}return self},handlers.reject=function(self,error){self.state=REJECTED,self.outcome=error;for(var i=-1,len=self.queue.length;++i<len;)self.queue[i].callRejected(error);return self},Promise.resolve=function(value){if(value instanceof this)return value;return handlers.resolve(new this(INTERNAL),value)},Promise.reject=function(reason){var promise=new this(INTERNAL);return handlers.reject(promise,reason)},Promise.all=function(iterable){var self=this;if(\"[object Array]\"!==Object.prototype.toString.call(iterable))return this.reject(new TypeError(\"must be an array\"));var len=iterable.length,called=!1;if(!len)return this.resolve([]);var values=new Array(len),resolved=0,i=-1,promise=new this(INTERNAL);for(;++i<len;)allResolver(iterable[i],i);return promise;function allResolver(value,i){self.resolve(value).then(function(outValue){values[i]=outValue,++resolved!==len||called||(called=!0,handlers.resolve(promise,values))},function(error){called||(called=!0,handlers.reject(promise,error))})}},Promise.race=function(iterable){var self=this;if(\"[object Array]\"!==Object.prototype.toString.call(iterable))return this.reject(new TypeError(\"must be an array\"));var len=iterable.length,called=!1;if(!len)return this.resolve([]);var i=-1,promise=new this(INTERNAL);for(;++i<len;)resolver(iterable[i]);return promise;function resolver(value){self.resolve(value).then(function(response){called||(called=!0,handlers.resolve(promise,response))},function(error){called||(called=!0,handlers.reject(promise,error))})}}},function(module,exports,__nested_webpack_require_297180__){\"use strict\";(function(global){var scheduleDrain,draining,Mutation=global.MutationObserver||global.WebKitMutationObserver;if(Mutation){var called=0,observer=new Mutation(nextTick),element=global.document.createTextNode(\"\");observer.observe(element,{characterData:!0}),scheduleDrain=function(){element.data=called=++called%2}}else if(global.setImmediate||void 0===global.MessageChannel)scheduleDrain=\"document\"in global&&\"onreadystatechange\"in global.document.createElement(\"script\")?function(){var scriptEl=global.document.createElement(\"script\");scriptEl.onreadystatechange=function(){nextTick(),scriptEl.onreadystatechange=null,scriptEl.parentNode.removeChild(scriptEl),scriptEl=null},global.document.documentElement.appendChild(scriptEl)}:function(){setTimeout(nextTick,0)};else{var channel=new global.MessageChannel;channel.port1.onmessage=nextTick,scheduleDrain=function(){channel.port2.postMessage(0)}}var queue=[];function nextTick(){var i,oldQueue;draining=!0;for(var len=queue.length;len;){for(oldQueue=queue,queue=[],i=-1;++i<len;)oldQueue[i]();len=queue.length}draining=!1}module.exports=function(task){1!==queue.push(task)||draining||scheduleDrain()}}).call(this,__nested_webpack_require_297180__(14))},function(module,exports,__nested_webpack_require_298426__){\"use strict\";var GenericWorker=__nested_webpack_require_298426__(3),utils=__nested_webpack_require_298426__(0);function ConvertWorker(destType){GenericWorker.call(this,\"ConvertWorker to \"+destType),this.destType=destType}utils.inherits(ConvertWorker,GenericWorker),ConvertWorker.prototype.processChunk=function(chunk){this.push({data:utils.transformTo(this.destType,chunk.data),meta:chunk.meta})},module.exports=ConvertWorker},function(module,exports,__nested_webpack_require_298870__){\"use strict\";var Readable=__nested_webpack_require_298870__(52).Readable;function NodejsStreamOutputAdapter(helper,options,updateCb){Readable.call(this,options),this._helper=helper;var self=this;helper.on(\"data\",function(data,meta){self.push(data)||self._helper.pause(),updateCb&&updateCb(meta)}).on(\"error\",function(e){self.emit(\"error\",e)}).on(\"end\",function(){self.push(null)})}__nested_webpack_require_298870__(0).inherits(NodejsStreamOutputAdapter,Readable),NodejsStreamOutputAdapter.prototype._read=function(){this._helper.resume()},module.exports=NodejsStreamOutputAdapter},function(module,exports,__nested_webpack_require_299468__){\"use strict\";var StreamHelper=__nested_webpack_require_299468__(60),DataWorker=__nested_webpack_require_299468__(62),utf8=__nested_webpack_require_299468__(16),CompressedObject=__nested_webpack_require_299468__(43),GenericWorker=__nested_webpack_require_299468__(3),ZipObject=function(name,data,options){this.name=name,this.dir=options.dir,this.date=options.date,this.comment=options.comment,this.unixPermissions=options.unixPermissions,this.dosPermissions=options.dosPermissions,this._data=data,this._dataBinary=options.binary,this.options={compression:options.compression,compressionOptions:options.compressionOptions}};ZipObject.prototype={internalStream:function(type){var result=null,outputType=\"string\";try{if(!type)throw new Error(\"No output type specified.\");var askUnicodeString=\"string\"===(outputType=type.toLowerCase())||\"text\"===outputType;\"binarystring\"!==outputType&&\"text\"!==outputType||(outputType=\"string\"),result=this._decompressWorker();var isUnicodeString=!this._dataBinary;isUnicodeString&&!askUnicodeString&&(result=result.pipe(new utf8.Utf8EncodeWorker)),!isUnicodeString&&askUnicodeString&&(result=result.pipe(new utf8.Utf8DecodeWorker))}catch(e){(result=new GenericWorker(\"error\")).error(e)}return new StreamHelper(result,outputType,\"\")},async:function(type,onUpdate){return this.internalStream(type).accumulate(onUpdate)},nodeStream:function(type,onUpdate){return this.internalStream(type||\"nodebuffer\").toNodejsStream(onUpdate)},_compressWorker:function(compression,compressionOptions){if(this._data instanceof CompressedObject&&this._data.compression.magic===compression.magic)return this._data.getCompressedWorker();var result=this._decompressWorker();return this._dataBinary||(result=result.pipe(new utf8.Utf8EncodeWorker)),CompressedObject.createWorkerFrom(result,compression,compressionOptions)},_decompressWorker:function(){return this._data instanceof CompressedObject?this._data.getContentWorker():this._data instanceof GenericWorker?this._data:new DataWorker(this._data)}};for(var removedMethods=[\"asText\",\"asBinary\",\"asNodeBuffer\",\"asUint8Array\",\"asArrayBuffer\"],removedFn=function(){throw new Error(\"This method has been removed in JSZip 3.0, please check the upgrade guide.\")},i=0;i<removedMethods.length;i++)ZipObject.prototype[removedMethods[i]]=removedFn;module.exports=ZipObject},function(module,exports,__nested_webpack_require_301766__){\"use strict\";var compressions=__nested_webpack_require_301766__(65),ZipFileWorker=__nested_webpack_require_301766__(119);exports.generateWorker=function(zip,options,comment){var zipFileWorker=new ZipFileWorker(options.streamFiles,comment,options.platform,options.encodeFileName),entriesCount=0;try{zip.forEach(function(relativePath,file){entriesCount++;var compression=function(fileCompression,zipCompression){var compressionName=fileCompression||zipCompression,compression=compressions[compressionName];if(!compression)throw new Error(compressionName+\" is not a valid compression method !\");return compression}(file.options.compression,options.compression),compressionOptions=file.options.compressionOptions||options.compressionOptions||{},dir=file.dir,date=file.date;file._compressWorker(compression,compressionOptions).withStreamInfo(\"file\",{name:relativePath,dir:dir,date:date,comment:file.comment||\"\",unixPermissions:file.unixPermissions,dosPermissions:file.dosPermissions}).pipe(zipFileWorker)}),zipFileWorker.entriesCount=entriesCount}catch(e){zipFileWorker.error(e)}return zipFileWorker}},function(module,exports,__nested_webpack_require_302880__){\"use strict\";var USE_TYPEDARRAY=\"undefined\"!=typeof Uint8Array&&\"undefined\"!=typeof Uint16Array&&\"undefined\"!=typeof Uint32Array,pako=__nested_webpack_require_302880__(110),utils=__nested_webpack_require_302880__(0),GenericWorker=__nested_webpack_require_302880__(3),ARRAY_TYPE=USE_TYPEDARRAY?\"uint8array\":\"array\";function FlateWorker(action,options){GenericWorker.call(this,\"FlateWorker/\"+action),this._pako=null,this._pakoAction=action,this._pakoOptions=options,this.meta={}}exports.magic=\"\\b\\0\",utils.inherits(FlateWorker,GenericWorker),FlateWorker.prototype.processChunk=function(chunk){this.meta=chunk.meta,null===this._pako&&this._createPako(),this._pako.push(utils.transformTo(ARRAY_TYPE,chunk.data),!1)},FlateWorker.prototype.flush=function(){GenericWorker.prototype.flush.call(this),null===this._pako&&this._createPako(),this._pako.push([],!0)},FlateWorker.prototype.cleanUp=function(){GenericWorker.prototype.cleanUp.call(this),this._pako=null},FlateWorker.prototype._createPako=function(){this._pako=new pako[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var self=this;this._pako.onData=function(data){self.push({data:data,meta:self.meta})}},exports.compressWorker=function(compressionOptions){return new FlateWorker(\"Deflate\",compressionOptions)},exports.uncompressWorker=function(){return new FlateWorker(\"Inflate\",{})}},function(module,exports,__nested_webpack_require_304233__){\"use strict\";var pako={};(0,__nested_webpack_require_304233__(8).assign)(pako,__nested_webpack_require_304233__(111),__nested_webpack_require_304233__(114),__nested_webpack_require_304233__(70)),module.exports=pako},function(module,exports,__nested_webpack_require_304438__){\"use strict\";var zlib_deflate=__nested_webpack_require_304438__(112),utils=__nested_webpack_require_304438__(8),strings=__nested_webpack_require_304438__(68),msg=__nested_webpack_require_304438__(45),ZStream=__nested_webpack_require_304438__(69),toString=Object.prototype.toString,Z_OK=0,Z_DEFAULT_COMPRESSION=-1,Z_DEFAULT_STRATEGY=0,Z_DEFLATED=8;function Deflate(options){if(!(this instanceof Deflate))return new Deflate(options);this.options=utils.assign({level:Z_DEFAULT_COMPRESSION,method:Z_DEFLATED,chunkSize:16384,windowBits:15,memLevel:8,strategy:Z_DEFAULT_STRATEGY,to:\"\"},options||{});var opt=this.options;opt.raw&&opt.windowBits>0?opt.windowBits=-opt.windowBits:opt.gzip&&opt.windowBits>0&&opt.windowBits<16&&(opt.windowBits+=16),this.err=0,this.msg=\"\",this.ended=!1,this.chunks=[],this.strm=new ZStream,this.strm.avail_out=0;var status=zlib_deflate.deflateInit2(this.strm,opt.level,opt.method,opt.windowBits,opt.memLevel,opt.strategy);if(status!==Z_OK)throw new Error(msg[status]);if(opt.header&&zlib_deflate.deflateSetHeader(this.strm,opt.header),opt.dictionary){var dict;if(dict=\"string\"==typeof opt.dictionary?strings.string2buf(opt.dictionary):\"[object ArrayBuffer]\"===toString.call(opt.dictionary)?new Uint8Array(opt.dictionary):opt.dictionary,(status=zlib_deflate.deflateSetDictionary(this.strm,dict))!==Z_OK)throw new Error(msg[status]);this._dict_set=!0}}function deflate(input,options){var deflator=new Deflate(options);if(deflator.push(input,!0),deflator.err)throw deflator.msg||msg[deflator.err];return deflator.result}Deflate.prototype.push=function(data,mode){var status,_mode,strm=this.strm,chunkSize=this.options.chunkSize;if(this.ended)return!1;_mode=mode===~~mode?mode:!0===mode?4:0,\"string\"==typeof data?strm.input=strings.string2buf(data):\"[object ArrayBuffer]\"===toString.call(data)?strm.input=new Uint8Array(data):strm.input=data,strm.next_in=0,strm.avail_in=strm.input.length;do{if(0===strm.avail_out&&(strm.output=new utils.Buf8(chunkSize),strm.next_out=0,strm.avail_out=chunkSize),1!==(status=zlib_deflate.deflate(strm,_mode))&&status!==Z_OK)return this.onEnd(status),this.ended=!0,!1;0!==strm.avail_out&&(0!==strm.avail_in||4!==_mode&&2!==_mode)||(\"string\"===this.options.to?this.onData(strings.buf2binstring(utils.shrinkBuf(strm.output,strm.next_out))):this.onData(utils.shrinkBuf(strm.output,strm.next_out)))}while((strm.avail_in>0||0===strm.avail_out)&&1!==status);return 4===_mode?(status=zlib_deflate.deflateEnd(this.strm),this.onEnd(status),this.ended=!0,status===Z_OK):2!==_mode||(this.onEnd(Z_OK),strm.avail_out=0,!0)},Deflate.prototype.onData=function(chunk){this.chunks.push(chunk)},Deflate.prototype.onEnd=function(status){status===Z_OK&&(\"string\"===this.options.to?this.result=this.chunks.join(\"\"):this.result=utils.flattenChunks(this.chunks)),this.chunks=[],this.err=status,this.msg=this.strm.msg},exports.Deflate=Deflate,exports.deflate=deflate,exports.deflateRaw=function(input,options){return(options=options||{}).raw=!0,deflate(input,options)},exports.gzip=function(input,options){return(options=options||{}).gzip=!0,deflate(input,options)}},function(module,exports,__nested_webpack_require_307507__){\"use strict\";var configuration_table,utils=__nested_webpack_require_307507__(8),trees=__nested_webpack_require_307507__(113),adler32=__nested_webpack_require_307507__(66),crc32=__nested_webpack_require_307507__(67),msg=__nested_webpack_require_307507__(45),Z_NO_FLUSH=0,Z_PARTIAL_FLUSH=1,Z_FULL_FLUSH=3,Z_FINISH=4,Z_BLOCK=5,Z_OK=0,Z_STREAM_END=1,Z_STREAM_ERROR=-2,Z_DATA_ERROR=-3,Z_BUF_ERROR=-5,Z_DEFAULT_COMPRESSION=-1,Z_FILTERED=1,Z_HUFFMAN_ONLY=2,Z_RLE=3,Z_FIXED=4,Z_DEFAULT_STRATEGY=0,Z_UNKNOWN=2,Z_DEFLATED=8,MAX_MEM_LEVEL=9,MAX_WBITS=15,DEF_MEM_LEVEL=8,L_CODES=286,D_CODES=30,BL_CODES=19,HEAP_SIZE=2*L_CODES+1,MAX_BITS=15,MIN_MATCH=3,MAX_MATCH=258,MIN_LOOKAHEAD=MAX_MATCH+MIN_MATCH+1,PRESET_DICT=32,INIT_STATE=42,EXTRA_STATE=69,NAME_STATE=73,COMMENT_STATE=91,HCRC_STATE=103,BUSY_STATE=113,FINISH_STATE=666,BS_NEED_MORE=1,BS_BLOCK_DONE=2,BS_FINISH_STARTED=3,BS_FINISH_DONE=4,OS_CODE=3;function err(strm,errorCode){return strm.msg=msg[errorCode],errorCode}function rank(f){return(f<<1)-(f>4?9:0)}function zero(buf){for(var len=buf.length;--len>=0;)buf[len]=0}function flush_pending(strm){var s=strm.state,len=s.pending;len>strm.avail_out&&(len=strm.avail_out),0!==len&&(utils.arraySet(strm.output,s.pending_buf,s.pending_out,len,strm.next_out),strm.next_out+=len,s.pending_out+=len,strm.total_out+=len,strm.avail_out-=len,s.pending-=len,0===s.pending&&(s.pending_out=0))}function flush_block_only(s,last){trees._tr_flush_block(s,s.block_start>=0?s.block_start:-1,s.strstart-s.block_start,last),s.block_start=s.strstart,flush_pending(s.strm)}function put_byte(s,b){s.pending_buf[s.pending++]=b}function putShortMSB(s,b){s.pending_buf[s.pending++]=b>>>8&255,s.pending_buf[s.pending++]=255&b}function read_buf(strm,buf,start,size){var len=strm.avail_in;return len>size&&(len=size),0===len?0:(strm.avail_in-=len,utils.arraySet(buf,strm.input,strm.next_in,len,start),1===strm.state.wrap?strm.adler=adler32(strm.adler,buf,len,start):2===strm.state.wrap&&(strm.adler=crc32(strm.adler,buf,len,start)),strm.next_in+=len,strm.total_in+=len,len)}function longest_match(s,cur_match){var match,len,chain_length=s.max_chain_length,scan=s.strstart,best_len=s.prev_length,nice_match=s.nice_match,limit=s.strstart>s.w_size-MIN_LOOKAHEAD?s.strstart-(s.w_size-MIN_LOOKAHEAD):0,_win=s.window,wmask=s.w_mask,prev=s.prev,strend=s.strstart+MAX_MATCH,scan_end1=_win[scan+best_len-1],scan_end=_win[scan+best_len];s.prev_length>=s.good_match&&(chain_length>>=2),nice_match>s.lookahead&&(nice_match=s.lookahead);do{if(_win[(match=cur_match)+best_len]===scan_end&&_win[match+best_len-1]===scan_end1&&_win[match]===_win[scan]&&_win[++match]===_win[scan+1]){scan+=2,match++;do{}while(_win[++scan]===_win[++match]&&_win[++scan]===_win[++match]&&_win[++scan]===_win[++match]&&_win[++scan]===_win[++match]&&_win[++scan]===_win[++match]&&_win[++scan]===_win[++match]&&_win[++scan]===_win[++match]&&_win[++scan]===_win[++match]&&scan<strend);if(len=MAX_MATCH-(strend-scan),scan=strend-MAX_MATCH,len>best_len){if(s.match_start=cur_match,best_len=len,len>=nice_match)break;scan_end1=_win[scan+best_len-1],scan_end=_win[scan+best_len]}}}while((cur_match=prev[cur_match&wmask])>limit&&0!=--chain_length);return best_len<=s.lookahead?best_len:s.lookahead}function fill_window(s){var p,n,m,more,str,_w_size=s.w_size;do{if(more=s.window_size-s.lookahead-s.strstart,s.strstart>=_w_size+(_w_size-MIN_LOOKAHEAD)){utils.arraySet(s.window,s.window,_w_size,_w_size,0),s.match_start-=_w_size,s.strstart-=_w_size,s.block_start-=_w_size,p=n=s.hash_size;do{m=s.head[--p],s.head[p]=m>=_w_size?m-_w_size:0}while(--n);p=n=_w_size;do{m=s.prev[--p],s.prev[p]=m>=_w_size?m-_w_size:0}while(--n);more+=_w_size}if(0===s.strm.avail_in)break;if(n=read_buf(s.strm,s.window,s.strstart+s.lookahead,more),s.lookahead+=n,s.lookahead+s.insert>=MIN_MATCH)for(str=s.strstart-s.insert,s.ins_h=s.window[str],s.ins_h=(s.ins_h<<s.hash_shift^s.window[str+1])&s.hash_mask;s.insert&&(s.ins_h=(s.ins_h<<s.hash_shift^s.window[str+MIN_MATCH-1])&s.hash_mask,s.prev[str&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=str,str++,s.insert--,!(s.lookahead+s.insert<MIN_MATCH)););}while(s.lookahead<MIN_LOOKAHEAD&&0!==s.strm.avail_in)}function deflate_fast(s,flush){for(var hash_head,bflush;;){if(s.lookahead<MIN_LOOKAHEAD){if(fill_window(s),s.lookahead<MIN_LOOKAHEAD&&flush===Z_NO_FLUSH)return BS_NEED_MORE;if(0===s.lookahead)break}if(hash_head=0,s.lookahead>=MIN_MATCH&&(s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+MIN_MATCH-1])&s.hash_mask,hash_head=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=s.strstart),0!==hash_head&&s.strstart-hash_head<=s.w_size-MIN_LOOKAHEAD&&(s.match_length=longest_match(s,hash_head)),s.match_length>=MIN_MATCH)if(bflush=trees._tr_tally(s,s.strstart-s.match_start,s.match_length-MIN_MATCH),s.lookahead-=s.match_length,s.match_length<=s.max_lazy_match&&s.lookahead>=MIN_MATCH){s.match_length--;do{s.strstart++,s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+MIN_MATCH-1])&s.hash_mask,hash_head=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=s.strstart}while(0!=--s.match_length);s.strstart++}else s.strstart+=s.match_length,s.match_length=0,s.ins_h=s.window[s.strstart],s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+1])&s.hash_mask;else bflush=trees._tr_tally(s,0,s.window[s.strstart]),s.lookahead--,s.strstart++;if(bflush&&(flush_block_only(s,!1),0===s.strm.avail_out))return BS_NEED_MORE}return s.insert=s.strstart<MIN_MATCH-1?s.strstart:MIN_MATCH-1,flush===Z_FINISH?(flush_block_only(s,!0),0===s.strm.avail_out?BS_FINISH_STARTED:BS_FINISH_DONE):s.last_lit&&(flush_block_only(s,!1),0===s.strm.avail_out)?BS_NEED_MORE:BS_BLOCK_DONE}function deflate_slow(s,flush){for(var hash_head,bflush,max_insert;;){if(s.lookahead<MIN_LOOKAHEAD){if(fill_window(s),s.lookahead<MIN_LOOKAHEAD&&flush===Z_NO_FLUSH)return BS_NEED_MORE;if(0===s.lookahead)break}if(hash_head=0,s.lookahead>=MIN_MATCH&&(s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+MIN_MATCH-1])&s.hash_mask,hash_head=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=s.strstart),s.prev_length=s.match_length,s.prev_match=s.match_start,s.match_length=MIN_MATCH-1,0!==hash_head&&s.prev_length<s.max_lazy_match&&s.strstart-hash_head<=s.w_size-MIN_LOOKAHEAD&&(s.match_length=longest_match(s,hash_head),s.match_length<=5&&(s.strategy===Z_FILTERED||s.match_length===MIN_MATCH&&s.strstart-s.match_start>4096)&&(s.match_length=MIN_MATCH-1)),s.prev_length>=MIN_MATCH&&s.match_length<=s.prev_length){max_insert=s.strstart+s.lookahead-MIN_MATCH,bflush=trees._tr_tally(s,s.strstart-1-s.prev_match,s.prev_length-MIN_MATCH),s.lookahead-=s.prev_length-1,s.prev_length-=2;do{++s.strstart<=max_insert&&(s.ins_h=(s.ins_h<<s.hash_shift^s.window[s.strstart+MIN_MATCH-1])&s.hash_mask,hash_head=s.prev[s.strstart&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=s.strstart)}while(0!=--s.prev_length);if(s.match_available=0,s.match_length=MIN_MATCH-1,s.strstart++,bflush&&(flush_block_only(s,!1),0===s.strm.avail_out))return BS_NEED_MORE}else if(s.match_available){if((bflush=trees._tr_tally(s,0,s.window[s.strstart-1]))&&flush_block_only(s,!1),s.strstart++,s.lookahead--,0===s.strm.avail_out)return BS_NEED_MORE}else s.match_available=1,s.strstart++,s.lookahead--}return s.match_available&&(bflush=trees._tr_tally(s,0,s.window[s.strstart-1]),s.match_available=0),s.insert=s.strstart<MIN_MATCH-1?s.strstart:MIN_MATCH-1,flush===Z_FINISH?(flush_block_only(s,!0),0===s.strm.avail_out?BS_FINISH_STARTED:BS_FINISH_DONE):s.last_lit&&(flush_block_only(s,!1),0===s.strm.avail_out)?BS_NEED_MORE:BS_BLOCK_DONE}function Config(good_length,max_lazy,nice_length,max_chain,func){this.good_length=good_length,this.max_lazy=max_lazy,this.nice_length=nice_length,this.max_chain=max_chain,this.func=func}function deflateResetKeep(strm){var s;return strm&&strm.state?(strm.total_in=strm.total_out=0,strm.data_type=Z_UNKNOWN,(s=strm.state).pending=0,s.pending_out=0,s.wrap<0&&(s.wrap=-s.wrap),s.status=s.wrap?INIT_STATE:BUSY_STATE,strm.adler=2===s.wrap?0:1,s.last_flush=Z_NO_FLUSH,trees._tr_init(s),Z_OK):err(strm,Z_STREAM_ERROR)}function deflateReset(strm){var ret=deflateResetKeep(strm);return ret===Z_OK&&function(s){s.window_size=2*s.w_size,zero(s.head),s.max_lazy_match=configuration_table[s.level].max_lazy,s.good_match=configuration_table[s.level].good_length,s.nice_match=configuration_table[s.level].nice_length,s.max_chain_length=configuration_table[s.level].max_chain,s.strstart=0,s.block_start=0,s.lookahead=0,s.insert=0,s.match_length=s.prev_length=MIN_MATCH-1,s.match_available=0,s.ins_h=0}(strm.state),ret}function deflateInit2(strm,level,method,windowBits,memLevel,strategy){if(!strm)return Z_STREAM_ERROR;var wrap=1;if(level===Z_DEFAULT_COMPRESSION&&(level=6),windowBits<0?(wrap=0,windowBits=-windowBits):windowBits>15&&(wrap=2,windowBits-=16),memLevel<1||memLevel>MAX_MEM_LEVEL||method!==Z_DEFLATED||windowBits<8||windowBits>15||level<0||level>9||strategy<0||strategy>Z_FIXED)return err(strm,Z_STREAM_ERROR);8===windowBits&&(windowBits=9);var s=new function(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Z_DEFLATED,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new utils.Buf16(2*HEAP_SIZE),this.dyn_dtree=new utils.Buf16(2*(2*D_CODES+1)),this.bl_tree=new utils.Buf16(2*(2*BL_CODES+1)),zero(this.dyn_ltree),zero(this.dyn_dtree),zero(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new utils.Buf16(MAX_BITS+1),this.heap=new utils.Buf16(2*L_CODES+1),zero(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new utils.Buf16(2*L_CODES+1),zero(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0};return strm.state=s,s.strm=strm,s.wrap=wrap,s.gzhead=null,s.w_bits=windowBits,s.w_size=1<<s.w_bits,s.w_mask=s.w_size-1,s.hash_bits=memLevel+7,s.hash_size=1<<s.hash_bits,s.hash_mask=s.hash_size-1,s.hash_shift=~~((s.hash_bits+MIN_MATCH-1)/MIN_MATCH),s.window=new utils.Buf8(2*s.w_size),s.head=new utils.Buf16(s.hash_size),s.prev=new utils.Buf16(s.w_size),s.lit_bufsize=1<<memLevel+6,s.pending_buf_size=4*s.lit_bufsize,s.pending_buf=new utils.Buf8(s.pending_buf_size),s.d_buf=1*s.lit_bufsize,s.l_buf=3*s.lit_bufsize,s.level=level,s.strategy=strategy,s.method=method,deflateReset(strm)}configuration_table=[new Config(0,0,0,0,function(s,flush){var max_block_size=65535;for(max_block_size>s.pending_buf_size-5&&(max_block_size=s.pending_buf_size-5);;){if(s.lookahead<=1){if(fill_window(s),0===s.lookahead&&flush===Z_NO_FLUSH)return BS_NEED_MORE;if(0===s.lookahead)break}s.strstart+=s.lookahead,s.lookahead=0;var max_start=s.block_start+max_block_size;if((0===s.strstart||s.strstart>=max_start)&&(s.lookahead=s.strstart-max_start,s.strstart=max_start,flush_block_only(s,!1),0===s.strm.avail_out))return BS_NEED_MORE;if(s.strstart-s.block_start>=s.w_size-MIN_LOOKAHEAD&&(flush_block_only(s,!1),0===s.strm.avail_out))return BS_NEED_MORE}return s.insert=0,flush===Z_FINISH?(flush_block_only(s,!0),0===s.strm.avail_out?BS_FINISH_STARTED:BS_FINISH_DONE):(s.strstart>s.block_start&&(flush_block_only(s,!1),s.strm.avail_out),BS_NEED_MORE)}),new Config(4,4,8,4,deflate_fast),new Config(4,5,16,8,deflate_fast),new Config(4,6,32,32,deflate_fast),new Config(4,4,16,16,deflate_slow),new Config(8,16,32,32,deflate_slow),new Config(8,16,128,128,deflate_slow),new Config(8,32,128,256,deflate_slow),new Config(32,128,258,1024,deflate_slow),new Config(32,258,258,4096,deflate_slow)],exports.deflateInit=function(strm,level){return deflateInit2(strm,level,Z_DEFLATED,MAX_WBITS,DEF_MEM_LEVEL,Z_DEFAULT_STRATEGY)},exports.deflateInit2=deflateInit2,exports.deflateReset=deflateReset,exports.deflateResetKeep=deflateResetKeep,exports.deflateSetHeader=function(strm,head){return strm&&strm.state?2!==strm.state.wrap?Z_STREAM_ERROR:(strm.state.gzhead=head,Z_OK):Z_STREAM_ERROR},exports.deflate=function(strm,flush){var old_flush,s,beg,val;if(!strm||!strm.state||flush>Z_BLOCK||flush<0)return strm?err(strm,Z_STREAM_ERROR):Z_STREAM_ERROR;if(s=strm.state,!strm.output||!strm.input&&0!==strm.avail_in||s.status===FINISH_STATE&&flush!==Z_FINISH)return err(strm,0===strm.avail_out?Z_BUF_ERROR:Z_STREAM_ERROR);if(s.strm=strm,old_flush=s.last_flush,s.last_flush=flush,s.status===INIT_STATE)if(2===s.wrap)strm.adler=0,put_byte(s,31),put_byte(s,139),put_byte(s,8),s.gzhead?(put_byte(s,(s.gzhead.text?1:0)+(s.gzhead.hcrc?2:0)+(s.gzhead.extra?4:0)+(s.gzhead.name?8:0)+(s.gzhead.comment?16:0)),put_byte(s,255&s.gzhead.time),put_byte(s,s.gzhead.time>>8&255),put_byte(s,s.gzhead.time>>16&255),put_byte(s,s.gzhead.time>>24&255),put_byte(s,9===s.level?2:s.strategy>=Z_HUFFMAN_ONLY||s.level<2?4:0),put_byte(s,255&s.gzhead.os),s.gzhead.extra&&s.gzhead.extra.length&&(put_byte(s,255&s.gzhead.extra.length),put_byte(s,s.gzhead.extra.length>>8&255)),s.gzhead.hcrc&&(strm.adler=crc32(strm.adler,s.pending_buf,s.pending,0)),s.gzindex=0,s.status=EXTRA_STATE):(put_byte(s,0),put_byte(s,0),put_byte(s,0),put_byte(s,0),put_byte(s,0),put_byte(s,9===s.level?2:s.strategy>=Z_HUFFMAN_ONLY||s.level<2?4:0),put_byte(s,OS_CODE),s.status=BUSY_STATE);else{var header=Z_DEFLATED+(s.w_bits-8<<4)<<8;header|=(s.strategy>=Z_HUFFMAN_ONLY||s.level<2?0:s.level<6?1:6===s.level?2:3)<<6,0!==s.strstart&&(header|=PRESET_DICT),header+=31-header%31,s.status=BUSY_STATE,putShortMSB(s,header),0!==s.strstart&&(putShortMSB(s,strm.adler>>>16),putShortMSB(s,65535&strm.adler)),strm.adler=1}if(s.status===EXTRA_STATE)if(s.gzhead.extra){for(beg=s.pending;s.gzindex<(65535&s.gzhead.extra.length)&&(s.pending!==s.pending_buf_size||(s.gzhead.hcrc&&s.pending>beg&&(strm.adler=crc32(strm.adler,s.pending_buf,s.pending-beg,beg)),flush_pending(strm),beg=s.pending,s.pending!==s.pending_buf_size));)put_byte(s,255&s.gzhead.extra[s.gzindex]),s.gzindex++;s.gzhead.hcrc&&s.pending>beg&&(strm.adler=crc32(strm.adler,s.pending_buf,s.pending-beg,beg)),s.gzindex===s.gzhead.extra.length&&(s.gzindex=0,s.status=NAME_STATE)}else s.status=NAME_STATE;if(s.status===NAME_STATE)if(s.gzhead.name){beg=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>beg&&(strm.adler=crc32(strm.adler,s.pending_buf,s.pending-beg,beg)),flush_pending(strm),beg=s.pending,s.pending===s.pending_buf_size)){val=1;break}val=s.gzindex<s.gzhead.name.length?255&s.gzhead.name.charCodeAt(s.gzindex++):0,put_byte(s,val)}while(0!==val);s.gzhead.hcrc&&s.pending>beg&&(strm.adler=crc32(strm.adler,s.pending_buf,s.pending-beg,beg)),0===val&&(s.gzindex=0,s.status=COMMENT_STATE)}else s.status=COMMENT_STATE;if(s.status===COMMENT_STATE)if(s.gzhead.comment){beg=s.pending;do{if(s.pending===s.pending_buf_size&&(s.gzhead.hcrc&&s.pending>beg&&(strm.adler=crc32(strm.adler,s.pending_buf,s.pending-beg,beg)),flush_pending(strm),beg=s.pending,s.pending===s.pending_buf_size)){val=1;break}val=s.gzindex<s.gzhead.comment.length?255&s.gzhead.comment.charCodeAt(s.gzindex++):0,put_byte(s,val)}while(0!==val);s.gzhead.hcrc&&s.pending>beg&&(strm.adler=crc32(strm.adler,s.pending_buf,s.pending-beg,beg)),0===val&&(s.status=HCRC_STATE)}else s.status=HCRC_STATE;if(s.status===HCRC_STATE&&(s.gzhead.hcrc?(s.pending+2>s.pending_buf_size&&flush_pending(strm),s.pending+2<=s.pending_buf_size&&(put_byte(s,255&strm.adler),put_byte(s,strm.adler>>8&255),strm.adler=0,s.status=BUSY_STATE)):s.status=BUSY_STATE),0!==s.pending){if(flush_pending(strm),0===strm.avail_out)return s.last_flush=-1,Z_OK}else if(0===strm.avail_in&&rank(flush)<=rank(old_flush)&&flush!==Z_FINISH)return err(strm,Z_BUF_ERROR);if(s.status===FINISH_STATE&&0!==strm.avail_in)return err(strm,Z_BUF_ERROR);if(0!==strm.avail_in||0!==s.lookahead||flush!==Z_NO_FLUSH&&s.status!==FINISH_STATE){var bstate=s.strategy===Z_HUFFMAN_ONLY?function(s,flush){for(var bflush;;){if(0===s.lookahead&&(fill_window(s),0===s.lookahead)){if(flush===Z_NO_FLUSH)return BS_NEED_MORE;break}if(s.match_length=0,bflush=trees._tr_tally(s,0,s.window[s.strstart]),s.lookahead--,s.strstart++,bflush&&(flush_block_only(s,!1),0===s.strm.avail_out))return BS_NEED_MORE}return s.insert=0,flush===Z_FINISH?(flush_block_only(s,!0),0===s.strm.avail_out?BS_FINISH_STARTED:BS_FINISH_DONE):s.last_lit&&(flush_block_only(s,!1),0===s.strm.avail_out)?BS_NEED_MORE:BS_BLOCK_DONE}(s,flush):s.strategy===Z_RLE?function(s,flush){for(var bflush,prev,scan,strend,_win=s.window;;){if(s.lookahead<=MAX_MATCH){if(fill_window(s),s.lookahead<=MAX_MATCH&&flush===Z_NO_FLUSH)return BS_NEED_MORE;if(0===s.lookahead)break}if(s.match_length=0,s.lookahead>=MIN_MATCH&&s.strstart>0&&(prev=_win[scan=s.strstart-1])===_win[++scan]&&prev===_win[++scan]&&prev===_win[++scan]){strend=s.strstart+MAX_MATCH;do{}while(prev===_win[++scan]&&prev===_win[++scan]&&prev===_win[++scan]&&prev===_win[++scan]&&prev===_win[++scan]&&prev===_win[++scan]&&prev===_win[++scan]&&prev===_win[++scan]&&scan<strend);s.match_length=MAX_MATCH-(strend-scan),s.match_length>s.lookahead&&(s.match_length=s.lookahead)}if(s.match_length>=MIN_MATCH?(bflush=trees._tr_tally(s,1,s.match_length-MIN_MATCH),s.lookahead-=s.match_length,s.strstart+=s.match_length,s.match_length=0):(bflush=trees._tr_tally(s,0,s.window[s.strstart]),s.lookahead--,s.strstart++),bflush&&(flush_block_only(s,!1),0===s.strm.avail_out))return BS_NEED_MORE}return s.insert=0,flush===Z_FINISH?(flush_block_only(s,!0),0===s.strm.avail_out?BS_FINISH_STARTED:BS_FINISH_DONE):s.last_lit&&(flush_block_only(s,!1),0===s.strm.avail_out)?BS_NEED_MORE:BS_BLOCK_DONE}(s,flush):configuration_table[s.level].func(s,flush);if(bstate!==BS_FINISH_STARTED&&bstate!==BS_FINISH_DONE||(s.status=FINISH_STATE),bstate===BS_NEED_MORE||bstate===BS_FINISH_STARTED)return 0===strm.avail_out&&(s.last_flush=-1),Z_OK;if(bstate===BS_BLOCK_DONE&&(flush===Z_PARTIAL_FLUSH?trees._tr_align(s):flush!==Z_BLOCK&&(trees._tr_stored_block(s,0,0,!1),flush===Z_FULL_FLUSH&&(zero(s.head),0===s.lookahead&&(s.strstart=0,s.block_start=0,s.insert=0))),flush_pending(strm),0===strm.avail_out))return s.last_flush=-1,Z_OK}return flush!==Z_FINISH?Z_OK:s.wrap<=0?Z_STREAM_END:(2===s.wrap?(put_byte(s,255&strm.adler),put_byte(s,strm.adler>>8&255),put_byte(s,strm.adler>>16&255),put_byte(s,strm.adler>>24&255),put_byte(s,255&strm.total_in),put_byte(s,strm.total_in>>8&255),put_byte(s,strm.total_in>>16&255),put_byte(s,strm.total_in>>24&255)):(putShortMSB(s,strm.adler>>>16),putShortMSB(s,65535&strm.adler)),flush_pending(strm),s.wrap>0&&(s.wrap=-s.wrap),0!==s.pending?Z_OK:Z_STREAM_END)},exports.deflateEnd=function(strm){var status;return strm&&strm.state?(status=strm.state.status)!==INIT_STATE&&status!==EXTRA_STATE&&status!==NAME_STATE&&status!==COMMENT_STATE&&status!==HCRC_STATE&&status!==BUSY_STATE&&status!==FINISH_STATE?err(strm,Z_STREAM_ERROR):(strm.state=null,status===BUSY_STATE?err(strm,Z_DATA_ERROR):Z_OK):Z_STREAM_ERROR},exports.deflateSetDictionary=function(strm,dictionary){var s,str,n,wrap,avail,next,input,tmpDict,dictLength=dictionary.length;if(!strm||!strm.state)return Z_STREAM_ERROR;if(2===(wrap=(s=strm.state).wrap)||1===wrap&&s.status!==INIT_STATE||s.lookahead)return Z_STREAM_ERROR;for(1===wrap&&(strm.adler=adler32(strm.adler,dictionary,dictLength,0)),s.wrap=0,dictLength>=s.w_size&&(0===wrap&&(zero(s.head),s.strstart=0,s.block_start=0,s.insert=0),tmpDict=new utils.Buf8(s.w_size),utils.arraySet(tmpDict,dictionary,dictLength-s.w_size,s.w_size,0),dictionary=tmpDict,dictLength=s.w_size),avail=strm.avail_in,next=strm.next_in,input=strm.input,strm.avail_in=dictLength,strm.next_in=0,strm.input=dictionary,fill_window(s);s.lookahead>=MIN_MATCH;){str=s.strstart,n=s.lookahead-(MIN_MATCH-1);do{s.ins_h=(s.ins_h<<s.hash_shift^s.window[str+MIN_MATCH-1])&s.hash_mask,s.prev[str&s.w_mask]=s.head[s.ins_h],s.head[s.ins_h]=str,str++}while(--n);s.strstart=str,s.lookahead=MIN_MATCH-1,fill_window(s)}return s.strstart+=s.lookahead,s.block_start=s.strstart,s.insert=s.lookahead,s.lookahead=0,s.match_length=s.prev_length=MIN_MATCH-1,s.match_available=0,strm.next_in=next,strm.input=input,strm.avail_in=avail,s.wrap=wrap,Z_OK},exports.deflateInfo=\"pako deflate (from Nodeca project)\"},function(module,exports,__nested_webpack_require_327950__){\"use strict\";var utils=__nested_webpack_require_327950__(8),Z_FIXED=4,Z_BINARY=0,Z_TEXT=1,Z_UNKNOWN=2;function zero(buf){for(var len=buf.length;--len>=0;)buf[len]=0}var STORED_BLOCK=0,STATIC_TREES=1,DYN_TREES=2,LENGTH_CODES=29,LITERALS=256,L_CODES=LITERALS+1+LENGTH_CODES,D_CODES=30,BL_CODES=19,HEAP_SIZE=2*L_CODES+1,MAX_BITS=15,Buf_size=16,MAX_BL_BITS=7,END_BLOCK=256,REP_3_6=16,REPZ_3_10=17,REPZ_11_138=18,extra_lbits=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],extra_dbits=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],extra_blbits=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],bl_order=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],static_ltree=new Array(2*(L_CODES+2));zero(static_ltree);var static_dtree=new Array(2*D_CODES);zero(static_dtree);var _dist_code=new Array(512);zero(_dist_code);var _length_code=new Array(256);zero(_length_code);var base_length=new Array(LENGTH_CODES);zero(base_length);var static_l_desc,static_d_desc,static_bl_desc,base_dist=new Array(D_CODES);function StaticTreeDesc(static_tree,extra_bits,extra_base,elems,max_length){this.static_tree=static_tree,this.extra_bits=extra_bits,this.extra_base=extra_base,this.elems=elems,this.max_length=max_length,this.has_stree=static_tree&&static_tree.length}function TreeDesc(dyn_tree,stat_desc){this.dyn_tree=dyn_tree,this.max_code=0,this.stat_desc=stat_desc}function d_code(dist){return dist<256?_dist_code[dist]:_dist_code[256+(dist>>>7)]}function put_short(s,w){s.pending_buf[s.pending++]=255&w,s.pending_buf[s.pending++]=w>>>8&255}function send_bits(s,value,length){s.bi_valid>Buf_size-length?(s.bi_buf|=value<<s.bi_valid&65535,put_short(s,s.bi_buf),s.bi_buf=value>>Buf_size-s.bi_valid,s.bi_valid+=length-Buf_size):(s.bi_buf|=value<<s.bi_valid&65535,s.bi_valid+=length)}function send_code(s,c,tree){send_bits(s,tree[2*c],tree[2*c+1])}function bi_reverse(code,len){var res=0;do{res|=1&code,code>>>=1,res<<=1}while(--len>0);return res>>>1}function gen_codes(tree,max_code,bl_count){var bits,n,next_code=new Array(MAX_BITS+1),code=0;for(bits=1;bits<=MAX_BITS;bits++)next_code[bits]=code=code+bl_count[bits-1]<<1;for(n=0;n<=max_code;n++){var len=tree[2*n+1];0!==len&&(tree[2*n]=bi_reverse(next_code[len]++,len))}}function init_block(s){var n;for(n=0;n<L_CODES;n++)s.dyn_ltree[2*n]=0;for(n=0;n<D_CODES;n++)s.dyn_dtree[2*n]=0;for(n=0;n<BL_CODES;n++)s.bl_tree[2*n]=0;s.dyn_ltree[2*END_BLOCK]=1,s.opt_len=s.static_len=0,s.last_lit=s.matches=0}function bi_windup(s){s.bi_valid>8?put_short(s,s.bi_buf):s.bi_valid>0&&(s.pending_buf[s.pending++]=s.bi_buf),s.bi_buf=0,s.bi_valid=0}function smaller(tree,n,m,depth){var _n2=2*n,_m2=2*m;return tree[_n2]<tree[_m2]||tree[_n2]===tree[_m2]&&depth[n]<=depth[m]}function pqdownheap(s,tree,k){for(var v=s.heap[k],j=k<<1;j<=s.heap_len&&(j<s.heap_len&&smaller(tree,s.heap[j+1],s.heap[j],s.depth)&&j++,!smaller(tree,v,s.heap[j],s.depth));)s.heap[k]=s.heap[j],k=j,j<<=1;s.heap[k]=v}function compress_block(s,ltree,dtree){var dist,lc,code,extra,lx=0;if(0!==s.last_lit)do{dist=s.pending_buf[s.d_buf+2*lx]<<8|s.pending_buf[s.d_buf+2*lx+1],lc=s.pending_buf[s.l_buf+lx],lx++,0===dist?send_code(s,lc,ltree):(send_code(s,(code=_length_code[lc])+LITERALS+1,ltree),0!==(extra=extra_lbits[code])&&send_bits(s,lc-=base_length[code],extra),send_code(s,code=d_code(--dist),dtree),0!==(extra=extra_dbits[code])&&send_bits(s,dist-=base_dist[code],extra))}while(lx<s.last_lit);send_code(s,END_BLOCK,ltree)}function build_tree(s,desc){var n,m,node,tree=desc.dyn_tree,stree=desc.stat_desc.static_tree,has_stree=desc.stat_desc.has_stree,elems=desc.stat_desc.elems,max_code=-1;for(s.heap_len=0,s.heap_max=HEAP_SIZE,n=0;n<elems;n++)0!==tree[2*n]?(s.heap[++s.heap_len]=max_code=n,s.depth[n]=0):tree[2*n+1]=0;for(;s.heap_len<2;)tree[2*(node=s.heap[++s.heap_len]=max_code<2?++max_code:0)]=1,s.depth[node]=0,s.opt_len--,has_stree&&(s.static_len-=stree[2*node+1]);for(desc.max_code=max_code,n=s.heap_len>>1;n>=1;n--)pqdownheap(s,tree,n);node=elems;do{n=s.heap[1],s.heap[1]=s.heap[s.heap_len--],pqdownheap(s,tree,1),m=s.heap[1],s.heap[--s.heap_max]=n,s.heap[--s.heap_max]=m,tree[2*node]=tree[2*n]+tree[2*m],s.depth[node]=(s.depth[n]>=s.depth[m]?s.depth[n]:s.depth[m])+1,tree[2*n+1]=tree[2*m+1]=node,s.heap[1]=node++,pqdownheap(s,tree,1)}while(s.heap_len>=2);s.heap[--s.heap_max]=s.heap[1],function(s,desc){var h,n,m,bits,xbits,f,tree=desc.dyn_tree,max_code=desc.max_code,stree=desc.stat_desc.static_tree,has_stree=desc.stat_desc.has_stree,extra=desc.stat_desc.extra_bits,base=desc.stat_desc.extra_base,max_length=desc.stat_desc.max_length,overflow=0;for(bits=0;bits<=MAX_BITS;bits++)s.bl_count[bits]=0;for(tree[2*s.heap[s.heap_max]+1]=0,h=s.heap_max+1;h<HEAP_SIZE;h++)(bits=tree[2*tree[2*(n=s.heap[h])+1]+1]+1)>max_length&&(bits=max_length,overflow++),tree[2*n+1]=bits,n>max_code||(s.bl_count[bits]++,xbits=0,n>=base&&(xbits=extra[n-base]),f=tree[2*n],s.opt_len+=f*(bits+xbits),has_stree&&(s.static_len+=f*(stree[2*n+1]+xbits)));if(0!==overflow){do{for(bits=max_length-1;0===s.bl_count[bits];)bits--;s.bl_count[bits]--,s.bl_count[bits+1]+=2,s.bl_count[max_length]--,overflow-=2}while(overflow>0);for(bits=max_length;0!==bits;bits--)for(n=s.bl_count[bits];0!==n;)(m=s.heap[--h])>max_code||(tree[2*m+1]!==bits&&(s.opt_len+=(bits-tree[2*m+1])*tree[2*m],tree[2*m+1]=bits),n--)}}(s,desc),gen_codes(tree,max_code,s.bl_count)}function scan_tree(s,tree,max_code){var n,curlen,prevlen=-1,nextlen=tree[1],count=0,max_count=7,min_count=4;for(0===nextlen&&(max_count=138,min_count=3),tree[2*(max_code+1)+1]=65535,n=0;n<=max_code;n++)curlen=nextlen,nextlen=tree[2*(n+1)+1],++count<max_count&&curlen===nextlen||(count<min_count?s.bl_tree[2*curlen]+=count:0!==curlen?(curlen!==prevlen&&s.bl_tree[2*curlen]++,s.bl_tree[2*REP_3_6]++):count<=10?s.bl_tree[2*REPZ_3_10]++:s.bl_tree[2*REPZ_11_138]++,count=0,prevlen=curlen,0===nextlen?(max_count=138,min_count=3):curlen===nextlen?(max_count=6,min_count=3):(max_count=7,min_count=4))}function send_tree(s,tree,max_code){var n,curlen,prevlen=-1,nextlen=tree[1],count=0,max_count=7,min_count=4;for(0===nextlen&&(max_count=138,min_count=3),n=0;n<=max_code;n++)if(curlen=nextlen,nextlen=tree[2*(n+1)+1],!(++count<max_count&&curlen===nextlen)){if(count<min_count)do{send_code(s,curlen,s.bl_tree)}while(0!=--count);else 0!==curlen?(curlen!==prevlen&&(send_code(s,curlen,s.bl_tree),count--),send_code(s,REP_3_6,s.bl_tree),send_bits(s,count-3,2)):count<=10?(send_code(s,REPZ_3_10,s.bl_tree),send_bits(s,count-3,3)):(send_code(s,REPZ_11_138,s.bl_tree),send_bits(s,count-11,7));count=0,prevlen=curlen,0===nextlen?(max_count=138,min_count=3):curlen===nextlen?(max_count=6,min_count=3):(max_count=7,min_count=4)}}zero(base_dist);var static_init_done=!1;function _tr_stored_block(s,buf,stored_len,last){send_bits(s,(STORED_BLOCK<<1)+(last?1:0),3),function(s,buf,len,header){bi_windup(s),header&&(put_short(s,len),put_short(s,~len)),utils.arraySet(s.pending_buf,s.window,buf,len,s.pending),s.pending+=len}(s,buf,stored_len,!0)}exports._tr_init=function(s){static_init_done||(function(){var n,bits,length,code,dist,bl_count=new Array(MAX_BITS+1);for(length=0,code=0;code<LENGTH_CODES-1;code++)for(base_length[code]=length,n=0;n<1<<extra_lbits[code];n++)_length_code[length++]=code;for(_length_code[length-1]=code,dist=0,code=0;code<16;code++)for(base_dist[code]=dist,n=0;n<1<<extra_dbits[code];n++)_dist_code[dist++]=code;for(dist>>=7;code<D_CODES;code++)for(base_dist[code]=dist<<7,n=0;n<1<<extra_dbits[code]-7;n++)_dist_code[256+dist++]=code;for(bits=0;bits<=MAX_BITS;bits++)bl_count[bits]=0;for(n=0;n<=143;)static_ltree[2*n+1]=8,n++,bl_count[8]++;for(;n<=255;)static_ltree[2*n+1]=9,n++,bl_count[9]++;for(;n<=279;)static_ltree[2*n+1]=7,n++,bl_count[7]++;for(;n<=287;)static_ltree[2*n+1]=8,n++,bl_count[8]++;for(gen_codes(static_ltree,L_CODES+1,bl_count),n=0;n<D_CODES;n++)static_dtree[2*n+1]=5,static_dtree[2*n]=bi_reverse(n,5);static_l_desc=new StaticTreeDesc(static_ltree,extra_lbits,LITERALS+1,L_CODES,MAX_BITS),static_d_desc=new StaticTreeDesc(static_dtree,extra_dbits,0,D_CODES,MAX_BITS),static_bl_desc=new StaticTreeDesc(new Array(0),extra_blbits,0,BL_CODES,MAX_BL_BITS)}(),static_init_done=!0),s.l_desc=new TreeDesc(s.dyn_ltree,static_l_desc),s.d_desc=new TreeDesc(s.dyn_dtree,static_d_desc),s.bl_desc=new TreeDesc(s.bl_tree,static_bl_desc),s.bi_buf=0,s.bi_valid=0,init_block(s)},exports._tr_stored_block=_tr_stored_block,exports._tr_flush_block=function(s,buf,stored_len,last){var opt_lenb,static_lenb,max_blindex=0;s.level>0?(s.strm.data_type===Z_UNKNOWN&&(s.strm.data_type=function(s){var n,black_mask=4093624447;for(n=0;n<=31;n++,black_mask>>>=1)if(1&black_mask&&0!==s.dyn_ltree[2*n])return Z_BINARY;if(0!==s.dyn_ltree[18]||0!==s.dyn_ltree[20]||0!==s.dyn_ltree[26])return Z_TEXT;for(n=32;n<LITERALS;n++)if(0!==s.dyn_ltree[2*n])return Z_TEXT;return Z_BINARY}(s)),build_tree(s,s.l_desc),build_tree(s,s.d_desc),max_blindex=function(s){var max_blindex;for(scan_tree(s,s.dyn_ltree,s.l_desc.max_code),scan_tree(s,s.dyn_dtree,s.d_desc.max_code),build_tree(s,s.bl_desc),max_blindex=BL_CODES-1;max_blindex>=3&&0===s.bl_tree[2*bl_order[max_blindex]+1];max_blindex--);return s.opt_len+=3*(max_blindex+1)+5+5+4,max_blindex}(s),opt_lenb=s.opt_len+3+7>>>3,(static_lenb=s.static_len+3+7>>>3)<=opt_lenb&&(opt_lenb=static_lenb)):opt_lenb=static_lenb=stored_len+5,stored_len+4<=opt_lenb&&-1!==buf?_tr_stored_block(s,buf,stored_len,last):s.strategy===Z_FIXED||static_lenb===opt_lenb?(send_bits(s,(STATIC_TREES<<1)+(last?1:0),3),compress_block(s,static_ltree,static_dtree)):(send_bits(s,(DYN_TREES<<1)+(last?1:0),3),function(s,lcodes,dcodes,blcodes){var rank;for(send_bits(s,lcodes-257,5),send_bits(s,dcodes-1,5),send_bits(s,blcodes-4,4),rank=0;rank<blcodes;rank++)send_bits(s,s.bl_tree[2*bl_order[rank]+1],3);send_tree(s,s.dyn_ltree,lcodes-1),send_tree(s,s.dyn_dtree,dcodes-1)}(s,s.l_desc.max_code+1,s.d_desc.max_code+1,max_blindex+1),compress_block(s,s.dyn_ltree,s.dyn_dtree)),init_block(s),last&&bi_windup(s)},exports._tr_tally=function(s,dist,lc){return s.pending_buf[s.d_buf+2*s.last_lit]=dist>>>8&255,s.pending_buf[s.d_buf+2*s.last_lit+1]=255&dist,s.pending_buf[s.l_buf+s.last_lit]=255&lc,s.last_lit++,0===dist?s.dyn_ltree[2*lc]++:(s.matches++,dist--,s.dyn_ltree[2*(_length_code[lc]+LITERALS+1)]++,s.dyn_dtree[2*d_code(dist)]++),s.last_lit===s.lit_bufsize-1},exports._tr_align=function(s){send_bits(s,STATIC_TREES<<1,3),send_code(s,END_BLOCK,static_ltree),function(s){16===s.bi_valid?(put_short(s,s.bi_buf),s.bi_buf=0,s.bi_valid=0):s.bi_valid>=8&&(s.pending_buf[s.pending++]=255&s.bi_buf,s.bi_buf>>=8,s.bi_valid-=8)}(s)}},function(module,exports,__nested_webpack_require_338528__){\"use strict\";var zlib_inflate=__nested_webpack_require_338528__(115),utils=__nested_webpack_require_338528__(8),strings=__nested_webpack_require_338528__(68),c=__nested_webpack_require_338528__(70),msg=__nested_webpack_require_338528__(45),ZStream=__nested_webpack_require_338528__(69),GZheader=__nested_webpack_require_338528__(118),toString=Object.prototype.toString;function Inflate(options){if(!(this instanceof Inflate))return new Inflate(options);this.options=utils.assign({chunkSize:16384,windowBits:0,to:\"\"},options||{});var opt=this.options;opt.raw&&opt.windowBits>=0&&opt.windowBits<16&&(opt.windowBits=-opt.windowBits,0===opt.windowBits&&(opt.windowBits=-15)),!(opt.windowBits>=0&&opt.windowBits<16)||options&&options.windowBits||(opt.windowBits+=32),opt.windowBits>15&&opt.windowBits<48&&0==(15&opt.windowBits)&&(opt.windowBits|=15),this.err=0,this.msg=\"\",this.ended=!1,this.chunks=[],this.strm=new ZStream,this.strm.avail_out=0;var status=zlib_inflate.inflateInit2(this.strm,opt.windowBits);if(status!==c.Z_OK)throw new Error(msg[status]);if(this.header=new GZheader,zlib_inflate.inflateGetHeader(this.strm,this.header),opt.dictionary&&(\"string\"==typeof opt.dictionary?opt.dictionary=strings.string2buf(opt.dictionary):\"[object ArrayBuffer]\"===toString.call(opt.dictionary)&&(opt.dictionary=new Uint8Array(opt.dictionary)),opt.raw&&(status=zlib_inflate.inflateSetDictionary(this.strm,opt.dictionary))!==c.Z_OK))throw new Error(msg[status])}function inflate(input,options){var inflator=new Inflate(options);if(inflator.push(input,!0),inflator.err)throw inflator.msg||msg[inflator.err];return inflator.result}Inflate.prototype.push=function(data,mode){var status,_mode,next_out_utf8,tail,utf8str,strm=this.strm,chunkSize=this.options.chunkSize,dictionary=this.options.dictionary,allowBufError=!1;if(this.ended)return!1;_mode=mode===~~mode?mode:!0===mode?c.Z_FINISH:c.Z_NO_FLUSH,\"string\"==typeof data?strm.input=strings.binstring2buf(data):\"[object ArrayBuffer]\"===toString.call(data)?strm.input=new Uint8Array(data):strm.input=data,strm.next_in=0,strm.avail_in=strm.input.length;do{if(0===strm.avail_out&&(strm.output=new utils.Buf8(chunkSize),strm.next_out=0,strm.avail_out=chunkSize),(status=zlib_inflate.inflate(strm,c.Z_NO_FLUSH))===c.Z_NEED_DICT&&dictionary&&(status=zlib_inflate.inflateSetDictionary(this.strm,dictionary)),status===c.Z_BUF_ERROR&&!0===allowBufError&&(status=c.Z_OK,allowBufError=!1),status!==c.Z_STREAM_END&&status!==c.Z_OK)return this.onEnd(status),this.ended=!0,!1;strm.next_out&&(0!==strm.avail_out&&status!==c.Z_STREAM_END&&(0!==strm.avail_in||_mode!==c.Z_FINISH&&_mode!==c.Z_SYNC_FLUSH)||(\"string\"===this.options.to?(next_out_utf8=strings.utf8border(strm.output,strm.next_out),tail=strm.next_out-next_out_utf8,utf8str=strings.buf2string(strm.output,next_out_utf8),strm.next_out=tail,strm.avail_out=chunkSize-tail,tail&&utils.arraySet(strm.output,strm.output,next_out_utf8,tail,0),this.onData(utf8str)):this.onData(utils.shrinkBuf(strm.output,strm.next_out)))),0===strm.avail_in&&0===strm.avail_out&&(allowBufError=!0)}while((strm.avail_in>0||0===strm.avail_out)&&status!==c.Z_STREAM_END);return status===c.Z_STREAM_END&&(_mode=c.Z_FINISH),_mode===c.Z_FINISH?(status=zlib_inflate.inflateEnd(this.strm),this.onEnd(status),this.ended=!0,status===c.Z_OK):_mode!==c.Z_SYNC_FLUSH||(this.onEnd(c.Z_OK),strm.avail_out=0,!0)},Inflate.prototype.onData=function(chunk){this.chunks.push(chunk)},Inflate.prototype.onEnd=function(status){status===c.Z_OK&&(\"string\"===this.options.to?this.result=this.chunks.join(\"\"):this.result=utils.flattenChunks(this.chunks)),this.chunks=[],this.err=status,this.msg=this.strm.msg},exports.Inflate=Inflate,exports.inflate=inflate,exports.inflateRaw=function(input,options){return(options=options||{}).raw=!0,inflate(input,options)},exports.ungzip=inflate},function(module,exports,__nested_webpack_require_342291__){\"use strict\";var utils=__nested_webpack_require_342291__(8),adler32=__nested_webpack_require_342291__(66),crc32=__nested_webpack_require_342291__(67),inflate_fast=__nested_webpack_require_342291__(116),inflate_table=__nested_webpack_require_342291__(117),CODES=0,LENS=1,DISTS=2,Z_FINISH=4,Z_BLOCK=5,Z_TREES=6,Z_OK=0,Z_STREAM_END=1,Z_NEED_DICT=2,Z_STREAM_ERROR=-2,Z_DATA_ERROR=-3,Z_MEM_ERROR=-4,Z_BUF_ERROR=-5,Z_DEFLATED=8,HEAD=1,FLAGS=2,TIME=3,OS=4,EXLEN=5,EXTRA=6,NAME=7,COMMENT=8,HCRC=9,DICTID=10,DICT=11,TYPE=12,TYPEDO=13,STORED=14,COPY_=15,COPY=16,TABLE=17,LENLENS=18,CODELENS=19,LEN_=20,LEN=21,LENEXT=22,DIST=23,DISTEXT=24,MATCH=25,LIT=26,CHECK=27,LENGTH=28,DONE=29,BAD=30,MEM=31,SYNC=32,ENOUGH_LENS=852,ENOUGH_DISTS=592,DEF_WBITS=15;function zswap32(q){return(q>>>24&255)+(q>>>8&65280)+((65280&q)<<8)+((255&q)<<24)}function inflateResetKeep(strm){var state;return strm&&strm.state?(state=strm.state,strm.total_in=strm.total_out=state.total=0,strm.msg=\"\",state.wrap&&(strm.adler=1&state.wrap),state.mode=HEAD,state.last=0,state.havedict=0,state.dmax=32768,state.head=null,state.hold=0,state.bits=0,state.lencode=state.lendyn=new utils.Buf32(ENOUGH_LENS),state.distcode=state.distdyn=new utils.Buf32(ENOUGH_DISTS),state.sane=1,state.back=-1,Z_OK):Z_STREAM_ERROR}function inflateReset(strm){var state;return strm&&strm.state?((state=strm.state).wsize=0,state.whave=0,state.wnext=0,inflateResetKeep(strm)):Z_STREAM_ERROR}function inflateReset2(strm,windowBits){var wrap,state;return strm&&strm.state?(state=strm.state,windowBits<0?(wrap=0,windowBits=-windowBits):(wrap=1+(windowBits>>4),windowBits<48&&(windowBits&=15)),windowBits&&(windowBits<8||windowBits>15)?Z_STREAM_ERROR:(null!==state.window&&state.wbits!==windowBits&&(state.window=null),state.wrap=wrap,state.wbits=windowBits,inflateReset(strm))):Z_STREAM_ERROR}function inflateInit2(strm,windowBits){var ret,state;return strm?(state=new function(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new utils.Buf16(320),this.work=new utils.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0},strm.state=state,state.window=null,(ret=inflateReset2(strm,windowBits))!==Z_OK&&(strm.state=null),ret):Z_STREAM_ERROR}var lenfix,distfix,virgin=!0;function fixedtables(state){if(virgin){var sym;for(lenfix=new utils.Buf32(512),distfix=new utils.Buf32(32),sym=0;sym<144;)state.lens[sym++]=8;for(;sym<256;)state.lens[sym++]=9;for(;sym<280;)state.lens[sym++]=7;for(;sym<288;)state.lens[sym++]=8;for(inflate_table(LENS,state.lens,0,288,lenfix,0,state.work,{bits:9}),sym=0;sym<32;)state.lens[sym++]=5;inflate_table(DISTS,state.lens,0,32,distfix,0,state.work,{bits:5}),virgin=!1}state.lencode=lenfix,state.lenbits=9,state.distcode=distfix,state.distbits=5}function updatewindow(strm,src,end,copy){var dist,state=strm.state;return null===state.window&&(state.wsize=1<<state.wbits,state.wnext=0,state.whave=0,state.window=new utils.Buf8(state.wsize)),copy>=state.wsize?(utils.arraySet(state.window,src,end-state.wsize,state.wsize,0),state.wnext=0,state.whave=state.wsize):((dist=state.wsize-state.wnext)>copy&&(dist=copy),utils.arraySet(state.window,src,end-copy,dist,state.wnext),(copy-=dist)?(utils.arraySet(state.window,src,end-copy,copy,0),state.wnext=copy,state.whave=state.wsize):(state.wnext+=dist,state.wnext===state.wsize&&(state.wnext=0),state.whave<state.wsize&&(state.whave+=dist))),0}exports.inflateReset=inflateReset,exports.inflateReset2=inflateReset2,exports.inflateResetKeep=inflateResetKeep,exports.inflateInit=function(strm){return inflateInit2(strm,DEF_WBITS)},exports.inflateInit2=inflateInit2,exports.inflate=function(strm,flush){var state,input,output,next,put,have,left,hold,bits,_in,_out,copy,from,from_source,here_bits,here_op,here_val,last_bits,last_op,last_val,len,ret,opts,n,here=0,hbuf=new utils.Buf8(4),order=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!strm||!strm.state||!strm.output||!strm.input&&0!==strm.avail_in)return Z_STREAM_ERROR;(state=strm.state).mode===TYPE&&(state.mode=TYPEDO),put=strm.next_out,output=strm.output,left=strm.avail_out,next=strm.next_in,input=strm.input,have=strm.avail_in,hold=state.hold,bits=state.bits,_in=have,_out=left,ret=Z_OK;inf_leave:for(;;)switch(state.mode){case HEAD:if(0===state.wrap){state.mode=TYPEDO;break}for(;bits<16;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if(2&state.wrap&&35615===hold){state.check=0,hbuf[0]=255&hold,hbuf[1]=hold>>>8&255,state.check=crc32(state.check,hbuf,2,0),hold=0,bits=0,state.mode=FLAGS;break}if(state.flags=0,state.head&&(state.head.done=!1),!(1&state.wrap)||(((255&hold)<<8)+(hold>>8))%31){strm.msg=\"incorrect header check\",state.mode=BAD;break}if((15&hold)!==Z_DEFLATED){strm.msg=\"unknown compression method\",state.mode=BAD;break}if(bits-=4,len=8+(15&(hold>>>=4)),0===state.wbits)state.wbits=len;else if(len>state.wbits){strm.msg=\"invalid window size\",state.mode=BAD;break}state.dmax=1<<len,strm.adler=state.check=1,state.mode=512&hold?DICTID:TYPE,hold=0,bits=0;break;case FLAGS:for(;bits<16;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if(state.flags=hold,(255&state.flags)!==Z_DEFLATED){strm.msg=\"unknown compression method\",state.mode=BAD;break}if(57344&state.flags){strm.msg=\"unknown header flags set\",state.mode=BAD;break}state.head&&(state.head.text=hold>>8&1),512&state.flags&&(hbuf[0]=255&hold,hbuf[1]=hold>>>8&255,state.check=crc32(state.check,hbuf,2,0)),hold=0,bits=0,state.mode=TIME;case TIME:for(;bits<32;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}state.head&&(state.head.time=hold),512&state.flags&&(hbuf[0]=255&hold,hbuf[1]=hold>>>8&255,hbuf[2]=hold>>>16&255,hbuf[3]=hold>>>24&255,state.check=crc32(state.check,hbuf,4,0)),hold=0,bits=0,state.mode=OS;case OS:for(;bits<16;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}state.head&&(state.head.xflags=255&hold,state.head.os=hold>>8),512&state.flags&&(hbuf[0]=255&hold,hbuf[1]=hold>>>8&255,state.check=crc32(state.check,hbuf,2,0)),hold=0,bits=0,state.mode=EXLEN;case EXLEN:if(1024&state.flags){for(;bits<16;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}state.length=hold,state.head&&(state.head.extra_len=hold),512&state.flags&&(hbuf[0]=255&hold,hbuf[1]=hold>>>8&255,state.check=crc32(state.check,hbuf,2,0)),hold=0,bits=0}else state.head&&(state.head.extra=null);state.mode=EXTRA;case EXTRA:if(1024&state.flags&&((copy=state.length)>have&&(copy=have),copy&&(state.head&&(len=state.head.extra_len-state.length,state.head.extra||(state.head.extra=new Array(state.head.extra_len)),utils.arraySet(state.head.extra,input,next,copy,len)),512&state.flags&&(state.check=crc32(state.check,input,copy,next)),have-=copy,next+=copy,state.length-=copy),state.length))break inf_leave;state.length=0,state.mode=NAME;case NAME:if(2048&state.flags){if(0===have)break inf_leave;copy=0;do{len=input[next+copy++],state.head&&len&&state.length<65536&&(state.head.name+=String.fromCharCode(len))}while(len&&copy<have);if(512&state.flags&&(state.check=crc32(state.check,input,copy,next)),have-=copy,next+=copy,len)break inf_leave}else state.head&&(state.head.name=null);state.length=0,state.mode=COMMENT;case COMMENT:if(4096&state.flags){if(0===have)break inf_leave;copy=0;do{len=input[next+copy++],state.head&&len&&state.length<65536&&(state.head.comment+=String.fromCharCode(len))}while(len&&copy<have);if(512&state.flags&&(state.check=crc32(state.check,input,copy,next)),have-=copy,next+=copy,len)break inf_leave}else state.head&&(state.head.comment=null);state.mode=HCRC;case HCRC:if(512&state.flags){for(;bits<16;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if(hold!==(65535&state.check)){strm.msg=\"header crc mismatch\",state.mode=BAD;break}hold=0,bits=0}state.head&&(state.head.hcrc=state.flags>>9&1,state.head.done=!0),strm.adler=state.check=0,state.mode=TYPE;break;case DICTID:for(;bits<32;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}strm.adler=state.check=zswap32(hold),hold=0,bits=0,state.mode=DICT;case DICT:if(0===state.havedict)return strm.next_out=put,strm.avail_out=left,strm.next_in=next,strm.avail_in=have,state.hold=hold,state.bits=bits,Z_NEED_DICT;strm.adler=state.check=1,state.mode=TYPE;case TYPE:if(flush===Z_BLOCK||flush===Z_TREES)break inf_leave;case TYPEDO:if(state.last){hold>>>=7&bits,bits-=7&bits,state.mode=CHECK;break}for(;bits<3;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}switch(state.last=1&hold,bits-=1,3&(hold>>>=1)){case 0:state.mode=STORED;break;case 1:if(fixedtables(state),state.mode=LEN_,flush===Z_TREES){hold>>>=2,bits-=2;break inf_leave}break;case 2:state.mode=TABLE;break;case 3:strm.msg=\"invalid block type\",state.mode=BAD}hold>>>=2,bits-=2;break;case STORED:for(hold>>>=7&bits,bits-=7&bits;bits<32;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if((65535&hold)!=(hold>>>16^65535)){strm.msg=\"invalid stored block lengths\",state.mode=BAD;break}if(state.length=65535&hold,hold=0,bits=0,state.mode=COPY_,flush===Z_TREES)break inf_leave;case COPY_:state.mode=COPY;case COPY:if(copy=state.length){if(copy>have&&(copy=have),copy>left&&(copy=left),0===copy)break inf_leave;utils.arraySet(output,input,next,copy,put),have-=copy,next+=copy,left-=copy,put+=copy,state.length-=copy;break}state.mode=TYPE;break;case TABLE:for(;bits<14;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if(state.nlen=257+(31&hold),hold>>>=5,bits-=5,state.ndist=1+(31&hold),hold>>>=5,bits-=5,state.ncode=4+(15&hold),hold>>>=4,bits-=4,state.nlen>286||state.ndist>30){strm.msg=\"too many length or distance symbols\",state.mode=BAD;break}state.have=0,state.mode=LENLENS;case LENLENS:for(;state.have<state.ncode;){for(;bits<3;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}state.lens[order[state.have++]]=7&hold,hold>>>=3,bits-=3}for(;state.have<19;)state.lens[order[state.have++]]=0;if(state.lencode=state.lendyn,state.lenbits=7,opts={bits:state.lenbits},ret=inflate_table(CODES,state.lens,0,19,state.lencode,0,state.work,opts),state.lenbits=opts.bits,ret){strm.msg=\"invalid code lengths set\",state.mode=BAD;break}state.have=0,state.mode=CODELENS;case CODELENS:for(;state.have<state.nlen+state.ndist;){for(;here_op=(here=state.lencode[hold&(1<<state.lenbits)-1])>>>16&255,here_val=65535&here,!((here_bits=here>>>24)<=bits);){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if(here_val<16)hold>>>=here_bits,bits-=here_bits,state.lens[state.have++]=here_val;else{if(16===here_val){for(n=here_bits+2;bits<n;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if(hold>>>=here_bits,bits-=here_bits,0===state.have){strm.msg=\"invalid bit length repeat\",state.mode=BAD;break}len=state.lens[state.have-1],copy=3+(3&hold),hold>>>=2,bits-=2}else if(17===here_val){for(n=here_bits+3;bits<n;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}bits-=here_bits,len=0,copy=3+(7&(hold>>>=here_bits)),hold>>>=3,bits-=3}else{for(n=here_bits+7;bits<n;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}bits-=here_bits,len=0,copy=11+(127&(hold>>>=here_bits)),hold>>>=7,bits-=7}if(state.have+copy>state.nlen+state.ndist){strm.msg=\"invalid bit length repeat\",state.mode=BAD;break}for(;copy--;)state.lens[state.have++]=len}}if(state.mode===BAD)break;if(0===state.lens[256]){strm.msg=\"invalid code -- missing end-of-block\",state.mode=BAD;break}if(state.lenbits=9,opts={bits:state.lenbits},ret=inflate_table(LENS,state.lens,0,state.nlen,state.lencode,0,state.work,opts),state.lenbits=opts.bits,ret){strm.msg=\"invalid literal/lengths set\",state.mode=BAD;break}if(state.distbits=6,state.distcode=state.distdyn,opts={bits:state.distbits},ret=inflate_table(DISTS,state.lens,state.nlen,state.ndist,state.distcode,0,state.work,opts),state.distbits=opts.bits,ret){strm.msg=\"invalid distances set\",state.mode=BAD;break}if(state.mode=LEN_,flush===Z_TREES)break inf_leave;case LEN_:state.mode=LEN;case LEN:if(have>=6&&left>=258){strm.next_out=put,strm.avail_out=left,strm.next_in=next,strm.avail_in=have,state.hold=hold,state.bits=bits,inflate_fast(strm,_out),put=strm.next_out,output=strm.output,left=strm.avail_out,next=strm.next_in,input=strm.input,have=strm.avail_in,hold=state.hold,bits=state.bits,state.mode===TYPE&&(state.back=-1);break}for(state.back=0;here_op=(here=state.lencode[hold&(1<<state.lenbits)-1])>>>16&255,here_val=65535&here,!((here_bits=here>>>24)<=bits);){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if(here_op&&0==(240&here_op)){for(last_bits=here_bits,last_op=here_op,last_val=here_val;here_op=(here=state.lencode[last_val+((hold&(1<<last_bits+last_op)-1)>>last_bits)])>>>16&255,here_val=65535&here,!(last_bits+(here_bits=here>>>24)<=bits);){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}hold>>>=last_bits,bits-=last_bits,state.back+=last_bits}if(hold>>>=here_bits,bits-=here_bits,state.back+=here_bits,state.length=here_val,0===here_op){state.mode=LIT;break}if(32&here_op){state.back=-1,state.mode=TYPE;break}if(64&here_op){strm.msg=\"invalid literal/length code\",state.mode=BAD;break}state.extra=15&here_op,state.mode=LENEXT;case LENEXT:if(state.extra){for(n=state.extra;bits<n;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}state.length+=hold&(1<<state.extra)-1,hold>>>=state.extra,bits-=state.extra,state.back+=state.extra}state.was=state.length,state.mode=DIST;case DIST:for(;here_op=(here=state.distcode[hold&(1<<state.distbits)-1])>>>16&255,here_val=65535&here,!((here_bits=here>>>24)<=bits);){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if(0==(240&here_op)){for(last_bits=here_bits,last_op=here_op,last_val=here_val;here_op=(here=state.distcode[last_val+((hold&(1<<last_bits+last_op)-1)>>last_bits)])>>>16&255,here_val=65535&here,!(last_bits+(here_bits=here>>>24)<=bits);){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}hold>>>=last_bits,bits-=last_bits,state.back+=last_bits}if(hold>>>=here_bits,bits-=here_bits,state.back+=here_bits,64&here_op){strm.msg=\"invalid distance code\",state.mode=BAD;break}state.offset=here_val,state.extra=15&here_op,state.mode=DISTEXT;case DISTEXT:if(state.extra){for(n=state.extra;bits<n;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}state.offset+=hold&(1<<state.extra)-1,hold>>>=state.extra,bits-=state.extra,state.back+=state.extra}if(state.offset>state.dmax){strm.msg=\"invalid distance too far back\",state.mode=BAD;break}state.mode=MATCH;case MATCH:if(0===left)break inf_leave;if(copy=_out-left,state.offset>copy){if((copy=state.offset-copy)>state.whave&&state.sane){strm.msg=\"invalid distance too far back\",state.mode=BAD;break}copy>state.wnext?(copy-=state.wnext,from=state.wsize-copy):from=state.wnext-copy,copy>state.length&&(copy=state.length),from_source=state.window}else from_source=output,from=put-state.offset,copy=state.length;copy>left&&(copy=left),left-=copy,state.length-=copy;do{output[put++]=from_source[from++]}while(--copy);0===state.length&&(state.mode=LEN);break;case LIT:if(0===left)break inf_leave;output[put++]=state.length,left--,state.mode=LEN;break;case CHECK:if(state.wrap){for(;bits<32;){if(0===have)break inf_leave;have--,hold|=input[next++]<<bits,bits+=8}if(_out-=left,strm.total_out+=_out,state.total+=_out,_out&&(strm.adler=state.check=state.flags?crc32(state.check,output,_out,put-_out):adler32(state.check,output,_out,put-_out)),_out=left,(state.flags?hold:zswap32(hold))!==state.check){strm.msg=\"incorrect data check\",state.mode=BAD;break}hold=0,bits=0}state.mode=LENGTH;case LENGTH:if(state.wrap&&state.flags){for(;bits<32;){if(0===have)break inf_leave;have--,hold+=input[next++]<<bits,bits+=8}if(hold!==(4294967295&state.total)){strm.msg=\"incorrect length check\",state.mode=BAD;break}hold=0,bits=0}state.mode=DONE;case DONE:ret=Z_STREAM_END;break inf_leave;case BAD:ret=Z_DATA_ERROR;break inf_leave;case MEM:return Z_MEM_ERROR;case SYNC:default:return Z_STREAM_ERROR}return strm.next_out=put,strm.avail_out=left,strm.next_in=next,strm.avail_in=have,state.hold=hold,state.bits=bits,(state.wsize||_out!==strm.avail_out&&state.mode<BAD&&(state.mode<CHECK||flush!==Z_FINISH))&&updatewindow(strm,strm.output,strm.next_out,_out-strm.avail_out)?(state.mode=MEM,Z_MEM_ERROR):(_in-=strm.avail_in,_out-=strm.avail_out,strm.total_in+=_in,strm.total_out+=_out,state.total+=_out,state.wrap&&_out&&(strm.adler=state.check=state.flags?crc32(state.check,output,_out,strm.next_out-_out):adler32(state.check,output,_out,strm.next_out-_out)),strm.data_type=state.bits+(state.last?64:0)+(state.mode===TYPE?128:0)+(state.mode===LEN_||state.mode===COPY_?256:0),(0===_in&&0===_out||flush===Z_FINISH)&&ret===Z_OK&&(ret=Z_BUF_ERROR),ret)},exports.inflateEnd=function(strm){if(!strm||!strm.state)return Z_STREAM_ERROR;var state=strm.state;return state.window&&(state.window=null),strm.state=null,Z_OK},exports.inflateGetHeader=function(strm,head){var state;return strm&&strm.state?0==(2&(state=strm.state).wrap)?Z_STREAM_ERROR:(state.head=head,head.done=!1,Z_OK):Z_STREAM_ERROR},exports.inflateSetDictionary=function(strm,dictionary){var state,dictLength=dictionary.length;return strm&&strm.state?0!==(state=strm.state).wrap&&state.mode!==DICT?Z_STREAM_ERROR:state.mode===DICT&&adler32(1,dictionary,dictLength,0)!==state.check?Z_DATA_ERROR:updatewindow(strm,dictionary,dictLength,dictLength)?(state.mode=MEM,Z_MEM_ERROR):(state.havedict=1,Z_OK):Z_STREAM_ERROR},exports.inflateInfo=\"pako inflate (from Nodeca project)\"},function(module,exports,__webpack_require__){\"use strict\";module.exports=function(strm,start){var state,_in,last,_out,beg,end,dmax,wsize,whave,wnext,s_window,hold,bits,lcode,dcode,lmask,dmask,here,op,len,dist,from,from_source,input,output;state=strm.state,_in=strm.next_in,input=strm.input,last=_in+(strm.avail_in-5),_out=strm.next_out,output=strm.output,beg=_out-(start-strm.avail_out),end=_out+(strm.avail_out-257),dmax=state.dmax,wsize=state.wsize,whave=state.whave,wnext=state.wnext,s_window=state.window,hold=state.hold,bits=state.bits,lcode=state.lencode,dcode=state.distcode,lmask=(1<<state.lenbits)-1,dmask=(1<<state.distbits)-1;top:do{bits<15&&(hold+=input[_in++]<<bits,bits+=8,hold+=input[_in++]<<bits,bits+=8),here=lcode[hold&lmask];dolen:for(;;){if(hold>>>=op=here>>>24,bits-=op,0===(op=here>>>16&255))output[_out++]=65535&here;else{if(!(16&op)){if(0==(64&op)){here=lcode[(65535&here)+(hold&(1<<op)-1)];continue dolen}if(32&op){state.mode=12;break top}strm.msg=\"invalid literal/length code\",state.mode=30;break top}len=65535&here,(op&=15)&&(bits<op&&(hold+=input[_in++]<<bits,bits+=8),len+=hold&(1<<op)-1,hold>>>=op,bits-=op),bits<15&&(hold+=input[_in++]<<bits,bits+=8,hold+=input[_in++]<<bits,bits+=8),here=dcode[hold&dmask];dodist:for(;;){if(hold>>>=op=here>>>24,bits-=op,!(16&(op=here>>>16&255))){if(0==(64&op)){here=dcode[(65535&here)+(hold&(1<<op)-1)];continue dodist}strm.msg=\"invalid distance code\",state.mode=30;break top}if(dist=65535&here,bits<(op&=15)&&(hold+=input[_in++]<<bits,(bits+=8)<op&&(hold+=input[_in++]<<bits,bits+=8)),(dist+=hold&(1<<op)-1)>dmax){strm.msg=\"invalid distance too far back\",state.mode=30;break top}if(hold>>>=op,bits-=op,dist>(op=_out-beg)){if((op=dist-op)>whave&&state.sane){strm.msg=\"invalid distance too far back\",state.mode=30;break top}if(from=0,from_source=s_window,0===wnext){if(from+=wsize-op,op<len){len-=op;do{output[_out++]=s_window[from++]}while(--op);from=_out-dist,from_source=output}}else if(wnext<op){if(from+=wsize+wnext-op,(op-=wnext)<len){len-=op;do{output[_out++]=s_window[from++]}while(--op);if(from=0,wnext<len){len-=op=wnext;do{output[_out++]=s_window[from++]}while(--op);from=_out-dist,from_source=output}}}else if(from+=wnext-op,op<len){len-=op;do{output[_out++]=s_window[from++]}while(--op);from=_out-dist,from_source=output}for(;len>2;)output[_out++]=from_source[from++],output[_out++]=from_source[from++],output[_out++]=from_source[from++],len-=3;len&&(output[_out++]=from_source[from++],len>1&&(output[_out++]=from_source[from++]))}else{from=_out-dist;do{output[_out++]=output[from++],output[_out++]=output[from++],output[_out++]=output[from++],len-=3}while(len>2);len&&(output[_out++]=output[from++],len>1&&(output[_out++]=output[from++]))}break}}break}}while(_in<last&&_out<end);_in-=len=bits>>3,hold&=(1<<(bits-=len<<3))-1,strm.next_in=_in,strm.next_out=_out,strm.avail_in=_in<last?last-_in+5:5-(_in-last),strm.avail_out=_out<end?end-_out+257:257-(_out-end),state.hold=hold,state.bits=bits}},function(module,exports,__nested_webpack_require_363085__){\"use strict\";var utils=__nested_webpack_require_363085__(8),lbase=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],lext=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],dbase=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],dext=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];module.exports=function(type,lens,lens_index,codes,table,table_index,work,opts){var incr,fill,low,mask,next,end,here_bits,here_op,here_val,bits=opts.bits,len=0,sym=0,min=0,max=0,root=0,curr=0,drop=0,left=0,used=0,huff=0,base=null,base_index=0,count=new utils.Buf16(16),offs=new utils.Buf16(16),extra=null,extra_index=0;for(len=0;len<=15;len++)count[len]=0;for(sym=0;sym<codes;sym++)count[lens[lens_index+sym]]++;for(root=bits,max=15;max>=1&&0===count[max];max--);if(root>max&&(root=max),0===max)return table[table_index++]=20971520,table[table_index++]=20971520,opts.bits=1,0;for(min=1;min<max&&0===count[min];min++);for(root<min&&(root=min),left=1,len=1;len<=15;len++)if(left<<=1,(left-=count[len])<0)return-1;if(left>0&&(0===type||1!==max))return-1;for(offs[1]=0,len=1;len<15;len++)offs[len+1]=offs[len]+count[len];for(sym=0;sym<codes;sym++)0!==lens[lens_index+sym]&&(work[offs[lens[lens_index+sym]]++]=sym);if(0===type?(base=extra=work,end=19):1===type?(base=lbase,base_index-=257,extra=lext,extra_index-=257,end=256):(base=dbase,extra=dext,end=-1),huff=0,sym=0,len=min,next=table_index,curr=root,drop=0,low=-1,mask=(used=1<<root)-1,1===type&&used>852||2===type&&used>592)return 1;for(;;){here_bits=len-drop,work[sym]<end?(here_op=0,here_val=work[sym]):work[sym]>end?(here_op=extra[extra_index+work[sym]],here_val=base[base_index+work[sym]]):(here_op=96,here_val=0),incr=1<<len-drop,min=fill=1<<curr;do{table[next+(huff>>drop)+(fill-=incr)]=here_bits<<24|here_op<<16|here_val|0}while(0!==fill);for(incr=1<<len-1;huff&incr;)incr>>=1;if(0!==incr?(huff&=incr-1,huff+=incr):huff=0,sym++,0==--count[len]){if(len===max)break;len=lens[lens_index+work[sym]]}if(len>root&&(huff&mask)!==low){for(0===drop&&(drop=root),next+=min,left=1<<(curr=len-drop);curr+drop<max&&!((left-=count[curr+drop])<=0);)curr++,left<<=1;if(used+=1<<curr,1===type&&used>852||2===type&&used>592)return 1;table[low=huff&mask]=root<<24|curr<<16|next-table_index|0}}return 0!==huff&&(table[next+huff]=len-drop<<24|64<<16|0),opts.bits=root,0}},function(module,exports,__webpack_require__){\"use strict\";module.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name=\"\",this.comment=\"\",this.hcrc=0,this.done=!1}},function(module,exports,__nested_webpack_require_365831__){\"use strict\";var utils=__nested_webpack_require_365831__(0),GenericWorker=__nested_webpack_require_365831__(3),utf8=__nested_webpack_require_365831__(16),crc32=__nested_webpack_require_365831__(44),signature=__nested_webpack_require_365831__(71),decToHex=function(dec,bytes){var i,hex=\"\";for(i=0;i<bytes;i++)hex+=String.fromCharCode(255&dec),dec>>>=8;return hex},generateZipParts=function(streamInfo,streamedContent,streamingEnded,offset,platform,encodeFileName){var dosTime,dosDate,file=streamInfo.file,compression=streamInfo.compression,useCustomEncoding=encodeFileName!==utf8.utf8encode,encodedFileName=utils.transformTo(\"string\",encodeFileName(file.name)),utfEncodedFileName=utils.transformTo(\"string\",utf8.utf8encode(file.name)),comment=file.comment,encodedComment=utils.transformTo(\"string\",encodeFileName(comment)),utfEncodedComment=utils.transformTo(\"string\",utf8.utf8encode(comment)),useUTF8ForFileName=utfEncodedFileName.length!==file.name.length,useUTF8ForComment=utfEncodedComment.length!==comment.length,extraFields=\"\",unicodePathExtraField=\"\",unicodeCommentExtraField=\"\",dir=file.dir,date=file.date,dataInfo={crc32:0,compressedSize:0,uncompressedSize:0};streamedContent&&!streamingEnded||(dataInfo.crc32=streamInfo.crc32,dataInfo.compressedSize=streamInfo.compressedSize,dataInfo.uncompressedSize=streamInfo.uncompressedSize);var bitflag=0;streamedContent&&(bitflag|=8),useCustomEncoding||!useUTF8ForFileName&&!useUTF8ForComment||(bitflag|=2048);var extFileAttr=0,versionMadeBy=0;dir&&(extFileAttr|=16),\"UNIX\"===platform?(versionMadeBy=798,extFileAttr|=function(unixPermissions,isDir){var result=unixPermissions;return unixPermissions||(result=isDir?16893:33204),(65535&result)<<16}(file.unixPermissions,dir)):(versionMadeBy=20,extFileAttr|=function(dosPermissions,isDir){return 63&(dosPermissions||0)}(file.dosPermissions)),dosTime=date.getUTCHours(),dosTime<<=6,dosTime|=date.getUTCMinutes(),dosTime<<=5,dosTime|=date.getUTCSeconds()/2,dosDate=date.getUTCFullYear()-1980,dosDate<<=4,dosDate|=date.getUTCMonth()+1,dosDate<<=5,dosDate|=date.getUTCDate(),useUTF8ForFileName&&(unicodePathExtraField=decToHex(1,1)+decToHex(crc32(encodedFileName),4)+utfEncodedFileName,extraFields+=\"up\"+decToHex(unicodePathExtraField.length,2)+unicodePathExtraField),useUTF8ForComment&&(unicodeCommentExtraField=decToHex(1,1)+decToHex(crc32(encodedComment),4)+utfEncodedComment,extraFields+=\"uc\"+decToHex(unicodeCommentExtraField.length,2)+unicodeCommentExtraField);var header=\"\";return header+=\"\\n\\0\",header+=decToHex(bitflag,2),header+=compression.magic,header+=decToHex(dosTime,2),header+=decToHex(dosDate,2),header+=decToHex(dataInfo.crc32,4),header+=decToHex(dataInfo.compressedSize,4),header+=decToHex(dataInfo.uncompressedSize,4),header+=decToHex(encodedFileName.length,2),header+=decToHex(extraFields.length,2),{fileRecord:signature.LOCAL_FILE_HEADER+header+encodedFileName+extraFields,dirRecord:signature.CENTRAL_FILE_HEADER+decToHex(versionMadeBy,2)+header+decToHex(encodedComment.length,2)+\"\\0\\0\\0\\0\"+decToHex(extFileAttr,4)+decToHex(offset,4)+encodedFileName+extraFields+encodedComment}};function ZipFileWorker(streamFiles,comment,platform,encodeFileName){GenericWorker.call(this,\"ZipFileWorker\"),this.bytesWritten=0,this.zipComment=comment,this.zipPlatform=platform,this.encodeFileName=encodeFileName,this.streamFiles=streamFiles,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}utils.inherits(ZipFileWorker,GenericWorker),ZipFileWorker.prototype.push=function(chunk){var currentFilePercent=chunk.meta.percent||0,entriesCount=this.entriesCount,remainingFiles=this._sources.length;this.accumulate?this.contentBuffer.push(chunk):(this.bytesWritten+=chunk.data.length,GenericWorker.prototype.push.call(this,{data:chunk.data,meta:{currentFile:this.currentFile,percent:entriesCount?(currentFilePercent+100*(entriesCount-remainingFiles-1))/entriesCount:100}}))},ZipFileWorker.prototype.openedSource=function(streamInfo){this.currentSourceOffset=this.bytesWritten,this.currentFile=streamInfo.file.name;var streamedContent=this.streamFiles&&!streamInfo.file.dir;if(streamedContent){var record=generateZipParts(streamInfo,streamedContent,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:record.fileRecord,meta:{percent:0}})}else this.accumulate=!0},ZipFileWorker.prototype.closedSource=function(streamInfo){this.accumulate=!1;var streamedContent=this.streamFiles&&!streamInfo.file.dir,record=generateZipParts(streamInfo,streamedContent,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(record.dirRecord),streamedContent)this.push({data:function(streamInfo){return signature.DATA_DESCRIPTOR+decToHex(streamInfo.crc32,4)+decToHex(streamInfo.compressedSize,4)+decToHex(streamInfo.uncompressedSize,4)}(streamInfo),meta:{percent:100}});else for(this.push({data:record.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},ZipFileWorker.prototype.flush=function(){for(var localDirLength=this.bytesWritten,i=0;i<this.dirRecords.length;i++)this.push({data:this.dirRecords[i],meta:{percent:100}});var centralDirLength=this.bytesWritten-localDirLength,dirEnd=function(entriesCount,centralDirLength,localDirLength,comment,encodeFileName){var encodedComment=utils.transformTo(\"string\",encodeFileName(comment));return signature.CENTRAL_DIRECTORY_END+\"\\0\\0\\0\\0\"+decToHex(entriesCount,2)+decToHex(entriesCount,2)+decToHex(centralDirLength,4)+decToHex(localDirLength,4)+decToHex(encodedComment.length,2)+encodedComment}(this.dirRecords.length,centralDirLength,localDirLength,this.zipComment,this.encodeFileName);this.push({data:dirEnd,meta:{percent:100}})},ZipFileWorker.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},ZipFileWorker.prototype.registerPrevious=function(previous){this._sources.push(previous);var self=this;return previous.on(\"data\",function(chunk){self.processChunk(chunk)}),previous.on(\"end\",function(){self.closedSource(self.previous.streamInfo),self._sources.length?self.prepareNextSource():self.end()}),previous.on(\"error\",function(e){self.error(e)}),this},ZipFileWorker.prototype.resume=function(){return!!GenericWorker.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},ZipFileWorker.prototype.error=function(e){var sources=this._sources;if(!GenericWorker.prototype.error.call(this,e))return!1;for(var i=0;i<sources.length;i++)try{sources[i].error(e)}catch(e){}return!0},ZipFileWorker.prototype.lock=function(){GenericWorker.prototype.lock.call(this);for(var sources=this._sources,i=0;i<sources.length;i++)sources[i].lock()},module.exports=ZipFileWorker},function(module,exports,__nested_webpack_require_372758__){\"use strict\";var utils=__nested_webpack_require_372758__(0),GenericWorker=__nested_webpack_require_372758__(3);function NodejsStreamInputAdapter(filename,stream){GenericWorker.call(this,\"Nodejs stream input adapter for \"+filename),this._upstreamEnded=!1,this._bindStream(stream)}utils.inherits(NodejsStreamInputAdapter,GenericWorker),NodejsStreamInputAdapter.prototype._bindStream=function(stream){var self=this;this._stream=stream,stream.pause(),stream.on(\"data\",function(chunk){self.push({data:chunk,meta:{percent:0}})}).on(\"error\",function(e){self.isPaused?this.generatedError=e:self.error(e)}).on(\"end\",function(){self.isPaused?self._upstreamEnded=!0:self.end()})},NodejsStreamInputAdapter.prototype.pause=function(){return!!GenericWorker.prototype.pause.call(this)&&(this._stream.pause(),!0)},NodejsStreamInputAdapter.prototype.resume=function(){return!!GenericWorker.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},module.exports=NodejsStreamInputAdapter},function(module,exports,__nested_webpack_require_373777__){\"use strict\";var utils=__nested_webpack_require_373777__(0),external=__nested_webpack_require_373777__(29),utf8=__nested_webpack_require_373777__(16),ZipEntries=(utils=__nested_webpack_require_373777__(0),__nested_webpack_require_373777__(122)),Crc32Probe=__nested_webpack_require_373777__(64),nodejsUtils=__nested_webpack_require_373777__(35);function checkEntryCRC32(zipEntry){return new external.Promise(function(resolve,reject){var worker=zipEntry.decompressed.getContentWorker().pipe(new Crc32Probe);worker.on(\"error\",function(e){reject(e)}).on(\"end\",function(){worker.streamInfo.crc32!==zipEntry.decompressed.crc32?reject(new Error(\"Corrupted zip : CRC32 mismatch\")):resolve()}).resume()})}module.exports=function(data,options){var zip=this;return options=utils.extend(options||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:utf8.utf8decode}),nodejsUtils.isNode&&nodejsUtils.isStream(data)?external.Promise.reject(new Error(\"JSZip can't accept a stream when loading a zip file.\")):utils.prepareContent(\"the loaded zip file\",data,!0,options.optimizedBinaryString,options.base64).then(function(data){var zipEntries=new ZipEntries(options);return zipEntries.load(data),zipEntries}).then(function(zipEntries){var promises=[external.Promise.resolve(zipEntries)],files=zipEntries.files;if(options.checkCRC32)for(var i=0;i<files.length;i++)promises.push(checkEntryCRC32(files[i]));return external.Promise.all(promises)}).then(function(results){for(var zipEntries=results.shift(),files=zipEntries.files,i=0;i<files.length;i++){var input=files[i];zip.file(input.fileNameStr,input.decompressed,{binary:!0,optimizedBinaryString:!0,date:input.date,dir:input.dir,comment:input.fileCommentStr.length?input.fileCommentStr:null,unixPermissions:input.unixPermissions,dosPermissions:input.dosPermissions,createFolders:options.createFolders})}return zipEntries.zipComment.length&&(zip.comment=zipEntries.zipComment),zip})}},function(module,exports,__nested_webpack_require_375673__){\"use strict\";var readerFor=__nested_webpack_require_375673__(72),utils=__nested_webpack_require_375673__(0),sig=__nested_webpack_require_375673__(71),ZipEntry=__nested_webpack_require_375673__(125),support=(__nested_webpack_require_375673__(16),__nested_webpack_require_375673__(7));function ZipEntries(loadOptions){this.files=[],this.loadOptions=loadOptions}ZipEntries.prototype={checkSignature:function(expectedSignature){if(!this.reader.readAndCheckSignature(expectedSignature)){this.reader.index-=4;var signature=this.reader.readString(4);throw new Error(\"Corrupted zip or bug: unexpected signature (\"+utils.pretty(signature)+\", expected \"+utils.pretty(expectedSignature)+\")\")}},isSignature:function(askedIndex,expectedSignature){var currentIndex=this.reader.index;this.reader.setIndex(askedIndex);var result=this.reader.readString(4)===expectedSignature;return this.reader.setIndex(currentIndex),result},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var zipComment=this.reader.readData(this.zipCommentLength),decodeParamType=support.uint8array?\"uint8array\":\"array\",decodeContent=utils.transformTo(decodeParamType,zipComment);this.zipComment=this.loadOptions.decodeFileName(decodeContent)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var extraFieldId,extraFieldLength,extraFieldValue,extraDataSize=this.zip64EndOfCentralSize-44;0<extraDataSize;)extraFieldId=this.reader.readInt(2),extraFieldLength=this.reader.readInt(4),extraFieldValue=this.reader.readData(extraFieldLength),this.zip64ExtensibleData[extraFieldId]={id:extraFieldId,length:extraFieldLength,value:extraFieldValue}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),this.disksCount>1)throw new Error(\"Multi-volumes zip are not supported\")},readLocalFiles:function(){var i,file;for(i=0;i<this.files.length;i++)file=this.files[i],this.reader.setIndex(file.localHeaderOffset),this.checkSignature(sig.LOCAL_FILE_HEADER),file.readLocalPart(this.reader),file.handleUTF8(),file.processAttributes()},readCentralDir:function(){var file;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(sig.CENTRAL_FILE_HEADER);)(file=new ZipEntry({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(file);if(this.centralDirRecords!==this.files.length&&0!==this.centralDirRecords&&0===this.files.length)throw new Error(\"Corrupted zip or bug: expected \"+this.centralDirRecords+\" records in central dir, got \"+this.files.length)},readEndOfCentral:function(){var offset=this.reader.lastIndexOfSignature(sig.CENTRAL_DIRECTORY_END);if(offset<0)throw!this.isSignature(0,sig.LOCAL_FILE_HEADER)?new Error(\"Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html\"):new Error(\"Corrupted zip: can't find end of central directory\");this.reader.setIndex(offset);var endOfCentralDirOffset=offset;if(this.checkSignature(sig.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===utils.MAX_VALUE_16BITS||this.diskWithCentralDirStart===utils.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===utils.MAX_VALUE_16BITS||this.centralDirRecords===utils.MAX_VALUE_16BITS||this.centralDirSize===utils.MAX_VALUE_32BITS||this.centralDirOffset===utils.MAX_VALUE_32BITS){if(this.zip64=!0,(offset=this.reader.lastIndexOfSignature(sig.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error(\"Corrupted zip: can't find the ZIP64 end of central directory locator\");if(this.reader.setIndex(offset),this.checkSignature(sig.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,sig.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(sig.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error(\"Corrupted zip: can't find the ZIP64 end of central directory\");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(sig.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var expectedEndOfCentralDirOffset=this.centralDirOffset+this.centralDirSize;this.zip64&&(expectedEndOfCentralDirOffset+=20,expectedEndOfCentralDirOffset+=12+this.zip64EndOfCentralSize);var extraBytes=endOfCentralDirOffset-expectedEndOfCentralDirOffset;if(extraBytes>0)this.isSignature(endOfCentralDirOffset,sig.CENTRAL_FILE_HEADER)||(this.reader.zero=extraBytes);else if(extraBytes<0)throw new Error(\"Corrupted zip: missing \"+Math.abs(extraBytes)+\" bytes.\")},prepareReader:function(data){this.reader=readerFor(data)},load:function(data){this.prepareReader(data),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},module.exports=ZipEntries},function(module,exports,__nested_webpack_require_381172__){\"use strict\";var DataReader=__nested_webpack_require_381172__(74);function StringReader(data){DataReader.call(this,data)}__nested_webpack_require_381172__(0).inherits(StringReader,DataReader),StringReader.prototype.byteAt=function(i){return this.data.charCodeAt(this.zero+i)},StringReader.prototype.lastIndexOfSignature=function(sig){return this.data.lastIndexOf(sig)-this.zero},StringReader.prototype.readAndCheckSignature=function(sig){return sig===this.readData(4)},StringReader.prototype.readData=function(size){this.checkOffset(size);var result=this.data.slice(this.zero+this.index,this.zero+this.index+size);return this.index+=size,result},module.exports=StringReader},function(module,exports,__nested_webpack_require_381864__){\"use strict\";var Uint8ArrayReader=__nested_webpack_require_381864__(75);function NodeBufferReader(data){Uint8ArrayReader.call(this,data)}__nested_webpack_require_381864__(0).inherits(NodeBufferReader,Uint8ArrayReader),NodeBufferReader.prototype.readData=function(size){this.checkOffset(size);var result=this.data.slice(this.zero+this.index,this.zero+this.index+size);return this.index+=size,result},module.exports=NodeBufferReader},function(module,exports,__nested_webpack_require_382313__){\"use strict\";var readerFor=__nested_webpack_require_382313__(72),utils=__nested_webpack_require_382313__(0),CompressedObject=__nested_webpack_require_382313__(43),crc32fn=__nested_webpack_require_382313__(44),utf8=__nested_webpack_require_382313__(16),compressions=__nested_webpack_require_382313__(65),support=__nested_webpack_require_382313__(7);function ZipEntry(options,loadOptions){this.options=options,this.loadOptions=loadOptions}ZipEntry.prototype={isEncrypted:function(){return 1==(1&this.bitFlag)},useUTF8:function(){return 2048==(2048&this.bitFlag)},readLocalPart:function(reader){var compression,localExtraFieldsLength;if(reader.skip(22),this.fileNameLength=reader.readInt(2),localExtraFieldsLength=reader.readInt(2),this.fileName=reader.readData(this.fileNameLength),reader.skip(localExtraFieldsLength),-1===this.compressedSize||-1===this.uncompressedSize)throw new Error(\"Bug or corrupted zip : didn't get enough informations from the central directory (compressedSize === -1 || uncompressedSize === -1)\");if(null===(compression=function(compressionMethod){for(var method in compressions)if(compressions.hasOwnProperty(method)&&compressions[method].magic===compressionMethod)return compressions[method];return null}(this.compressionMethod)))throw new Error(\"Corrupted zip : compression \"+utils.pretty(this.compressionMethod)+\" unknown (inner file : \"+utils.transformTo(\"string\",this.fileName)+\")\");this.decompressed=new CompressedObject(this.compressedSize,this.uncompressedSize,this.crc32,compression,reader.readData(this.compressedSize))},readCentralPart:function(reader){this.versionMadeBy=reader.readInt(2),reader.skip(2),this.bitFlag=reader.readInt(2),this.compressionMethod=reader.readString(2),this.date=reader.readDate(),this.crc32=reader.readInt(4),this.compressedSize=reader.readInt(4),this.uncompressedSize=reader.readInt(4);var fileNameLength=reader.readInt(2);if(this.extraFieldsLength=reader.readInt(2),this.fileCommentLength=reader.readInt(2),this.diskNumberStart=reader.readInt(2),this.internalFileAttributes=reader.readInt(2),this.externalFileAttributes=reader.readInt(4),this.localHeaderOffset=reader.readInt(4),this.isEncrypted())throw new Error(\"Encrypted zip are not supported\");reader.skip(fileNameLength),this.readExtraFields(reader),this.parseZIP64ExtraField(reader),this.fileComment=reader.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var madeBy=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),0===madeBy&&(this.dosPermissions=63&this.externalFileAttributes),3===madeBy&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||\"/\"!==this.fileNameStr.slice(-1)||(this.dir=!0)},parseZIP64ExtraField:function(reader){if(this.extraFields[1]){var extraReader=readerFor(this.extraFields[1].value);this.uncompressedSize===utils.MAX_VALUE_32BITS&&(this.uncompressedSize=extraReader.readInt(8)),this.compressedSize===utils.MAX_VALUE_32BITS&&(this.compressedSize=extraReader.readInt(8)),this.localHeaderOffset===utils.MAX_VALUE_32BITS&&(this.localHeaderOffset=extraReader.readInt(8)),this.diskNumberStart===utils.MAX_VALUE_32BITS&&(this.diskNumberStart=extraReader.readInt(4))}},readExtraFields:function(reader){var extraFieldId,extraFieldLength,extraFieldValue,end=reader.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});reader.index<end;)extraFieldId=reader.readInt(2),extraFieldLength=reader.readInt(2),extraFieldValue=reader.readData(extraFieldLength),this.extraFields[extraFieldId]={id:extraFieldId,length:extraFieldLength,value:extraFieldValue}},handleUTF8:function(){var decodeParamType=support.uint8array?\"uint8array\":\"array\";if(this.useUTF8())this.fileNameStr=utf8.utf8decode(this.fileName),this.fileCommentStr=utf8.utf8decode(this.fileComment);else{var upath=this.findExtraFieldUnicodePath();if(null!==upath)this.fileNameStr=upath;else{var fileNameByteArray=utils.transformTo(decodeParamType,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(fileNameByteArray)}var ucomment=this.findExtraFieldUnicodeComment();if(null!==ucomment)this.fileCommentStr=ucomment;else{var commentByteArray=utils.transformTo(decodeParamType,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(commentByteArray)}}},findExtraFieldUnicodePath:function(){var upathField=this.extraFields[28789];if(upathField){var extraReader=readerFor(upathField.value);return 1!==extraReader.readInt(1)?null:crc32fn(this.fileName)!==extraReader.readInt(4)?null:utf8.utf8decode(extraReader.readData(upathField.length-5))}return null},findExtraFieldUnicodeComment:function(){var ucommentField=this.extraFields[25461];if(ucommentField){var extraReader=readerFor(ucommentField.value);return 1!==extraReader.readInt(1)?null:crc32fn(this.fileComment)!==extraReader.readInt(4)?null:utf8.utf8decode(extraReader.readData(ucommentField.length-5))}return null}},module.exports=ZipEntry},function(module,exports,__webpack_require__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.getHTML=function(content,segments){return'\\n  <div class=\"pushwoosh-subscription-segments\">\\n    <div class=\"pushwoosh-subscription-segments__header\">\\n      '+content.headerText+'\\n    </div>\\n    <div class=\"pushwoosh-subscription-segments__body\">\\n      <div class=\"pushwoosh-subscription-segments__sub-header\">\\n        '+(content.subHeaderText?content.subHeaderText:\"\")+'\\n      </div>\\n      <div class=\"pushwoosh-subscription-segments__channels\">\\n        '+segments.reduce(function(result,segment){return result+'<div class=\"pushwoosh-subscription-segments__channel\">\\n            <label class=\"pushwoosh-subscription-segments__label\">\\n              <input\\n                class=\"pushwoosh-subscription-segments__field\" \\n                type=\"checkbox\" \\n                value=\"'+segment.code+'\"\\n                checked=\"true\"\\n              />\\n              <span class=\"pushwoosh-subscription-segments__icon\">\\n                <svg width=\"18\" height=\"18\" viewBox=\"0 0 24 24\" xmlns=\"http://www.w3.org/2000/svg\">\\n                    <path d=\"M18.0303 8.46967C18.3232 8.76256 18.3232 9.23744 18.0303 9.53033L11.0303 16.5303C10.7374 16.8232 10.2626 16.8232 9.96967 16.5303L6.96967 13.5303C6.67678 13.2374 6.67678 12.7626 6.96967 12.4697C7.26256 12.1768 7.73744 12.1768 8.03033 12.4697L10.5 14.9393L16.9697 8.46967C17.2626 8.17678 17.7374 8.17678 18.0303 8.46967Z\" fill=\"currentColor\"/>\\n                  </svg>\\n              </span>\\n              <span class=\"pushwoosh-subscription-segments__text\">\\n                '+segment.name+\"\\n              </span>\\n            </label>\\n          </div>\"},\"\")+'\\n      </div>\\n      <div class=\"pushwoosh-subscription-segments__controls\">\\n        <button type=\"button\" id=\"pushwoosh-subscription-segments-deny\" class=\"pushwoosh-subscription-segments__control pushwoosh-subscription-segments__control_deny\">\\n          '+content.controlsDenyButtonText+'\\n        </button>\\n        <button type=\"button\" id=\"pushwoosh-subscription-segments-accept\" class=\"pushwoosh-subscription-segments__control pushwoosh-subscription-segments__control_accept\">\\n          '+content.controlsButtonText+\"\\n        </button>\\n      </div>\\n    </div>\\n  </div>\\n  \"},exports.getStyles=function(content){var styles=document.createElement(\"style\");return styles.innerHTML=\"\\n    .pushwoosh-subscription-segments * {\\n      box-sizing: border-box!important;\\n    }\\n  \\n    .pushwoosh-subscription-segments {\\n      padding: 24px 16px 16px 24px!important;\\n      user-select: none!important;\\n    }\\n  \\n    .pushwoosh-subscription-segments__header {\\n      font-weight: bold!important;\\n      font-size: 20px!important;\\n      line-height: 23px!important;\\n    }\\n    \\n    .pushwoosh-subscription-segments__sub-header {\\n      margin-top: 16px!important;\\n      font-size: 16px!important;\\n      line-height: 24px!important;\\n      color: rgba(0, 0, 0, 0.54)!important;\\n    }\\n    \\n    .pushwoosh-subscription-segments__sub-header:empty {\\n      display:none!important;\\n    }\\n    \\n    .pushwoosh-subscription-segments__channels {\\n      margin-top: 16px!important;\\n      font-size: 16px!important;\\n      line-height: 24px!important;\\n    }\\n    \\n    .pushwoosh-subscription-segments__channel + .pushwoosh-subscription-segments__channel {\\n      margin-top: 8px!important;\\n    }\\n    \\n    .pushwoosh-subscription-segments__label {\\n      display: inline-flex!important;\\n      align-items: flex-start!important;\\n      cursor: pointer!important;\\n    }\\n    \\n    .pushwoosh-subscription-segments__field {\\n      display: none!important;\\n    }\\n    \\n    .pushwoosh-subscription-segments__icon {\\n      display: block!important;\\n      line-height: 0!important;\\n      width: 20px!important;\\n      height: 20px!important;\\n      border: 1px solid #ddd!important;\\n      border-radius: 4px!important;\\n      color: #fff!important;\\n      margin: 2px 8px 0 0!important;\\n    }\\n    \\n    .pushwoosh-subscription-segments__text {\\n      color: \"+content.channelsTextColor+\"!important;\\n    }\\n    \\n    .pushwoosh-subscription-segments__controls {\\n      margin-top: 24px!important;\\n      text-align: right!important;\\n    }\\n    \\n    .pushwoosh-subscription-segments__field:checked + .pushwoosh-subscription-segments__icon {\\n      background: \"+content.channelsToggleColor+\"!important;\\n      border: 1px solid transparent!important;\\n    }\\n    \\n    .pushwoosh-subscription-segments__control {\\n      appearance: none!important;\\n      height: 36px!important;\\n      border-radius: 4px!important;\\n      padding: 0 16px!important;\\n      font-weight: bold!important;\\n      font-size: 14px!important;\\n      line-height: 16px!important;\\n      cursor: pointer!important;\\n    }\\n    \\n    .pushwoosh-subscription-segments__control + .pushwoosh-subscription-segments__control {\\n      margin: 0 0 0 4px!important;\\n    }\\n    \\n    .pushwoosh-subscription-segments__control.pushwoosh-subscription-segments__control_deny {\\n      border: none!important;\\n      color: \"+content.controlsDenyButtonTextColor+\"!important;\\n      background-color: \"+content.controlsDenyButtonBackgroundColor+\"!important;\\n      border-radius: \"+content.controlsDenyButtonRound+\"!important;\\n    }\\n    \\n    .pushwoosh-subscription-segments__control.pushwoosh-subscription-segments__control_accept {\\n      border: none!important;\\n      color: \"+content.controlsButtonTextColor+\"!important;\\n      background-color: \"+content.controlsButtonBackgroundColor+\"!important;\\n      border-radius: \"+content.controlsButtonRound+\"!important;\\n    }\\n  \",styles}},function(module,exports,__nested_webpack_require_392898__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var constants_1=__nested_webpack_require_392898__(1),SubscriptionPromptWidget_helpers_1=__nested_webpack_require_392898__(128),SubscriptionPromptWidget_constants_1=__nested_webpack_require_392898__(76),SubscriptionPromptWidget=function(){function SubscriptionPromptWidget(pw){this.pw=pw}return SubscriptionPromptWidget.prototype.init=function(params){if(!this.getRootElement()){var html=SubscriptionPromptWidget_helpers_1.getHTML(params),styles=SubscriptionPromptWidget_helpers_1.getStyles(params);document.body.insertAdjacentHTML(\"beforeend\",html),document.head.appendChild(styles)}this.addEventListeners()},SubscriptionPromptWidget.prototype.show=function(){var rootElement=this.getRootElementWithCheckExist();this.pw._ee.emit(constants_1.EVENT_ON_SHOW_SUBSCRIPTION_WIDGET),rootElement.classList.add(SubscriptionPromptWidget_constants_1.SUBSCRIPTION_PROMPT_WIDGET_NAMESPACE+\"_show\")},SubscriptionPromptWidget.prototype.hide=function(){var rootElement=this.getRootElementWithCheckExist();rootElement.classList.contains(SubscriptionPromptWidget_constants_1.SUBSCRIPTION_PROMPT_WIDGET_NAMESPACE+\"_show\")&&(this.pw._ee.emit(constants_1.EVENT_ON_HIDE_SUBSCRIPTION_WIDGET),rootElement.classList.remove(SubscriptionPromptWidget_constants_1.SUBSCRIPTION_PROMPT_WIDGET_NAMESPACE+\"_show\"))},SubscriptionPromptWidget.prototype.getRootElement=function(){return document.getElementById(SubscriptionPromptWidget_constants_1.SUBSCRIPTION_PROMPT_WIDGET_NAMESPACE+\"-root\")},SubscriptionPromptWidget.prototype.getRootElementWithCheckExist=function(){var element=this.getRootElement();if(!element)throw new Error(\"Can't find element by id \\\"\"+SubscriptionPromptWidget_constants_1.SUBSCRIPTION_PROMPT_WIDGET_NAMESPACE+'-root\", please use method init first.');return element},SubscriptionPromptWidget.prototype.getDeclineButtonWithCheckExist=function(){var element=document.getElementById(SubscriptionPromptWidget_constants_1.SUBSCRIPTION_PROMPT_WIDGET_NAMESPACE+\"-decline\");if(!element)throw new Error(\"Can't find element by id \\\"\"+SubscriptionPromptWidget_constants_1.SUBSCRIPTION_PROMPT_WIDGET_NAMESPACE+'-decline\", please use method init first.');return element},SubscriptionPromptWidget.prototype.getAcceptButtonWithCheckExist=function(){var element=document.getElementById(SubscriptionPromptWidget_constants_1.SUBSCRIPTION_PROMPT_WIDGET_NAMESPACE+\"-accept\");if(!element)throw new Error(\"Can't find element by id \\\"\"+SubscriptionPromptWidget_constants_1.SUBSCRIPTION_PROMPT_WIDGET_NAMESPACE+'-accept\", please use method init first.');return element},SubscriptionPromptWidget.prototype.addEventListeners=function(){var _this=this,rootElement=this.getRootElementWithCheckExist(),declineElement=this.getDeclineButtonWithCheckExist(),acceptElement=this.getAcceptButtonWithCheckExist();document.addEventListener(\"click\",function(event){rootElement.contains(event.target)||_this.hide()}),declineElement.addEventListener(\"click\",function(){_this.hide()}),acceptElement.addEventListener(\"click\",function(){_this.hide(),_this.pw.subscribe()})},SubscriptionPromptWidget}();exports.SubscriptionPromptWidget=SubscriptionPromptWidget},function(module,exports,__nested_webpack_require_396077__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var SubscriptionPromptWidget_constants_1=__nested_webpack_require_396077__(76);exports.getHTML=function(params){return'\\n  <div id=\"'+SubscriptionPromptWidget_constants_1.SUBSCRIPTION_PROMPT_WIDGET_NAMESPACE+'-root\" class=\"'+SubscriptionPromptWidget_constants_1.SUBSCRIPTION_PROMPT_WIDGET_NAMESPACE+'\">\\n    <div class=\"'+SubscriptionPromptWidget_constants_1.SUBSCRIPTION_PROMPT_WIDGET_NAMESPACE+'__body\">\\n      <div class=\"'+SubscriptionPromptWidget_constants_1.SUBSCRIPTION_PROMPT_WIDGET_NAMESPACE+'__header\">\\n        '+params.headerText+'\\n      </div>\\n      <div class=\"'+SubscriptionPromptWidget_constants_1.SUBSCRIPTION_PROMPT_WIDGET_NAMESPACE+'__description\">\\n        '+params.subheaderText+'\\n      </div>\\n      <div class=\"'+SubscriptionPromptWidget_constants_1.SUBSCRIPTION_PROMPT_WIDGET_NAMESPACE+'__controls\">\\n        <button type=\"button\" id=\"'+SubscriptionPromptWidget_constants_1.SUBSCRIPTION_PROMPT_WIDGET_NAMESPACE+'-decline\" class=\"'+SubscriptionPromptWidget_constants_1.SUBSCRIPTION_PROMPT_WIDGET_NAMESPACE+\"__control \"+SubscriptionPromptWidget_constants_1.SUBSCRIPTION_PROMPT_WIDGET_NAMESPACE+'__control_decline\">\\n          '+params.buttonCancelText+'\\n        </button>\\n        <button type=\"button\" id=\"'+SubscriptionPromptWidget_constants_1.SUBSCRIPTION_PROMPT_WIDGET_NAMESPACE+'-accept\" class=\"'+SubscriptionPromptWidget_constants_1.SUBSCRIPTION_PROMPT_WIDGET_NAMESPACE+\"__control \"+SubscriptionPromptWidget_constants_1.SUBSCRIPTION_PROMPT_WIDGET_NAMESPACE+'__control_accept\">\\n          '+params.buttonAcceptText+\"\\n        </button>\\n      </div>\\n    </div>\\n  </div>\\n  \"},exports.getStyles=function(params){var styles=document.createElement(\"style\");return styles.innerHTML=\"\\n    .\"+SubscriptionPromptWidget_constants_1.SUBSCRIPTION_PROMPT_WIDGET_NAMESPACE+\" * {\\n      box-sizing: border-box!important;\\n    }\\n  \\n    .\"+SubscriptionPromptWidget_constants_1.SUBSCRIPTION_PROMPT_WIDGET_NAMESPACE+\" {\\n      position: fixed;\\n      top: 0;\\n      left: 0;\\n      right: 0;\\n      margin: 0 auto;\\n      width: 320px;\\n      display: none;\\n      z-index: 2147483648;\\n      opacity: 0.99;\\n    }\\n    \\n    .\"+SubscriptionPromptWidget_constants_1.SUBSCRIPTION_PROMPT_WIDGET_NAMESPACE+\"_show {\\n      display: block;\\n    }\\n    \\n    .\"+SubscriptionPromptWidget_constants_1.SUBSCRIPTION_PROMPT_WIDGET_NAMESPACE+\"__body {\\n      width: 320px;\\n      background-color: \"+(params.backgroundColor?params.backgroundColor:\"#FFFFFF\")+\";\\n      box-shadow: 0 9px 15px rgba(0, 0, 0, 0.1), 0 0 6px rgba(0, 0, 0, 0.06);\\n      border-radius: 4px;\\n      padding: 20px 20px 12px;\\n    }\\n    \\n    .\"+SubscriptionPromptWidget_constants_1.SUBSCRIPTION_PROMPT_WIDGET_NAMESPACE+\"__header {\\n      color: \"+params.headerTextColor+\";\\n      font-size: 18px;\\n      font-weight: bold; \\n    }\\n    \\n    .\"+SubscriptionPromptWidget_constants_1.SUBSCRIPTION_PROMPT_WIDGET_NAMESPACE+\"__description {\\n      color: \"+params.subheaderTextColor+\";\\n      font-size: 14px;\\n      line-height: 1.5;\\n      margin-top: 14px;\\n    }\\n    \\n    .\"+SubscriptionPromptWidget_constants_1.SUBSCRIPTION_PROMPT_WIDGET_NAMESPACE+\"__description:empty {\\n      display: none;\\n    }\\n    \\n    .\"+SubscriptionPromptWidget_constants_1.SUBSCRIPTION_PROMPT_WIDGET_NAMESPACE+\"__controls {\\n      display: flex;\\n      flex-wrap: nowrap;\\n      justify-content: flex-end;\\n      margin: 20px 0 0;\\n    }\\n    \\n    .\"+SubscriptionPromptWidget_constants_1.SUBSCRIPTION_PROMPT_WIDGET_NAMESPACE+\"__control {\\n      -webkit-appearance: none;\\n      border: 1px solid transparent;\\n      font-size: 12px;\\n      font-weight: bold;\\n      padding: 0 20px;\\n      height: 32px;\\n      cursor: pointer;\\n    }\\n    \\n    .\"+SubscriptionPromptWidget_constants_1.SUBSCRIPTION_PROMPT_WIDGET_NAMESPACE+\"__control_decline {\\n      color: \"+params.buttonCancelTextColor+\";\\n      background-color: \"+params.buttonCancelBackgroundColor+\";\\n      border-radius: \"+params.buttonCancelRound+\";\\n      border-color: \"+params.buttonCancelBorderColor+\";\\n    }\\n    \\n    .\"+SubscriptionPromptWidget_constants_1.SUBSCRIPTION_PROMPT_WIDGET_NAMESPACE+\"__control_accept {\\n      color: \"+params.buttonAcceptTextColor+\";\\n      background-color: \"+params.buttonAcceptBackgroundColor+\";\\n      border-radius: \"+params.buttonAcceptRound+\";\\n      border-color: \"+params.buttonAcceptBorderColor+\";\\n      margin: 0 0 0 12px;\\n    }\\n  \",styles}},function(module,exports,__webpack_require__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var EventEmitter=function(){function EventEmitter(){this._events={}}return EventEmitter.prototype.emit=function(evt,param){var events=this._events[evt]&&this._events[evt].slice();if(events&&events.length)for(var i=0;i<events.length;i++)events[i](param)},EventEmitter.prototype.on=function(evt,fn){return this._events[evt]||(this._events[evt]=[]),this._events[evt].push(fn),this},EventEmitter.prototype.once=function(evt,fn){var _this=this,used=!1,oncefun=function(param){if(!used)return used=!0,_this.removeListener(evt,oncefun),fn(param)};return this.on(evt,oncefun)},EventEmitter.prototype.removeListener=function(evt,listener){var events=this._events[evt];if(events){var idx=events.indexOf(listener);idx>-1&&events.splice(idx,1),events.length<1&&delete this._events[evt]}},EventEmitter}();exports.default=EventEmitter},function(module,exports,__nested_webpack_require_401525__){\"use strict\";var __awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})},__generator=this&&this.__generator||function(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},\"function\"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function(op){if(f)throw new TypeError(\"Generator is already executing.\");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=(t=_.trys).length>0&&t[t.length-1])&&(6===op[0]||2===op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}};Object.defineProperty(exports,\"__esModule\",{value:!0});var constants_1=__nested_webpack_require_401525__(1),functions_1=__nested_webpack_require_401525__(11),storage_1=__nested_webpack_require_401525__(2),FacebookModule=function(){function FacebookModule(config){this.userRef=functions_1.generateUUID(),this.config=config,this.init()}return FacebookModule.prototype.init=function(){this.renderCheckbox(),this.initFacebookSDK(),this.loadFacebookSDK()},FacebookModule.prototype.renderCheckbox=function(){for(var _a=this.config,pageId=_a.pageId,containerClass=_a.containerClass,attributes=[{name:\"messenger_app_id\",value:constants_1.FACEBOOK_APP_ID},{name:\"class\",value:\"fb-messenger-checkbox\"},{name:\"page_id\",value:pageId},{name:\"origin\",value:window.location.protocol+\"//\"+window.location.hostname},{name:\"user_ref\",value:this.userRef},{name:\"allow_login\",value:\"true\"},{name:\"size\",value:\"large\"},{name:\"skin\",value:\"light\"},{name:\"center_align\",value:\"false\"}],nodes=document.getElementsByClassName(containerClass),_loop_1=function(index){var node=document.createElement(\"div\");attributes.forEach(function(attribute){node.setAttribute(attribute.name,attribute.value)}),nodes[index].appendChild(node)},index=0;index<nodes.length;index++)_loop_1(index)},FacebookModule.prototype.getHWID=function(){return __awaiter(this,void 0,void 0,function(){var hwid,applicationCode,newHWID;return __generator(this,function(_a){switch(_a.label){case 0:return[4,storage_1.keyValue.get(constants_1.FACEBOOK_HWID_KEY)];case 1:return(hwid=_a.sent())?[3,3]:(applicationCode=this.config.applicationCode,newHWID=applicationCode+\"_\"+functions_1.generateUUID()+\"_fb\",[4,storage_1.keyValue.set(constants_1.FACEBOOK_HWID_KEY,newHWID)]);case 2:return _a.sent(),[2,newHWID];case 3:return[2,hwid]}})})},FacebookModule.prototype.userConfirm=function(){return __awaiter(this,void 0,void 0,function(){var _a,pageId,applicationCode,userId,FB,facebookHwid;return __generator(this,function(_b){switch(_b.label){case 0:return _a=this.config,pageId=_a.pageId,applicationCode=_a.applicationCode,userId=_a.userId,FB=window.FB,[4,this.getHWID()];case 1:return facebookHwid=_b.sent(),FB&&FB.AppEvents.logEvent(\"MessengerCheckboxUserConfirmation\",null,{app_id:constants_1.FACEBOOK_APP_ID,page_id:pageId,ref:JSON.stringify({applicationCode:applicationCode,userId:userId,hwid:facebookHwid}),user_ref:this.userRef}),[2]}})})},FacebookModule.prototype.initFacebookSDK=function(){var _this=this;window.fbAsyncInit=function(){window.FB.init({appId:constants_1.FACEBOOK_APP_ID,xfbml:!0,version:\"v3.2\"}),window.FB.Event.subscribe(\"messenger_checkbox\",function(_a){\"checkbox\"===_a.event&&_this.userConfirm()})}},FacebookModule.prototype.loadFacebookSDK=function(){var language=navigator.language||\"en_US\";!function(d,s,id){var js,fjs=d.getElementsByTagName(s)[0];d.getElementById(id)||((js=d.createElement(s)).id=id,js.src=\"https://connect.facebook.net/\"+language+\"/sdk.js\",fjs&&fjs.parentNode.insertBefore(js,fjs))}(document,\"script\",\"facebook-jssdk\")},FacebookModule}();exports.default=FacebookModule},function(module,exports,__nested_webpack_require_406288__){\"use strict\";var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})},__generator=this&&this.__generator||function(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},\"function\"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function(op){if(f)throw new TypeError(\"Generator is already executing.\");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=(t=_.trys).length>0&&t[t.length-1])&&(6===op[0]||2===op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}};Object.defineProperty(exports,\"__esModule\",{value:!0});var ApiClient_1=__nested_webpack_require_406288__(21),CommandBus_1=__nested_webpack_require_406288__(12),EventBus_1=__nested_webpack_require_406288__(13),Connector_1=__nested_webpack_require_406288__(132),Modal_1=__nested_webpack_require_406288__(133),RichMedia_1=__nested_webpack_require_406288__(135),expanders_1=__nested_webpack_require_406288__(145),Data_1=__nested_webpack_require_406288__(4),InApps=function(){function InApps(options,api,apiClient){void 0===apiClient&&(apiClient=new ApiClient_1.ApiClient),this.delayInApps=[],this.isLoadedInAppsList=!1,this.options=options,this.apiClient=apiClient,this.api=api,this.modal=new Modal_1.Modal(this.options&&this.options.modal?this.options.modal:{}),this.connector=new Connector_1.Connector,this.commandBus=CommandBus_1.CommandBus.getInstance(),this.eventBus=EventBus_1.EventBus.getInstance(),this.data=new Data_1.Data}return InApps.prototype.init=function(){return __awaiter(this,void 0,void 0,function(){var inApps,_this=this;return __generator(this,function(_a){switch(_a.label){case 0:return this.subscribeToReceiveMessageFromIFrame(),this.commandBus.on(CommandBus_1.TCommands.SHOW_IN_APP,function(_a){var code=_a.code;_this.isLoadedInAppsList?_this.showInApp(code):_this.delayInApps.push(code)}),[4,this.getList()];case 1:return inApps=_a.sent().inApps,this.delayInApps.length&&this.delayInApps.forEach(function(code){_this.showInApp(code)}),this.isLoadedInAppsList=!0,[4,this.data.setInApps(inApps)];case 2:return _a.sent(),this.inApps=inApps,[2]}})})},InApps.prototype.subscribeToReceiveMessageFromIFrame=function(){var _this=this;window.addEventListener(\"message\",function(event){if(event.source&&(event.source===window||\"parent\"in event.source&&event.source.parent===window))try{var data=JSON.parse(event.data);data&&\"object\"==typeof data&&_this.onReceiveNewMessageFromIFrame(data)}catch(e){}})},InApps.prototype.onReceiveNewMessageFromIFrame=function(message){var _this=this;switch(message.method){case\"subscribe\":this.connector.subscribe().then(function(){_this.commandBus.emit(CommandBus_1.TCommands.POST_MESSAGE_TO_IFRAME,{code:message.code})});break;case\"unsubscribe\":this.connector.unsubscribe().then(function(){_this.commandBus.emit(CommandBus_1.TCommands.POST_MESSAGE_TO_IFRAME,{code:message.code})});break;case\"getTags\":this.connector.getTags().then(function(tags){_this.commandBus.emit(CommandBus_1.TCommands.POST_MESSAGE_TO_IFRAME,{code:message.code,tags:__assign(__assign({},tags),{PWChannels:[\"Sport news\"]})})});break;case\"setTags\":this.connector.setTags(message.options.tags).then(function(){_this.commandBus.emit(CommandBus_1.TCommands.POST_MESSAGE_TO_IFRAME,{code:message.code})});break;case\"getChannels\":this.data.getFeatures().then(function(_a){var channels=_a.channels;_this.commandBus.emit(CommandBus_1.TCommands.POST_MESSAGE_TO_IFRAME,{code:message.code,channels:channels})});break;case\"checkSubscription\":this.connector.checkIsSubscribed().then(function(state){_this.commandBus.emit(CommandBus_1.TCommands.POST_MESSAGE_TO_IFRAME,{code:message.code,state:state})});break;case\"checkManualUnsubscribed\":this.connector.checkIsManualUnsubscribed().then(function(state){_this.commandBus.emit(CommandBus_1.TCommands.POST_MESSAGE_TO_IFRAME,{code:message.code,state:state})});break;case\"openLink\":window.open(message.options.href,\"_blank\");break;case\"closeInApp\":this.commandBus.emit(CommandBus_1.TCommands.CLOSE_IN_APP)}},InApps.prototype.showInApp=function(code){return __awaiter(this,void 0,void 0,function(){var filteredRichMedia,currentRichMedia,inAppContent;return __generator(this,function(_a){switch(_a.label){case 0:if(1!==(filteredRichMedia=this.inApps.filter(function(inApp){return inApp.code===code})).length)throw new Error(\"Can't find Rich Media\");return this.modal.setLoading().show(),currentRichMedia=filteredRichMedia[0],[4,new RichMedia_1.RichMedia(currentRichMedia.url,this.api,[expanders_1.ExpanderPushwooshSendMessage,expanders_1.ExpanderPushwoosh,expanders_1.ExpanderPushManager]).getContent()];case 1:return inAppContent=_a.sent(),[4,this.modal.setContent(inAppContent)];case 2:return _a.sent(),this.modal.removeLoading().showContent(),[2]}})})},InApps.prototype.getList=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){return[2,this.api.getInApps()]})})},InApps}();exports.InApps=InApps},function(module,exports,__nested_webpack_require_412558__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var uuid=__nested_webpack_require_412558__(9),storage_1=__nested_webpack_require_412558__(2),constants_1=__nested_webpack_require_412558__(1),CommandBus_1=__nested_webpack_require_412558__(12),EventBus_1=__nested_webpack_require_412558__(13),Connector=function(){function Connector(command,event){this.event=event||EventBus_1.EventBus.getInstance(),this.command=command||CommandBus_1.CommandBus.getInstance()}return Connector.prototype.subscribe=function(id){var _this=this,uid=id||uuid();return new Promise(function(resolve){_this.event.on(EventBus_1.TEvents.SUBSCRIBE,function(_a){_a.eventId===uid&&resolve()}),_this.command.emit(CommandBus_1.TCommands.SUBSCRIBE,uid)})},Connector.prototype.unsubscribe=function(id){var _this=this,uid=id||uuid();return new Promise(function(resolve){_this.event.on(EventBus_1.TEvents.UNSUBSCRIBE,function(_a){_a.eventId===uid&&resolve()}),_this.command.emit(CommandBus_1.TCommands.UNSUBSCRIBE,uid)})},Connector.prototype.getTags=function(id){var _this=this,uid=id||uuid();return new Promise(function(resolve){_this.event.on(EventBus_1.TEvents.GET_TAGS,function(_a){var eventId=_a.eventId,tags=_a.tags;eventId===uid&&resolve(tags)}),_this.command.emit(CommandBus_1.TCommands.GET_TAGS,uid)})},Connector.prototype.setTags=function(tags,id){var _this=this,uid=id||uuid();return new Promise(function(resolve){_this.event.on(EventBus_1.TEvents.SET_TAGS,function(_a){_a.eventId===uid&&resolve()}),_this.command.emit(CommandBus_1.TCommands.SET_TAGS,{tags:tags},uid)})},Connector.prototype.checkIsSubscribed=function(id){var _this=this,uid=id||uuid();return new Promise(function(resolve){_this.event.on(EventBus_1.TEvents.CHECK_IS_SUBSCRIBED,function(_a){var eventId=_a.eventId,state=_a.state;eventId===uid&&resolve(state)}),_this.command.emit(CommandBus_1.TCommands.CHECK_IS_SUBSCRIBED,uid)})},Connector.prototype.checkIsManualUnsubscribed=function(id){var _this=this,uid=id||uuid();return new Promise(function(resolve){_this.event.on(EventBus_1.TEvents.CHECK_IS_MANUAL_UNSUBSCRIBED,function(_a){var eventId=_a.eventId,state=_a.state;eventId===uid&&resolve(state)}),_this.command.emit(CommandBus_1.TCommands.CHECK_IS_MANUAL_UNSUBSCRIBED,uid)})},Connector.prototype.getChannels=function(){return storage_1.keyValue.get(constants_1.CHANNELS)},Connector}();exports.Connector=Connector},function(module,exports,__nested_webpack_require_414911__){\"use strict\";var __assign=this&&this.__assign||function(){return(__assign=Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t}).apply(this,arguments)},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})},__generator=this&&this.__generator||function(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},\"function\"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function(op){if(f)throw new TypeError(\"Generator is already executing.\");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=(t=_.trys).length>0&&t[t.length-1])&&(6===op[0]||2===op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}};Object.defineProperty(exports,\"__esModule\",{value:!0});var CommandBus_1=__nested_webpack_require_414911__(12),EventBus_1=__nested_webpack_require_414911__(13),Modal_constants_1=__nested_webpack_require_414911__(134),Modal=function(){function Modal(options){var _this=this;void 0===options&&(options={});var wrapper=document.getElementById(Modal_constants_1.MODAL_WRAPPER_NAMESPACE),inner=document.getElementById(Modal_constants_1.MODAL_INNER_NAMESPACE),loader=document.getElementById(Modal_constants_1.MODAL_LOADER_NAMESPACE),iframe=document.getElementById(Modal_constants_1.MODAL_IFRAME_NAMESPACE),close=document.getElementById(Modal_constants_1.MODAL_CLOSE_BUTTON_NAMESPACE);if(this.option=__assign(__assign({},Modal_constants_1.MODAL_DEFAILT_OPTIONS),options),!(wrapper&&inner&&loader&&iframe&&close)){(wrapper=document.createElement(\"div\")).id=Modal_constants_1.MODAL_WRAPPER_NAMESPACE,wrapper.className=Modal_constants_1.MODAL_WRAPPER_NAMESPACE,(inner=document.createElement(\"div\")).id=Modal_constants_1.MODAL_INNER_NAMESPACE,inner.className=Modal_constants_1.MODAL_INNER_NAMESPACE,(loader=document.createElement(\"div\")).id=Modal_constants_1.MODAL_LOADER_NAMESPACE,loader.className=Modal_constants_1.MODAL_LOADER_NAMESPACE,(close=document.createElement(\"button\")).id=Modal_constants_1.MODAL_CLOSE_BUTTON_NAMESPACE,close.className=Modal_constants_1.MODAL_CLOSE_BUTTON_NAMESPACE,(iframe=document.createElement(\"iframe\")).id=Modal_constants_1.MODAL_IFRAME_NAMESPACE,iframe.className=Modal_constants_1.MODAL_IFRAME_NAMESPACE,inner.appendChild(iframe),inner.appendChild(close),this.option.isShowPreloader&&inner.appendChild(loader),wrapper.appendChild(inner),document.body.appendChild(wrapper);var style=document.createElement(\"style\");style.innerHTML=\"\\n        .\"+Modal_constants_1.MODAL_WRAPPER_NAMESPACE+\" {\\n          position: fixed;\\n          top: 0;\\n          left: 0;\\n          width: 100%;\\n          height: 100%;\\n          z-index: 2147483648;\\n          opacity: 0.999;\\n          display:none;\\n        }\\n\\n        .\"+Modal_constants_1.MODAL_WRAPPER_NAMESPACE+\"_state-show {\\n          display: block;\\n        }\\n\\n        .\"+Modal_constants_1.MODAL_INNER_NAMESPACE+\" {\\n          width: 100%;\\n          height: 100%;\\n        }\\n\\n        .\"+Modal_constants_1.MODAL_INNER_NAMESPACE+\"_state-loading {\\n          background-color: \"+this.option.backgroundColor+\";\\n        }\\n\\n        .\"+Modal_constants_1.MODAL_CLOSE_BUTTON_NAMESPACE+\" {\\n          appearance: none;\\n          border: none;\\n          background-color: transparent;\\n          box-shadow: none;\\n          position: absolute;\\n          top: 20px;\\n          right: 20px;\\n          width: 40px;\\n          height: 40px;\\n          cursor: pointer;\\n        }\\n\\n        .\"+Modal_constants_1.MODAL_CLOSE_BUTTON_NAMESPACE+\":after {\\n          content: '';\\n          position: absolute;\\n          top: 50%;\\n          left:50%;\\n          width: 30px;\\n          height: 2px;\\n          background-color: \"+this.option.closeButtonColor+\";\\n          transform: translateX(-50%) translateY(-50%) rotate(-45deg);\\n        }\\n\\n        .\"+Modal_constants_1.MODAL_CLOSE_BUTTON_NAMESPACE+\":before {\\n          content: '';\\n          position: absolute;\\n          top: 50%;\\n          left:50%;\\n          width: 30px;\\n          height: 2px;\\n          background-color: \"+this.option.closeButtonColor+\";\\n          transform: translateX(-50%) translateY(-50%) rotate(45deg);\\n        }\\n\\n        .\"+Modal_constants_1.MODAL_INNER_NAMESPACE+\"_state-loading .\"+Modal_constants_1.MODAL_LOADER_NAMESPACE+\" {\\n          display: block;\\n          position: absolute;\\n          top: 50%;\\n          left: 50%;\\n          transform: translate(-50%, -50%);\\n        }\\n\\n        .\"+Modal_constants_1.MODAL_LOADER_NAMESPACE+\" {\\n          display: none;\\n        }\\n\\n        .\"+Modal_constants_1.MODAL_LOADER_NAMESPACE+\",\\n        .\"+Modal_constants_1.MODAL_LOADER_NAMESPACE+\":before,\\n        .\"+Modal_constants_1.MODAL_LOADER_NAMESPACE+\":after {\\n          border-radius: 50%;\\n          width: 2.5em;\\n          height: 2.5em;\\n          -webkit-animation-fill-mode: both;\\n          animation-fill-mode: both;\\n          -webkit-animation: \"+Modal_constants_1.MODAL_LOADER_NAMESPACE+\" 1.8s infinite ease-in-out;\\n          animation: \"+Modal_constants_1.MODAL_LOADER_NAMESPACE+\" 1.8s infinite ease-in-out;\\n        }\\n\\n        .\"+Modal_constants_1.MODAL_LOADER_NAMESPACE+\" {\\n          color: #ffffff;\\n          font-size: 10px;\\n          text-indent: -9999em;\\n          -webkit-transform: translateZ(0);\\n          -ms-transform: translateZ(0);\\n          transform: translateZ(0);\\n          -webkit-animation-delay: -0.16s;\\n          animation-delay: -0.16s;\\n        }\\n\\n        .\"+Modal_constants_1.MODAL_LOADER_NAMESPACE+\":before,\\n        .\"+Modal_constants_1.MODAL_LOADER_NAMESPACE+\":after {\\n          content: '';\\n          position: absolute;\\n          top: 0;\\n        }\\n\\n        .\"+Modal_constants_1.MODAL_LOADER_NAMESPACE+\":before {\\n          left: -3.5em;\\n          -webkit-animation-delay: -0.32s;\\n          animation-delay: -0.32s;\\n        }\\n\\n        .\"+Modal_constants_1.MODAL_LOADER_NAMESPACE+\":after {\\n          left: 3.5em;\\n        }\\n\\n        @-webkit-keyframes \"+Modal_constants_1.MODAL_LOADER_NAMESPACE+\" {\\n          0%,\\n          80%,\\n          100% {\\n            box-shadow: 0 2.5em 0 -1.3em \"+this.option.preloaderColor+\";\\n          }\\n          40% {\\n            box-shadow: 0 2.5em 0 0 \"+this.option.preloaderColor+\";\\n          }\\n        }\\n\\n        @keyframes \"+Modal_constants_1.MODAL_LOADER_NAMESPACE+\" {\\n          0%,\\n          80%,\\n          100% {\\n            box-shadow: 0 2.5em 0 -1.3em \"+this.option.preloaderColor+\";\\n          }\\n          40% {\\n            box-shadow: 0 2.5em 0 0 \"+this.option.preloaderColor+\";\\n          }\\n        }\\n\\n        .\"+Modal_constants_1.MODAL_IFRAME_NAMESPACE+\" {\\n          width: 100%;\\n          height: 100%;\\n          padding: 0;\\n          border: none;\\n          display: none;\\n        }\\n\\n        .\"+Modal_constants_1.MODAL_IFRAME_NAMESPACE+\"_state-show {\\n          display: block;\\n        }\\n      \",document.head.appendChild(style)}this.wrapper=wrapper,this.inner=inner,this.iframe=iframe,close.addEventListener(\"click\",function(){_this.hide()});var commandBus=CommandBus_1.CommandBus.getInstance(),eventBus=EventBus_1.EventBus.getInstance();commandBus.on(CommandBus_1.TCommands.CLOSE_IN_APP,function(){_this.hide()}),commandBus.on(CommandBus_1.TCommands.POST_MESSAGE_TO_IFRAME,function(data){_this.iframe.contentWindow.postMessage(JSON.stringify(data),\"*\")}),eventBus.on(EventBus_1.TEvents.HIDE_NOTIFICATION_PERMISSION_DIALOG,function(){_this.iframe.contentWindow.postMessage(JSON.stringify({method:\"onHidePermissionDialog\"}),\"*\")})}return Modal.prototype.show=function(){return this.wrapper.className=Modal_constants_1.MODAL_WRAPPER_NAMESPACE+\" \"+Modal_constants_1.MODAL_WRAPPER_NAMESPACE+\"_state-show\",document.body.style.overflow=\"hidden\",this},Modal.prototype.hide=function(){return this.wrapper.className=Modal_constants_1.MODAL_WRAPPER_NAMESPACE,document.body.style.overflow=\"auto\",this},Modal.prototype.setLoading=function(){return this.inner.className=Modal_constants_1.MODAL_INNER_NAMESPACE+\" \"+Modal_constants_1.MODAL_INNER_NAMESPACE+\"_state-loading\",this.iframe.className=Modal_constants_1.MODAL_IFRAME_NAMESPACE,this},Modal.prototype.removeLoading=function(){return this.inner.className=Modal_constants_1.MODAL_INNER_NAMESPACE,this},Modal.prototype.setContent=function(content){return __awaiter(this,void 0,void 0,function(){var _this=this;return __generator(this,function(_a){return this.iframe.srcdoc=content,[2,new Promise(function(resolve,reject){_this.iframe.onload=resolve,_this.iframe.onerror=reject})]})})},Modal.prototype.showContent=function(){return this.inner.className=Modal_constants_1.MODAL_INNER_NAMESPACE,this.iframe.className=Modal_constants_1.MODAL_IFRAME_NAMESPACE+\" \"+Modal_constants_1.MODAL_IFRAME_NAMESPACE+\"_state-show\",this},Modal}();exports.Modal=Modal},function(module,exports,__webpack_require__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.MODAL_WRAPPER_NAMESPACE=\"pushwoosh-in-app-modal-wrapper\",exports.MODAL_INNER_NAMESPACE=\"pushwoosh-in-app-modal-inner\",exports.MODAL_LOADER_NAMESPACE=\"pushwoosh-in-app-modal-loader\",exports.MODAL_CLOSE_BUTTON_NAMESPACE=\"pushwoosh-in-app-modal-close-button\",exports.MODAL_IFRAME_NAMESPACE=\"pushwoosh-in-app-modal-iframe\",exports.MODAL_DEFAILT_OPTIONS={backgroundColor:\"rgba(0, 0, 0, .8)\",closeButtonColor:\"rgba(255, 255, 255, .8)\",closeButtonHoverColor:\"rgba(255, 255, 1)\",isShowPreloader:!0,preloaderColor:\"rgba(255, 255, 255, 1)\"}},function(module,exports,__nested_webpack_require_425614__){\"use strict\";var __awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})},__generator=this&&this.__generator||function(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},\"function\"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function(op){if(f)throw new TypeError(\"Generator is already executing.\");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=(t=_.trys).length>0&&t[t.length-1])&&(6===op[0]||2===op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}};Object.defineProperty(exports,\"__esModule\",{value:!0});var detect_browser_1=__nested_webpack_require_425614__(136),getZip_1=__nested_webpack_require_425614__(50),DynamicContent_1=__nested_webpack_require_425614__(137),RichMediaExpander_1=__nested_webpack_require_425614__(139),ExternalResources_1=__nested_webpack_require_425614__(140),RichMedia=function(){function RichMedia(url,api,expanders){this.url=url,this.api=api,this.expanders=expanders}return RichMedia.prototype.getContent=function(){return __awaiter(this,void 0,void 0,function(){var language,jszip,values,_a,_b,content,browser,context;return __generator(this,function(_c){switch(_c.label){case 0:return[4,this.api.getTags()];case 1:return language=_c.sent().result.Language,[4,getZip_1.getZip(this.url)];case 2:if(!(jszip=_c.sent()).files[\"index.html\"])throw new Error(\"Can't find index.html\");if(!jszip.files[\"pushwoosh.json\"])throw new Error(\"Can't find pushwoosh.json\");return _b=(_a=JSON).parse,[4,jszip.file(\"pushwoosh.json\").async(\"text\")];case 3:return values=_b.apply(_a,[_c.sent()]),[4,jszip.file(\"index.html\").async(\"text\")];case 4:return content=_c.sent(),browser=detect_browser_1.detect(),context={platform:\"web\",browser:browser&&browser.name||\"unknown\",os:browser&&browser.os||\"unknown\",isMobileBrowser:this.checkIsMobileBrowser()},content=new DynamicContent_1.DynamicContent(content,values,language).getReplacedContent(),[4,new ExternalResources_1.ExternalResources(content,jszip).getReplacedContent()];case 5:return content=_c.sent(),content=new DynamicContent_1.DynamicContent(content,values,language).getReplacedContent(),content=new RichMediaExpander_1.RichMediaExpander(content,['<script type=\"text/javascript\">\\n          window.pushwoosh.platform = \\''+context.platform.replace(\" \",\"\").toLowerCase()+\"';\\n          window.pushwoosh.browser = '\"+context.browser.replace(\" \",\"\").toLowerCase()+\"';\\n          window.pushwoosh.os = '\"+context.os.replace(\" \",\"\").toLowerCase()+\"';\\n          window.pushwoosh.isMobileBrowser = \"+context.isMobileBrowser+\";\\n        <\\/script>\"]).uploadExpanders(),[2,content=new RichMediaExpander_1.RichMediaExpander(content,this.expanders).uploadExpanders()]}})})},RichMedia.prototype.checkIsMobileBrowser=function(){var isMobileBrowser=!1;return function(str){(/(android|bb\\d+|meego).+mobile|avantgo|bada\\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\\.(browser|link)|vodafone|wap|windows ce|xda|xiino|android|ipad|playbook|silk/i.test(str)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\\-(n|u)|c55\\/|capi|ccwa|cdm\\-|cell|chtm|cldc|cmd\\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\\-s|devi|dica|dmob|do(c|p)o|ds(12|\\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\\-|_)|g1 u|g560|gene|gf\\-5|g\\-mo|go(\\.w|od)|gr(ad|un)|haie|hcit|hd\\-(m|p|t)|hei\\-|hi(pt|ta)|hp( i|ip)|hs\\-c|ht(c(\\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\\-(20|go|ma)|i230|iac( |\\-|\\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\\/)|klon|kpt |kwc\\-|kyo(c|k)|le(no|xi)|lg( g|\\/(k|l|u)|50|54|\\-[a-w])|libw|lynx|m1\\-w|m3ga|m50\\/|ma(te|ui|xo)|mc(01|21|ca)|m\\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\\-2|po(ck|rt|se)|prox|psio|pt\\-g|qa\\-a|qc(07|12|21|32|60|\\-[2-7]|i\\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\\-|oo|p\\-)|sdk\\/|se(c(\\-|0|1)|47|mc|nd|ri)|sgh\\-|shar|sie(\\-|m)|sk\\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\\-|v\\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\\-|tdg\\-|tel(i|m)|tim\\-|t\\-mo|to(pl|sh)|ts(70|m\\-|m3|m5)|tx\\-9|up(\\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\\-|your|zeto|zte\\-/i.test(str.substr(0,4)))&&(isMobileBrowser=!0)}(navigator.userAgent||navigator.vendor||window.opera),isMobileBrowser},RichMedia}();exports.RichMedia=RichMedia},function(module,exports,__nested_webpack_require_431690__){\"use strict\";(function(process){var __spreadArrays=this&&this.__spreadArrays||function(){for(var s=0,i=0,il=arguments.length;i<il;i++)s+=arguments[i].length;var r=Array(s),k=0;for(i=0;i<il;i++)for(var a=arguments[i],j=0,jl=a.length;j<jl;j++,k++)r[k]=a[j];return r};Object.defineProperty(exports,\"__esModule\",{value:!0});var BrowserInfo=function(){return function(name,version,os){this.name=name,this.version=version,this.os=os}}();exports.BrowserInfo=BrowserInfo;var NodeInfo=function(){return function(version){this.version=version,this.name=\"node\",this.os=process.platform}}();exports.NodeInfo=NodeInfo;var BotInfo=function(){return function(){this.bot=!0,this.name=\"bot\",this.version=null,this.os=null}}();exports.BotInfo=BotInfo;var REQUIRED_VERSION_PARTS=3,userAgentRules=[[\"aol\",/AOLShield\\/([0-9\\._]+)/],[\"edge\",/Edge\\/([0-9\\._]+)/],[\"edge-ios\",/EdgiOS\\/([0-9\\._]+)/],[\"yandexbrowser\",/YaBrowser\\/([0-9\\._]+)/],[\"vivaldi\",/Vivaldi\\/([0-9\\.]+)/],[\"kakaotalk\",/KAKAOTALK\\s([0-9\\.]+)/],[\"samsung\",/SamsungBrowser\\/([0-9\\.]+)/],[\"silk\",/\\bSilk\\/([0-9._-]+)\\b/],[\"miui\",/MiuiBrowser\\/([0-9\\.]+)$/],[\"beaker\",/BeakerBrowser\\/([0-9\\.]+)/],[\"edge-chromium\",/Edg\\/([0-9\\.]+)/],[\"chromium-webview\",/(?!Chrom.*OPR)wv\\).*Chrom(?:e|ium)\\/([0-9\\.]+)(:?\\s|$)/],[\"chrome\",/(?!Chrom.*OPR)Chrom(?:e|ium)\\/([0-9\\.]+)(:?\\s|$)/],[\"phantomjs\",/PhantomJS\\/([0-9\\.]+)(:?\\s|$)/],[\"crios\",/CriOS\\/([0-9\\.]+)(:?\\s|$)/],[\"firefox\",/Firefox\\/([0-9\\.]+)(?:\\s|$)/],[\"fxios\",/FxiOS\\/([0-9\\.]+)/],[\"opera-mini\",/Opera Mini.*Version\\/([0-9\\.]+)/],[\"opera\",/Opera\\/([0-9\\.]+)(?:\\s|$)/],[\"opera\",/OPR\\/([0-9\\.]+)(:?\\s|$)/],[\"ie\",/Trident\\/7\\.0.*rv\\:([0-9\\.]+).*\\).*Gecko$/],[\"ie\",/MSIE\\s([0-9\\.]+);.*Trident\\/[4-7].0/],[\"ie\",/MSIE\\s(7\\.0)/],[\"bb10\",/BB10;\\sTouch.*Version\\/([0-9\\.]+)/],[\"android\",/Android\\s([0-9\\.]+)/],[\"ios\",/Version\\/([0-9\\._]+).*Mobile.*Safari.*/],[\"safari\",/Version\\/([0-9\\._]+).*Safari/],[\"facebook\",/FBAV\\/([0-9\\.]+)/],[\"instagram\",/Instagram\\s([0-9\\.]+)/],[\"ios-webview\",/AppleWebKit\\/([0-9\\.]+).*Mobile/],[\"ios-webview\",/AppleWebKit\\/([0-9\\.]+).*Gecko\\)$/],[\"searchbot\",/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/]],operatingSystemRules=[[\"iOS\",/iP(hone|od|ad)/],[\"Android OS\",/Android/],[\"BlackBerry OS\",/BlackBerry|BB10/],[\"Windows Mobile\",/IEMobile/],[\"Amazon OS\",/Kindle/],[\"Windows 3.11\",/Win16/],[\"Windows 95\",/(Windows 95)|(Win95)|(Windows_95)/],[\"Windows 98\",/(Windows 98)|(Win98)/],[\"Windows 2000\",/(Windows NT 5.0)|(Windows 2000)/],[\"Windows XP\",/(Windows NT 5.1)|(Windows XP)/],[\"Windows Server 2003\",/(Windows NT 5.2)/],[\"Windows Vista\",/(Windows NT 6.0)/],[\"Windows 7\",/(Windows NT 6.1)/],[\"Windows 8\",/(Windows NT 6.2)/],[\"Windows 8.1\",/(Windows NT 6.3)/],[\"Windows 10\",/(Windows NT 10.0)/],[\"Windows ME\",/Windows ME/],[\"Open BSD\",/OpenBSD/],[\"Sun OS\",/SunOS/],[\"Chrome OS\",/CrOS/],[\"Linux\",/(Linux)|(X11)/],[\"Mac OS\",/(Mac_PowerPC)|(Macintosh)/],[\"QNX\",/QNX/],[\"BeOS\",/BeOS/],[\"OS/2\",/OS\\/2/],[\"Search Bot\",/(nuhk)|(Googlebot)|(Yammybot)|(Openbot)|(Slurp)|(MSNBot)|(Ask Jeeves\\/Teoma)|(ia_archiver)/]];function parseUserAgent(ua){var matchedRule=\"\"!==ua&&userAgentRules.reduce(function(matched,_a){var browser=_a[0],regex=_a[1];if(matched)return matched;var uaMatch=regex.exec(ua);return!!uaMatch&&[browser,uaMatch]},!1);if(!matchedRule)return null;var name=matchedRule[0],match=matchedRule[1];if(\"searchbot\"===name)return new BotInfo;var versionParts=match[1]&&match[1].split(/[._]/).slice(0,3);return versionParts?versionParts.length<REQUIRED_VERSION_PARTS&&(versionParts=__spreadArrays(versionParts,function(count){for(var output=[],ii=0;ii<count;ii++)output.push(\"0\");return output}(REQUIRED_VERSION_PARTS-versionParts.length))):versionParts=[],new BrowserInfo(name,versionParts.join(\".\"),detectOS(ua))}function detectOS(ua){for(var ii=0,count=operatingSystemRules.length;ii<count;ii++){var _a=operatingSystemRules[ii],os=_a[0];if(_a[1].test(ua))return os}return null}function getNodeVersion(){return void 0!==process&&process.version?new NodeInfo(process.version.slice(1)):null}exports.detect=function(userAgent){return userAgent?parseUserAgent(userAgent):\"undefined\"!=typeof navigator?parseUserAgent(navigator.userAgent):getNodeVersion()},exports.parseUserAgent=parseUserAgent,exports.detectOS=detectOS,exports.getNodeVersion=getNodeVersion}).call(this,__nested_webpack_require_431690__(27))},function(module,exports,__nested_webpack_require_436115__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var DynamicContent_constants_1=__nested_webpack_require_436115__(138),DynamicContent=function(){function DynamicContent(content,values,language){this.content=content,this.values=values,this.language=language}return DynamicContent.prototype.getReplacedContent=function(){var _this=this,regexp=new RegExp(\"\\\\{\\\\{[^\\\\}\\\\}]*}}\",\"gm\");return this.content.replace(regexp,function(substring){var pattern=substring.replace(\"}}\",\"\").replace(\"{{\",\"\");return _this.getResultingContent(pattern)})},DynamicContent.prototype.getResultingContent=function(pattern){var _a=pattern.split(\"|\"),name=_a[0],modifier=_a[1],_b=_a[2],value=void 0===_b?\"\":_b,hasReplacedValueByCurrentLanguage=this.values.localization&&this.values.localization[this.language]&&this.values.localization[this.language][name],hasReplacedValueByDefaultLanguage=this.values.localization&&this.values.localization[this.values.default_language]&&this.values.localization[this.values.default_language][name];return hasReplacedValueByCurrentLanguage?value=this.values.localization[this.language][name]:hasReplacedValueByDefaultLanguage&&(value=this.values.localization[this.values.default_language][name]),this.updateStringByModifier(value,modifier)},DynamicContent.prototype.updateStringByModifier=function(string,modifier){switch(modifier.toLowerCase()){case DynamicContent_constants_1.DYNAMIC_CONTENT_MODIFIER_CAPITALIZE_FIRST:return string=(string=string.toLowerCase()).charAt(0).toUpperCase()+string.substring(1);case DynamicContent_constants_1.DYNAMIC_CONTENT_MODIFIER_CAPITALIZE_ALL_FIRST:for(var arrLetters=string.toLowerCase().split(\" \"),i=0;i<arrLetters.length;i++)arrLetters[i]=arrLetters[i].charAt(0).toUpperCase()+arrLetters[i].substring(1);return string=arrLetters.join(\" \");case DynamicContent_constants_1.DYNAMIC_CONTENT_MODIFIER_UPPERCASE:return string.toUpperCase();case DynamicContent_constants_1.DYNAMIC_CONTENT_MODIFIER_LOWERCASE:return string.toLowerCase();default:return string}},DynamicContent}();exports.DynamicContent=DynamicContent},function(module,exports,__webpack_require__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.DYNAMIC_CONTENT_MODIFIER_CAPITALIZE_FIRST=\"capitalizefirst\",exports.DYNAMIC_CONTENT_MODIFIER_CAPITALIZE_ALL_FIRST=\"capitalizeallfirst\",exports.DYNAMIC_CONTENT_MODIFIER_UPPERCASE=\"uppercase\",exports.DYNAMIC_CONTENT_MODIFIER_LOWERCASE=\"lowercase\"},function(module,exports,__webpack_require__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var RichMediaExpander=function(){function RichMediaExpander(content,expanders){void 0===expanders&&(expanders=[]),this.content=content,this.expanders=expanders}return RichMediaExpander.prototype.uploadExpanders=function(){var merge=this.expanders.join(\"\\r\\n\");return this.content.replace(\"<head>\",\"<head>\"+merge)},RichMediaExpander}();exports.RichMediaExpander=RichMediaExpander},function(module,exports,__nested_webpack_require_439083__){\"use strict\";var __awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})},__generator=this&&this.__generator||function(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},\"function\"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function(op){if(f)throw new TypeError(\"Generator is already executing.\");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=(t=_.trys).length>0&&t[t.length-1])&&(6===op[0]||2===op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}};Object.defineProperty(exports,\"__esModule\",{value:!0});var logger_1=__nested_webpack_require_439083__(5),UrlParser_1=__nested_webpack_require_439083__(141),ExternalResources_constants_1=__nested_webpack_require_439083__(144),ExternalResources=function(){function ExternalResources(content,jszip){this.content=content,this.jszip=jszip}return ExternalResources.prototype.getReplacedContent=function(){return __awaiter(this,void 0,void 0,function(){var _this=this;return __generator(this,function(_a){return[2,this.replaceExternalStyles(this.content).then(function(content){return _this.replaceExternalBackgroundUrl(content)}).then(function(content){return _this.replaceExternalImage(content)}).then(function(content){return _this.replaceExternalScript(content)})]})})},ExternalResources.prototype.replaceExternalStyles=function(content,base){return void 0===base&&(base=\"/\"),__awaiter(this,void 0,void 0,function(){var pattern,_this=this;return __generator(this,function(_a){switch(_a.label){case 0:return pattern=this.getSearchPattern(\"style\"),[4,this.replacer(content,pattern,function(substring){return __awaiter(_this,void 0,void 0,function(){var path,content,relative;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.getReplacedFilePath(substring,pattern,ExternalResources_constants_1.EXTERNAL_RESOURCES_REGEXP_SECOND_GROUP,base)];case 1:return(path=_a.sent())?[4,this.jszip.file(path).async(\"text\")]:[2,substring];case 2:return content=_a.sent(),relative=path.split(\"/\").splice(-1,1).join(\"/\"),[4,this.replaceExternalBackgroundUrl(content,relative)];case 3:return[2,'<style type=\"text/css\">'+_a.sent().replace(\"\\n\",\"\")+\"</style>\"]}})})})];case 1:return[2,_a.sent()]}})})},ExternalResources.prototype.replaceExternalBackgroundUrl=function(content,base){return void 0===base&&(base=\"/\"),__awaiter(this,void 0,void 0,function(){var pattern,_this=this;return __generator(this,function(_a){switch(_a.label){case 0:return pattern=this.getSearchPattern(\"backgroundUrl\"),[4,this.replacer(content,pattern,function(substring){return __awaiter(_this,void 0,void 0,function(){var path,content,extension;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.getReplacedFilePath(substring,pattern,ExternalResources_constants_1.EXTERNAL_RESOURCES_REGEXP_SECOND_GROUP,base)];case 1:return(path=_a.sent())?[4,this.jszip.file(path).async(\"base64\")]:[2,substring];case 2:return content=_a.sent(),[2,'url(\"data:image/'+(\"svg\"===(extension=path.split(\".\").pop())?\"svg+xml\":extension)+\";base64,\"+content+'\")']}})})})];case 1:return[2,_a.sent()]}})})},ExternalResources.prototype.replaceExternalImage=function(content,base){return void 0===base&&(base=\"/\"),__awaiter(this,void 0,void 0,function(){var pattern,_this=this;return __generator(this,function(_a){switch(_a.label){case 0:return pattern=this.getSearchPattern(\"image\"),[4,this.replacer(content,pattern,function(substring){return __awaiter(_this,void 0,void 0,function(){var path,content,extension;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.getReplacedFilePath(substring,pattern,ExternalResources_constants_1.EXTERNAL_RESOURCES_REGEXP_SECOND_GROUP,base)];case 1:return(path=_a.sent())?[4,this.jszip.file(path).async(\"base64\")]:[2,substring];case 2:return content=_a.sent(),[2,'<img src=\"data:image/'+(\"svg\"===(extension=path.split(\".\").pop())?\"svg+xml\":extension)+\";base64,\"+content+'\" alt=\"\">']}})})})];case 1:return[2,_a.sent()]}})})},ExternalResources.prototype.replaceExternalScript=function(content,base){return void 0===base&&(base=\"/\"),__awaiter(this,void 0,void 0,function(){var pattern,_this=this;return __generator(this,function(_a){switch(_a.label){case 0:return pattern=this.getSearchPattern(\"script\"),[4,this.replacer(content,pattern,function(substring){return __awaiter(_this,void 0,void 0,function(){var path;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.getReplacedFilePath(substring,pattern,ExternalResources_constants_1.EXTERNAL_RESOURCES_REGEXP_SECOND_GROUP,base)];case 1:return(path=_a.sent())?[4,this.jszip.file(path).async(\"text\")]:[2,substring];case 2:return[2,\"<script>\"+_a.sent()+\"<\\/script>\"]}})})})];case 1:return[2,_a.sent()]}})})},ExternalResources.prototype.getSearchPattern=function(type){switch(type){case\"style\":return\"<link[^>]*href=('|\\\")([^>]*.(css))('|\\\")[^>]*>\";case\"backgroundUrl\":return\"url\\\\s*\\\\(('|\\\")?([^)]*\\\\.(gif|jpg|jpeg|png|svg))('|\\\")?\\\\s*\\\\)\";case\"image\":return\"<img[^\\\\/?>]*src=('|\\\")([^>]*\\\\.(gif|jpg|jpeg|png|svg))('|\\\")[^\\\\/?>]*>\";case\"script\":return\"<script[^>]*src=('|\\\")(.*\\\\.js)('|\\\")[^>]*>(\\\\n|\\\\r|\\\\s)*<\\\\/script>\"}},ExternalResources.prototype.replacer=function(content,pattern,callback){return __awaiter(this,void 0,void 0,function(){var arPromises,regexp,replaces;return __generator(this,function(_a){switch(_a.label){case 0:return arPromises=[],regexp=new RegExp(pattern,\"g\"),content.replace(regexp,function(substring){return arPromises.push(callback(substring)),substring}),[4,Promise.all(arPromises)];case 1:return replaces=_a.sent(),[2,content.replace(regexp,function(){return replaces.shift()||\"\"})]}})})},ExternalResources.prototype.getReplacedFilePath=function(substring,pattern,matchPosition,base){return void 0===base&&(base=\"/\"),__awaiter(this,void 0,void 0,function(){var regexp,matches,match,url,path;return __generator(this,function(_a){return regexp=new RegExp(pattern),(matches=substring.match(regexp))&&matches.length?(match=matches[matchPosition],(url=new UrlParser_1.UrlParser(match,base)).checkIsAbsolutePath()?[2]:(path=url.getRelativePath(),this.jszip.files[path]?[2,path]:(logger_1.Logger.write(\"error\",'Not found file: \"'+path+'\" for replace.'),[2]))):[2]})})},ExternalResources}();exports.ExternalResources=ExternalResources},function(module,exports,__nested_webpack_require_446548__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var resolver=__nested_webpack_require_446548__(142),UrlParser_constants_1=__nested_webpack_require_446548__(143),UrlParser=function(){function UrlParser(url,base){void 0===base&&(base=\"/\"),this.url=url,this.base=base}return UrlParser.prototype.checkIsAbsolutePath=function(){return new RegExp(\"^(?:[a-z]+:)?//\",\"i\").test(this.url)},UrlParser.prototype.getRelativePath=function(){var pathWithBase=resolver(UrlParser_constants_1.URL_PARSER_PSEUDO_DOMAIN,this.base);return resolver(pathWithBase,this.url).replace(UrlParser_constants_1.URL_PARSER_PSEUDO_DOMAIN,\"\")},UrlParser}();exports.UrlParser=UrlParser},function(module,exports,__webpack_require__){\"use strict\";function _addSlash(url){return url+(\"/\"===url[url.length-1]?\"\":\"/\")}function _pathResolve(path){var pathSplit=path.split(\"/\");\"\"===pathSplit[0]&&(pathSplit=pathSplit.slice(1));var resultArray=[];return pathSplit.forEach(function(current,index){\".\"!==current&&(\"..\"===current?resultArray.pop():\"\"!==current&&resultArray.push(current))}),\"/\"+resultArray.join(\"/\")}module.exports=function(base,relative){if(base=base.trim(),(relative=relative.trim()).startsWith(\"about:\"))return relative;if(\"\"===base)return _shouldAddSlash(relative)?_addSlash(relative):relative;var baseObj=function(base){var resultObject={host:\"\",path:\"\",query:\"\",protocol:\"\"},path=base,protocolEndIndex=base.indexOf(\"//\");if(-1===protocolEndIndex)throw new Error(\"Error, protocol is not specified\");resultObject.protocol=path.substring(0,protocolEndIndex),protocolEndIndex+=2;var pathIndex=base.indexOf(\"/\",protocolEndIndex),queryIndex=base.indexOf(\"?\"),hashIndex=base.indexOf(\"#\");-1!==hashIndex&&(path=path.substring(0,hashIndex));if(-1!==queryIndex){var query=path.substring(queryIndex);resultObject.query=query,path=path.substring(0,queryIndex)}if(-1!==pathIndex){var host=path.substring(0,pathIndex);resultObject.host=host,path=path.substring(pathIndex),resultObject.path=path}else resultObject.host=path;return resultObject}(base);if(\"\"===relative){var host=baseObj.host,path=baseObj.path,query=baseObj.query;return path||query?host+path+query:_addSlash(host)}var relativeObj=function(relative){var resultObject={href:relative,hash:\"\",query:\"\",netPath:!1,absolutePath:!1,relativePath:!1};if(_isAbsolute.test(relative))return resultObject.netPath=!0,resultObject;\"/\"===relative[0]?resultObject.absolutePath=!0:resultObject.relativePath=!0;var path=relative,queryIndex=relative.indexOf(\"?\"),hashIndex=relative.indexOf(\"#\");if(-1!==hashIndex){var hash=path.substring(hashIndex);resultObject.hash=hash,path=path.substring(0,hashIndex)}if(-1!==queryIndex){var query=path.substring(queryIndex);resultObject.query=query,path=path.substring(0,queryIndex)}return resultObject.path=path,resultObject}(relative);if(relativeObj.netPath)return function(url){return url.startsWith(\"//\")}(relativeObj.href)&&(relativeObj.href=baseObj.protocol+relativeObj.href),_shouldAddSlash(relativeObj.href)?_addSlash(relativeObj.href):relativeObj.href;if(relativeObj.absolutePath){var _path=relativeObj.path,_query=relativeObj.query,hash=relativeObj.hash;return baseObj.host+_pathResolve(_path)+_query+hash}if(relativeObj.relativePath){var resolvePath,_path2=relativeObj.path,_query2=relativeObj.query,_hash=relativeObj.hash,basePath=baseObj.path,resultString=baseObj.host;return 0===_path2.length?resolvePath=basePath:(basePath=basePath.substring(0,basePath.lastIndexOf(\"/\")),resolvePath=_pathResolve(basePath+\"/\"+_path2)),resultString+=\"\"!==resolvePath||_query2||_hash?resolvePath+_query2+_hash:\"/\"}};var _isAbsolute=new RegExp(\"^(\".concat(\"[a-z][a-z0-9+.-]*\",\":)?//\"),\"i\");function _shouldAddSlash(url){var protocolIndex=url.indexOf(\"//\")+2,noPath=!url.includes(\"/\",protocolIndex),noQuery=!url.includes(\"?\",protocolIndex),noHash=!url.includes(\"#\",protocolIndex);return noPath&&noQuery&&noHash}},function(module,exports,__webpack_require__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.URL_PARSER_PSEUDO_DOMAIN=\"https://pushwoosh.com/\"},function(module,exports,__webpack_require__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.EXTERNAL_RESOURCES_REGEXP_SECOND_GROUP=2},function(module,exports,__nested_webpack_require_450774__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var RichMediaPushwooshSendMessage_html_1=__nested_webpack_require_450774__(146);exports.ExpanderPushwooshSendMessage=RichMediaPushwooshSendMessage_html_1.default;var RichMediaPushwoosh_html_1=__nested_webpack_require_450774__(147);exports.ExpanderPushwoosh=RichMediaPushwoosh_html_1.default;var RichMediaPushManager_html_1=__nested_webpack_require_450774__(148);exports.ExpanderPushManager=RichMediaPushManager_html_1.default},function(module,__webpack_exports__,__nested_webpack_require_451284__){\"use strict\";__nested_webpack_require_451284__.r(__webpack_exports__),__webpack_exports__.default='<script type=\"text/javascript\">\\n  function PushwooshSendMessage(message, success, failure) {\\n    var code = uuidv4();\\n\\n    if (success) {\\n      window.addEventListener(\\'message\\', function (event) {\\n        if (!event.source) {\\n          return;\\n        }\\n\\n        if (window.top === event.source.parent) {\\n          try {\\n            const data = JSON.parse(event.data);\\n\\n            if (data && data.code === code) {\\n              success && success(data);\\n            }\\n          } catch (error) {\\n            failure && failure(error);\\n          }\\n        }\\n      });\\n    }\\n\\n    var data = Object.assign(\\n      message,\\n      {\\n        code: code\\n      }\\n    );\\n\\n    window.parent.postMessage(JSON.stringify(data), \"*\");\\n\\n    function uuidv4() {\\n      return \"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx\".replace(/[xy]/g, function (c) {\\n        var r = (Math.random() * 16) | 0,\\n          v = c == \"x\" ? r : (r & 0x3) | 0x8;\\n        return v.toString(16);\\n      });\\n    }\\n  }\\n<\\/script>\\n'},function(module,__webpack_exports__,__nested_webpack_require_452456__){\"use strict\";__nested_webpack_require_452456__.r(__webpack_exports__),__webpack_exports__.default=\"<script type=\\\"text/javascript\\\">\\n  function PushwooshBridge() {\\n    var self = this;\\n\\n    self.isWebSDK = true;\\n    self.isSafari = navigator.userAgent.toLowerCase().indexOf('safari') !== -1\\n      && navigator.userAgent.toLowerCase().indexOf('chrome') === -1;\\n\\n    self.registerForPushNotifications = function () {\\n      PushwooshSendMessage({\\n        method: 'subscribe',\\n      })\\n    };\\n\\n    self.unregisterForPushNotifications = function () {\\n      PushwooshSendMessage({\\n        method: 'unsubscribe',\\n      });\\n    };\\n\\n    self.getTags = function (onSuccessCallback) {\\n      PushwooshSendMessage({\\n        method: 'getTags',\\n      }, function (result) {\\n        onSuccessCallback(result && result.tags);\\n      })\\n    };\\n\\n    self.sendTags = function (tags) {\\n      PushwooshSendMessage({\\n        method: 'setTags',\\n        options: {\\n          tags: tags\\n        },\\n      });\\n    };\\n\\n    self.isRegisteredForPushNotifications = function (onSuccessCallback) {\\n      PushwooshSendMessage({\\n        method: 'checkSubscription',\\n      }, function (result) {\\n        onSuccessCallback(result.state)\\n      });\\n    };\\n\\n    self.isManualUnregisterForPushNotifications = function (onSuccessCallback) {\\n      PushwooshSendMessage({\\n        method: 'checkManualUnsubscribed',\\n      }, function (result) {\\n        onSuccessCallback(result.state)\\n      });\\n    };\\n\\n    self.getChannels = function (onSuccessCallback) {\\n      PushwooshSendMessage({\\n        method: 'getChannels',\\n      }, function (result) {\\n        onSuccessCallback(result.channels)\\n      });\\n    };\\n  }\\n\\n  window.pushwoosh = new PushwooshBridge();\\n<\\/script>\\n\"},function(module,__webpack_exports__,__nested_webpack_require_454286__){\"use strict\";__nested_webpack_require_454286__.r(__webpack_exports__),__webpack_exports__.default=\"<script type=\\\"text/javascript\\\">\\n  function PushwooshPushManagerBridge() {\\n    var self = this;\\n    var absoluteURLPattern = new RegExp('^(?:[a-z]+:)?//', 'i');\\n\\n    self.closeInApp = function (options) {\\n      PushwooshSendMessage({\\n        method: 'closeInApp',\\n        options: options,\\n      });\\n    };\\n\\n    self.openLink = function (options) {\\n      PushwooshSendMessage({\\n        method: 'openLink',\\n        options: options,\\n      });\\n    };\\n\\n    window.addEventListener('load', function () {\\n      var closeLinks = document.querySelectorAll('a[href=\\\"pushwoosh://close\\\"]');\\n      var otherLinks = document.querySelectorAll('a:not([href=\\\"pushwoosh://close\\\"])');\\n\\n      for (var i = 0; i < closeLinks.length; i++) {\\n        closeLinks[i].addEventListener('click', function (event) {\\n          event.preventDefault();\\n\\n          self.closeInApp();\\n        });\\n      }\\n\\n      for (var j = 0; j < otherLinks.length; j++) {\\n        var href = otherLinks[j].getAttribute('href');\\n\\n        if (absoluteURLPattern.test(href)) {\\n          otherLinks[j].addEventListener('click', function (event) {\\n            event.preventDefault();\\n\\n            self.openLink({\\n              href: event.target.href\\n            });\\n\\n            self.closeInApp();\\n          });\\n        }\\n      }\\n    });\\n  }\\n\\n  window.pushManager = new PushwooshPushManagerBridge();\\n<\\/script>\\n\"},function(module,exports,__nested_webpack_require_455834__){\"use strict\";var __awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):function(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})},__generator=this&&this.__generator||function(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},\"function\"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function(op){if(f)throw new TypeError(\"Generator is already executing.\");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=(t=_.trys).length>0&&t[t.length-1])&&(6===op[0]||2===op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}};Object.defineProperty(exports,\"__esModule\",{value:!0});var constants_1=__nested_webpack_require_455834__(1),PlatformChecker_1=__nested_webpack_require_455834__(22),constants_2=__nested_webpack_require_455834__(77),positioning_1=__nested_webpack_require_455834__(150),bell_1=__nested_webpack_require_455834__(151),storage_1=__nested_webpack_require_455834__(2),SubscribeWidget=function(){function SubscribeWidget(pw){var _this=this;if(this.pw=pw,PlatformChecker_1.default.isAvailableNotifications){this.clickBell=this.clickBell.bind(this),this.onSubscribeEvent=this.onSubscribeEvent.bind(this),this.onUnsubscribeEvent=this.onUnsubscribeEvent.bind(this),this.onPermissionDeniedEvent=this.onPermissionDeniedEvent.bind(this),this.clickOutOfPopover=this.clickOutOfPopover.bind(this),this.onClickBellIfEnableChannels=this.onClickBellIfEnableChannels.bind(this);var tooltipText=Object.assign(constants_2.SUBSCRIBE_WIDGET_DEFAULT_CONFIG.tooltipText,this.pw.subscribeWidgetConfig.tooltipText);this.config=Object.assign(constants_2.SUBSCRIBE_WIDGET_DEFAULT_CONFIG,this.pw.subscribeWidgetConfig),this.config.tooltipText=tooltipText;var arrActions=[],isEnableChannels=this.pw.isEnableChannels(),isSubscribed=this.pw.isSubscribed();arrActions.push(isEnableChannels),arrActions.push(isSubscribed),Promise.all(arrActions).then(function(_a){var isEnableChannels=_a[0],isSubscribed=_a[1];isEnableChannels&&(_this.isEnableChannels=!0),isSubscribed&&!isEnableChannels||_this.render()})}else console.warn(\"Browser does not support push notifications\")}return SubscribeWidget.prototype.addStylesToElement=function(styles,element){Object.keys(styles).forEach(function(st){element.style[st]=styles[st]})},SubscribeWidget.prototype.createContainer=function(){var container=document.createElement(\"div\");container.id=constants_2.WIDGET_CONTAINER_ID,container.className=\"pushwoosh-subscribe-widget\";var position=positioning_1.default.getBellPosition(this.config.position,this.config.indent),styles=Object.assign({zIndex:this.config.zIndex},position);return this.addStylesToElement(styles,container),container},SubscribeWidget.prototype.createStyle=function(){var styles=__nested_webpack_require_455834__(152),styleNode=document.createElement(\"style\");return styleNode.innerHTML=styles,styleNode},SubscribeWidget.prototype.createBell=function(){var bell=document.createElement(\"div\");bell.className=\"pushwoosh-subscribe-widget__bell-button\";var styles={width:this.config.size,height:this.config.size,backgroundColor:this.config.bgColor,boxShadow:this.config.shadow,lineHeight:this.config.size,border:this.config.bellButtonBorder};return this.addStylesToElement(styles,bell),bell.innerHTML=bell_1.default(this.config.bellColor,this.config.bellStrokeColor),bell},SubscribeWidget.prototype.createTooltip=function(){return __awaiter(this,void 0,void 0,function(){var tooltip,_a,position,modification,_b,_c;return __generator(this,function(_d){switch(_d.label){case 0:return tooltip=document.createElement(\"div\"),_a=positioning_1.default.getTooltipPosition(this.config.position,this.config.size),position=_a[0],modification=_a[1],tooltip.className=\"pushwoosh-subscribe-widget__tooltip pushwoosh-subscribe-widget__tooltip__\"+modification,this.addStylesToElement(position,tooltip),_c=(_b=tooltip).appendChild,[4,this.createTooltipContent()];case 1:return _c.apply(_b,[_d.sent()]),[2,tooltip]}})})},SubscribeWidget.prototype.createTooltipContent=function(){return __awaiter(this,void 0,void 0,function(){var tooltipContent,_a;return __generator(this,function(_b){switch(_b.label){case 0:return tooltipContent=document.createElement(\"div\"),_a=tooltipContent,[4,this.tooltipTextFactory()];case 1:return _a.innerText=_b.sent(),tooltipContent.className=\"pushwoosh-subscribe-widget__tooltip-content\",[2,tooltipContent]}})})},SubscribeWidget.prototype.tooltipTextFactory=function(){return __awaiter(this,void 0,void 0,function(){var permission,tooltipText,isManuallyUnsubscribed;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.pw.driver.getPermission()];case 1:return permission=_a.sent(),tooltipText=this.config.tooltipText,[4,storage_1.keyValue.get(constants_1.MANUAL_UNSUBSCRIBE)];case 2:switch(isManuallyUnsubscribed=_a.sent(),permission){case constants_1.PERMISSION_GRANTED:return[2,isManuallyUnsubscribed?tooltipText.needSubscribe:tooltipText.alreadySubscribed];case constants_1.PERMISSION_PROMPT:return[2,tooltipText.needSubscribe];case constants_1.PERMISSION_DENIED:return[2,tooltipText.blockSubscribe];default:return[2,tooltipText.needSubscribe]}return[2]}})})},SubscribeWidget.prototype.createPopover=function(){var popoverContentWrapper=document.createElement(\"div\"),popover=document.createElement(\"div\"),_a=positioning_1.default.getPopoverPosition(this.config.position,this.config.size),position=_a[0],modification=_a[1];popover.className=\"pushwoosh-subscribe-widget__popover pushwoosh-subscribe-widget__popover__\"+modification,popoverContentWrapper.className=\"pushwoosh-subscribe-widget__popover-content-wrapper\",this.style.innerHTML+=positioning_1.default.getPopoverArrowPosition(this.config.position,this.config.size);var styles=Object.assign({maxWidth:\"calc(100vw - \"+this.config.indent+\" - \"+this.config.indent+\")\"},position);return this.addStylesToElement(styles,popover),popoverContentWrapper.appendChild(this.createPopoverContent()),popover.appendChild(popoverContentWrapper),popover},SubscribeWidget.prototype.createPopoverContent=function(){var _a,popoverContent=document.createElement(\"div\");popoverContent.className=\"pushwoosh-subscribe-widget__popover-content\";var imagePreference=document.createElement(\"img\");imagePreference.width=500,imagePreference.height=130;var imageUnlock=document.createElement(\"img\");return imageUnlock.width=500,imageUnlock.height=230,_a=this.helpImageSourceFactory(),imagePreference.src=_a[0],imageUnlock.src=_a[1],popoverContent.appendChild(imagePreference),popoverContent.appendChild(imageUnlock),popoverContent},SubscribeWidget.prototype.helpImageSourceFactory=function(){var preferenceSource,unlockSource;return PlatformChecker_1.default.isOpera?[preferenceSource=\"https://cdn.pushwoosh.com/webpush/img/opera.jpg\",unlockSource=\"https://cdn.pushwoosh.com/webpush/img/opera_unlock.jpg\"]:(11===PlatformChecker_1.default.platform?navigator.userAgent.match(/Android/i)?(preferenceSource=\"https://cdn.pushwoosh.com/webpush/img/mobile_chrome.jpg\",unlockSource=\"https://cdn.pushwoosh.com/webpush/img/mobile_chrome_unlock.jpg\"):(preferenceSource=\"https://cdn.pushwoosh.com/webpush/img/chrome.jpg\",unlockSource=\"https://cdn.pushwoosh.com/webpush/img/chrome_unlock.jpg\"):12===PlatformChecker_1.default.platform?(preferenceSource=\"https://cdn.pushwoosh.com/webpush/img/FF.jpg\",unlockSource=\"https://cdn.pushwoosh.com/webpush/img/FF_unlock.jpg\"):10===PlatformChecker_1.default.platform?(preferenceSource=\"https://cdn.pushwoosh.com/webpush/img/safari.jpg\",unlockSource=\"https://cdn.pushwoosh.com/webpush/img/safari_unlock.jpg\"):(preferenceSource=\"https://cdn.pushwoosh.com/webpush/img/chrome.jpg\",unlockSource=\"https://cdn.pushwoosh.com/webpush/img/chrome_unlock.jpg\"),[preferenceSource,unlockSource])},SubscribeWidget.prototype.render=function(){return __awaiter(this,void 0,void 0,function(){var bell,_a,_b;return __generator(this,function(_c){switch(_c.label){case 0:return this.widget=this.createContainer(),this.style=this.createStyle(),bell=this.createBell(),_a=this,[4,this.createTooltip()];case 1:return _a.tooltip=_c.sent(),_b=this,[4,this.createPopover()];case 2:return _b.popover=_c.sent(),this.widget.appendChild(this.style),this.widget.appendChild(bell),this.widget.appendChild(this.tooltip),this.widget.appendChild(this.popover),document.body.appendChild(this.widget),this.pw.push([\"onSubscribe\",this.onSubscribeEvent]),this.pw.push([\"onUnsubscribe\",this.onUnsubscribeEvent]),this.pw.push([\"onPermissionDenied\",this.onPermissionDeniedEvent]),this.isEnableChannels?(this.widget.addEventListener(\"click\",this.onClickBellIfEnableChannels),[2]):(this.addEventListenersIfDisabledChannels(),[2])}})})},SubscribeWidget.prototype.onClickBellIfEnableChannels=function(){var _this=this;this.pw.push(function(api){_this.pw.driver.checkIsPermissionDefault()?_this.pw.subscriptionSegmentWidget.init():api.postEvent(constants_1.SUBSCRIPTION_SEGMENT_EVENT,{})})},SubscribeWidget.prototype.addEventListenersIfDisabledChannels=function(){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){switch(_a.label){case 0:return this.widget.addEventListener(\"click\",this.clickBell),window.addEventListener(\"click\",this.clickOutOfPopover),[4,this.triggerPwEvent(constants_1.EVENT_SHOW_SUBSCRIBE_BUTTON,constants_1.KEY_SHOW_SUBSCRIBE_WIDGET)];case 1:return _a.sent(),[2]}})})},SubscribeWidget.prototype.toggleHelpPopover=function(){this.popover.classList.toggle(\"pushwoosh-subscribe-widget__popover__visible\")},SubscribeWidget.prototype.clickBell=function(){return __awaiter(this,void 0,void 0,function(){var permission;return __generator(this,function(_b){switch(_b.label){case 0:switch(permission=this.pw.driver.getPermission(),permission){case constants_1.PERMISSION_GRANTED:return[3,1];case constants_1.PERMISSION_PROMPT:return[3,3];case constants_1.PERMISSION_DENIED:return[3,5]}return[3,6];case 1:return[4,this.pw.subscribe()];case 2:return _b.sent(),[3,7];case 3:return[4,this.pw.subscribe()];case 4:return _b.sent(),[3,7];case 5:return this.toggleHelpPopover(),[3,7];case 6:console.warn(\"Unknown browser notification permission\"),_b.label=7;case 7:return[4,this.triggerPwEvent(constants_1.EVENT_CLICK_SUBSCRIBE_BUTTON,constants_1.KEY_CLICK_SUBSCRIBE_WIDGET)];case 8:return _b.sent(),[2]}})})},SubscribeWidget.prototype.onSubscribeEvent=function(){return __awaiter(this,void 0,void 0,function(){var isEnableChannels,tooltipContent,_this=this;return __generator(this,function(_a){return isEnableChannels=this.pw.isEnableChannels(),null===(tooltipContent=this.tooltip.querySelector(\"div\"))?[2]:(tooltipContent.innerText=this.config.tooltipText.successSubscribe,this.tooltip.classList.add(\"pushwoosh-subscribe-widget__tooltip__visible\"),setTimeout(function(){return __awaiter(_this,void 0,void 0,function(){var _a;return __generator(this,function(_b){switch(_b.label){case 0:return this.tooltip.classList.remove(\"pushwoosh-subscribe-widget__tooltip__visible\"),_a=tooltipContent,[4,this.tooltipTextFactory()];case 1:return _a.innerText=_b.sent(),isEnableChannels||this.widget.classList.add(\"pushwoosh-subscribe-widget__subscribed\"),[2]}})})},2e3),[2])})})},SubscribeWidget.prototype.onPermissionDeniedEvent=function(){return __awaiter(this,void 0,void 0,function(){var tooltipContent,_a;return __generator(this,function(_b){switch(_b.label){case 0:return[4,this.pw.isEnableChannels()];case 1:return _b.sent()&&(this.widget.removeEventListener(\"click\",this.onClickBellIfEnableChannels),this.addEventListenersIfDisabledChannels()),null===(tooltipContent=this.tooltip.querySelector(\"div\"))?[2]:(_a=tooltipContent,[4,this.tooltipTextFactory()]);case 2:return _a.innerText=_b.sent(),[2]}})})},SubscribeWidget.prototype.clickOutOfPopover=function(ev){this.popover.classList.contains(\"pushwoosh-subscribe-widget__popover__visible\")&&!ev.target.classList.contains(\"pushwoosh-subscribe-widget__popover\")&&null===ev.target.closest(\".pushwoosh-subscribe-widget__popover\")&&!ev.target.classList.contains(\"pushwoosh-subscribe-widget__bell-button\")&&null===ev.target.closest(\".pushwoosh-subscribe-widget__bell-button\")&&this.popover.classList.remove(\"pushwoosh-subscribe-widget__popover__visible\")},SubscribeWidget.prototype.triggerPwEvent=function(event,widget){return __awaiter(this,void 0,void 0,function(){return __generator(this,function(_a){return[2]})})},SubscribeWidget.prototype.onUnsubscribeEvent=function(){return __awaiter(this,void 0,void 0,function(){var tooltipContent,_a;return __generator(this,function(_b){switch(_b.label){case 0:return null===(tooltipContent=this.tooltip.querySelector(\"div\"))?[2]:(_a=tooltipContent,[4,this.tooltipTextFactory()]);case 1:return _a.innerText=_b.sent(),[2]}})})},SubscribeWidget}();document.addEventListener(\"pushwoosh.initialized\",function(ev){ev.detail.pw.subscribeWidgetConfig.enable&&new SubscribeWidget(ev.detail.pw)})},function(module,exports,__nested_webpack_require_469699__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var constants_1=__nested_webpack_require_469699__(77),Positioning=function(){function Positioning(){}return Positioning.getBellPosition=function(position,indent){var positionStyles;switch(position){case constants_1.BELL_POSITION_BOTTOM_RIGHT:positionStyles={top:\"auto\",left:\"auto\",bottom:indent,right:indent};break;case constants_1.BELL_POSITION_BOTTOM_LEFT:positionStyles={top:\"auto\",left:indent,bottom:indent,right:\"auto\"};break;case constants_1.BELL_POSITION_TOP_LEFT:positionStyles={top:indent,left:indent,bottom:\"auto\",right:\"auto\"};break;case constants_1.BELL_POSITION_TOP_RIGHT:positionStyles={top:indent,left:\"auto\",bottom:\"auto\",right:indent};break;default:positionStyles={top:\"auto\",left:\"auto\",bottom:indent,right:indent}}return positionStyles},Positioning.getTooltipPosition=function(bellPosition,bellSize){var positionStyles,tooltipModification,increaseIndent=parseInt(bellSize)+12+\"px\";switch(bellPosition){case constants_1.BELL_POSITION_BOTTOM_RIGHT:positionStyles={right:increaseIndent},tooltipModification=\"right\";break;case constants_1.BELL_POSITION_BOTTOM_LEFT:case constants_1.BELL_POSITION_TOP_LEFT:positionStyles={left:increaseIndent},tooltipModification=\"left\";break;case constants_1.BELL_POSITION_TOP_RIGHT:positionStyles={right:increaseIndent},tooltipModification=\"right\";break;default:positionStyles={right:increaseIndent},tooltipModification=\"right\"}return[positionStyles,tooltipModification]},Positioning.getPopoverPosition=function(bellPosition,bellSize){var positionStyles,popoverModification,increaseIndent=parseInt(bellSize)+15+\"px\";switch(bellPosition){case constants_1.BELL_POSITION_BOTTOM_RIGHT:positionStyles={bottom:increaseIndent,right:\"0\",left:\"auto\",top:\"auto\"},popoverModification=\"bottom\";break;case constants_1.BELL_POSITION_BOTTOM_LEFT:positionStyles={bottom:increaseIndent,left:\"0\",right:\"auto\",top:\"auto\"},popoverModification=\"bottom\";break;case constants_1.BELL_POSITION_TOP_LEFT:positionStyles={top:increaseIndent,left:\"0\",right:\"auto\",bottom:\"auto\"},popoverModification=\"top\";break;case constants_1.BELL_POSITION_TOP_RIGHT:positionStyles={top:increaseIndent,right:\"0\",left:\"auto\",bottom:\"auto\"},popoverModification=\"top\";break;default:positionStyles={bottom:increaseIndent,right:\"0\",left:\"auto\",top:\"auto\"},popoverModification=\"bottom\"}return[positionStyles,popoverModification]},Positioning.getPopoverArrowPosition=function(bellPosition,bellSize){var arrowAdditionalStyles;switch(bellPosition){case constants_1.BELL_POSITION_BOTTOM_RIGHT:arrowAdditionalStyles=\"\\n.pushwoosh-subscribe-widget__popover__bottom:after {left: auto; right: \"+(parseInt(bellSize)/2-4)+\"px\";break;case constants_1.BELL_POSITION_BOTTOM_LEFT:arrowAdditionalStyles=\"\\n.pushwoosh-subscribe-widget__popover__bottom:after {right: auto; left: \"+(parseInt(bellSize)/2-12)+\"px\";break;case constants_1.BELL_POSITION_TOP_LEFT:arrowAdditionalStyles=\"\\n.pushwoosh-subscribe-widget__popover__top:after {right: auto; left: \"+(parseInt(bellSize)/2-12)+\"px\";break;case constants_1.BELL_POSITION_TOP_RIGHT:arrowAdditionalStyles=\"\\n.pushwoosh-subscribe-widget__popover__top:after {left: auto; right: \"+(parseInt(bellSize)/2-4)+\"px\";break;default:arrowAdditionalStyles=\"\\n.pushwoosh-subscribe-widget__popover__bottom:after {left: auto; right: \"+(parseInt(bellSize)/2-4)+\"px\"}return arrowAdditionalStyles},Positioning}();exports.default=Positioning},function(module,exports,__webpack_require__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.default=function(fillColor,strokeColor){return'<?xml version=\"1.0\" encoding=\"UTF-8\" standalone=\"no\"?>\\n<svg\\n   xmlns:dc=\"http://purl.org/dc/elements/1.1/\"\\n   xmlns:cc=\"http://creativecommons.org/ns#\"\\n   xmlns:rdf=\"http://www.w3.org/1999/02/22-rdf-syntax-ns#\"\\n   xmlns:svg=\"http://www.w3.org/2000/svg\"\\n   xmlns=\"http://www.w3.org/2000/svg\"\\n   xmlns:sodipodi=\"http://sodipodi.sourceforge.net/DTD/sodipodi-0.dtd\"\\n   xmlns:inkscape=\"http://www.inkscape.org/namespaces/inkscape\"\\n   version=\"1.1\"\\n   id=\"Capa_1\"\\n   x=\"0px\"\\n   y=\"0px\"\\n   viewBox=\"0 0 346.013 346.013\"\\n   style=\"enable-background:new 0 0 346.013 346.013;width: 80%; height: auto; vertical-align: middle;\"\\n   xml:space=\"preserve\"\\n   inkscape:version=\"0.91 r13725\"\\n   sodipodi:docname=\"alarm_white.svg\"><metadata\\n     id=\"metadata51\"><rdf:RDF><cc:Work\\n         rdf:about=\"\"><dc:format>image/svg+xml</dc:format><dc:type\\n           rdf:resource=\"http://purl.org/dc/dcmitype/StillImage\" /><dc:title></dc:title></cc:Work></rdf:RDF></metadata><defs\\n     id=\"defs49\" /><sodipodi:namedview\\n     borderopacity=\"1\"\\n     objecttolerance=\"10\"\\n     gridtolerance=\"10\"\\n     guidetolerance=\"10\"\\n     inkscape:pageopacity=\"0\"\\n     inkscape:pageshadow=\"2\"\\n     inkscape:window-width=\"1618\"\\n     inkscape:window-height=\"828\"\\n     id=\"namedview47\"\\n     showgrid=\"false\"\\n     inkscape:zoom=\"0.6820553\"\\n     inkscape:cx=\"173.0065\"\\n     inkscape:cy=\"173.0065\"\\n     inkscape:window-x=\"0\"\\n     inkscape:window-y=\"0\"\\n     inkscape:window-maximized=\"0\"\\n     inkscape:current-layer=\"g3\" /><g\\n     id=\"g3\"><path\\n       d=\"m 256.76227,220.19006 c -1.77513,-2.69766 -3.45154,-5.24564 -3.98966,-7.46382 -0.042,-0.17861 -0.0911,-0.36128 -0.16237,-0.61436 -2.28354,-7.67647 0.69147,-24.43921 2.46886,-34.45124 0.26788,-1.50394 0.52274,-2.94197 0.75286,-4.29035 0.0232,-0.13675 0.044,-0.27211 0.0724,-0.48006 1.95582,-15.28051 2.58811,-37.91956 -5.51044,-58.99147 -5.6032,-14.57978 -14.45978,-25.82612 -26.3559,-33.48393 1.26598,-9.812938 -4.85967,-19.343691 -14.66682,-22.0511 -9.80715,-2.70741 -19.95724,2.33226 -23.90298,11.405413 -14.1382,0.467533 -27.51111,5.577097 -39.80114,15.219267 -17.76129,13.9298 -28.83431,33.68757 -34.99389,47.80757 l -0.0479,0.11335 c -0.0512,0.12175 -0.0998,0.24114 -0.13249,0.32962 -0.49733,1.28292 -1.01552,2.64514 -1.55689,4.07255 -3.61311,9.51043 -9.66004,25.42824 -15.611995,30.89342 -0.106524,0.10027 -0.208228,0.20187 -0.362362,0.35435 -1.636243,1.66563 -4.382941,2.99463 -7.288979,4.40101 -7.145531,3.45301 -22.013613,10.64166 -17.206389,31.67844 0.929154,4.07105 4.008437,7.29057 8.033861,8.40185 l 167.570804,46.2604 c 4.02253,1.11048 8.31521,-0.0729 11.2052,-3.08958 14.91617,-15.58874 5.84693,-29.38668 1.48625,-36.02133 z\"\\n       id=\"path5\"\\n       inkscape:connector-curvature=\"0\"\\n       vector-effect=\"non-scaling-stroke\"\\n       style=\"fill:'+fillColor+\"; stroke: \"+strokeColor+'; stroke-width: 1; \" /><path\\n       vector-effect=\"non-scaling-stroke\"\\n       d=\"m 174.26737,259.72378 -38.76399,-10.70137 c -1.59243,-0.43962 -3.28183,-0.15596 -4.63548,0.7754 -2.53909,1.7494 -2.84182,4.93159 -3.02304,6.83188 l -0.0151,0.15247 c -1.22819,12.67106 6.79854,24.33046 19.08688,27.72284 12.51583,3.45518 25.8324,-2.91586 30.9681,-14.80385 l 0.0935,-0.19205 c 0.52305,-1.06418 1.74613,-3.55554 0.50882,-6.31116 -0.44302,-0.98439 -1.5794,-2.74529 -4.21964,-3.47416 z\"\\n       id=\"path7\"\\n       inkscape:connector-curvature=\"0\"\\n       style=\"fill:'+fillColor+\"; stroke: \"+strokeColor+'; stroke-width: 1;\" /></g><g\\n     id=\"g17\" /><g\\n     id=\"g19\" /><g\\n     id=\"g21\" /><g\\n     id=\"g23\" /><g\\n     id=\"g25\" /><g\\n     id=\"g27\" /><g\\n     id=\"g29\" /><g\\n     id=\"g31\" /><g\\n     id=\"g33\" /><g\\n     id=\"g35\" /><g\\n     id=\"g37\" /><g\\n     id=\"g39\" /><g\\n     id=\"g41\" /><g\\n     id=\"g43\" /><g\\n     id=\"g45\" /></svg>'}},function(module,exports,__nested_webpack_require_477101__){var result=__nested_webpack_require_477101__(153);module.exports=\"string\"==typeof result?result:result.toString()},function(module,exports,__nested_webpack_require_477247__){(module.exports=__nested_webpack_require_477247__(154)(void 0)).push([module.i,'/* Widget */\\n.pushwoosh-subscribe-widget {\\n  position: fixed;\\n  display: block;\\n  -webkit-transform: translate3d(0, 0, 0);\\n          transform: translate3d(0, 0, 0);\\n}\\n\\n.pushwoosh-subscribe-widget__subscribed {\\n  display: none;\\n}\\n\\n.pushwoosh-subscribe-widget .pushwoosh-subscribe-widget__bell-button {\\n  -webkit-border-radius: 50%;\\n          border-radius: 50%;\\n  cursor: pointer;\\n  font-size: 0;\\n  text-align: center;\\n  -webkit-transform: scale(0.9) translate3d(0, 0, 0);\\n          transform: scale(0.9) translate3d(0, 0, 0);\\n  -webkit-transition: -webkit-transform .3s ease-in-out;\\n  transition: -webkit-transform .3s ease-in-out;\\n  -o-transition: transform .3s ease-in-out;\\n  transition: transform .3s ease-in-out;\\n  transition: transform .3s ease-in-out, -webkit-transform .3s ease-in-out;\\n  position: relative;\\n}\\n\\n.pushwoosh-subscribe-widget .pushwoosh-subscribe-widget__bell-button:hover {\\n  -webkit-transform: scale(1);\\n      -ms-transform: scale(1);\\n          transform: scale(1);\\n}\\n\\n/* Tooltip */\\n.pushwoosh-subscribe-widget__tooltip {\\n  position: absolute;\\n  height: 48px;\\n  max-width: 300px;\\n  min-width: 200px;\\n  padding: 5px 7px;\\n  background-color: #3b444b;\\n  color: #ffffff;\\n  text-align: center;\\n  vertical-align: middle;\\n  -webkit-box-sizing: border-box;\\n          box-sizing: border-box;\\n  line-height: 38px;\\n  font-size: 0;\\n  font-weight: normal;\\n  visibility: hidden;\\n  opacity: 0;\\n  -webkit-transition: visibility 0s ease-in .3s,\\n              opacity .3s ease-in;\\n  -o-transition: visibility 0s ease-in .3s,\\n              opacity .3s ease-in;\\n  transition: visibility 0s ease-in .3s,\\n              opacity .3s ease-in;\\n  top: 50%;\\n  -webkit-transform: translate(0, -50%);\\n      -ms-transform: translate(0, -50%);\\n          transform: translate(0, -50%);\\n  -webkit-box-shadow: 1px 1px 5px 0 rgba(0,0,0,0.5);\\n          box-shadow: 1px 1px 5px 0 rgba(0,0,0,0.5);\\n}\\n\\n.pushwoosh-subscribe-widget__tooltip__right:after,\\n.pushwoosh-subscribe-widget__tooltip__left:after {\\n  content: \"\";\\n  top: 50%;\\n  height: 0;\\n  width: 0;\\n  position: absolute;\\n  pointer-events: none;\\n  border-top: 5px solid transparent;\\n  border-bottom: 5px solid transparent;\\n  background: #3b444b;\\n}\\n\\n.pushwoosh-subscribe-widget__tooltip__right:after {\\n  left: calc(100% - 7px);\\n  border-top: 5px solid #3b444b;\\n  border-left: 5px solid #3b444b;\\n  border-right: 5px solid transparent;\\n  -webkit-box-sizing: border-box;\\n          box-sizing: border-box;\\n  -webkit-transform-origin: 0 0;\\n      -ms-transform-origin: 0 0;\\n          transform-origin: 0 0;\\n  -webkit-transform: rotate(-45deg);\\n      -ms-transform: rotate(-45deg);\\n          transform: rotate(-45deg);\\n  -webkit-box-shadow: 2px 2px 2px 0 rgba(0, 0, 0, 0.25);\\n          box-shadow: 2px 2px 2px 0 rgba(0, 0, 0, 0.25);\\n}\\n\\n.pushwoosh-subscribe-widget__tooltip__left:after {\\n  left: -7px;\\n  border-top: 5px solid #3b444b;\\n  border-right: 5px solid #3b444b;\\n  border-left: 5px solid transparent;\\n  -webkit-box-sizing: border-box;\\n          box-sizing: border-box;\\n  -webkit-transform-origin: 0 0;\\n      -ms-transform-origin: 0 0;\\n          transform-origin: 0 0;\\n  -webkit-transform: rotate(-45deg);\\n      -ms-transform: rotate(-45deg);\\n          transform: rotate(-45deg);\\n  -webkit-box-shadow: -2px -2px 2px 0 rgba(0, 0, 0, 0.25);\\n          box-shadow: -2px -2px 2px 0 rgba(0, 0, 0, 0.25);\\n}\\n\\n.pushwoosh-subscribe-widget__bell-button:hover + .pushwoosh-subscribe-widget__tooltip,\\n.pushwoosh-subscribe-widget__tooltip.pushwoosh-subscribe-widget__tooltip__visible {\\n  display: block;\\n  visibility: visible;\\n  opacity: 1;\\n  -webkit-transition-delay: 0s;\\n       -o-transition-delay: 0s;\\n          transition-delay: 0s;\\n}\\n\\n.pushwoosh-subscribe-widget .pushwoosh-subscribe-widget__tooltip-content {\\n  display: inline-block;\\n  vertical-align: middle;\\n  font-size: 14px;\\n  line-height: 1.4;\\n  white-space: nowrap;\\n  overflow: hidden;\\n  padding-right: 5px;\\n  -o-text-overflow: ellipsis;\\n     text-overflow: ellipsis;\\n  max-width: 100%;\\n}\\n\\n/* Popover */\\n\\n.pushwoosh-subscribe-widget .pushwoosh-subscribe-widget__popover {\\n  position: absolute;\\n  right: auto;\\n  -webkit-box-shadow: 1px 1px 5px 0 rgba(0, 0, 0, 0.5);\\n          box-shadow: 1px 1px 5px 0 rgba(0, 0, 0, 0.5);\\n  -webkit-box-sizing: border-box;\\n          box-sizing: border-box;\\n  background: #9ca8b1;\\n  visibility: hidden;\\n  opacity: 0;\\n  -webkit-transition: visibility 0s ease-in .5s,\\n              opacity .5s ease-in;\\n  -o-transition: visibility 0s ease-in .5s,\\n              opacity .5s ease-in;\\n  transition: visibility 0s ease-in .5s,\\n              opacity .5s ease-in;\\n}\\n\\n.pushwoosh-subscribe-widget .pushwoosh-subscribe-widget__popover__visible {\\n  display: block;\\n  visibility: visible;\\n  opacity: 1;\\n  -webkit-transition-delay: 0s;\\n       -o-transition-delay: 0s;\\n          transition-delay: 0s;\\n}\\n\\n.pushwoosh-subscribe-widget__popover__bottom:after,\\n.pushwoosh-subscribe-widget__popover__top:after {\\n  content: \"\";\\n  height: 0;\\n  width: 0;\\n  position: absolute;\\n  pointer-events: none;\\n  border-right: 8px solid transparent;\\n  border-left: 8px solid #9ca8b1;\\n  background: #9ca8b1;\\n  -webkit-transform-origin: 0 0;\\n      -ms-transform-origin: 0 0;\\n          transform-origin: 0 0;\\n  -webkit-transform: rotate(-45deg);\\n      -ms-transform: rotate(-45deg);\\n          transform: rotate(-45deg);\\n}\\n\\n.pushwoosh-subscribe-widget__popover__bottom:after {\\n  border-bottom: 8px solid #9ca8b1;\\n  border-top: 8px solid transparent;\\n  -webkit-box-sizing: border-box;\\n          box-sizing: border-box;\\n  -webkit-box-shadow: -2px 2px 1px 0 rgba(0, 0, 0, 0.25);\\n          box-shadow: -2px 2px 1px 0 rgba(0, 0, 0, 0.25);\\n  bottom: -16px;\\n}\\n\\n.pushwoosh-subscribe-widget__popover__top:after {\\n  top: 0;\\n  border-top: 8px solid #9ca8b1;\\n  border-bottom: 8px solid transparent;\\n  -webkit-box-sizing: border-box;\\n          box-sizing: border-box;\\n  -webkit-box-shadow: 1px -1px 1px 0 rgba(0, 0, 0, 0.25);\\n          box-shadow: 1px -1px 1px 0 rgba(0, 0, 0, 0.25);\\n}\\n\\n.pushwoosh-subscribe-widget__popover-content-wrapper {\\n  overflow: auto;\\n  max-width: 100%;\\n}\\n\\n\\n.pushwoosh-subscribe-widget .pushwoosh-subscribe-widget__popover-content {\\n  display: -webkit-box;\\n  display: -ms-flexbox;\\n  display: flex;\\n  -webkit-box-orient: vertical;\\n  -webkit-box-direction: normal;\\n      -ms-flex-direction: column;\\n          flex-direction: column;\\n  padding: 14px;\\n  -webkit-box-sizing: border-box;\\n          box-sizing: border-box;\\n  float: left;\\n  min-width: 100%;\\n  -webkit-box-align: center;\\n      -ms-flex-align: center;\\n          align-items: center;\\n}\\n\\n.pushwoosh-subscribe-widget .pushwoosh-subscribe-widget__popover img {\\n  display: block;\\n}\\n\\n.pushwoosh-subscribe-widget .pushwoosh-subscribe-widget__popover img:first-child {\\n  margin-bottom: 14px;\\n}\\n\\n@media (max-width: 767px) and (orientation: portrait) {\\n  .pushwoosh-subscribe-widget .pushwoosh-subscribe-widget__popover-content {\\n    -webkit-box-orient: vertical;\\n    -webkit-box-direction: normal;\\n        -ms-flex-direction: column;\\n            flex-direction: column;\\n  }\\n  .pushwoosh-subscribe-widget .pushwoosh-subscribe-widget__popover img {\\n    max-width: 280px;\\n    height: auto;\\n  }\\n  .pushwoosh-subscribe-widget .pushwoosh-subscribe-widget__popover img:first-child {\\n    margin-right: 0;\\n    margin-bottom: 14px;\\n  }\\n}\\n@media (max-width: 767px) and (orientation: landscape) {\\n  .pushwoosh-subscribe-widget .pushwoosh-subscribe-widget__popover-content {\\n    -webkit-box-orient: horizontal;\\n    -webkit-box-direction: normal;\\n        -ms-flex-direction: row;\\n            flex-direction: row;\\n  }\\n  .pushwoosh-subscribe-widget .pushwoosh-subscribe-widget__popover img {\\n    max-width: 280px;\\n    height: auto;\\n  }\\n  .pushwoosh-subscribe-widget .pushwoosh-subscribe-widget__popover img:first-child {\\n    margin-right: 14px;\\n    margin-bottom: 0;\\n  }\\n}\\n',\"\"])},function(module,exports){module.exports=function(useSourceMap){var list=[];return list.toString=function(){return this.map(function(item){var content=function(item,useSourceMap){var content=item[1]||\"\",cssMapping=item[3];if(!cssMapping)return content;if(useSourceMap&&\"function\"==typeof btoa){var sourceMapping=function(sourceMap){return\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,\"+btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))))+\" */\"}(cssMapping),sourceURLs=cssMapping.sources.map(function(source){return\"/*# sourceURL=\"+cssMapping.sourceRoot+source+\" */\"});return[content].concat(sourceURLs).concat([sourceMapping]).join(\"\\n\")}return[content].join(\"\\n\")}(item,useSourceMap);return item[2]?\"@media \"+item[2]+\"{\"+content+\"}\":content}).join(\"\")},list.i=function(modules,mediaQuery){\"string\"==typeof modules&&(modules=[[null,modules,\"\"]]);for(var alreadyImportedModules={},i=0;i<this.length;i++){var id=this[i][0];\"number\"==typeof id&&(alreadyImportedModules[id]=!0)}for(i=0;i<modules.length;i++){var item=modules[i];\"number\"==typeof item[0]&&alreadyImportedModules[item[0]]||(mediaQuery&&!item[2]?item[2]=mediaQuery:mediaQuery&&(item[2]=\"(\"+item[2]+\") and (\"+mediaQuery+\")\"),list.push(item))}},list}},function(module,exports,__nested_webpack_require_486664__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var pwInboxWidget=__nested_webpack_require_486664__(156);document.addEventListener(\"pushwoosh.initialized\",function(ev){ev.detail.pw.pwinbox&&ev.detail.pw.inboxWidgetConfig.enable&&(ev.detail.pw.pwinboxWidget=new pwInboxWidget.PWInboxWidget(ev.detail.pw))})},function(module,exports,__webpack_require__){module.exports=function(modules){var installedModules={};function __nested_webpack_require_487100__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__nested_webpack_require_487100__),module.l=!0,module.exports}return __nested_webpack_require_487100__.m=modules,__nested_webpack_require_487100__.c=installedModules,__nested_webpack_require_487100__.d=function(exports,name,getter){__nested_webpack_require_487100__.o(exports,name)||Object.defineProperty(exports,name,{configurable:!1,enumerable:!0,get:getter})},__nested_webpack_require_487100__.r=function(exports){Object.defineProperty(exports,\"__esModule\",{value:!0})},__nested_webpack_require_487100__.n=function(module){var getter=module&&module.__esModule?function(){return module.default}:function(){return module};return __nested_webpack_require_487100__.d(getter,\"a\",getter),getter},__nested_webpack_require_487100__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__nested_webpack_require_487100__.p=\"\",__nested_webpack_require_487100__(__nested_webpack_require_487100__.s=2)}([function(module,exports,__nested_webpack_require_488132__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var constants_1=__nested_webpack_require_488132__(1);exports.isElementFixed=function isElementFixed(element){var isFixed=\"fixed\"===window.getComputedStyle(element).position;return!isFixed&&element.parentElement&&(isFixed=isElementFixed(element.parentElement)),isFixed},exports.getGlobal=function(){return Function(\"return this\")()},exports.getMessageTime=function(date){var localDate=new Date(date),localTime=localDate.getHours()+localDate.getTimezoneOffset()/60;localDate.setHours(localTime);var gap=(new Date).getTime()-localDate.getTime();return gap<=6e4?\"Just now\":gap<constants_1.MILLISECONDS_IN_HOUR&&gap>0?Math.floor(gap/6e4)+\" minutes ago\":gap<constants_1.MILLISECONDS_IN_DAY&&gap>0?Math.floor(gap/36e5)+\" hours ago\":localDate.getDate()+\" \"+constants_1.MONTHS[localDate.getMonth()]+\" \"+localDate.getFullYear()+\", \"+localDate.getHours()+\":\"+(\"0\"+localDate.getMinutes().toString()).slice(-2)},exports.getValidColor=function(color){return\"transparent\"===color?color:constants_1.COLOR_TEST_REGEXP.test(color)?color:\"#333\"}},function(module,exports,__webpack_require__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.MILLISECONDS_IN_DAY=864e5,exports.MILLISECONDS_IN_HOUR=36e5,exports.MONTHS=[\"Jan\",\"Feb\",\"Mar\",\"Apr\",\"May\",\"June\",\"July\",\"Aug\",\"Sept\",\"Oct\",\"Nov\",\"Dec\"],exports.CONFIG_STYLES=[{name:\"widgetWidth\",type:\"size\"},{name:\"borderRadius\",type:\"size\"},{name:\"zIndex\",type:\"number\"},{name:\"fontFamily\",type:\"string\"},{name:\"bgColor\",type:\"color\"},{name:\"textColor\",type:\"color\"},{name:\"arrowBorderColor\",type:\"color\"},{name:\"borderColor\",type:\"color\"},{name:\"badgeBgColor\",type:\"color\"},{name:\"badgeTextColor\",type:\"color\"},{name:\"timeTextColor\",type:\"color\"},{name:\"messageTitleColor\",type:\"color\"},{name:\"emptyInboxTitleColor\",type:\"color\"},{name:\"emptyInboxTextColor\",type:\"color\"}],exports.DEFAULT_CONFIG={enable:!1,triggerId:\"pwInbox\",position:\"bottom\",appendTo:\"body\",title:\"Inbox\",bgColor:\"#ffffff\",textColor:\"#333333\",fontFamily:\"inherit\",borderRadius:4,borderColor:\"transparent\",badgeBgColor:\"#ff4c00\",badgeTextColor:\"#ffffff\",widgetWidth:350,zIndex:100,messageTitleColor:\"#7a7a7a\",timeTextColor:\"#c4c4c4\",emptyInboxTitle:\"You're all caught up\",emptyInboxTitleColor:\"#333333\",emptyInboxText:\"There are no new messages. Stay tuned!\",emptyInboxTextColor:\"#7a7a7a\",emptyInboxIconUrl:\"https://pushon.pushwoosh.com/images/icon-empty-inbox.png\",arrowBorderColor:\"rgba(0,0,0,.1)\"},exports.COLOR_TEST_REGEXP=/^(#([\\da-f]{3}){1,2}$|(rgb|hsl)a\\((\\d{1,3}%?,\\s?){3}(1|0?\\.\\d+)\\)$|(rgb|hsl)\\(\\d{1,3}%?(,\\s?\\d{1,3}%?){2}\\)$)/},function(module,exports,__nested_webpack_require_490791__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var InboxWidget_1=__nested_webpack_require_490791__(3);exports.PWInboxWidget=InboxWidget_1.default},function(module,exports,__nested_webpack_require_490990__){\"use strict\";var __assign=this&&this.__assign||Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t};Object.defineProperty(exports,\"__esModule\",{value:!0});var widgetTemplates_1=__nested_webpack_require_490990__(4),constants_1=__nested_webpack_require_490990__(1),helpers_1=__nested_webpack_require_490990__(0),InboxWidget=function(){function InboxWidget(pw){this.pw=pw,this.config=__assign({},constants_1.DEFAULT_CONFIG,{arrowBorderColor:this.pw.inboxWidgetConfig.borderColor&&\"transparent\"!==this.pw.inboxWidgetConfig.borderColor?this.pw.inboxWidgetConfig.borderColor:\"rgba(0,0,0,.1)\"},this.pw.inboxWidgetConfig),this.updateInbox=this.updateInbox.bind(this),this.markVisibleItemsAsRead=this.markVisibleItemsAsRead.bind(this),this.onWidgetClickHandler=this.onWidgetClickHandler.bind(this),this.onTriggerClickHandler=this.onTriggerClickHandler.bind(this),this.onWindowScrollHandler=this.onWindowScrollHandler.bind(this),this.toggle=this.toggle.bind(this);try{this.initTrigger(),this.updateInbox(),this.addListeners()}catch(err){console.warn(err)}}return InboxWidget.prototype.toggle=function(isOpened){(void 0===isOpened?!this.isOpened:isOpened)?this.openWidget():this.closeWidget()},InboxWidget.prototype.initTrigger=function(){if(!this.pw.pwinbox)throw new Error(\"Web inbox is not allowed.\");var trigger=document.getElementById(this.config.triggerId);if(!trigger)throw new Error(\"Inbox trigger element doesn't exist. You must set triggerId in inboxWidget config. See the documentation.\");this.trigger=trigger,this.trigger.classList.add(\"pw-inbox-trigger\"),this.defaultMargin=12,this.messagesElements={},this.messages=[],this.readItems=[],this.updateCounter(0),this.isOpened=!1,this.renderWidget(),this.isFixed=helpers_1.isElementFixed(this.trigger)},InboxWidget.prototype.renderWidget=function(){this.widget=document.createElement(\"div\"),this.widget.id=\"pwInboxWidget\",this.widget.className=\"pw-inbox-widget\",this.widget.classList.toggle(\"pw-open\",this.isOpened),this.widgetParent=document.querySelector(this.config.appendTo)||document.body,this.widgetParent.appendChild(this.widget),this.widgetParent.appendChild(this.getStyle()),this.renderWidgetInner()},InboxWidget.prototype.getStyle=function(){var styles=__nested_webpack_require_490990__(5),styleNode=document.createElement(\"style\");return styleNode.innerHTML=this.configureStyle(styles),styleNode},InboxWidget.prototype.configureStyle=function(styles){var _this=this,resultStyles=styles.toString();return constants_1.CONFIG_STYLES.forEach(function(style){var template=new RegExp(\"var\\\\(--\"+style.name+\"\\\\)\",\"ig\"),result=_this.getStyleFormatter(style);resultStyles=resultStyles.replace(template,result)}),resultStyles},InboxWidget.prototype.getStyleFormatter=function(style){switch(style.type){case\"size\":return(this.config[style.name]||0)+\"px\";case\"number\":return parseFloat(this.config[style.name].toString()).toString();case\"string\":return this.config[style.name].toString();case\"color\":return helpers_1.getValidColor(this.config[style.name].toString());default:return\"none\"}},InboxWidget.prototype.renderWidgetInner=function(){if(this.messages.length>0)this.widget.classList.remove(\"pw-inbox-widget--empty\"),this.widget.innerHTML=widgetTemplates_1.widgetTemplate(this.config.title),this.renderMessages();else{this.widget.classList.add(\"pw-inbox-widget--empty\");var _a=this.config,emptyInboxTitle=_a.emptyInboxTitle,emptyInboxText=_a.emptyInboxText,emptyInboxIconUrl=_a.emptyInboxIconUrl;this.widget.innerHTML=widgetTemplates_1.widgetTemplateEmpty(emptyInboxIconUrl,emptyInboxTitle,emptyInboxText)}},InboxWidget.prototype.renderMessages=function(){var _this=this;this.list=this.widget.querySelector(\".pw-inbox_list\")||document.createElement(\"ul\"),this.messages.forEach(function(message){var messageElement=document.createElement(\"li\");messageElement.className=\"pw-inbox_item\",messageElement.classList.toggle(\"pw-new\",!message.isRead),messageElement.classList.toggle(\"pw-unread\",!message.isActionPerformed),messageElement.setAttribute(\"data-pw-inbox-message-id\",message.code),messageElement.innerHTML=widgetTemplates_1.messageTemplate(message),_this.list.appendChild(messageElement),_this.messagesElements[message.code]=messageElement})},InboxWidget.prototype.updateCounter=function(count){this.count=count,this.trigger.setAttribute(\"data-pw-count\",\"\"+this.count),this.trigger.classList.toggle(\"pw-empty\",0===this.count)},InboxWidget.prototype.updateInboxMessages=function(messages){this.messages=messages,this.renderWidgetInner()},InboxWidget.prototype.openWidget=function(){this.isOpened=!0,this.widget.classList.add(\"pw-open\"),document.addEventListener(\"click\",this.onWidgetClickHandler),window.addEventListener(\"scroll\",this.onWindowScrollHandler),window.addEventListener(\"resize\",this.onWindowScrollHandler),this.markVisibleItemsAsRead(),this.messages.length>0&&this.list.addEventListener(\"scroll\",this.markVisibleItemsAsRead),this.positionWidget()},InboxWidget.prototype.closeWidget=function(){this.isOpened=!1,document.removeEventListener(\"click\",this.onWidgetClickHandler),document.removeEventListener(\"click\",this.onWindowScrollHandler),window.removeEventListener(\"resize\",this.onWindowScrollHandler),this.updateReadStatus(),this.messages.length>0&&this.list.removeEventListener(\"scroll\",this.markVisibleItemsAsRead),this.widget.classList.remove(\"pw-open\",\"pw-top\",\"pw-bottom\",\"pw-right\",\"pw-left\"),this.widget.removeAttribute(\"style\")},InboxWidget.prototype.positionWidget=function(){this.isOpened&&(this.widgetParent===document.body?this.defaultPlaceWidget():this.customPlaceWidget())},InboxWidget.prototype.customPlaceWidget=function(){var position=this.config.position;this.widgetParent.style.position=\"relative\",this.widget.classList.add(\"pw-inbox-widget--inset\"),this.widget.classList.add(\"pw-\"+position)},InboxWidget.prototype.defaultPlaceWidget=function(){var position=this.pw.inboxWidgetConfig.position?this.config.position:this.getDefaultPosition(),widgetRect=this.widget.getBoundingClientRect();if(document.documentElement){var windowWidth=Math.max(document.documentElement.clientWidth,window.innerWidth||0),windowHeight=Math.max(document.documentElement.clientHeight,window.innerHeight||0);switch(widgetRect.width+2*this.defaultMargin>windowWidth&&(this.widget.style.width=windowWidth-2*this.defaultMargin+\"px\"),widgetRect.height+24>windowHeight&&(this.widget.style.height=windowHeight-2*this.defaultMargin+\"px\"),position){case\"top\":this.alignWidgetTop();break;case\"right\":this.alignWidgetRight();break;case\"left\":this.alignWidgetLeft();break;case\"bottom\":this.alignWidgetBottom()}}},InboxWidget.prototype.alignWidgetTop=function(){var triggerRect=this.trigger.getBoundingClientRect(),widgetRect=this.widget.getBoundingClientRect();if(document.documentElement){var windowWidth=Math.max(document.documentElement.clientWidth,window.innerWidth||0),arrow=this.widget.querySelector(\".pw-inbox__arrow\")||document.createElement(\"div\");this.widget.classList.add(\"pw-top\");var left=pageXOffset+triggerRect.left+Math.floor(triggerRect.width/2)-Math.floor(widgetRect.width/2),isUnderLeft=left<pageXOffset,isUnderRight=left+widgetRect.width>pageXOffset+windowWidth;isUnderLeft&&(left=pageXOffset+this.defaultMargin),isUnderRight&&(left=pageXOffset+windowWidth-widgetRect.width-this.defaultMargin);var top=pageYOffset+triggerRect.top-widgetRect.height;this.alignWidgetElement(left,top),arrow.style.left=triggerRect.left+Math.floor(triggerRect.width/2)-left+\"px\";var topMargin=this.widget.getBoundingClientRect().top;if(topMargin<0){var newHeight=this.widget.getBoundingClientRect().height+topMargin-this.defaultMargin,newTop=this.widget.getBoundingClientRect().top-topMargin+this.defaultMargin;this.widget.style.height=newHeight+\"px\",this.widget.style.top=newTop+\"px\"}}},InboxWidget.prototype.alignWidgetRight=function(){var triggerRect=this.trigger.getBoundingClientRect(),widgetRect=this.widget.getBoundingClientRect();if(document.documentElement){var windowWidth=Math.max(document.documentElement.clientWidth,window.innerWidth||0),windowHeight=Math.max(document.documentElement.clientHeight,window.innerHeight||0),arrow=this.widget.querySelector(\".pw-inbox__arrow\")||document.createElement(\"div\");this.widget.classList.add(\"pw-right\");var top=pageYOffset+triggerRect.top+Math.floor(triggerRect.height/2)-Math.floor(widgetRect.height/2),isUnderTop=top<pageYOffset,isUnderBottom=pageYOffset+windowHeight<top+widgetRect.height;isUnderTop&&(top=pageYOffset+this.defaultMargin),isUnderBottom&&(top=pageYOffset+windowHeight-widgetRect.height-this.defaultMargin);var left=pageXOffset+triggerRect.left+triggerRect.width;this.alignWidgetElement(left,top),arrow.style.top=triggerRect.top+Math.floor(triggerRect.height/2)-top+\"px\";var rightMargin=windowWidth-this.widget.getBoundingClientRect().right;if(rightMargin<this.defaultMargin){var newWidth=this.widget.getBoundingClientRect().width+rightMargin-this.defaultMargin;this.widget.style.width=newWidth+\"px\"}}},InboxWidget.prototype.alignWidgetLeft=function(){var triggerRect=this.trigger.getBoundingClientRect(),widgetRect=this.widget.getBoundingClientRect();if(document.documentElement){var windowHeight=Math.max(document.documentElement.clientHeight,window.innerHeight||0),arrow=this.widget.querySelector(\".pw-inbox__arrow\")||document.createElement(\"div\");this.widget.classList.add(\"pw-left\");var top=pageYOffset+triggerRect.top+Math.floor(triggerRect.height/2)-Math.floor(widgetRect.height/2),isUnderTop=top<pageYOffset,isUnderBottom=pageYOffset+windowHeight<top+widgetRect.height;isUnderTop&&(top=pageYOffset+this.defaultMargin),isUnderBottom&&(top=pageYOffset+windowHeight-widgetRect.height-this.defaultMargin);var left=pageXOffset+triggerRect.left-widgetRect.width;this.alignWidgetElement(left,top),arrow.style.top=triggerRect.top+Math.floor(triggerRect.height/2)-top+\"px\";var leftMargin=this.widget.getBoundingClientRect().left;if(leftMargin<0){var newWidth=this.widget.getBoundingClientRect().width+leftMargin-this.defaultMargin,newLeft=this.widget.getBoundingClientRect().left-leftMargin;this.widget.style.width=newWidth+\"px\",this.widget.style.left=newLeft+\"px\"}}},InboxWidget.prototype.alignWidgetBottom=function(){var triggerRect=this.trigger.getBoundingClientRect(),widgetRect=this.widget.getBoundingClientRect();if(document.documentElement){var windowWidth=Math.max(document.documentElement.clientWidth,window.innerWidth||0),windowHeight=Math.max(document.documentElement.clientHeight,window.innerHeight||0),arrow=this.widget.querySelector(\".pw-inbox__arrow\")||document.createElement(\"div\");this.widget.classList.add(\"pw-bottom\");var left=pageXOffset+triggerRect.left+Math.floor(triggerRect.width/2)-Math.floor(widgetRect.width/2),isUnderLeft=left<pageXOffset,isUnderRight=left+widgetRect.width>pageXOffset+windowWidth;isUnderLeft&&(left=pageXOffset+this.defaultMargin),isUnderRight&&(left=pageXOffset+windowWidth-widgetRect.width-12);var top=pageYOffset+triggerRect.top+triggerRect.height;this.alignWidgetElement(left,top),arrow.style.left=triggerRect.left+Math.floor(triggerRect.width/2)-left+\"px\";var bottomRange=windowHeight-this.widget.getBoundingClientRect().bottom;if(bottomRange<this.defaultMargin){var newHeight=this.widget.getBoundingClientRect().height+bottomRange-this.defaultMargin;this.widget.style.height=newHeight+\"px\"}}},InboxWidget.prototype.alignWidgetElement=function(left,top){this.widget.style.left=left+\"px\",this.widget.style.top=top+\"px\"},InboxWidget.prototype.getDefaultPosition=function(){var _a=this.trigger.getBoundingClientRect(),left=_a.left,top=_a.top,width=_a.width,height=_a.height;if(!document.documentElement)return\"\";var antiMargins={right:left,bottom:top,left:Math.max(document.documentElement.clientWidth,window.innerWidth||0)-(left+width),top:Math.max(document.documentElement.clientHeight,window.innerHeight||0)-(top+height)},leastMargin=Math.min(left,top,antiMargins.left,antiMargins.top),position=\"bottom\";return Object.keys(antiMargins).forEach(function(key){antiMargins[key]===leastMargin&&(position=key)}),position},InboxWidget.prototype.addListeners=function(){var _this=this;this.trigger.addEventListener(\"click\",this.onTriggerClickHandler),this.pw.push([\"onPutNewMessageToInboxStore\",function(){_this.updateInbox()}]),this.pw.push([\"onUpdateInboxMessages\",function(){_this.updateInbox()}])},InboxWidget.prototype.markVisibleItemsAsRead=function(){var _this=this;if(0!==this.messages.length){var scrollTop=this.list.clientHeight+this.list.scrollTop-50;Object.keys(this.messagesElements).forEach(function(code){if(_this.messagesElements[code]&&!(_this.messagesElements[code].offsetTop>scrollTop)){var message=_this.messages.find(function(message){return message.code===code});!message||message.isRead||_this.readItems.indexOf(code)+1||_this.readItems.push(code)}})}},InboxWidget.prototype.updateReadStatus=function(){this.pw.pwinbox.readMessagesWithCodes(this.readItems).then(this.updateInbox)},InboxWidget.prototype.updateInbox=function(){var _this=this;this.pw.pwinbox.loadMessages().then(function(messages){_this.updateInboxMessages(messages)}),this.pw.pwinbox.unreadMessagesCount().then(function(count){_this.updateCounter(count)})},InboxWidget.prototype.performMessageAction=function(code){var _this=this;this.pw.pwinbox.performActionForMessageWithCode(code).then(function(){_this.updateInbox()})},InboxWidget.prototype.removeMessages=function(messages){var _this=this;messages.forEach(function(code){_this.readItems=_this.readItems.slice(_this.readItems.indexOf(code),1)}),this.pw.pwinbox.deleteMessagesWithCodes(messages).then(function(){_this.updateInbox()})},InboxWidget.prototype.onTriggerClickHandler=function(event){event.stopPropagation(),event.target&&this.toggle()},InboxWidget.prototype.onWidgetClickHandler=function(event){if(event.target){var itemElement=event.target.closest(\".pw-inbox_item\");if(itemElement){var messageCode=itemElement.getAttribute(\"data-pw-inbox-message-id\");messageCode&&(event.target.closest(\".pw-inbox_item-remove\")?this.removeMessages([messageCode]):this.performMessageAction(messageCode))}else this.toggle()}},InboxWidget.prototype.onWindowScrollHandler=function(){this.isFixed&&this.isOpened?this.toggle():this.positionWidget()},InboxWidget}();exports.default=InboxWidget},function(module,exports,__nested_webpack_require_505275__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var helpers_1=__nested_webpack_require_505275__(0);exports.widgetTemplate=function(title){return'\\n<div class=\"pw-inbox__arrow\"></div>\\n<div class=\"pw-inbox_inner\">\\n    <div class=\"pw-inbox_title\">\\n      '+title+'\\n    </div>\\n    <ul class=\"pw-inbox_list\">\\n    \\n    </ul>\\n</div>'},exports.widgetTemplateEmpty=function(emptyInboxIconUrl,emptyInboxTitle,emptyInboxText){return'\\n<div class=\"pw-inbox__arrow\"></div>\\n<div class=\"pw-inbox_list--empty\">\\n    <div class=\"pw-inbox_list-icon\">\\n      <img src=\"'+emptyInboxIconUrl+'\" alt=\"'+emptyInboxTitle+'\">\\n    </div>\\n    <div class=\"pw-inbox_list-title\">\\n      '+emptyInboxTitle+'\\n    </div>\\n    <div class=\"ipw-inbox_list-body\">\\n      '+emptyInboxText+\"\\n    </div>\\n</div>\"},exports.messageTemplate=function(_a){var imageUrl=_a.imageUrl,title=_a.title,message=_a.message,sendDate=_a.sendDate;return'\\n<div class=\"pw-inbox_item-inner\">\\n  <div class=\"pw-inbox_icon\">\\n    <img src=\"'+imageUrl+'\" alt=\"'+(title||message)+'\" class=\"pw-inbox_message-image\">\\n  </div>\\n  <div class=\"pw-inbox_content\">\\n    '+(title?'<div class=\"pw-inbox_item-title\">\\n      '+title+\"\\n    </div>\":null)+'\\n    <div class=\"pw-inbox_item-body\">\\n      '+message+'\\n    </div>\\n    <div class=\"pw-inbox_item-time\">\\n      '+helpers_1.getMessageTime(sendDate)+'\\n    </div>\\n  </div>\\n</div>\\n<span class=\"pw-inbox_item-remove\"></span>'}},function(module,exports,__nested_webpack_require_506751__){var result=__nested_webpack_require_506751__(6);module.exports=\"string\"==typeof result?result:result.toString()},function(module,exports,__nested_webpack_require_506895__){(module.exports=__nested_webpack_require_506895__(7)(void 0)).push([module.i,\".pw-inbox-trigger {\\n  position: relative;\\n  cursor: pointer;\\n}\\n\\n.pw-inbox-trigger:after {\\n  content: attr(data-pw-count);\\n  display: block;\\n  position: absolute;\\n  right: 0;\\n  top: 0;\\n  background: var(--badgeBgColor);\\n  -webkit-border-radius: 8px;\\n          border-radius: 8px;\\n  color: var(--badgeTextColor);\\n  font-size: 10px;\\n  font-weight: normal;\\n  line-height: 16px;\\n  width: 16px;\\n  padding: 0 2px;\\n  -webkit-box-sizing: border-box;\\n          box-sizing: border-box;\\n  text-align: center;\\n}\\n\\n.pw-inbox-trigger.pw-empty:after {\\n  display: none;\\n}\\n\\n.pw-inbox-widget * {\\n  position: static;\\n  -webkit-box-sizing: border-box;\\n          box-sizing: border-box;\\n  font-size: 1em;\\n  outline: none;\\n  font-family: var(--fontFamily);\\n}\\n.pw-inbox-widget {\\n  font-size: 14px;\\n  position: absolute;\\n  top: 0;\\n  left: -1000px;\\n  background: var(--bgColor);\\n  border: solid 1px var(--borderColor);\\n  -webkit-border-radius: var(--borderRadius);\\n          border-radius: var(--borderRadius);\\n  width: var(--widgetWidth);\\n  -webkit-box-shadow: 0 1px 4px 0 rgba(0,0,0,.25);\\n          box-shadow: 0 1px 4px 0 rgba(0,0,0,.25);\\n  z-index: var(--zIndex);\\n  opacity: 0;\\n  -webkit-transition: opacity .6s ease;\\n  -o-transition: opacity .6s ease;\\n  transition: opacity .6s ease;\\n  -webkit-transition-delay: 100ms;\\n       -o-transition-delay: 100ms;\\n          transition-delay: 100ms;\\n}\\n.pw-inbox-widget.pw-open {\\n  opacity: 1;\\n  -webkit-transition-delay: 0ms;\\n       -o-transition-delay: 0ms;\\n          transition-delay: 0ms;\\n}\\n.pw-inbox-widget.pw-inbox-widget--inset {\\n  top: auto;\\n  left: auto;\\n  display: none;\\n}\\n.pw-inbox-widget.pw-inbox-widget--inset.pw-open {\\n  display: block;\\n}\\n.pw-inbox-widget.pw-inbox-widget--inset.pw-bottom {\\n  top: 100%;\\n  left: 50%;\\n  -webkit-transform: translateX(-50%);\\n      -ms-transform: translateX(-50%);\\n          transform: translateX(-50%);\\n}\\n.pw-inbox-widget.pw-inbox-widget--inset.pw-top {\\n  bottom: 100%;\\n  left: 50%;\\n  -webkit-transform: translateX(-50%);\\n      -ms-transform: translateX(-50%);\\n          transform: translateX(-50%);\\n}\\n.pw-inbox-widget.pw-inbox-widget--inset.pw-right {\\n  left: 100%;\\n  top: 50%;\\n  -webkit-transform: translateY(-50%);\\n      -ms-transform: translateY(-50%);\\n          transform: translateY(-50%);\\n}\\n.pw-inbox-widget.pw-inbox-widget--inset.pw-left {\\n  right: 100%;\\n  top: 50%;\\n  -webkit-transform: translateY(-50%);\\n      -ms-transform: translateY(-50%);\\n          transform: translateY(-50%);\\n}\\n.pw-inbox-widget.pw-inbox-widget--empty {\\n  max-height: none;\\n}\\n.pw-inbox-widget .pw-inbox__arrow {\\n  display: block;\\n  width: 0;\\n  height: 0;\\n  border-width: 10px;\\n  border-style: solid;\\n  border-color: transparent;\\n  position: absolute;\\n}\\n.pw-inbox-widget .pw-inbox__arrow:before {\\n  content: \\\"\\\";\\n  display: block;\\n  width: 0;\\n  height: 0;\\n  border-width: 10px;\\n  border-style: solid;\\n  border-color: transparent;\\n  position: absolute;\\n}\\n.pw-inbox-widget.pw-top {\\n  margin-top: -12px;\\n}\\n.pw-inbox-widget.pw-top .pw-inbox__arrow {\\n  border-top-color: var(--arrowBorderColor);\\n  bottom: -21px;\\n  left: 50%;\\n  -webkit-transform: translateX(-50%);\\n      -ms-transform: translateX(-50%);\\n          transform: translateX(-50%);\\n}\\n.pw-inbox-widget.pw-top .pw-inbox__arrow:before {\\n  border-top-color: var(--bgColor);\\n  top: -11px;\\n  left: -10px;\\n}\\n.pw-inbox-widget.pw-bottom {\\n  margin-top: 12px;\\n}\\n.pw-inbox-widget.pw-bottom .pw-inbox__arrow {\\n  border-bottom-color: var(--arrowBorderColor);\\n  top: -21px;\\n  left: 50%;\\n  -webkit-transform: translateX(-50%);\\n      -ms-transform: translateX(-50%);\\n          transform: translateX(-50%);\\n}\\n.pw-inbox-widget.pw-bottom .pw-inbox__arrow:before {\\n  border-bottom-color: var(--bgColor);\\n  bottom: -11px;\\n  left: -10px;\\n}\\n.pw-inbox-widget.pw-left {\\n  margin-left: -12px;\\n}\\n.pw-inbox-widget.pw-left .pw-inbox__arrow {\\n  border-left-color: var(--arrowBorderColor);\\n  right: -21px;\\n  top: 50%;\\n  -webkit-transform: translateY(-50%);\\n      -ms-transform: translateY(-50%);\\n          transform: translateY(-50%);\\n}\\n.pw-inbox-widget.pw-left .pw-inbox__arrow:before {\\n  border-left-color: var(--bgColor);\\n  left: -11px;\\n  top: -10px;\\n}\\n.pw-inbox-widget.pw-right {\\n  margin-left: 12px;\\n}\\n.pw-inbox-widget.pw-right .pw-inbox__arrow {\\n  border-right-color: var(--arrowBorderColor);\\n  left: -21px;\\n  top: 50%;\\n  -webkit-transform: translateY(-50%);\\n      -ms-transform: translateY(-50%);\\n          transform: translateY(-50%);\\n}\\n.pw-inbox-widget.pw-right .pw-inbox__arrow:before {\\n  border-right-color: var(--bgColor);\\n  right: -11px;\\n  top: -10px;\\n}\\n.pw-inbox_inner {\\n  overflow: hidden;\\n  display: -webkit-box;\\n  display: -webkit-flex;\\n  display: -ms-flexbox;\\n  display: flex;\\n  -webkit-box-orient: vertical;\\n  -webkit-box-direction: normal;\\n  -webkit-flex-direction: column;\\n      -ms-flex-direction: column;\\n          flex-direction: column;\\n  height: 100%;\\n}\\n.pw-inbox_title {\\n  color: var(--textColor);\\n  margin: 0;\\n  padding: 28px 32px 12px;\\n  font-size: 24px;\\n  font-weight: 500;\\n  line-height: 1.1;\\n  text-align: left;\\n  -webkit-box-flex: 0;\\n  -webkit-flex: 0 0 66px;\\n      -ms-flex: 0 0 66px;\\n          flex: 0 0 66px;\\n}\\n.pw-inbox_list {\\n  overflow-x: hidden;\\n  overflow-y: auto;\\n  min-width: 200px;\\n  max-height: 300px;\\n  padding: 0;\\n  margin: 0;\\n  list-style: none;\\n  position: relative;\\n  -webkit-box-flex: 1;\\n  -webkit-flex: 1 1 auto;\\n      -ms-flex: 1 1 auto;\\n          flex: 1 1 auto;\\n}\\n\\n.pw-inbox_item {\\n  position: relative;\\n  padding: 8px 32px;\\n  margin: 0;\\n  text-align: left;\\n}\\n.pw-inbox_item-inner {\\n  display: -webkit-box;\\n  display: -webkit-flex;\\n  display: -ms-flexbox;\\n  display: flex;\\n  cursor: pointer;\\n}\\n.pw-inbox_icon {\\n  -webkit-box-flex: 0;\\n  -webkit-flex: 0 0 40px;\\n      -ms-flex: 0 0 40px;\\n          flex: 0 0 40px;\\n}\\n.pw-inbox_message-image {\\n  width: 28px;\\n}\\n.pw-inbox_content {\\n  -webkit-box-flex: 0;\\n  -webkit-flex: 0 1 100%;\\n      -ms-flex: 0 1 100%;\\n          flex: 0 1 100%;\\n}\\n.pw-inbox_item-title {\\n  color: var(--messageTitleColor);\\n  font-size: 14px;\\n  line-height: 20px;\\n  margin-bottom: 4px;\\n}\\n.pw-inbox_item-body {\\n  color: var(--textColor);\\n  font-size: 14px;\\n  line-height: 20px;\\n  margin-bottom: 4px;\\n}\\n.pw-inbox_item-time {\\n  color: var(--timeTextColor);\\n  font-size: 12px;\\n  line-height: 17px;\\n}\\n.pw-inbox_item-remove {\\n  position: absolute;\\n  z-index: 2;\\n  top: 8px;\\n  right: 8px;\\n  display: none;\\n  width: 10px;\\n  height: 10px;\\n  background: transparent url('https://cdn.pushwoosh.com/webpush/img/iconClose.svg') 50% no-repeat;\\n  cursor: pointer;\\n}\\n.pw-inbox_item:hover .pw-inbox_item-remove {\\n  display: block;\\n}\\n\\n.pw-inbox_item.pw-new .pw-inbox_item-title {\\n  color: var(--textColor);\\n  font-weight: 700;\\n}\\n\\n.pw-inbox_item.pw-new .pw-inbox_item-body {\\n  font-weight: 700;\\n}\\n\\n.pw-inbox_list--empty {\\n  padding: 50px 16px;\\n  text-align: center;\\n  max-height: 100%;\\n  overflow: auto;\\n}\\n\\n.pw-inbox_list--empty .pw-inbox_list-icon {\\n  text-align: center;\\n  margin-bottom: 30px;\\n}\\n.pw-inbox_list--empty .pw-inbox_list-icon img {\\n  max-width: 100%;\\n}\\n\\n.pw-inbox_list--empty .pw-inbox_list-title {\\n  font-size: 28px;\\n  line-height: 36px;\\n  color: var(--emptyInboxTitleColor);\\n  margin-bottom: 20px;\\n}\\n\\n.pw-inbox_list--empty .ipw-inbox_list-body {\\n  font-size: 14px;\\n  line-height: 18px;\\n  color: var(--emptyInboxTextColor);\\n}\\n\",\"\"])},function(module,exports){module.exports=function(useSourceMap){var list=[];return list.toString=function(){return this.map(function(item){var content=function(item,useSourceMap){var content=item[1]||\"\",cssMapping=item[3];if(!cssMapping)return content;if(useSourceMap&&\"function\"==typeof btoa){var sourceMapping=function(sourceMap){return\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,\"+btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))))+\" */\"}(cssMapping),sourceURLs=cssMapping.sources.map(function(source){return\"/*# sourceURL=\"+cssMapping.sourceRoot+source+\" */\"});return[content].concat(sourceURLs).concat([sourceMapping]).join(\"\\n\")}return[content].join(\"\\n\")}(item,useSourceMap);return item[2]?\"@media \"+item[2]+\"{\"+content+\"}\":content}).join(\"\")},list.i=function(modules,mediaQuery){\"string\"==typeof modules&&(modules=[[null,modules,\"\"]]);for(var alreadyImportedModules={},i=0;i<this.length;i++){var id=this[i][0];\"number\"==typeof id&&(alreadyImportedModules[id]=!0)}for(i=0;i<modules.length;i++){var item=modules[i];\"number\"==typeof item[0]&&alreadyImportedModules[item[0]]||(mediaQuery&&!item[2]?item[2]=mediaQuery:mediaQuery&&(item[2]=\"(\"+item[2]+\") and (\"+mediaQuery+\")\"),list.push(item))}},list}}])},function(module,exports,__nested_webpack_require_515834__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var web_push_subscribe_popup_1=__nested_webpack_require_515834__(158);document.addEventListener(\"pushwoosh.initialized\",function(ev){if(ev.detail.pw.subscribePopupConfig&&ev.detail.pw.subscribePopupConfig.enable){var popup_1=new web_push_subscribe_popup_1.PWSubscribePopup(ev.detail.pw);popup_1.initPopup().then(function(){ev.detail.pw.subscribePopup=popup_1})}})},function(module,exports,__webpack_require__){module.exports=function(modules){var installedModules={};function __nested_webpack_require_516376__(moduleId){if(installedModules[moduleId])return installedModules[moduleId].exports;var module=installedModules[moduleId]={i:moduleId,l:!1,exports:{}};return modules[moduleId].call(module.exports,module,module.exports,__nested_webpack_require_516376__),module.l=!0,module.exports}return __nested_webpack_require_516376__.m=modules,__nested_webpack_require_516376__.c=installedModules,__nested_webpack_require_516376__.d=function(exports,name,getter){__nested_webpack_require_516376__.o(exports,name)||Object.defineProperty(exports,name,{configurable:!1,enumerable:!0,get:getter})},__nested_webpack_require_516376__.r=function(exports){Object.defineProperty(exports,\"__esModule\",{value:!0})},__nested_webpack_require_516376__.n=function(module){var getter=module&&module.__esModule?function(){return module.default}:function(){return module};return __nested_webpack_require_516376__.d(getter,\"a\",getter),getter},__nested_webpack_require_516376__.o=function(object,property){return Object.prototype.hasOwnProperty.call(object,property)},__nested_webpack_require_516376__.p=\"\",__nested_webpack_require_516376__(__nested_webpack_require_516376__.s=1)}([function(module,exports,__webpack_require__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.DEFAULT_CONFIG={text:\"Dont miss out on our news and updates! Enable push notifications\",askLaterButtonText:\"Not now\",confirmSubscriptionButtonText:\"Subscribe\",delay:60,retryOffset:604800,overlay:!1,position:\"top\",bgColor:\"#fff\",borderColor:\"transparent\",boxShadow:\"0 3px 6px rgba(0,0,0,0.16), 0 3px 6px rgba(0,0,0,0.23)\",textColor:\"#000\",textSize:\"inherit\",fontFamily:\"inherit\",subscribeBtnBgColor:\"#4285f4\",subscribeBtnTextColor:\"#fff\",askLaterBtnBgColor:\"transparent\",askLaterBtnTextColor:\"#000\",theme:\"material\",viewport:\"html\"},exports.COLOR_TEST_REGEXP=/^(#([\\da-f]{3}){1,2}$|(rgb|hsl)a\\((\\d{1,3}%?,\\s?){3}(1|0?\\.\\d+)\\)$|(rgb|hsl)\\(\\d{1,3}%?(,\\s?\\d{1,3}%?){2}\\)$)/,exports.PERMISSION_DENIED=\"denied\",exports.PERMISSION_GRANTED=\"granted\",exports.CONFIG_STYLES=[{name:\"bgColor\",type:\"color\"},{name:\"borderColor\",type:\"color\"},{name:\"boxShadow\",type:\"string\"},{name:\"textColor\",type:\"color\"},{name:\"textSize\",type:\"string\"},{name:\"fontFamily\",type:\"string\"},{name:\"subscribeBtnBgColor\",type:\"color\"},{name:\"subscribeBtnTextColor\",type:\"color\"},{name:\"askLaterBtnBgColor\",type:\"color\"},{name:\"askLaterBtnTextColor\",type:\"color\"}]},function(module,exports,__nested_webpack_require_518662__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var SubscribePopup_1=__nested_webpack_require_518662__(2);exports.PWSubscribePopup=SubscribePopup_1.default},function(module,exports,__nested_webpack_require_518870__){\"use strict\";var __assign=this&&this.__assign||Object.assign||function(t){for(var s,i=1,n=arguments.length;i<n;i++)for(var p in s=arguments[i])Object.prototype.hasOwnProperty.call(s,p)&&(t[p]=s[p]);return t},__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){return new(P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}function rejected(value){try{step(generator.throw(value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):new P(function(resolve){resolve(result.value)}).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})},__generator=this&&this.__generator||function(thisArg,body){var f,y,t,g,_={label:0,sent:function(){if(1&t[0])throw t[1];return t[1]},trys:[],ops:[]};return g={next:verb(0),throw:verb(1),return:verb(2)},\"function\"==typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g;function verb(n){return function(v){return function(op){if(f)throw new TypeError(\"Generator is already executing.\");for(;_;)try{if(f=1,y&&(t=2&op[0]?y.return:op[0]?y.throw||((t=y.return)&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;switch(y=0,t&&(op=[2&op[0],t.value]),op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++,y=op[1],op=[0];continue;case 7:op=_.ops.pop(),_.trys.pop();continue;default:if(!(t=(t=_.trys).length>0&&t[t.length-1])&&(6===op[0]||2===op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3])){_.label=op[1];break}if(6===op[0]&&_.label<t[1]){_.label=t[1],t=op;break}if(t&&_.label<t[2]){_.label=t[2],_.ops.push(op);break}t[2]&&_.ops.pop(),_.trys.pop();continue}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(5&op[0])throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}([n,v])}}};Object.defineProperty(exports,\"__esModule\",{value:!0});var constants_1=__nested_webpack_require_518870__(0),popupTemplates_1=__nested_webpack_require_518870__(3),constants_2=__nested_webpack_require_518870__(0),helpers_1=__nested_webpack_require_518870__(4),SubscribePopup=function(){function SubscribePopup(pw){this.pw=pw,this.config=__assign({},constants_1.DEFAULT_CONFIG,this.pw.subscribePopupConfig),this.onAskLaterClick=this.onAskLaterClick.bind(this),this.onSubscribeClick=this.onSubscribeClick.bind(this)}return SubscribePopup.prototype.initPopup=function(){return __awaiter(this,void 0,void 0,function(){var isSubscribed,isManualUnsubscribed,permission,lastPopupOpen,lastPopupOpenTime,now,_this=this;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.pw.isSubscribed()];case 1:return isSubscribed=_a.sent(),[4,this.pw.data.getStatusManualUnsubscribed()];case 2:return isManualUnsubscribed=_a.sent(),isSubscribed||isManualUnsubscribed?[2]:[4,this.pw.driver.getPermission()];case 3:return(permission=_a.sent())===constants_2.PERMISSION_GRANTED||permission===constants_2.PERMISSION_DENIED?[2]:(this.renderPopup(),this.appendStyles(),lastPopupOpen=localStorage.getItem(\"LAST_OPEN_SUBSCRIPTION_POPUP\"),lastPopupOpenTime=lastPopupOpen?parseInt(lastPopupOpen):0,now=(new Date).getTime(),lastPopupOpenTime+1e3*this.config.retryOffset<now&&setTimeout(function(){_this.toggle(!0)},1e3*this.config.delay),[2])}})})},SubscribePopup.prototype.toggle=function(isShown){(\"boolean\"==typeof isShown?isShown:!this.isShown)?this.showPopup():this.closePopup()},SubscribePopup.prototype.showPopup=function(){this.isShown=!0,this.popup.classList.add(\"pw-show\"),document.body.classList.add(\"pw-popup-opened\");var event=new CustomEvent(\"showPopup\",{bubbles:!1,cancelable:!1,detail:{popup:this.popup}});if(this.popup.dispatchEvent(event),!(Math.max(document.documentElement.clientWidth,window.innerWidth||0)<541)){var _a=this.config,theme=_a.theme,viewport=_a.viewport,position=_a.position;if(\"topbar\"===theme&&\"top\"===position){var viewportElement=document.querySelector(viewport)||document.createElement(\"div\"),currentMarginTop=window.getComputedStyle(viewportElement).marginTop||\"0\";viewportElement.style.transition=\"margin-top .3s ease-out\",viewportElement.style.marginTop=parseInt(currentMarginTop)+this.popup.getBoundingClientRect().height+\"px\"}}},SubscribePopup.prototype.closePopup=function(){this.isShown=!1,this.popup.classList.remove(\"pw-show\"),document.body.classList.remove(\"pw-popup-opened\");var event=new CustomEvent(\"hidePopup\",{bubbles:!1,cancelable:!1,detail:{popup:this.popup}});this.popup.dispatchEvent(event);var now=(new Date).getTime().toString();if(localStorage.setItem(\"LAST_OPEN_SUBSCRIPTION_POPUP\",now),!(Math.max(document.documentElement.clientWidth,window.innerWidth||0)<541)){var _a=this.config,theme=_a.theme,viewport=_a.viewport,position=_a.position;if(\"topbar\"===theme&&\"top\"===position){var viewportElement=document.querySelector(viewport)||document.createElement(\"div\"),currentMarginTop=window.getComputedStyle(viewportElement).marginTop||\"0\";viewportElement.style.marginTop=parseInt(currentMarginTop)-this.popup.getBoundingClientRect().height+\"px\"}}},SubscribePopup.prototype.renderPopup=function(){this.popup=document.createElement(\"div\"),this.popup.id=\"pwSubscribePopup\";var _a=this.config,text=_a.text,askLaterButtonText=_a.askLaterButtonText,confirmSubscriptionButtonText=_a.confirmSubscriptionButtonText,iconUrl=_a.iconUrl,position=_a.position,overlay=_a.overlay,theme=_a.theme;this.popup.className=\"pw-subscribe-popup pw-position-\"+position+\" pw-subscribe-popup-\"+theme,this.popup.classList.toggle(\"pw-subscribe-popup__overlay\",overlay),this.popup.innerHTML=popupTemplates_1.innerTemplate({text:text,askLaterButtonText:askLaterButtonText,confirmSubscriptionButtonText:confirmSubscriptionButtonText,iconUrl:iconUrl}),document.body.appendChild(this.popup),this.addListeners()},SubscribePopup.prototype.appendStyles=function(){var styles=__nested_webpack_require_518870__(5),style=document.createElement(\"style\");style.innerHTML=this.configureStyle(styles),document.body.appendChild(style)},SubscribePopup.prototype.getStyleFormatter=function(style){switch(style.type){case\"size\":return(this.config[style.name]||0)+\"px\";case\"number\":return parseFloat(this.config[style.name].toString()).toString();case\"string\":return this.config[style.name].toString();case\"color\":return helpers_1.getValidColor(this.config[style.name].toString());default:return\"none\"}},SubscribePopup.prototype.configureStyle=function(styles){var _this=this,resultStyles=styles.toString();return constants_1.CONFIG_STYLES.forEach(function(style){var template=new RegExp(\"var\\\\(--\"+style.name+\"\\\\)\",\"ig\"),result=_this.getStyleFormatter(style);resultStyles=resultStyles.replace(template,result)}),resultStyles},SubscribePopup.prototype.addListeners=function(){var askLaterButton=this.popup.querySelector('button[name=\"pwAskLater\"]')||document.createElement(\"button\"),subscribeButton=this.popup.querySelector('button[name=\"pwSubscribe\"]')||document.createElement(\"button\");askLaterButton.addEventListener(\"click\",this.onAskLaterClick),subscribeButton.addEventListener(\"click\",this.onSubscribeClick)},SubscribePopup.prototype.onAskLaterClick=function(){this.toggle(!1)},SubscribePopup.prototype.onSubscribeClick=function(){this.pw.subscribe(),this.toggle(!1)},SubscribePopup}();exports.default=SubscribePopup},function(module,exports,__webpack_require__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0}),exports.innerTemplate=function(_a){var iconUrl=_a.iconUrl,text=_a.text,askLaterButtonText=_a.askLaterButtonText,confirmSubscriptionButtonText=_a.confirmSubscriptionButtonText;return'<div class=\"pw-subscription-popup-inner\">\\n    <div class=\"pw-subscription-popup-content\">\\n      '+(iconUrl?'<div class=\"pw-subscription-popup-icon\">\\n        <img src=\"'+iconUrl+'\">\\n      </div>':\"\")+'\\n      <div class=\"pw-subscription-popup-text\">\\n        '+text+'\\n      </div>\\n    </div>\\n    <div class=\"pw-subscription-popup-controls\">\\n      <button name=\"pwSubscribe\" class=\"pw-subscribe-popup-button pw-subscribe-popup-button-active\">'+confirmSubscriptionButtonText+'</button>\\n      <button name=\"pwAskLater\" class=\"pw-subscribe-popup-button\">'+askLaterButtonText+\"</button>\\n    </div>\\n  </div>\"}},function(module,exports,__nested_webpack_require_527016__){\"use strict\";Object.defineProperty(exports,\"__esModule\",{value:!0});var constants_1=__nested_webpack_require_527016__(0);exports.getValidColor=function(color){return\"transparent\"===color?color:constants_1.COLOR_TEST_REGEXP.test(color)?color:\"#333\"},exports.getGlobal=function(){return Function(\"return this\")()}},function(module,exports,__nested_webpack_require_527360__){var result=__nested_webpack_require_527360__(6);module.exports=\"string\"==typeof result?result:result.toString()},function(module,exports,__nested_webpack_require_527504__){(module.exports=__nested_webpack_require_527504__(7)(void 0)).push([module.i,\".pw-subscribe-popup {\\n  position: fixed;\\n  left: 50%;\\n  -webkit-transform: translateX(-50%);\\n      -ms-transform: translateX(-50%);\\n          transform: translateX(-50%);\\n  -webkit-box-pack: center;\\n      -ms-flex-pack: center;\\n          justify-content: center;\\n  z-index: 1000000;\\n  display: -webkit-box;\\n  display: -ms-flexbox;\\n  display: flex;\\n  -webkit-transition: all .4s ease-out;\\n  -o-transition: all .4s ease-out;\\n  transition: all .4s ease-out;\\n}\\n\\n.pw-subscribe-popup.pw-position-top {\\n  top: calc(-100% - 24px);\\n}\\n.pw-subscribe-popup.pw-position-top.pw-show {\\n  top: 0;\\n}\\n\\n.pw-subscribe-popup.pw-position-bottom {\\n  bottom: calc(-100% - 24px);\\n}\\n.pw-subscribe-popup.pw-position-bottom.pw-show {\\n  bottom: 0;\\n}\\n\\n.pw-subscribe-popup.pw-position-center {\\n  display: none;\\n}\\n.pw-subscribe-popup.pw-position-center.pw-show {\\n  top: 50%;\\n  display: -webkit-box;\\n  display: -ms-flexbox;\\n  display: flex;\\n}\\n\\n.pw-subscribe-popup__overlay {\\n  position: fixed;\\n  left: 0;\\n  right: 0;\\n  -webkit-transform: none;\\n      -ms-transform: none;\\n          transform: none;\\n  height: 100%;\\n  -webkit-box-pack: center;\\n      -ms-flex-pack: center;\\n          justify-content: center;\\n  background: rgba(0,0,0,.4);\\n  z-index: 1000000;\\n  display: none;\\n  top: 0;\\n}\\n\\n.pw-subscribe-popup__overlay.pw-position-top {\\n  -webkit-box-align: start;\\n      -ms-flex-align: start;\\n          align-items: flex-start;\\n}\\n\\n.pw-subscribe-popup__overlay.pw-position-bottom {\\n  -webkit-box-align: end;\\n      -ms-flex-align: end;\\n          align-items: flex-end;\\n}\\n\\n.pw-subscribe-popup__overlay.pw-position-center {\\n  -webkit-box-align: center;\\n      -ms-flex-align: center;\\n          align-items: center;\\n}\\n\\n.pw-subscription-popup-inner {\\n  max-width: 400px;\\n  font-size: var(--textSize);\\n  color: var(--textColor);\\n  font-family: var(--fontFamily);\\n  border-style: solid;\\n  border-width: 1px;\\n  border-color: var(--borderColor);\\n  background: var(--bgColor);\\n  -webkit-box-shadow: var(--boxShadow);\\n          box-shadow: var(--boxShadow);\\n}\\n\\n.pw-subscription-popup-content {\\n  padding: 16px 16px 4px;\\n  display: -webkit-box;\\n  display: -ms-flexbox;\\n  display: flex;\\n  -webkit-box-pack: stretch;\\n      -ms-flex-pack: stretch;\\n          justify-content: stretch;\\n}\\n\\n.pw-subscription-popup-icon {\\n  -webkit-box-flex: 0;\\n      -ms-flex: 0 0 50px;\\n          flex: 0 0 50px;\\n  margin-right: 12px;\\n  padding-top: 4px;\\n}\\n\\n.pw-subscription-popup-icon img {\\n  max-width: 60px;\\n  max-height: 60px;\\n}\\n\\n.pw-subscription-popup-text {\\n  -webkit-box-flex: 1;\\n      -ms-flex: 1 1 300px;\\n          flex: 1 1 300px;\\n}\\n\\n.pw-subscription-popup-controls {\\n  display: -webkit-box;\\n  display: -ms-flexbox;\\n  display: flex;\\n  -ms-flex-wrap: wrap;\\n      flex-wrap: wrap;\\n  -webkit-box-pack: center;\\n      -ms-flex-pack: center;\\n          justify-content: center;\\n  padding: 8px 16px 16px;\\n}\\n\\nbutton.pw-subscribe-popup-button {\\n  border: solid 1px transparent;\\n  -webkit-border-radius: 2px;\\n          border-radius: 2px;\\n  display: inline-block;\\n  height: 36px;\\n  line-height: 36px;\\n  padding: 0 16px;\\n  text-transform: uppercase;\\n  vertical-align: middle;\\n  -webkit-tap-highlight-color: transparent;\\n  font-size: 14px;\\n  outline: 0;\\n  text-decoration: none;\\n  color: var(--askLaterBtnTextColor);\\n  text-align: center;\\n  letter-spacing: .5px;\\n  cursor: pointer;\\n  background: var(--askLaterBtnBgColor);\\n  margin: 4px 8px;\\n}\\nbutton.pw-subscribe-popup-button:hover {\\n  background: rgba(0,0,0,.04);\\n}\\nbutton.pw-subscribe-popup-button:active {\\n  background: rgba(0,0,0,.12);\\n}\\n\\nbutton.pw-subscribe-popup-button.pw-subscribe-popup-button-active {\\n  color: var(--subscribeBtnTextColor);\\n  background: var(--subscribeBtnBgColor);\\n  -webkit-box-shadow: 0 2px 2px 0 rgba(0,0,0,0.14),\\n  0 3px 1px -2px rgba(0,0,0,0.12),\\n  0 1px 5px 0 rgba(0,0,0,0.2);\\n          box-shadow: 0 2px 2px 0 rgba(0,0,0,0.14),\\n  0 3px 1px -2px rgba(0,0,0,0.12),\\n  0 1px 5px 0 rgba(0,0,0,0.2);\\n}\\nbutton.pw-subscribe-popup-button.pw-subscribe-popup-button-active:hover {\\n  -webkit-box-shadow: 0 3px 3px 0 rgba(0,0,0,0.14),\\n  0 1px 7px 0 rgba(0,0,0,0.12),\\n  0 3px 1px -1px rgba(0,0,0,0.2);\\n          box-shadow: 0 3px 3px 0 rgba(0,0,0,0.14),\\n  0 1px 7px 0 rgba(0,0,0,0.12),\\n  0 3px 1px -1px rgba(0,0,0,0.2);\\n}\\nbutton.pw-subscribe-popup-button.pw-subscribe-popup-button-active:active {\\n  -webkit-box-shadow: 0 2px 2px 0 rgba(0,0,0,0.14),\\n  0 3px 1px -2px rgba(0,0,0,0.12),\\n  0 1px 5px 0 rgba(0,0,0,0.2);\\n          box-shadow: 0 2px 2px 0 rgba(0,0,0,0.14),\\n  0 3px 1px -2px rgba(0,0,0,0.12),\\n  0 1px 5px 0 rgba(0,0,0,0.2);\\n}\\n\\n@media screen and (min-width: 541px) {\\n\\n  .pw-subscribe-popup-topbar {\\n    width: 100%;\\n  }\\n\\n  .pw-subscribe-popup-topbar .pw-subscription-popup-inner {\\n    max-width: 100%;\\n    width: 100%;\\n    display: -webkit-box;\\n    display: -ms-flexbox;\\n    display: flex;\\n    -webkit-box-orient: horizontal;\\n    -webkit-box-direction: normal;\\n        -ms-flex-direction: row;\\n            flex-direction: row;\\n    padding: 2px 40px;\\n    -webkit-box-pack: justify;\\n        -ms-flex-pack: justify;\\n            justify-content: space-between;\\n    -webkit-box-align: center;\\n        -ms-flex-align: center;\\n            align-items: center;\\n    -ms-flex-wrap: nowrap;\\n        flex-wrap: nowrap;\\n  }\\n\\n  .pw-subscribe-popup-topbar .pw-subscription-popup-content {\\n    padding: 0;\\n    -webkit-box-pack: start;\\n        -ms-flex-pack: start;\\n            justify-content: flex-start;\\n    -webkit-box-align: center;\\n        -ms-flex-align: center;\\n            align-items: center;\\n    -webkit-box-flex: 1;\\n        -ms-flex: 1 1 60%;\\n            flex: 1 1 60%;\\n  }\\n\\n  .pw-subscribe-popup-topbar .pw-subscription-popup-icon img {\\n    max-width: 28px;\\n    max-height: 28px;\\n  }\\n\\n  .pw-subscribe-popup-topbar button.pw-subscribe-popup-button {\\n    height: 32px;\\n    line-height: 32px;\\n  }\\n\\n  .pw-subscribe-popup-topbar .pw-subscription-popup-controls {\\n    padding: 0 0 0 16px;\\n    -webkit-box-align: center;\\n        -ms-flex-align: center;\\n            align-items: center;\\n  }\\n}\\n@media screen and (max-width: 540px) {\\n  .pw-subscribe-popup,\\n  .pw-subscribe-popup.pw-position-top,\\n  .pw-subscribe-popup.pw-position-center,\\n  .pw-subscribe-popup.pw-position-bottom {\\n    top: auto;\\n    bottom: -110%;\\n    left: 0;\\n    right: 0;\\n    -webkit-transform: none;\\n        -ms-transform: none;\\n            transform: none;\\n    display: -webkit-box;\\n    display: -ms-flexbox;\\n    display: flex;\\n    -webkit-transition: bottom .4s ease-out;\\n    -o-transition: bottom .4s ease-out;\\n    transition: bottom .4s ease-out;\\n    -webkit-box-align: end;\\n        -ms-flex-align: end;\\n            align-items: flex-end;\\n  }\\n\\n  .pw-subscribe-popup.pw-subscribe-popup__overlay {\\n    height: 100%;\\n    -webkit-box-align: end;\\n        -ms-flex-align: end;\\n            align-items: flex-end;\\n  }\\n\\n  .pw-subscribe-popup.pw-show {\\n    bottom: 0;\\n  }\\n\\n  .pw-subscribe-popup__overlay .pw-subscription-popup-inner {\\n    -webkit-box-align: end;\\n        -ms-flex-align: end;\\n            align-items: flex-end;\\n    -webkit-box-pack: stretch;\\n        -ms-flex-pack: stretch;\\n            justify-content: stretch;\\n  }\\n\\n  .pw-subscription-popup-inner {\\n    max-width: 100%;\\n    width: 100%;\\n  }\\n}\\n\",\"\"])},function(module,exports){module.exports=function(useSourceMap){var list=[];return list.toString=function(){return this.map(function(item){var content=function(item,useSourceMap){var content=item[1]||\"\",cssMapping=item[3];if(!cssMapping)return content;if(useSourceMap&&\"function\"==typeof btoa){var sourceMapping=function(sourceMap){return\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,\"+btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap))))+\" */\"}(cssMapping),sourceURLs=cssMapping.sources.map(function(source){return\"/*# sourceURL=\"+cssMapping.sourceRoot+source+\" */\"});return[content].concat(sourceURLs).concat([sourceMapping]).join(\"\\n\")}return[content].join(\"\\n\")}(item,useSourceMap);return item[2]?\"@media \"+item[2]+\"{\"+content+\"}\":content}).join(\"\")},list.i=function(modules,mediaQuery){\"string\"==typeof modules&&(modules=[[null,modules,\"\"]]);for(var alreadyImportedModules={},i=0;i<this.length;i++){var id=this[i][0];\"number\"==typeof id&&(alreadyImportedModules[id]=!0)}for(i=0;i<modules.length;i++){var item=modules[i];\"number\"==typeof item[0]&&alreadyImportedModules[item[0]]||(mediaQuery&&!item[2]?item[2]=mediaQuery:mediaQuery&&(item[2]=\"(\"+item[2]+\") and (\"+mediaQuery+\")\"),list.push(item))}},list}}])}])});//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiLi4vLi4vLi4vbm9kZV9tb2R1bGVzL3dlYi1wdXNoLW5vdGlmaWNhdGlvbnMvbGliL2luZGV4LmpzLmpzIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vLy4uLy4uLy4uL25vZGVfbW9kdWxlcy93ZWItcHVzaC1ub3RpZmljYXRpb25zL2xpYi9pbmRleC5qcz9hMzI2Il0sInNvdXJjZXNDb250ZW50IjpbIiFmdW5jdGlvbihyb290LGZhY3Rvcnkpe2lmKFwib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzJiZcIm9iamVjdFwiPT10eXBlb2YgbW9kdWxlKW1vZHVsZS5leHBvcnRzPWZhY3RvcnkoKTtlbHNlIGlmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGRlZmluZSYmZGVmaW5lLmFtZClkZWZpbmUoW10sZmFjdG9yeSk7ZWxzZXt2YXIgYT1mYWN0b3J5KCk7Zm9yKHZhciBpIGluIGEpKFwib2JqZWN0XCI9PXR5cGVvZiBleHBvcnRzP2V4cG9ydHM6cm9vdClbaV09YVtpXX19KHRoaXMsZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24obW9kdWxlcyl7dmFyIGluc3RhbGxlZE1vZHVsZXM9e307ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCl7aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pcmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7dmFyIG1vZHVsZT1pbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXT17aTptb2R1bGVJZCxsOiExLGV4cG9ydHM6e319O3JldHVybiBtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLG1vZHVsZSxtb2R1bGUuZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKSxtb2R1bGUubD0hMCxtb2R1bGUuZXhwb3J0c31yZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXy5tPW1vZHVsZXMsX193ZWJwYWNrX3JlcXVpcmVfXy5jPWluc3RhbGxlZE1vZHVsZXMsX193ZWJwYWNrX3JlcXVpcmVfXy5kPWZ1bmN0aW9uKGV4cG9ydHMsbmFtZSxnZXR0ZXIpe19fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLG5hbWUpfHxPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxuYW1lLHtjb25maWd1cmFibGU6ITEsZW51bWVyYWJsZTohMCxnZXQ6Z2V0dGVyfSl9LF9fd2VicGFja19yZXF1aXJlX18ucj1mdW5jdGlvbihleHBvcnRzKXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KX0sX193ZWJwYWNrX3JlcXVpcmVfXy5uPWZ1bmN0aW9uKG1vZHVsZSl7dmFyIGdldHRlcj1tb2R1bGUmJm1vZHVsZS5fX2VzTW9kdWxlP2Z1bmN0aW9uKCl7cmV0dXJuIG1vZHVsZS5kZWZhdWx0fTpmdW5jdGlvbigpe3JldHVybiBtb2R1bGV9O3JldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLFwiYVwiLGdldHRlciksZ2V0dGVyfSxfX3dlYnBhY2tfcmVxdWlyZV9fLm89ZnVuY3Rpb24ob2JqZWN0LHByb3BlcnR5KXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCxwcm9wZXJ0eSl9LF9fd2VicGFja19yZXF1aXJlX18ucD1cIlwiLF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zPTc4KX0oW2Z1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO3ZhciBzdXBwb3J0PV9fd2VicGFja19yZXF1aXJlX18oNyksYmFzZTY0PV9fd2VicGFja19yZXF1aXJlX18oNTkpLG5vZGVqc1V0aWxzPV9fd2VicGFja19yZXF1aXJlX18oMzUpLHNldEltbWVkaWF0ZT1fX3dlYnBhY2tfcmVxdWlyZV9fKDEwMiksZXh0ZXJuYWw9X193ZWJwYWNrX3JlcXVpcmVfXygyOSk7ZnVuY3Rpb24gaWRlbnRpdHkoaW5wdXQpe3JldHVybiBpbnB1dH1mdW5jdGlvbiBzdHJpbmdUb0FycmF5TGlrZShzdHIsYXJyYXkpe2Zvcih2YXIgaT0wO2k8c3RyLmxlbmd0aDsrK2kpYXJyYXlbaV09MjU1JnN0ci5jaGFyQ29kZUF0KGkpO3JldHVybiBhcnJheX1leHBvcnRzLm5ld0Jsb2I9ZnVuY3Rpb24ocGFydCx0eXBlKXtleHBvcnRzLmNoZWNrU3VwcG9ydChcImJsb2JcIik7dHJ5e3JldHVybiBuZXcgQmxvYihbcGFydF0se3R5cGU6dHlwZX0pfWNhdGNoKGUpe3RyeXt2YXIgYnVpbGRlcj1uZXcoc2VsZi5CbG9iQnVpbGRlcnx8c2VsZi5XZWJLaXRCbG9iQnVpbGRlcnx8c2VsZi5Nb3pCbG9iQnVpbGRlcnx8c2VsZi5NU0Jsb2JCdWlsZGVyKTtyZXR1cm4gYnVpbGRlci5hcHBlbmQocGFydCksYnVpbGRlci5nZXRCbG9iKHR5cGUpfWNhdGNoKGUpe3Rocm93IG5ldyBFcnJvcihcIkJ1ZyA6IGNhbid0IGNvbnN0cnVjdCB0aGUgQmxvYi5cIil9fX07dmFyIGFycmF5VG9TdHJpbmdIZWxwZXI9e3N0cmluZ2lmeUJ5Q2h1bms6ZnVuY3Rpb24oYXJyYXksdHlwZSxjaHVuayl7dmFyIHJlc3VsdD1bXSxrPTAsbGVuPWFycmF5Lmxlbmd0aDtpZihsZW48PWNodW5rKXJldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsYXJyYXkpO2Zvcig7azxsZW47KVwiYXJyYXlcIj09PXR5cGV8fFwibm9kZWJ1ZmZlclwiPT09dHlwZT9yZXN1bHQucHVzaChTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsYXJyYXkuc2xpY2UoayxNYXRoLm1pbihrK2NodW5rLGxlbikpKSk6cmVzdWx0LnB1c2goU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLGFycmF5LnN1YmFycmF5KGssTWF0aC5taW4oaytjaHVuayxsZW4pKSkpLGsrPWNodW5rO3JldHVybiByZXN1bHQuam9pbihcIlwiKX0sc3RyaW5naWZ5QnlDaGFyOmZ1bmN0aW9uKGFycmF5KXtmb3IodmFyIHJlc3VsdFN0cj1cIlwiLGk9MDtpPGFycmF5Lmxlbmd0aDtpKyspcmVzdWx0U3RyKz1TdHJpbmcuZnJvbUNoYXJDb2RlKGFycmF5W2ldKTtyZXR1cm4gcmVzdWx0U3RyfSxhcHBseUNhbkJlVXNlZDp7dWludDhhcnJheTpmdW5jdGlvbigpe3RyeXtyZXR1cm4gc3VwcG9ydC51aW50OGFycmF5JiYxPT09U3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLG5ldyBVaW50OEFycmF5KDEpKS5sZW5ndGh9Y2F0Y2goZSl7cmV0dXJuITF9fSgpLG5vZGVidWZmZXI6ZnVuY3Rpb24oKXt0cnl7cmV0dXJuIHN1cHBvcnQubm9kZWJ1ZmZlciYmMT09PVN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCxub2RlanNVdGlscy5hbGxvY0J1ZmZlcigxKSkubGVuZ3RofWNhdGNoKGUpe3JldHVybiExfX0oKX19O2Z1bmN0aW9uIGFycmF5TGlrZVRvU3RyaW5nKGFycmF5KXt2YXIgY2h1bms9NjU1MzYsdHlwZT1leHBvcnRzLmdldFR5cGVPZihhcnJheSksY2FuVXNlQXBwbHk9ITA7aWYoXCJ1aW50OGFycmF5XCI9PT10eXBlP2NhblVzZUFwcGx5PWFycmF5VG9TdHJpbmdIZWxwZXIuYXBwbHlDYW5CZVVzZWQudWludDhhcnJheTpcIm5vZGVidWZmZXJcIj09PXR5cGUmJihjYW5Vc2VBcHBseT1hcnJheVRvU3RyaW5nSGVscGVyLmFwcGx5Q2FuQmVVc2VkLm5vZGVidWZmZXIpLGNhblVzZUFwcGx5KWZvcig7Y2h1bms+MTspdHJ5e3JldHVybiBhcnJheVRvU3RyaW5nSGVscGVyLnN0cmluZ2lmeUJ5Q2h1bmsoYXJyYXksdHlwZSxjaHVuayl9Y2F0Y2goZSl7Y2h1bms9TWF0aC5mbG9vcihjaHVuay8yKX1yZXR1cm4gYXJyYXlUb1N0cmluZ0hlbHBlci5zdHJpbmdpZnlCeUNoYXIoYXJyYXkpfWZ1bmN0aW9uIGFycmF5TGlrZVRvQXJyYXlMaWtlKGFycmF5RnJvbSxhcnJheVRvKXtmb3IodmFyIGk9MDtpPGFycmF5RnJvbS5sZW5ndGg7aSsrKWFycmF5VG9baV09YXJyYXlGcm9tW2ldO3JldHVybiBhcnJheVRvfWV4cG9ydHMuYXBwbHlGcm9tQ2hhckNvZGU9YXJyYXlMaWtlVG9TdHJpbmc7dmFyIHRyYW5zZm9ybT17fTt0cmFuc2Zvcm0uc3RyaW5nPXtzdHJpbmc6aWRlbnRpdHksYXJyYXk6ZnVuY3Rpb24oaW5wdXQpe3JldHVybiBzdHJpbmdUb0FycmF5TGlrZShpbnB1dCxuZXcgQXJyYXkoaW5wdXQubGVuZ3RoKSl9LGFycmF5YnVmZmVyOmZ1bmN0aW9uKGlucHV0KXtyZXR1cm4gdHJhbnNmb3JtLnN0cmluZy51aW50OGFycmF5KGlucHV0KS5idWZmZXJ9LHVpbnQ4YXJyYXk6ZnVuY3Rpb24oaW5wdXQpe3JldHVybiBzdHJpbmdUb0FycmF5TGlrZShpbnB1dCxuZXcgVWludDhBcnJheShpbnB1dC5sZW5ndGgpKX0sbm9kZWJ1ZmZlcjpmdW5jdGlvbihpbnB1dCl7cmV0dXJuIHN0cmluZ1RvQXJyYXlMaWtlKGlucHV0LG5vZGVqc1V0aWxzLmFsbG9jQnVmZmVyKGlucHV0Lmxlbmd0aCkpfX0sdHJhbnNmb3JtLmFycmF5PXtzdHJpbmc6YXJyYXlMaWtlVG9TdHJpbmcsYXJyYXk6aWRlbnRpdHksYXJyYXlidWZmZXI6ZnVuY3Rpb24oaW5wdXQpe3JldHVybiBuZXcgVWludDhBcnJheShpbnB1dCkuYnVmZmVyfSx1aW50OGFycmF5OmZ1bmN0aW9uKGlucHV0KXtyZXR1cm4gbmV3IFVpbnQ4QXJyYXkoaW5wdXQpfSxub2RlYnVmZmVyOmZ1bmN0aW9uKGlucHV0KXtyZXR1cm4gbm9kZWpzVXRpbHMubmV3QnVmZmVyRnJvbShpbnB1dCl9fSx0cmFuc2Zvcm0uYXJyYXlidWZmZXI9e3N0cmluZzpmdW5jdGlvbihpbnB1dCl7cmV0dXJuIGFycmF5TGlrZVRvU3RyaW5nKG5ldyBVaW50OEFycmF5KGlucHV0KSl9LGFycmF5OmZ1bmN0aW9uKGlucHV0KXtyZXR1cm4gYXJyYXlMaWtlVG9BcnJheUxpa2UobmV3IFVpbnQ4QXJyYXkoaW5wdXQpLG5ldyBBcnJheShpbnB1dC5ieXRlTGVuZ3RoKSl9LGFycmF5YnVmZmVyOmlkZW50aXR5LHVpbnQ4YXJyYXk6ZnVuY3Rpb24oaW5wdXQpe3JldHVybiBuZXcgVWludDhBcnJheShpbnB1dCl9LG5vZGVidWZmZXI6ZnVuY3Rpb24oaW5wdXQpe3JldHVybiBub2RlanNVdGlscy5uZXdCdWZmZXJGcm9tKG5ldyBVaW50OEFycmF5KGlucHV0KSl9fSx0cmFuc2Zvcm0udWludDhhcnJheT17c3RyaW5nOmFycmF5TGlrZVRvU3RyaW5nLGFycmF5OmZ1bmN0aW9uKGlucHV0KXtyZXR1cm4gYXJyYXlMaWtlVG9BcnJheUxpa2UoaW5wdXQsbmV3IEFycmF5KGlucHV0Lmxlbmd0aCkpfSxhcnJheWJ1ZmZlcjpmdW5jdGlvbihpbnB1dCl7cmV0dXJuIGlucHV0LmJ1ZmZlcn0sdWludDhhcnJheTppZGVudGl0eSxub2RlYnVmZmVyOmZ1bmN0aW9uKGlucHV0KXtyZXR1cm4gbm9kZWpzVXRpbHMubmV3QnVmZmVyRnJvbShpbnB1dCl9fSx0cmFuc2Zvcm0ubm9kZWJ1ZmZlcj17c3RyaW5nOmFycmF5TGlrZVRvU3RyaW5nLGFycmF5OmZ1bmN0aW9uKGlucHV0KXtyZXR1cm4gYXJyYXlMaWtlVG9BcnJheUxpa2UoaW5wdXQsbmV3IEFycmF5KGlucHV0Lmxlbmd0aCkpfSxhcnJheWJ1ZmZlcjpmdW5jdGlvbihpbnB1dCl7cmV0dXJuIHRyYW5zZm9ybS5ub2RlYnVmZmVyLnVpbnQ4YXJyYXkoaW5wdXQpLmJ1ZmZlcn0sdWludDhhcnJheTpmdW5jdGlvbihpbnB1dCl7cmV0dXJuIGFycmF5TGlrZVRvQXJyYXlMaWtlKGlucHV0LG5ldyBVaW50OEFycmF5KGlucHV0Lmxlbmd0aCkpfSxub2RlYnVmZmVyOmlkZW50aXR5fSxleHBvcnRzLnRyYW5zZm9ybVRvPWZ1bmN0aW9uKG91dHB1dFR5cGUsaW5wdXQpe2lmKGlucHV0fHwoaW5wdXQ9XCJcIiksIW91dHB1dFR5cGUpcmV0dXJuIGlucHV0O2V4cG9ydHMuY2hlY2tTdXBwb3J0KG91dHB1dFR5cGUpO3ZhciBpbnB1dFR5cGU9ZXhwb3J0cy5nZXRUeXBlT2YoaW5wdXQpO3JldHVybiB0cmFuc2Zvcm1baW5wdXRUeXBlXVtvdXRwdXRUeXBlXShpbnB1dCl9LGV4cG9ydHMuZ2V0VHlwZU9mPWZ1bmN0aW9uKGlucHV0KXtyZXR1cm5cInN0cmluZ1wiPT10eXBlb2YgaW5wdXQ/XCJzdHJpbmdcIjpcIltvYmplY3QgQXJyYXldXCI9PT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoaW5wdXQpP1wiYXJyYXlcIjpzdXBwb3J0Lm5vZGVidWZmZXImJm5vZGVqc1V0aWxzLmlzQnVmZmVyKGlucHV0KT9cIm5vZGVidWZmZXJcIjpzdXBwb3J0LnVpbnQ4YXJyYXkmJmlucHV0IGluc3RhbmNlb2YgVWludDhBcnJheT9cInVpbnQ4YXJyYXlcIjpzdXBwb3J0LmFycmF5YnVmZmVyJiZpbnB1dCBpbnN0YW5jZW9mIEFycmF5QnVmZmVyP1wiYXJyYXlidWZmZXJcIjp2b2lkIDB9LGV4cG9ydHMuY2hlY2tTdXBwb3J0PWZ1bmN0aW9uKHR5cGUpe2lmKCFzdXBwb3J0W3R5cGUudG9Mb3dlckNhc2UoKV0pdGhyb3cgbmV3IEVycm9yKHR5cGUrXCIgaXMgbm90IHN1cHBvcnRlZCBieSB0aGlzIHBsYXRmb3JtXCIpfSxleHBvcnRzLk1BWF9WQUxVRV8xNkJJVFM9NjU1MzUsZXhwb3J0cy5NQVhfVkFMVUVfMzJCSVRTPS0xLGV4cG9ydHMucHJldHR5PWZ1bmN0aW9uKHN0cil7dmFyIGNvZGUsaSxyZXM9XCJcIjtmb3IoaT0wO2k8KHN0cnx8XCJcIikubGVuZ3RoO2krKylyZXMrPVwiXFxcXHhcIisoKGNvZGU9c3RyLmNoYXJDb2RlQXQoaSkpPDE2P1wiMFwiOlwiXCIpK2NvZGUudG9TdHJpbmcoMTYpLnRvVXBwZXJDYXNlKCk7cmV0dXJuIHJlc30sZXhwb3J0cy5kZWxheT1mdW5jdGlvbihjYWxsYmFjayxhcmdzLHNlbGYpe3NldEltbWVkaWF0ZShmdW5jdGlvbigpe2NhbGxiYWNrLmFwcGx5KHNlbGZ8fG51bGwsYXJnc3x8W10pfSl9LGV4cG9ydHMuaW5oZXJpdHM9ZnVuY3Rpb24oY3RvcixzdXBlckN0b3Ipe3ZhciBPYmo9ZnVuY3Rpb24oKXt9O09iai5wcm90b3R5cGU9c3VwZXJDdG9yLnByb3RvdHlwZSxjdG9yLnByb3RvdHlwZT1uZXcgT2JqfSxleHBvcnRzLmV4dGVuZD1mdW5jdGlvbigpe3ZhciBpLGF0dHIscmVzdWx0PXt9O2ZvcihpPTA7aTxhcmd1bWVudHMubGVuZ3RoO2krKylmb3IoYXR0ciBpbiBhcmd1bWVudHNbaV0pYXJndW1lbnRzW2ldLmhhc093blByb3BlcnR5KGF0dHIpJiZ2b2lkIDA9PT1yZXN1bHRbYXR0cl0mJihyZXN1bHRbYXR0cl09YXJndW1lbnRzW2ldW2F0dHJdKTtyZXR1cm4gcmVzdWx0fSxleHBvcnRzLnByZXBhcmVDb250ZW50PWZ1bmN0aW9uKG5hbWUsaW5wdXREYXRhLGlzQmluYXJ5LGlzT3B0aW1pemVkQmluYXJ5U3RyaW5nLGlzQmFzZTY0KXtyZXR1cm4gZXh0ZXJuYWwuUHJvbWlzZS5yZXNvbHZlKGlucHV0RGF0YSkudGhlbihmdW5jdGlvbihkYXRhKXtyZXR1cm4gc3VwcG9ydC5ibG9iJiYoZGF0YSBpbnN0YW5jZW9mIEJsb2J8fC0xIT09W1wiW29iamVjdCBGaWxlXVwiLFwiW29iamVjdCBCbG9iXVwiXS5pbmRleE9mKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChkYXRhKSkpJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgRmlsZVJlYWRlcj9uZXcgZXh0ZXJuYWwuUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLHJlamVjdCl7dmFyIHJlYWRlcj1uZXcgRmlsZVJlYWRlcjtyZWFkZXIub25sb2FkPWZ1bmN0aW9uKGUpe3Jlc29sdmUoZS50YXJnZXQucmVzdWx0KX0scmVhZGVyLm9uZXJyb3I9ZnVuY3Rpb24oZSl7cmVqZWN0KGUudGFyZ2V0LmVycm9yKX0scmVhZGVyLnJlYWRBc0FycmF5QnVmZmVyKGRhdGEpfSk6ZGF0YX0pLnRoZW4oZnVuY3Rpb24oZGF0YSl7dmFyIGRhdGFUeXBlPWV4cG9ydHMuZ2V0VHlwZU9mKGRhdGEpO3JldHVybiBkYXRhVHlwZT8oXCJhcnJheWJ1ZmZlclwiPT09ZGF0YVR5cGU/ZGF0YT1leHBvcnRzLnRyYW5zZm9ybVRvKFwidWludDhhcnJheVwiLGRhdGEpOlwic3RyaW5nXCI9PT1kYXRhVHlwZSYmKGlzQmFzZTY0P2RhdGE9YmFzZTY0LmRlY29kZShkYXRhKTppc0JpbmFyeSYmITAhPT1pc09wdGltaXplZEJpbmFyeVN0cmluZyYmKGRhdGE9ZnVuY3Rpb24oc3RyKXtyZXR1cm4gc3RyaW5nVG9BcnJheUxpa2Uoc3RyLHN1cHBvcnQudWludDhhcnJheT9uZXcgVWludDhBcnJheShzdHIubGVuZ3RoKTpuZXcgQXJyYXkoc3RyLmxlbmd0aCkpfShkYXRhKSkpLGRhdGEpOmV4dGVybmFsLlByb21pc2UucmVqZWN0KG5ldyBFcnJvcihcIkNhbid0IHJlYWQgdGhlIGRhdGEgb2YgJ1wiK25hbWUrXCInLiBJcyBpdCBpbiBhIHN1cHBvcnRlZCBKYXZhU2NyaXB0IHR5cGUgKFN0cmluZywgQmxvYiwgQXJyYXlCdWZmZXIsIGV0YykgP1wiKSl9KX19LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGV4cG9ydHMuREVGQVVMVF9TRVJWSUNFX1dPUktFUl9VUkw9XCIvcHVzaHdvb3NoLXNlcnZpY2Utd29ya2VyLmpzXCIsZXhwb3J0cy5ERUZBVUxUX0FQSV9VUkw9XCJodHRwczovL2NwLnB1c2h3b29zaC5jb20vanNvbi8xLjMvXCIsZXhwb3J0cy5GQUNFQk9PS19BUFBfSUQ9XCI0MzY3MTE3NjcwODE3OTdcIixleHBvcnRzLkZBQ0VCT09LX0hXSURfS0VZPVwiRkFDRUJPT0tfSFdJRF9LRVlcIixleHBvcnRzLlBFUklPRF9TRU5EX0FQUF9PUEVOPTM2ZTUsZXhwb3J0cy5QRVJJT0RfR09BTF9FVkVOVD04NjRlNSxleHBvcnRzLkRFRkFVTFRfTk9USUZJQ0FUSU9OX0RVUkFUSU9OPTEwLGV4cG9ydHMuTUlOX05PVElGSUNBVElPTl9EVVJBVElPTj0xMCxleHBvcnRzLk1BWF9OT1RJRklDQVRJT05fRFVSQVRJT049NTUsZXhwb3J0cy5XQUtFX1VQX1NFUlZJQ0VfV09SS0VSX0lOVEVSVkFMPTIwLGV4cG9ydHMuREVGQVVMVF9OT1RJRklDQVRJT05fVElUTEU9XCJQdXNod29vc2ggbm90aWZpY2F0aW9uXCIsZXhwb3J0cy5ERUZBVUxUX05PVElGSUNBVElPTl9JTUFHRT1cImh0dHBzOi8vY3AucHVzaHdvb3NoLmNvbS9pbWcvbG9nby1tZWRpdW0ucG5nXCIsZXhwb3J0cy5ERUZBVUxUX05PVElGSUNBVElPTl9VUkw9XCIvXCIsZXhwb3J0cy5LRVlfQVBJX1BBUkFNUz1cIkFQSV9QQVJBTVNcIixleHBvcnRzLktFWV9JTklUX1BBUkFNUz1cIklOSVRfUEFSQU1TXCIsZXhwb3J0cy5LRVlfU0RLX1ZFUlNJT049XCJTREtfVkVSU0lPTlwiLGV4cG9ydHMuS0VZX1dPUktFUl9WRVJTSU9OPVwiV09SS0VSX1ZFUlNJT05cIixleHBvcnRzLktFWV9MQVNUX1NFTlRfQVBQX09QRU49XCJMQVNUX1NFTlRfQVBQX09QRU5cIixleHBvcnRzLktFWV9MQVNUX09QRU5fTUVTU0FHRT1cIkxBU1RfT1BFTl9NRVNTQUdFXCIsZXhwb3J0cy5LRVlfQVBJX0JBU0VfVVJMPVwiQVBJX0JBU0VfVVJMXCIsZXhwb3J0cy5LRVlfU0hPV19TVUJTQ1JJQkVfV0lER0VUPVwiV0lER0VUX1NIT1dFRFwiLGV4cG9ydHMuS0VZX0NMSUNLX1NVQlNDUklCRV9XSURHRVQ9XCJXSURHRVRfQ0xJQ0tFRFwiLGV4cG9ydHMuS0VZX0RFTEFZRURfRVZFTlQ9XCJERUxBWUVEX0VWRU5UXCIsZXhwb3J0cy5LRVlfQ09NTVVOSUNBVElPTl9FTkFCTEVEPVwiQ09NTVVOSUNBVElPTl9FTkFCTEVEXCIsZXhwb3J0cy5LRVlfREVWSUNFX0RBVEFfUkVNT1ZFRD1cIkRFVklDRV9EQVRBX1JFTU9WRURcIixleHBvcnRzLktFWV9JTlRFUk5BTF9FVkVOVFM9XCJJTlRFUk5BTF9FVkVOVFNcIixleHBvcnRzLktFWV9VTlNVQlNDUklCRURfRFVFX1RPX1VOREVGSU5FRF9LRVlTPVwiVU5TVUJTQ1JJQkVEX0RVRV9UT19VTkRFRklORURfS0VZU1wiLGV4cG9ydHMuS0VZX0ZBS0VfUFVTSF9UT0tFTj1cImZha2VQdXNoVG9rZW5cIixleHBvcnRzLktFWV9ERVZJQ0VfUkVHSVNUUkFUSU9OX1NUQVRVUz1cImRldmljZVJlZ2lzdHJhdGlvblN0YXR1c1wiLGV4cG9ydHMuS0VZX1NBRkFSSV9QUkVWSU9VU19QRVJNSVNTSU9OPVwic2FmYXJpUHJldmlvdXNQZXJtaXNzaW9uXCIsZXhwb3J0cy5NQU5VQUxfU0VUX0xPR0dFUl9MRVZFTD1cIlBXX1NFVF9MT0dHRVJfTEVWRUxcIixleHBvcnRzLkRFVklDRV9SRUdJU1RSQVRJT05fU1RBVFVTX1JFR0lTVEVSRUQ9XCJyZWdpc3RlcmVkXCIsZXhwb3J0cy5ERVZJQ0VfUkVHSVNUUkFUSU9OX1NUQVRVU19VTlJFR0lTVEVSRUQ9XCJ1bnJlZ2lzdGVyZWRcIixleHBvcnRzLktFWV9TRU5ERVJfSUQ9XCJHQ01fU0VOREVSX0lEXCIsZXhwb3J0cy5LRVlfRkNNX1NVQlNDUklQVElPTj1cIkZDTV9TVUJTQ1JJUFRJT05cIixleHBvcnRzLlBFUk1JU1NJT05fREVOSUVEPVwiZGVuaWVkXCIsZXhwb3J0cy5QRVJNSVNTSU9OX0dSQU5URUQ9XCJncmFudGVkXCIsZXhwb3J0cy5QRVJNSVNTSU9OX1BST01QVD1cImRlZmF1bHRcIixleHBvcnRzLkVWRU5UX09OX1JFQURZPVwib25SZWFkeVwiLGV4cG9ydHMuRVZFTlRfT05fU1VCU0NSSUJFPVwib25TdWJzY3JpYmVcIixleHBvcnRzLkVWRU5UX09OX1VOU1VCU0NSSUJFPVwib25VbnN1YnNjcmliZVwiLGV4cG9ydHMuRVZFTlRfT05fUkVHSVNURVI9XCJvblJlZ2lzdGVyXCIsZXhwb3J0cy5FVkVOVF9PTl9QRVJNSVNTSU9OX1BST01QVD1cIm9uUGVybWlzc2lvblByb21wdFwiLGV4cG9ydHMuRVZFTlRfT05fUEVSTUlTU0lPTl9ERU5JRUQ9XCJvblBlcm1pc3Npb25EZW5pZWRcIixleHBvcnRzLkVWRU5UX09OX1BFUk1JU1NJT05fR1JBTlRFRD1cIm9uUGVybWlzc2lvbkdyYW50ZWRcIixleHBvcnRzLkVWRU5UX09OX1NXX0lOSVRfRVJST1I9XCJvblNXSW5pdEVycm9yXCIsZXhwb3J0cy5FVkVOVF9PTl9QVVNIX0RFTElWRVJZPVwib25QdXNoRGVsaXZlcnlcIixleHBvcnRzLkVWRU5UX09OX05PVElGSUNBVElPTl9DTElDSz1cIm9uTm90aWZpY2F0aW9uQ2xpY2tcIixleHBvcnRzLkVWRU5UX09OX05PVElGSUNBVElPTl9DTE9TRT1cIm9uTm90aWZpY2F0aW9uQ2xvc2VcIixleHBvcnRzLkVWRU5UX09OX0NIQU5HRV9DT01NVU5JQ0FUSU9OX0VOQUJMRUQ9XCJvbkNoYW5nZUNvbW11bmljYXRpb25FbmFibGVkXCIsZXhwb3J0cy5FVkVOVF9PTl9QVVRfTkVXX01FU1NBR0VfVE9fSU5CT1hfU1RPUkU9XCJvblB1dE5ld01lc3NhZ2VUb0luYm94U3RvcmVcIixleHBvcnRzLkVWRU5UX09OX1VQREFURV9JTkJPWF9NRVNTQUdFUz1cIm9uVXBkYXRlSW5ib3hNZXNzYWdlc1wiLGV4cG9ydHMuRVZFTlRfT05fU0hPV19OT1RJRklDQVRJT05fUEVSTUlTU0lPTl9ESUFMT0c9XCJvblNob3dOb3RpZmljYXRpb25QZXJtaXNzaW9uRGlhbG9nXCIsZXhwb3J0cy5FVkVOVF9PTl9ISURFX05PVElGSUNBVElPTl9QRVJNSVNTSU9OX0RJQUxPRz1cIm9uSGlkZU5vdGlmaWNhdGlvblBlcm1pc3Npb25EaWFsb2dcIixleHBvcnRzLkVWRU5UX09OX1NIT1dfU1VCU0NSSVBUSU9OX1dJREdFVD1cIm9uU2hvd1N1YnNjcmlwdGlvbldpZGdldFwiLGV4cG9ydHMuRVZFTlRfT05fSElERV9TVUJTQ1JJUFRJT05fV0lER0VUPVwib25IaWRlU3Vic2NyaXB0aW9uV2lkZ2V0XCIsZXhwb3J0cy5FVkVOVF9TSE9XX1NVQlNDUklCRV9CVVRUT049XCJzaG93U3Vic2NyaWJlQnV0dG9uXCIsZXhwb3J0cy5FVkVOVF9DTElDS19TVUJTQ1JJQkVfQlVUVE9OPVwiY2xpY2tTdWJzY3JpYmVCdXR0b25cIixleHBvcnRzLkVWRU5UX0dEUFJfQ09OU0VOVD1cIkdEUFJDb25zZW50XCIsZXhwb3J0cy5FVkVOVF9HRFBSX0RFTEVURT1cIkdEUFJEZWxldGVcIixleHBvcnRzLkVWRU5UX1BXX1NJVEVfT1BFTkVEPVwiUFdfU2l0ZU9wZW5lZFwiLGV4cG9ydHMuTUFOVUFMX1VOU1VCU0NSSUJFPVwiTUFOVUFMX1VOU1VCU0NSSUJFXCIsZXhwb3J0cy5QQUdFX1ZJU0lURURfVVJMPVwiUEFHRV9WSVNJVEVEX1VSTFwiLGV4cG9ydHMuQ0hBTk5FTFM9XCJDSEFOTkVMU1wiLGV4cG9ydHMuU1VCU0NSSVBUSU9OX1NFR01FTlRfRVZFTlQ9XCJTdWJzY3JpcHRpb24gU2VnbWVudHNcIixleHBvcnRzLlNVQlNDUklQVElPTl9XSURHRVRfVVNFX0NBU0VfTk9UX1NFVD1cIm5vdC1zZXRcIixleHBvcnRzLlNVQlNDUklQVElPTl9XSURHRVRfVVNFX0NBU0VfTk9UX1VTRUQ9XCJub3QtdXNlZFwiLGV4cG9ydHMuU1VCU0NSSVBUSU9OX1dJREdFVF9VU0VfQ0FTRV9ERUZBVUxUPVwiZGVmYXVsdFwiLGV4cG9ydHMuU1VCU0NSSVBUSU9OX1dJREdFVF9VU0VfQ0FTRV9UT1BJQ19CQVNFRD1cInRvcGljLWJhc2VkXCIsZXhwb3J0cy5TVUJTQ1JJUFRJT05fUFJPTVBUX1dJREdFVF9ERUZBVUxUX0NPTkZJRz17aGVhZGVyVGV4dDpcIlN1YnNjcmliZSB0byBvdXIgbmV3c1wiLGhlYWRlclRleHRDb2xvcjpcIiMwMDAwMDBcIixzdWJoZWFkZXJUZXh0OlwiRG9uJ3QgbWlzcyBvdXQgb24gdGhlIGxhdGVzdCBuZXdzIGFuZCB1cGRhdGVzIVwiLHN1YmhlYWRlclRleHRDb2xvcjpcIiMwMDAwMDBcIixidXR0b25BY2NlcHRUZXh0OlwiQWdyZWVcIixidXR0b25BY2NlcHRUZXh0Q29sb3I6XCIjMUE3MkU4XCIsYnV0dG9uQWNjZXB0Um91bmQ6XCI0cHhcIixidXR0b25BY2NlcHRCYWNrZ3JvdW5kQ29sb3I6XCIjRkZGRkZGXCIsYnV0dG9uQWNjZXB0Qm9yZGVyQ29sb3I6XCIjRTNFNEU4XCIsYnV0dG9uQ2FuY2VsVGV4dDpcIkRlbnlcIixidXR0b25DYW5jZWxUZXh0Q29sb3I6XCIjMUE3MkU4XCIsYnV0dG9uQ2FuY2VsUm91bmQ6XCI0cHhcIixidXR0b25DYW5jZWxCYWNrZ3JvdW5kQ29sb3I6XCIjRkZGRkZGXCIsYnV0dG9uQ2FuY2VsQm9yZGVyQ29sb3I6XCIjRTNFNEU4XCIsY2FwcGluZ0NvdW50OjMsY2FwcGluZ0RlbGF5OjE0NGU1LGJhY2tncm91bmRDb2xvcjpcIiNGRkZGRkZcIn19LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO3ZhciBfX2V4dGVuZHM9dGhpcyYmdGhpcy5fX2V4dGVuZHN8fGZ1bmN0aW9uKCl7dmFyIGV4dGVuZFN0YXRpY3M9ZnVuY3Rpb24oZCxiKXtyZXR1cm4oZXh0ZW5kU3RhdGljcz1PYmplY3Quc2V0UHJvdG90eXBlT2Z8fHtfX3Byb3RvX186W119aW5zdGFuY2VvZiBBcnJheSYmZnVuY3Rpb24oZCxiKXtkLl9fcHJvdG9fXz1ifXx8ZnVuY3Rpb24oZCxiKXtmb3IodmFyIHAgaW4gYiliLmhhc093blByb3BlcnR5KHApJiYoZFtwXT1iW3BdKX0pKGQsYil9O3JldHVybiBmdW5jdGlvbihkLGIpe2Z1bmN0aW9uIF9fKCl7dGhpcy5jb25zdHJ1Y3Rvcj1kfWV4dGVuZFN0YXRpY3MoZCxiKSxkLnByb3RvdHlwZT1udWxsPT09Yj9PYmplY3QuY3JlYXRlKGIpOihfXy5wcm90b3R5cGU9Yi5wcm90b3R5cGUsbmV3IF9fKX19KCksX19hc3NpZ249dGhpcyYmdGhpcy5fX2Fzc2lnbnx8ZnVuY3Rpb24oKXtyZXR1cm4oX19hc3NpZ249T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24odCl7Zm9yKHZhciBzLGk9MSxuPWFyZ3VtZW50cy5sZW5ndGg7aTxuO2krKylmb3IodmFyIHAgaW4gcz1hcmd1bWVudHNbaV0pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMscCkmJih0W3BdPXNbcF0pO3JldHVybiB0fSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfSxfX2F3YWl0ZXI9dGhpcyYmdGhpcy5fX2F3YWl0ZXJ8fGZ1bmN0aW9uKHRoaXNBcmcsX2FyZ3VtZW50cyxQLGdlbmVyYXRvcil7cmV0dXJuIG5ldyhQfHwoUD1Qcm9taXNlKSkoZnVuY3Rpb24ocmVzb2x2ZSxyZWplY3Qpe2Z1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSl7dHJ5e3N0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKX1jYXRjaChlKXtyZWplY3QoZSl9fWZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKXt0cnl7c3RlcChnZW5lcmF0b3IudGhyb3codmFsdWUpKX1jYXRjaChlKXtyZWplY3QoZSl9fWZ1bmN0aW9uIHN0ZXAocmVzdWx0KXtyZXN1bHQuZG9uZT9yZXNvbHZlKHJlc3VsdC52YWx1ZSk6ZnVuY3Rpb24odmFsdWUpe3JldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFA/dmFsdWU6bmV3IFAoZnVuY3Rpb24ocmVzb2x2ZSl7cmVzb2x2ZSh2YWx1ZSl9KX0ocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCxyZWplY3RlZCl9c3RlcCgoZ2VuZXJhdG9yPWdlbmVyYXRvci5hcHBseSh0aGlzQXJnLF9hcmd1bWVudHN8fFtdKSkubmV4dCgpKX0pfSxfX2dlbmVyYXRvcj10aGlzJiZ0aGlzLl9fZ2VuZXJhdG9yfHxmdW5jdGlvbih0aGlzQXJnLGJvZHkpe3ZhciBmLHksdCxnLF89e2xhYmVsOjAsc2VudDpmdW5jdGlvbigpe2lmKDEmdFswXSl0aHJvdyB0WzFdO3JldHVybiB0WzFdfSx0cnlzOltdLG9wczpbXX07cmV0dXJuIGc9e25leHQ6dmVyYigwKSx0aHJvdzp2ZXJiKDEpLHJldHVybjp2ZXJiKDIpfSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJihnW1N5bWJvbC5pdGVyYXRvcl09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pLGc7ZnVuY3Rpb24gdmVyYihuKXtyZXR1cm4gZnVuY3Rpb24odil7cmV0dXJuIGZ1bmN0aW9uKG9wKXtpZihmKXRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO2Zvcig7XzspdHJ5e2lmKGY9MSx5JiYodD0yJm9wWzBdP3kucmV0dXJuOm9wWzBdP3kudGhyb3d8fCgodD15LnJldHVybikmJnQuY2FsbCh5KSwwKTp5Lm5leHQpJiYhKHQ9dC5jYWxsKHksb3BbMV0pKS5kb25lKXJldHVybiB0O3N3aXRjaCh5PTAsdCYmKG9wPVsyJm9wWzBdLHQudmFsdWVdKSxvcFswXSl7Y2FzZSAwOmNhc2UgMTp0PW9wO2JyZWFrO2Nhc2UgNDpyZXR1cm4gXy5sYWJlbCsrLHt2YWx1ZTpvcFsxXSxkb25lOiExfTtjYXNlIDU6Xy5sYWJlbCsrLHk9b3BbMV0sb3A9WzBdO2NvbnRpbnVlO2Nhc2UgNzpvcD1fLm9wcy5wb3AoKSxfLnRyeXMucG9wKCk7Y29udGludWU7ZGVmYXVsdDppZighKHQ9KHQ9Xy50cnlzKS5sZW5ndGg+MCYmdFt0Lmxlbmd0aC0xXSkmJig2PT09b3BbMF18fDI9PT1vcFswXSkpe189MDtjb250aW51ZX1pZigzPT09b3BbMF0mJighdHx8b3BbMV0+dFswXSYmb3BbMV08dFszXSkpe18ubGFiZWw9b3BbMV07YnJlYWt9aWYoNj09PW9wWzBdJiZfLmxhYmVsPHRbMV0pe18ubGFiZWw9dFsxXSx0PW9wO2JyZWFrfWlmKHQmJl8ubGFiZWw8dFsyXSl7Xy5sYWJlbD10WzJdLF8ub3BzLnB1c2gob3ApO2JyZWFrfXRbMl0mJl8ub3BzLnBvcCgpLF8udHJ5cy5wb3AoKTtjb250aW51ZX1vcD1ib2R5LmNhbGwodGhpc0FyZyxfKX1jYXRjaChlKXtvcD1bNixlXSx5PTB9ZmluYWxseXtmPXQ9MH1pZig1Jm9wWzBdKXRocm93IG9wWzFdO3JldHVybnt2YWx1ZTpvcFswXT9vcFsxXTp2b2lkIDAsZG9uZTohMH19KFtuLHZdKX19fSxfX3Jlc3Q9dGhpcyYmdGhpcy5fX3Jlc3R8fGZ1bmN0aW9uKHMsZSl7dmFyIHQ9e307Zm9yKHZhciBwIGluIHMpT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMscCkmJmUuaW5kZXhPZihwKTwwJiYodFtwXT1zW3BdKTtpZihudWxsIT1zJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKXt2YXIgaT0wO2ZvcihwPU9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMocyk7aTxwLmxlbmd0aDtpKyspZS5pbmRleE9mKHBbaV0pPDAmJk9iamVjdC5wcm90b3R5cGUucHJvcGVydHlJc0VudW1lcmFibGUuY2FsbChzLHBbaV0pJiYodFtwW2ldXT1zW3BbaV1dKX1yZXR1cm4gdH07T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGRhdGFiYXNlUHJvbWlzZSx2ZXJzaW9uXzE9X193ZWJwYWNrX3JlcXVpcmVfXygxOCksTWlncmF0aW9uRXhlY3V0b3JfMT1fX3dlYnBhY2tfcmVxdWlyZV9fKDE5KSxjb25zdGFudHNfMT1fX3dlYnBhY2tfcmVxdWlyZV9fKDEwKTtmdW5jdGlvbiBvbnZlcnNpb25jaGFuZ2UoZGF0YWJhc2UsZXZlbnQpe2NvbnNvbGUuaW5mbyhcIm9udmVyc2lvbmNoYW5nZVwiLGV2ZW50KSxkYXRhYmFzZS5jbG9zZSgpfWZ1bmN0aW9uIGdldEluc3RhbmNlKCl7cmV0dXJuIGRhdGFiYXNlUHJvbWlzZXx8KGRhdGFiYXNlUHJvbWlzZT1uZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLHJlamVjdCl7dmFyIHJlcXVlc3Q9aW5kZXhlZERCLm9wZW4oXCJQVVNIV09PU0hfU0RLX1NUT1JFXCIsdmVyc2lvbl8xLmRlZmF1bHQpO3JlcXVlc3Qub25zdWNjZXNzPWZ1bmN0aW9uKGV2ZW50KXt2YXIgZGF0YWJhc2U9ZXZlbnQudGFyZ2V0LnJlc3VsdDtkYXRhYmFzZS5vbnZlcnNpb25jaGFuZ2U9b252ZXJzaW9uY2hhbmdlLmJpbmQobnVsbCxkYXRhYmFzZSxyZWplY3QpLHJlc29sdmUoZGF0YWJhc2UpfSxyZXF1ZXN0Lm9uZXJyb3I9ZnVuY3Rpb24oKXtyZXR1cm4gcmVqZWN0KHJlcXVlc3QuZXJyb3IpfSxyZXF1ZXN0Lm9udXBncmFkZW5lZWRlZD1mdW5jdGlvbihldmVudCl7dmFyIGRhdGFiYXNlPWV2ZW50LnRhcmdldC5yZXN1bHQ7ZGF0YWJhc2Uub252ZXJzaW9uY2hhbmdlPW9udmVyc2lvbmNoYW5nZS5iaW5kKG51bGwsZGF0YWJhc2UscmVqZWN0KSxuZXcgTWlncmF0aW9uRXhlY3V0b3JfMS5kZWZhdWx0KGRhdGFiYXNlKS5hcHBseU1pZ3JhdGlvbnMoKX19KSksZGF0YWJhc2VQcm9taXNlfWZ1bmN0aW9uIGdldEluc3RhbmNlV2l0aFByb21pc2UoZXhlY3V0b3Ipe3JldHVybiBnZXRJbnN0YW5jZSgpLnRoZW4oZnVuY3Rpb24oZGF0YWJhc2Upe3JldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLHJlamVjdCl7cmV0dXJuIGV4ZWN1dG9yKGRhdGFiYXNlLHJlc29sdmUscmVqZWN0KX0pfSl9ZXhwb3J0cy5nZXRJbnN0YW5jZT1nZXRJbnN0YW5jZTt2YXIgTG9nQmFzZT1mdW5jdGlvbigpe2Z1bmN0aW9uIExvZ0Jhc2UoKXt9cmV0dXJuIExvZ0Jhc2UucHJvdG90eXBlLl9hZGQ9ZnVuY3Rpb24ob2JqKXt2YXIgX3RoaXM9dGhpcztyZXR1cm4gZ2V0SW5zdGFuY2VXaXRoUHJvbWlzZShmdW5jdGlvbihkYXRhYmFzZSxyZXNvbHZlLHJlamVjdCl7dmFyIHJlcXVlc3Q9ZGF0YWJhc2UudHJhbnNhY3Rpb24oW190aGlzLm5hbWVdLFwicmVhZHdyaXRlXCIpLm9iamVjdFN0b3JlKF90aGlzLm5hbWUpLmFkZChvYmopO3JlcXVlc3Qub25zdWNjZXNzPWZ1bmN0aW9uKCl7cmVzb2x2ZShvYmopfSxyZXF1ZXN0Lm9uZXJyb3I9ZnVuY3Rpb24oKXtyZWplY3QocmVxdWVzdC5lcnJvcil9fSkudGhlbihmdW5jdGlvbihvYmope3JldHVybiBfdGhpcy5nZXRBbGwoKS50aGVuKGZ1bmN0aW9uKGl0ZW1zKXtpZihBcnJheS5pc0FycmF5KGl0ZW1zKSl7dmFyIGlkcz1pdGVtcy5tYXAoZnVuY3Rpb24oaSl7cmV0dXJuIGkuaWR9KS5zb3J0KGZ1bmN0aW9uKGEsYil7cmV0dXJuIGE9PWI/MDphPGI/MTotMX0pO2lmKGlkcy5sZW5ndGg+X3RoaXMubWF4SXRlbXMpcmV0dXJuIFByb21pc2UuYWxsKGlkcy5zbGljZShfdGhpcy5tYXhJdGVtcykubWFwKGZ1bmN0aW9uKGlkKXtyZXR1cm4gX3RoaXMuZGVsZXRlKGlkKX0pKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIG9ian0pfXJldHVybiBvYmp9KX0pfSxMb2dCYXNlLnByb3RvdHlwZS5kZWxldGU9ZnVuY3Rpb24oa2V5KXt2YXIgX3RoaXM9dGhpcztyZXR1cm4gZ2V0SW5zdGFuY2VXaXRoUHJvbWlzZShmdW5jdGlvbihkYXRhYmFzZSxyZXNvbHZlLHJlamVjdCl7dmFyIHJlcXVlc3Q9ZGF0YWJhc2UudHJhbnNhY3Rpb24oW190aGlzLm5hbWVdLFwicmVhZHdyaXRlXCIpLm9iamVjdFN0b3JlKF90aGlzLm5hbWUpLmRlbGV0ZShrZXkpO3JlcXVlc3Qub25zdWNjZXNzPWZ1bmN0aW9uKCl7cmVzb2x2ZShyZXF1ZXN0LnJlc3VsdCl9LHJlcXVlc3Qub25lcnJvcj1mdW5jdGlvbigpe3JlamVjdChyZXF1ZXN0LmVycm9yKX19KX0sTG9nQmFzZS5wcm90b3R5cGUuZ2V0QWxsPWZ1bmN0aW9uKCl7dmFyIF90aGlzPXRoaXM7cmV0dXJuIGdldEluc3RhbmNlV2l0aFByb21pc2UoZnVuY3Rpb24oZGF0YWJhc2UscmVzb2x2ZSxyZWplY3Qpe3ZhciByZXN1bHQ9W10sY3Vyc29yPWRhdGFiYXNlLnRyYW5zYWN0aW9uKF90aGlzLm5hbWUpLm9iamVjdFN0b3JlKF90aGlzLm5hbWUpLm9wZW5DdXJzb3IoKTtjdXJzb3Iub25zdWNjZXNzPWZ1bmN0aW9uKGV2KXt2YXIgY3Vyc29yUmVzdWx0PWV2LnRhcmdldC5yZXN1bHQ7Y3Vyc29yUmVzdWx0PyhjdXJzb3JSZXN1bHQudmFsdWUmJnJlc3VsdC5wdXNoKGN1cnNvclJlc3VsdC52YWx1ZSksY3Vyc29yUmVzdWx0LmNvbnRpbnVlKCkpOnJlc29sdmUocmVzdWx0KX0sY3Vyc29yLm9uZXJyb3I9ZnVuY3Rpb24oKXtyZWplY3QoY3Vyc29yLmVycm9yKX19KX0sTG9nQmFzZX0oKTtleHBvcnRzLkxvZ0Jhc2U9TG9nQmFzZTt2YXIgTG9nTG9nPWZ1bmN0aW9uKF9zdXBlcil7ZnVuY3Rpb24gTG9nTG9nKCl7dmFyIF90aGlzPW51bGwhPT1fc3VwZXImJl9zdXBlci5hcHBseSh0aGlzLGFyZ3VtZW50cyl8fHRoaXM7cmV0dXJuIF90aGlzLm5hbWU9Y29uc3RhbnRzXzEuU1RPUkVfTkFNRV9NQUlOX0xPRyxfdGhpcy5tYXhJdGVtcz0xMDAsX3RoaXMuZW52aXJvbm1lbnQ9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGYmJnNlbGYucmVnaXN0cmF0aW9uP1wid29ya2VyXCI6XCJicm93c2VyXCIsX3RoaXN9cmV0dXJuIF9fZXh0ZW5kcyhMb2dMb2csX3N1cGVyKSxMb2dMb2cucHJvdG90eXBlLmFkZD1mdW5jdGlvbih0eXBlLG1lc3NhZ2UsYWRkaXRpb25hbCl7dmFyIG9iaj17dHlwZTp0eXBlLGVudmlyb25tZW50OnRoaXMuZW52aXJvbm1lbnQsbWVzc2FnZTpcIlwiK21lc3NhZ2UsZGF0ZTpuZXcgRGF0ZX07cmV0dXJuIG1lc3NhZ2UgaW5zdGFuY2VvZiBFcnJvciYmKG9iai5zdGFjaz1tZXNzYWdlLnN0YWNrKSxhZGRpdGlvbmFsJiYob2JqLmFkZGl0aW9uYWw9YWRkaXRpb25hbCksdGhpcy5fYWRkKG9iail9LExvZ0xvZ30oTG9nQmFzZSk7ZXhwb3J0cy5Mb2dMb2c9TG9nTG9nO3ZhciBMb2dNZXNzYWdlPWZ1bmN0aW9uKF9zdXBlcil7ZnVuY3Rpb24gTG9nTWVzc2FnZSgpe3ZhciBfdGhpcz1udWxsIT09X3N1cGVyJiZfc3VwZXIuYXBwbHkodGhpcyxhcmd1bWVudHMpfHx0aGlzO3JldHVybiBfdGhpcy5uYW1lPWNvbnN0YW50c18xLlNUT1JFX05BTUVfTUVTU0FHRV9MT0csX3RoaXMubWF4SXRlbXM9MjUsX3RoaXN9cmV0dXJuIF9fZXh0ZW5kcyhMb2dNZXNzYWdlLF9zdXBlciksTG9nTWVzc2FnZS5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKGxvZyl7cmV0dXJuIHRoaXMuX2FkZChfX2Fzc2lnbihfX2Fzc2lnbih7fSxsb2cpLHtkYXRlOm5ldyBEYXRlfSkpfSxMb2dNZXNzYWdlfShMb2dCYXNlKTtleHBvcnRzLkxvZ01lc3NhZ2U9TG9nTWVzc2FnZSxleHBvcnRzLmtleVZhbHVlPWZ1bmN0aW9uKG5hbWUpe3JldHVybntnZXQ6ZnVuY3Rpb24oa2V5LGRlZmF1bHRWYWx1ZSl7cmV0dXJuIGdldEluc3RhbmNlV2l0aFByb21pc2UoZnVuY3Rpb24oZGF0YWJhc2UscmVzb2x2ZSxyZWplY3Qpe3ZhciB0aW1lb3V0LHJlcXVlc3Q9ZGF0YWJhc2UudHJhbnNhY3Rpb24obmFtZSkub2JqZWN0U3RvcmUobmFtZSkuZ2V0KGtleSksaXNDb21wbGV0ZT0hMSxpc0Vycm9yPSExLGNoZWNrPWZ1bmN0aW9uKCl7aWYoY2xlYXJUaW1lb3V0KHRpbWVvdXQpLGlzQ29tcGxldGUpe3ZhciByZXN1bHQ9cmVxdWVzdC5yZXN1bHQ7cmVzb2x2ZShyZXN1bHQmJnJlc3VsdC52YWx1ZXx8ZGVmYXVsdFZhbHVlKX1lbHNlIGlzRXJyb3I/cmVqZWN0KHJlcXVlc3QuZXJyb3IpOnRpbWVvdXQ9c2V0VGltZW91dChjaGVjaywwKX07cmVxdWVzdC5vbnN1Y2Nlc3M9ZnVuY3Rpb24oKXtyZXR1cm4gaXNDb21wbGV0ZT0hMH0scmVxdWVzdC5vbmVycm9yPWZ1bmN0aW9uKCl7cmV0dXJuIGlzRXJyb3I9ITB9LGNoZWNrKCl9KX0sZ2V0QWxsOmZ1bmN0aW9uKCl7cmV0dXJuIGdldEluc3RhbmNlV2l0aFByb21pc2UoZnVuY3Rpb24oZGF0YWJhc2UscmVzb2x2ZSxyZWplY3Qpe3ZhciB0aW1lb3V0LHJlc3VsdD17fSxjdXJzb3I9ZGF0YWJhc2UudHJhbnNhY3Rpb24obmFtZSkub2JqZWN0U3RvcmUobmFtZSkub3BlbkN1cnNvcigpLGlzQ29tcGxldGU9ITEsaXNFcnJvcj0hMSxjaGVjaz1mdW5jdGlvbigpe2NsZWFyVGltZW91dCh0aW1lb3V0KSxpc0NvbXBsZXRlP3Jlc29sdmUocmVzdWx0KTppc0Vycm9yP3JlamVjdChjdXJzb3IuZXJyb3IpOnRpbWVvdXQ9c2V0VGltZW91dChjaGVjaywwKX07Y3Vyc29yLm9uc3VjY2Vzcz1mdW5jdGlvbihldmVudCl7dmFyIGN1cnNvclJlc3VsdD1ldmVudC50YXJnZXQucmVzdWx0O2N1cnNvclJlc3VsdD8ocmVzdWx0W2N1cnNvclJlc3VsdC5rZXldPWN1cnNvclJlc3VsdC52YWx1ZS52YWx1ZSxjdXJzb3JSZXN1bHQuY29udGludWUoKSk6aXNDb21wbGV0ZT0hMH0sY3Vyc29yLm9uZXJyb3I9ZnVuY3Rpb24oKXtyZXR1cm4gaXNFcnJvcj0hMH0sY2hlY2soKX0pfSxleHRlbmQ6ZnVuY3Rpb24oa2V5LHZhbHVlKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBvbGRWYWx1ZXMsbmV3VmFsdWVzO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLmdldChrZXkpXTtjYXNlIDE6cmV0dXJuIG9sZFZhbHVlcz1fYS5zZW50KCksbmV3VmFsdWVzPV9fcmVzdCh2YWx1ZSxbXSksWzQsdGhpcy5zZXQoa2V5LF9fYXNzaWduKF9fYXNzaWduKHt9LG9sZFZhbHVlcyksbmV3VmFsdWVzKSldO2Nhc2UgMjpyZXR1cm4gX2Euc2VudCgpLFsyXX19KX0pfSxzZXQ6ZnVuY3Rpb24oa2V5LHZhbHVlKXtyZXR1cm4gZ2V0SW5zdGFuY2VXaXRoUHJvbWlzZShmdW5jdGlvbihkYXRhYmFzZSxyZXNvbHZlLHJlamVjdCl7dmFyIHRpbWVvdXQscmVxdWVzdD1kYXRhYmFzZS50cmFuc2FjdGlvbihbbmFtZV0sXCJyZWFkd3JpdGVcIikub2JqZWN0U3RvcmUobmFtZSkucHV0KHtrZXk6a2V5LHZhbHVlOnZhbHVlfSksaXNDb21wbGV0ZT0hMSxpc0Vycm9yPSExLGNoZWNrPWZ1bmN0aW9uKCl7Y2xlYXJUaW1lb3V0KHRpbWVvdXQpLGlzQ29tcGxldGU/cmVzb2x2ZShrZXkpOmlzRXJyb3I/cmVqZWN0KHJlcXVlc3QuZXJyb3IpOnRpbWVvdXQ9c2V0VGltZW91dChjaGVjaywwKX07cmVxdWVzdC5vbnN1Y2Nlc3M9ZnVuY3Rpb24oKXtyZXR1cm4gaXNDb21wbGV0ZT0hMH0scmVxdWVzdC5vbmVycm9yPWZ1bmN0aW9uKCl7cmV0dXJuIGlzRXJyb3I9ITB9LGNoZWNrKCl9KX19fShjb25zdGFudHNfMS5TVE9SRV9OQU1FX0tFWV9WQUxVRSksZXhwb3J0cy5sb2c9bmV3IExvZ0xvZyxleHBvcnRzLm1lc3NhZ2U9bmV3IExvZ01lc3NhZ2V9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIEdlbmVyaWNXb3JrZXIobmFtZSl7dGhpcy5uYW1lPW5hbWV8fFwiZGVmYXVsdFwiLHRoaXMuc3RyZWFtSW5mbz17fSx0aGlzLmdlbmVyYXRlZEVycm9yPW51bGwsdGhpcy5leHRyYVN0cmVhbUluZm89e30sdGhpcy5pc1BhdXNlZD0hMCx0aGlzLmlzRmluaXNoZWQ9ITEsdGhpcy5pc0xvY2tlZD0hMSx0aGlzLl9saXN0ZW5lcnM9e2RhdGE6W10sZW5kOltdLGVycm9yOltdfSx0aGlzLnByZXZpb3VzPW51bGx9R2VuZXJpY1dvcmtlci5wcm90b3R5cGU9e3B1c2g6ZnVuY3Rpb24oY2h1bmspe3RoaXMuZW1pdChcImRhdGFcIixjaHVuayl9LGVuZDpmdW5jdGlvbigpe2lmKHRoaXMuaXNGaW5pc2hlZClyZXR1cm4hMTt0aGlzLmZsdXNoKCk7dHJ5e3RoaXMuZW1pdChcImVuZFwiKSx0aGlzLmNsZWFuVXAoKSx0aGlzLmlzRmluaXNoZWQ9ITB9Y2F0Y2goZSl7dGhpcy5lbWl0KFwiZXJyb3JcIixlKX1yZXR1cm4hMH0sZXJyb3I6ZnVuY3Rpb24oZSl7cmV0dXJuIXRoaXMuaXNGaW5pc2hlZCYmKHRoaXMuaXNQYXVzZWQ/dGhpcy5nZW5lcmF0ZWRFcnJvcj1lOih0aGlzLmlzRmluaXNoZWQ9ITAsdGhpcy5lbWl0KFwiZXJyb3JcIixlKSx0aGlzLnByZXZpb3VzJiZ0aGlzLnByZXZpb3VzLmVycm9yKGUpLHRoaXMuY2xlYW5VcCgpKSwhMCl9LG9uOmZ1bmN0aW9uKG5hbWUsbGlzdGVuZXIpe3JldHVybiB0aGlzLl9saXN0ZW5lcnNbbmFtZV0ucHVzaChsaXN0ZW5lciksdGhpc30sY2xlYW5VcDpmdW5jdGlvbigpe3RoaXMuc3RyZWFtSW5mbz10aGlzLmdlbmVyYXRlZEVycm9yPXRoaXMuZXh0cmFTdHJlYW1JbmZvPW51bGwsdGhpcy5fbGlzdGVuZXJzPVtdfSxlbWl0OmZ1bmN0aW9uKG5hbWUsYXJnKXtpZih0aGlzLl9saXN0ZW5lcnNbbmFtZV0pZm9yKHZhciBpPTA7aTx0aGlzLl9saXN0ZW5lcnNbbmFtZV0ubGVuZ3RoO2krKyl0aGlzLl9saXN0ZW5lcnNbbmFtZV1baV0uY2FsbCh0aGlzLGFyZyl9LHBpcGU6ZnVuY3Rpb24obmV4dCl7cmV0dXJuIG5leHQucmVnaXN0ZXJQcmV2aW91cyh0aGlzKX0scmVnaXN0ZXJQcmV2aW91czpmdW5jdGlvbihwcmV2aW91cyl7aWYodGhpcy5pc0xvY2tlZCl0aHJvdyBuZXcgRXJyb3IoXCJUaGUgc3RyZWFtICdcIit0aGlzK1wiJyBoYXMgYWxyZWFkeSBiZWVuIHVzZWQuXCIpO3RoaXMuc3RyZWFtSW5mbz1wcmV2aW91cy5zdHJlYW1JbmZvLHRoaXMubWVyZ2VTdHJlYW1JbmZvKCksdGhpcy5wcmV2aW91cz1wcmV2aW91czt2YXIgc2VsZj10aGlzO3JldHVybiBwcmV2aW91cy5vbihcImRhdGFcIixmdW5jdGlvbihjaHVuayl7c2VsZi5wcm9jZXNzQ2h1bmsoY2h1bmspfSkscHJldmlvdXMub24oXCJlbmRcIixmdW5jdGlvbigpe3NlbGYuZW5kKCl9KSxwcmV2aW91cy5vbihcImVycm9yXCIsZnVuY3Rpb24oZSl7c2VsZi5lcnJvcihlKX0pLHRoaXN9LHBhdXNlOmZ1bmN0aW9uKCl7cmV0dXJuIXRoaXMuaXNQYXVzZWQmJiF0aGlzLmlzRmluaXNoZWQmJih0aGlzLmlzUGF1c2VkPSEwLHRoaXMucHJldmlvdXMmJnRoaXMucHJldmlvdXMucGF1c2UoKSwhMCl9LHJlc3VtZTpmdW5jdGlvbigpe2lmKCF0aGlzLmlzUGF1c2VkfHx0aGlzLmlzRmluaXNoZWQpcmV0dXJuITE7dGhpcy5pc1BhdXNlZD0hMTt2YXIgd2l0aEVycm9yPSExO3JldHVybiB0aGlzLmdlbmVyYXRlZEVycm9yJiYodGhpcy5lcnJvcih0aGlzLmdlbmVyYXRlZEVycm9yKSx3aXRoRXJyb3I9ITApLHRoaXMucHJldmlvdXMmJnRoaXMucHJldmlvdXMucmVzdW1lKCksIXdpdGhFcnJvcn0sZmx1c2g6ZnVuY3Rpb24oKXt9LHByb2Nlc3NDaHVuazpmdW5jdGlvbihjaHVuayl7dGhpcy5wdXNoKGNodW5rKX0sd2l0aFN0cmVhbUluZm86ZnVuY3Rpb24oa2V5LHZhbHVlKXtyZXR1cm4gdGhpcy5leHRyYVN0cmVhbUluZm9ba2V5XT12YWx1ZSx0aGlzLm1lcmdlU3RyZWFtSW5mbygpLHRoaXN9LG1lcmdlU3RyZWFtSW5mbzpmdW5jdGlvbigpe2Zvcih2YXIga2V5IGluIHRoaXMuZXh0cmFTdHJlYW1JbmZvKXRoaXMuZXh0cmFTdHJlYW1JbmZvLmhhc093blByb3BlcnR5KGtleSkmJih0aGlzLnN0cmVhbUluZm9ba2V5XT10aGlzLmV4dHJhU3RyZWFtSW5mb1trZXldKX0sbG9jazpmdW5jdGlvbigpe2lmKHRoaXMuaXNMb2NrZWQpdGhyb3cgbmV3IEVycm9yKFwiVGhlIHN0cmVhbSAnXCIrdGhpcytcIicgaGFzIGFscmVhZHkgYmVlbiB1c2VkLlwiKTt0aGlzLmlzTG9ja2VkPSEwLHRoaXMucHJldmlvdXMmJnRoaXMucHJldmlvdXMubG9jaygpfSx0b1N0cmluZzpmdW5jdGlvbigpe3ZhciBtZT1cIldvcmtlciBcIit0aGlzLm5hbWU7cmV0dXJuIHRoaXMucHJldmlvdXM/dGhpcy5wcmV2aW91cytcIiAtPiBcIittZTptZX19LG1vZHVsZS5leHBvcnRzPUdlbmVyaWNXb3JrZXJ9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO3ZhciBfX2Fzc2lnbj10aGlzJiZ0aGlzLl9fYXNzaWdufHxmdW5jdGlvbigpe3JldHVybihfX2Fzc2lnbj1PYmplY3QuYXNzaWdufHxmdW5jdGlvbih0KXtmb3IodmFyIHMsaT0xLG49YXJndW1lbnRzLmxlbmd0aDtpPG47aSsrKWZvcih2YXIgcCBpbiBzPWFyZ3VtZW50c1tpXSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocyxwKSYmKHRbcF09c1twXSk7cmV0dXJuIHR9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LF9fYXdhaXRlcj10aGlzJiZ0aGlzLl9fYXdhaXRlcnx8ZnVuY3Rpb24odGhpc0FyZyxfYXJndW1lbnRzLFAsZ2VuZXJhdG9yKXtyZXR1cm4gbmV3KFB8fChQPVByb21pc2UpKShmdW5jdGlvbihyZXNvbHZlLHJlamVjdCl7ZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKXt0cnl7c3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpfWNhdGNoKGUpe3JlamVjdChlKX19ZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpe3RyeXtzdGVwKGdlbmVyYXRvci50aHJvdyh2YWx1ZSkpfWNhdGNoKGUpe3JlamVjdChlKX19ZnVuY3Rpb24gc3RlcChyZXN1bHQpe3Jlc3VsdC5kb25lP3Jlc29sdmUocmVzdWx0LnZhbHVlKTpmdW5jdGlvbih2YWx1ZSl7cmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUD92YWx1ZTpuZXcgUChmdW5jdGlvbihyZXNvbHZlKXtyZXNvbHZlKHZhbHVlKX0pfShyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLHJlamVjdGVkKX1zdGVwKChnZW5lcmF0b3I9Z2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsX2FyZ3VtZW50c3x8W10pKS5uZXh0KCkpfSl9LF9fZ2VuZXJhdG9yPXRoaXMmJnRoaXMuX19nZW5lcmF0b3J8fGZ1bmN0aW9uKHRoaXNBcmcsYm9keSl7dmFyIGYseSx0LGcsXz17bGFiZWw6MCxzZW50OmZ1bmN0aW9uKCl7aWYoMSZ0WzBdKXRocm93IHRbMV07cmV0dXJuIHRbMV19LHRyeXM6W10sb3BzOltdfTtyZXR1cm4gZz17bmV4dDp2ZXJiKDApLHRocm93OnZlcmIoMSkscmV0dXJuOnZlcmIoMil9LFwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmKGdbU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSksZztmdW5jdGlvbiB2ZXJiKG4pe3JldHVybiBmdW5jdGlvbih2KXtyZXR1cm4gZnVuY3Rpb24ob3Ape2lmKGYpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7Zm9yKDtfOyl0cnl7aWYoZj0xLHkmJih0PTImb3BbMF0/eS5yZXR1cm46b3BbMF0/eS50aHJvd3x8KCh0PXkucmV0dXJuKSYmdC5jYWxsKHkpLDApOnkubmV4dCkmJiEodD10LmNhbGwoeSxvcFsxXSkpLmRvbmUpcmV0dXJuIHQ7c3dpdGNoKHk9MCx0JiYob3A9WzImb3BbMF0sdC52YWx1ZV0pLG9wWzBdKXtjYXNlIDA6Y2FzZSAxOnQ9b3A7YnJlYWs7Y2FzZSA0OnJldHVybiBfLmxhYmVsKysse3ZhbHVlOm9wWzFdLGRvbmU6ITF9O2Nhc2UgNTpfLmxhYmVsKysseT1vcFsxXSxvcD1bMF07Y29udGludWU7Y2FzZSA3Om9wPV8ub3BzLnBvcCgpLF8udHJ5cy5wb3AoKTtjb250aW51ZTtkZWZhdWx0OmlmKCEodD0odD1fLnRyeXMpLmxlbmd0aD4wJiZ0W3QubGVuZ3RoLTFdKSYmKDY9PT1vcFswXXx8Mj09PW9wWzBdKSl7Xz0wO2NvbnRpbnVlfWlmKDM9PT1vcFswXSYmKCF0fHxvcFsxXT50WzBdJiZvcFsxXTx0WzNdKSl7Xy5sYWJlbD1vcFsxXTticmVha31pZig2PT09b3BbMF0mJl8ubGFiZWw8dFsxXSl7Xy5sYWJlbD10WzFdLHQ9b3A7YnJlYWt9aWYodCYmXy5sYWJlbDx0WzJdKXtfLmxhYmVsPXRbMl0sXy5vcHMucHVzaChvcCk7YnJlYWt9dFsyXSYmXy5vcHMucG9wKCksXy50cnlzLnBvcCgpO2NvbnRpbnVlfW9wPWJvZHkuY2FsbCh0aGlzQXJnLF8pfWNhdGNoKGUpe29wPVs2LGVdLHk9MH1maW5hbGx5e2Y9dD0wfWlmKDUmb3BbMF0pdGhyb3cgb3BbMV07cmV0dXJue3ZhbHVlOm9wWzBdP29wWzFdOnZvaWQgMCxkb25lOiEwfX0oW24sdl0pfX19O09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBzdG9yYWdlXzE9X193ZWJwYWNrX3JlcXVpcmVfXygyKSxDT05TVEFOVFM9X193ZWJwYWNrX3JlcXVpcmVfXygxKSxEYXRhPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gRGF0YShzdG9yZSl7dm9pZCAwPT09c3RvcmUmJihzdG9yZT1zdG9yYWdlXzEua2V5VmFsdWUpLHRoaXMuc3RvcmU9c3RvcmV9cmV0dXJuIERhdGEucHJvdG90eXBlLmNsZWFyQWxsPWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5zdG9yZS5zZXQoXCJwYXJhbXMuYXBwbGljYXRpb25Db2RlXCIsdm9pZCAwKV07Y2FzZSAxOnJldHVybiBfYS5zZW50KCksWzQsdGhpcy5zdG9yZS5zZXQoXCJwYXJhbXMuaHdpZFwiLHZvaWQgMCldO2Nhc2UgMjpyZXR1cm4gX2Euc2VudCgpLFs0LHRoaXMuc3RvcmUuc2V0KFwicGFyYW1zLmRldmljZVR5cGVcIix2b2lkIDApXTtjYXNlIDM6cmV0dXJuIF9hLnNlbnQoKSxbNCx0aGlzLnN0b3JlLnNldChcInBhcmFtcy5kZXZpY2VNb2RlbFwiLHZvaWQgMCldO2Nhc2UgNDpyZXR1cm4gX2Euc2VudCgpLFs0LHRoaXMuc3RvcmUuc2V0KFwicGFyYW1zLmxhbmd1YWdlXCIsdm9pZCAwKV07Y2FzZSA1OnJldHVybiBfYS5zZW50KCksWzQsdGhpcy5zdG9yZS5zZXQoXCJwYXJhbXMuYXBpRW50cnlwb2ludFwiLHZvaWQgMCldO2Nhc2UgNjpyZXR1cm4gX2Euc2VudCgpLFs0LHRoaXMuc3RvcmUuc2V0KFwicGFyYW1zLnRva2Vuc1wiLHZvaWQgMCldO2Nhc2UgNzpyZXR1cm4gX2Euc2VudCgpLFs0LHRoaXMuc3RvcmUuc2V0KFwicGFyYW1zLmFwcGxpY2F0aW9uU2VydmVyS2V5XCIsdm9pZCAwKV07Y2FzZSA4OnJldHVybiBfYS5zZW50KCksWzQsdGhpcy5zdG9yZS5zZXQoXCJwYXJhbXMuc2VuZGVySWRcIix2b2lkIDApXTtjYXNlIDk6cmV0dXJuIF9hLnNlbnQoKSxbNCx0aGlzLnN0b3JlLnNldChcInBhcmFtcy53ZWJTaXRlUHVzaElkXCIsdm9pZCAwKV07Y2FzZSAxMDpyZXR1cm4gX2Euc2VudCgpLFs0LHRoaXMuc3RvcmUuc2V0KFwicGFyYW1zLmRlZmF1bHROb3RpZmljYXRpb25JbWFnZVwiLHZvaWQgMCldO2Nhc2UgMTE6cmV0dXJuIF9hLnNlbnQoKSxbNCx0aGlzLnN0b3JlLnNldChcInBhcmFtcy5kZWZhdWx0Tm90aWZpY2F0aW9uVGl0bGVcIix2b2lkIDApXTtjYXNlIDEyOnJldHVybiBfYS5zZW50KCksWzQsdGhpcy5zdG9yZS5zZXQoXCJwYXJhbXMudXNlcklkXCIsdm9pZCAwKV07Y2FzZSAxMzpyZXR1cm4gX2Euc2VudCgpLFs0LHRoaXMuc3RvcmUuc2V0KFwicGFyYW1zLnVzZXJJZFdhc0NoYW5nZWRcIix2b2lkIDApXTtjYXNlIDE0OnJldHVybiBfYS5zZW50KCksWzQsdGhpcy5zdG9yZS5zZXQoXCJwYXJhbXMuaXNMYXN0UGVybWlzc2lvblN0YXR1c1wiLHZvaWQgMCldO2Nhc2UgMTU6cmV0dXJuIF9hLnNlbnQoKSxbNCx0aGlzLnN0b3JlLnNldChcInBhcmFtcy5pc01hbnVhbFVuc3Vic2NyaWJlZFwiLHZvaWQgMCldO2Nhc2UgMTY6cmV0dXJuIF9hLnNlbnQoKSxbNCx0aGlzLnN0b3JlLnNldChcInBhcmFtcy5pc0NvbW11bmljYXRpb25EaXNhYmxlZFwiLHZvaWQgMCldO2Nhc2UgMTc6cmV0dXJuIF9hLnNlbnQoKSxbNCx0aGlzLnN0b3JlLnNldChcInBhcmFtcy5pc0Ryb3BBbGxEYXRhXCIsdm9pZCAwKV07Y2FzZSAxODpyZXR1cm4gX2Euc2VudCgpLFs0LHRoaXMuc3RvcmUuc2V0KFwicGFyYW1zLnNka1ZlcnNpb25cIix2b2lkIDApXTtjYXNlIDE5OnJldHVybiBfYS5zZW50KCksWzQsdGhpcy5zdG9yZS5zZXQoXCJwYXJhbXMuc2VydmljZVdvcmtlclZlcnNpb25cIix2b2lkIDApXTtjYXNlIDIwOnJldHVybiBfYS5zZW50KCksWzQsdGhpcy5zdG9yZS5zZXQoXCJwYXJhbXMuc2VydmljZVdvcmtlclVybFwiLHZvaWQgMCldO2Nhc2UgMjE6cmV0dXJuIF9hLnNlbnQoKSxbNCx0aGlzLnN0b3JlLnNldChcInBhcmFtcy5zZXJ2aWNlV29ya2VyU2NvcGVcIix2b2lkIDApXTtjYXNlIDIyOnJldHVybiBfYS5zZW50KCksWzQsdGhpcy5zdG9yZS5zZXQoXCJwYXJhbXMubGFzdE9wZW5NZXNzYWdlXCIsdm9pZCAwKV07Y2FzZSAyMzpyZXR1cm4gX2Euc2VudCgpLFs0LHRoaXMuc3RvcmUuc2V0KFwicGFyYW1zLmxhc3RPcGVuQXBwbGljYXRpb25UaW1lXCIsdm9pZCAwKV07Y2FzZSAyNDpyZXR1cm4gX2Euc2VudCgpLFs0LHRoaXMuc3RvcmUuc2V0KFwicGFyYW1zLmZlYXR1cmVzXCIsdm9pZCAwKV07Y2FzZSAyNTpyZXR1cm4gX2Euc2VudCgpLFs0LHRoaXMuc3RvcmUuc2V0KFwicGFyYW1zLmluaXRcIix2b2lkIDApXTtjYXNlIDI2OnJldHVybiBfYS5zZW50KCksWzQsdGhpcy5zdG9yZS5zZXQoXCJBUElfUEFSQU1TXCIsdm9pZCAwKV07Y2FzZSAyNzpyZXR1cm4gX2Euc2VudCgpLFs0LHRoaXMuc3RvcmUuc2V0KFwiU0VOREVSX0lEXCIsdm9pZCAwKV07Y2FzZSAyODpyZXR1cm4gX2Euc2VudCgpLFs0LHRoaXMuc3RvcmUuc2V0KFwiQ09NTVVOSUNBVElPTl9FTkFCTEVEXCIsdm9pZCAwKV07Y2FzZSAyOTpyZXR1cm4gX2Euc2VudCgpLFs0LHRoaXMuc3RvcmUuc2V0KFwiREVWSUNFX0RBVEFfUkVNT1ZFRFwiLHZvaWQgMCldO2Nhc2UgMzA6cmV0dXJuIF9hLnNlbnQoKSxbNCx0aGlzLnN0b3JlLnNldChcIkxBU1RfT1BFTl9NRVNTQUdFXCIsdm9pZCAwKV07Y2FzZSAzMTpyZXR1cm4gX2Euc2VudCgpLFs0LHRoaXMuc3RvcmUuc2V0KFwiREVMQVlFRF9FVkVOVFwiLHZvaWQgMCldO2Nhc2UgMzI6cmV0dXJuIF9hLnNlbnQoKSxbMl19fSl9KX0sRGF0YS5wcm90b3R5cGUuc2V0QXBwbGljYXRpb25Db2RlPWZ1bmN0aW9uKGFwcGxpY2F0aW9uKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLnN0b3JlLnNldChcInBhcmFtcy5hcHBsaWNhdGlvbkNvZGVcIixhcHBsaWNhdGlvbildO2Nhc2UgMTpyZXR1cm4gX2Euc2VudCgpLFsyXX19KX0pfSxEYXRhLnByb3RvdHlwZS5nZXRBcHBsaWNhdGlvbkNvZGU9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLnN0b3JlLmdldChcInBhcmFtcy5hcHBsaWNhdGlvbkNvZGVcIildO2Nhc2UgMTpyZXR1cm5bMixfYS5zZW50KCldfX0pfSl9LERhdGEucHJvdG90eXBlLnNldEh3aWQ9ZnVuY3Rpb24oaHdpZCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5zdG9yZS5zZXQoXCJwYXJhbXMuaHdpZFwiLGh3aWQpXTtjYXNlIDE6cmV0dXJuIF9hLnNlbnQoKSxbMl19fSl9KX0sRGF0YS5wcm90b3R5cGUuZ2V0SHdpZD1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuc3RvcmUuZ2V0KFwicGFyYW1zLmh3aWRcIildO2Nhc2UgMTpyZXR1cm5bMixfYS5zZW50KCldfX0pfSl9LERhdGEucHJvdG90eXBlLnNldERldmljZVR5cGU9ZnVuY3Rpb24odHlwZSl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5zdG9yZS5zZXQoXCJwYXJhbXMuZGV2aWNlVHlwZVwiLHR5cGUpXTtjYXNlIDE6cmV0dXJuIF9hLnNlbnQoKSxbMl19fSl9KX0sRGF0YS5wcm90b3R5cGUuZ2V0RGV2aWNlVHlwZT1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuc3RvcmUuZ2V0KFwicGFyYW1zLmRldmljZVR5cGVcIildO2Nhc2UgMTpyZXR1cm5bMixfYS5zZW50KCldfX0pfSl9LERhdGEucHJvdG90eXBlLnNldERldmljZU1vZGVsPWZ1bmN0aW9uKG1vZGVsKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLnN0b3JlLnNldChcInBhcmFtcy5kZXZpY2VNb2RlbFwiLG1vZGVsKV07Y2FzZSAxOnJldHVybiBfYS5zZW50KCksWzJdfX0pfSl9LERhdGEucHJvdG90eXBlLmdldERldmljZU1vZGVsPWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5zdG9yZS5nZXQoXCJwYXJhbXMuZGV2aWNlTW9kZWxcIildO2Nhc2UgMTpyZXR1cm5bMixfYS5zZW50KCldfX0pfSl9LERhdGEucHJvdG90eXBlLnNldExhbmd1YWdlPWZ1bmN0aW9uKGxhbmd1YWdlKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLnN0b3JlLnNldChcInBhcmFtcy5sYW5ndWFnZVwiLGxhbmd1YWdlKV07Y2FzZSAxOnJldHVybiBfYS5zZW50KCksWzJdfX0pfSl9LERhdGEucHJvdG90eXBlLmdldExhbmd1YWdlPWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5zdG9yZS5nZXQoXCJwYXJhbXMubGFuZ3VhZ2VcIixcImVuXCIpXTtjYXNlIDE6cmV0dXJuWzIsX2Euc2VudCgpXX19KX0pfSxEYXRhLnByb3RvdHlwZS5zZXRBcGlFbnRyeXBvaW50PWZ1bmN0aW9uKHVybCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5zdG9yZS5zZXQoXCJwYXJhbXMuYXBpRW50cnlwb2ludFwiLHVybCldO2Nhc2UgMTpyZXR1cm4gX2Euc2VudCgpLFsyXX19KX0pfSxEYXRhLnByb3RvdHlwZS5nZXRBcGlFbnRyeXBvaW50PWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5zdG9yZS5nZXQoXCJwYXJhbXMuYXBpRW50cnlwb2ludFwiLENPTlNUQU5UUy5ERUZBVUxUX0FQSV9VUkwpXTtjYXNlIDE6cmV0dXJuWzIsX2Euc2VudCgpXX19KX0pfSxEYXRhLnByb3RvdHlwZS5zZXRUb2tlbnM9ZnVuY3Rpb24odG9rZW5zKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBod2lkO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLmdldEh3aWQoKV07Y2FzZSAxOnJldHVybiBod2lkPV9hLnNlbnQoKSxbNCx0aGlzLnN0b3JlLnNldChcIkFQSV9QQVJBTVNcIixfX2Fzc2lnbih7aHdpZDpod2lkfSx0b2tlbnMpKV07Y2FzZSAyOnJldHVybiBfYS5zZW50KCksWzQsdGhpcy5zdG9yZS5zZXQoXCJwYXJhbXMudG9rZW5zXCIsdG9rZW5zKV07Y2FzZSAzOnJldHVybiBfYS5zZW50KCksWzJdfX0pfSl9LERhdGEucHJvdG90eXBlLmdldFRva2Vucz1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIG9sZFZhbHVlLG5ld1ZhbHVlO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLnN0b3JlLmdldChcIkFQSV9QQVJBTVNcIildO2Nhc2UgMTpyZXR1cm4gb2xkVmFsdWU9X2Euc2VudCgpLFs0LHRoaXMuc3RvcmUuZ2V0KFwicGFyYW1zLnRva2Vuc1wiKV07Y2FzZSAyOnJldHVyblsyLHZvaWQgMCE9PShuZXdWYWx1ZT1fYS5zZW50KCkpP25ld1ZhbHVlOm9sZFZhbHVlXX19KX0pfSxEYXRhLnByb3RvdHlwZS5zZXRBcHBsaWNhdGlvblNlcnZlcktleT1mdW5jdGlvbihrZXkpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuc3RvcmUuc2V0KFwicGFyYW1zLmFwcGxpY2F0aW9uU2VydmVyS2V5XCIsa2V5KV07Y2FzZSAxOnJldHVybiBfYS5zZW50KCksWzJdfX0pfSl9LERhdGEucHJvdG90eXBlLmdldEFwcGxpY2F0aW9uU2VydmVyS2V5PWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5zdG9yZS5nZXQoXCJwYXJhbXMuYXBwbGljYXRpb25TZXJ2ZXJLZXlcIildO2Nhc2UgMTpyZXR1cm5bMixfYS5zZW50KCldfX0pfSl9LERhdGEucHJvdG90eXBlLnNldFNlbmRlcklkPWZ1bmN0aW9uKHNlbmRlcklkKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLnN0b3JlLnNldChcIkdDTV9TRU5ERVJfSURcIixzZW5kZXJJZCldO2Nhc2UgMTpyZXR1cm4gX2Euc2VudCgpLFs0LHRoaXMuc3RvcmUuc2V0KFwicGFyYW1zLnNlbmRlcklkXCIsc2VuZGVySWQpXTtjYXNlIDI6cmV0dXJuIF9hLnNlbnQoKSxbMl19fSl9KX0sRGF0YS5wcm90b3R5cGUuZ2V0U2VuZGVySWQ9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBvbGRWYWx1ZSxuZXdWYWx1ZTtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5zdG9yZS5nZXQoXCJHQ01fU0VOREVSX0lEXCIpXTtjYXNlIDE6cmV0dXJuIG9sZFZhbHVlPV9hLnNlbnQoKSxbNCx0aGlzLnN0b3JlLmdldChcInBhcmFtcy5zZW5kZXJJZFwiKV07Y2FzZSAyOnJldHVyblsyLHZvaWQgMCE9PShuZXdWYWx1ZT1fYS5zZW50KCkpP25ld1ZhbHVlOm9sZFZhbHVlXX19KX0pfSxEYXRhLnByb3RvdHlwZS5zZXRXZWJTaXRlUHVzaElkPWZ1bmN0aW9uKHNlbmRlcklkKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLnN0b3JlLnNldChcInBhcmFtcy53ZWJTaXRlUHVzaElkXCIsc2VuZGVySWQpXTtjYXNlIDE6cmV0dXJuIF9hLnNlbnQoKSxbMl19fSl9KX0sRGF0YS5wcm90b3R5cGUuZ2V0V2ViU2l0ZVB1c2hJZD1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuc3RvcmUuZ2V0KFwicGFyYW1zLndlYlNpdGVQdXNoSWRcIildO2Nhc2UgMTpyZXR1cm5bMixfYS5zZW50KCldfX0pfSl9LERhdGEucHJvdG90eXBlLnNldERlZmF1bHROb3RpZmljYXRpb25JbWFnZT1mdW5jdGlvbih1cmwpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuc3RvcmUuc2V0KFwicGFyYW1zLmRlZmF1bHROb3RpZmljYXRpb25JbWFnZVwiLHVybCldO2Nhc2UgMTpyZXR1cm4gX2Euc2VudCgpLFsyXX19KX0pfSxEYXRhLnByb3RvdHlwZS5nZXREZWZhdWx0Tm90aWZpY2F0aW9uSW1hZ2U9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLnN0b3JlLmdldChcInBhcmFtcy5kZWZhdWx0Tm90aWZpY2F0aW9uSW1hZ2VcIixDT05TVEFOVFMuREVGQVVMVF9OT1RJRklDQVRJT05fSU1BR0UpXTtjYXNlIDE6cmV0dXJuWzIsX2Euc2VudCgpXX19KX0pfSxEYXRhLnByb3RvdHlwZS5zZXREZWZhdWx0Tm90aWZpY2F0aW9uVGl0bGU9ZnVuY3Rpb24odGV4dCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5zdG9yZS5zZXQoXCJwYXJhbXMuZGVmYXVsdE5vdGlmaWNhdGlvblRpdGxlXCIsdGV4dCldO2Nhc2UgMTpyZXR1cm4gX2Euc2VudCgpLFsyXX19KX0pfSxEYXRhLnByb3RvdHlwZS5nZXREZWZhdWx0Tm90aWZpY2F0aW9uVGl0bGU9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLnN0b3JlLmdldChcInBhcmFtcy5kZWZhdWx0Tm90aWZpY2F0aW9uVGl0bGVcIixDT05TVEFOVFMuREVGQVVMVF9OT1RJRklDQVRJT05fVElUTEUpXTtjYXNlIDE6cmV0dXJuWzIsX2Euc2VudCgpXX19KX0pfSxEYXRhLnByb3RvdHlwZS5zZXRVc2VySWQ9ZnVuY3Rpb24odXNlcklkKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm4gdXNlcklkP1szLDJdOls0LHRoaXMuc3RvcmUuc2V0KFwicGFyYW1zLnVzZXJJZFwiLHZvaWQgMCldO2Nhc2UgMTpyZXR1cm4gX2Euc2VudCgpLFsyXTtjYXNlIDI6cmV0dXJuWzQsdGhpcy5zdG9yZS5zZXQoXCJwYXJhbXMudXNlcklkXCIsdXNlcklkLnRvU3RyaW5nKCkpXTtjYXNlIDM6cmV0dXJuIF9hLnNlbnQoKSxbMl19fSl9KX0sRGF0YS5wcm90b3R5cGUuZ2V0VXNlcklkPWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5zdG9yZS5nZXQoXCJwYXJhbXMudXNlcklkXCIpXTtjYXNlIDE6cmV0dXJuWzIsX2Euc2VudCgpXX19KX0pfSxEYXRhLnByb3RvdHlwZS5zZXRTdGF0dXNVc2VySWRXYXNDaGFuZ2VkPWZ1bmN0aW9uKHN0YXR1cyl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5zdG9yZS5zZXQoXCJwYXJhbXMudXNlcklkV2FzQ2hhbmdlZFwiLHN0YXR1cyldO2Nhc2UgMTpyZXR1cm4gX2Euc2VudCgpLFsyXX19KX0pfSxEYXRhLnByb3RvdHlwZS5nZXRTdGF0dXNVc2VySWRXYXNDaGFuZ2VkPWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5zdG9yZS5nZXQoXCJwYXJhbXMudXNlcklkV2FzQ2hhbmdlZFwiLCExKV07Y2FzZSAxOnJldHVyblsyLF9hLnNlbnQoKV19fSl9KX0sRGF0YS5wcm90b3R5cGUuc2V0TGFzdFBlcm1pc3Npb25TdGF0dXM9ZnVuY3Rpb24oc3RhdHVzKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLnN0b3JlLnNldChcInBhcmFtcy5pc0xhc3RQZXJtaXNzaW9uU3RhdHVzXCIsc3RhdHVzKV07Y2FzZSAxOnJldHVybiBfYS5zZW50KCksWzJdfX0pfSl9LERhdGEucHJvdG90eXBlLmdldExhc3RQZXJtaXNzaW9uU3RhdHVzPWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5zdG9yZS5nZXQoXCJwYXJhbXMuaXNMYXN0UGVybWlzc2lvblN0YXR1c1wiKV07Y2FzZSAxOnJldHVyblsyLF9hLnNlbnQoKV19fSl9KX0sRGF0YS5wcm90b3R5cGUuc2V0U3RhdHVzTWFudWFsVW5zdWJzY3JpYmVkPWZ1bmN0aW9uKHN0YXR1cyl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5zdG9yZS5zZXQoXCJNQU5VQUxfVU5TVUJTQ1JJQkVcIixzdGF0dXMpXTtjYXNlIDE6cmV0dXJuIF9hLnNlbnQoKSxbNCx0aGlzLnN0b3JlLnNldChcInBhcmFtcy5pc01hbnVhbFVuc3Vic2NyaWJlZFwiLHN0YXR1cyldO2Nhc2UgMjpyZXR1cm4gX2Euc2VudCgpLFsyXX19KX0pfSxEYXRhLnByb3RvdHlwZS5nZXRTdGF0dXNNYW51YWxVbnN1YnNjcmliZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBvbGRWYWx1ZSxuZXdWYWx1ZTtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5zdG9yZS5nZXQoXCJNQU5VQUxfVU5TVUJTQ1JJQkVcIiwhMSldO2Nhc2UgMTpyZXR1cm4gb2xkVmFsdWU9X2Euc2VudCgpLFs0LHRoaXMuc3RvcmUuZ2V0KFwicGFyYW1zLmlzTWFudWFsVW5zdWJzY3JpYmVkXCIsITEpXTtjYXNlIDI6cmV0dXJuWzIsdm9pZCAwIT09KG5ld1ZhbHVlPV9hLnNlbnQoKSk/bmV3VmFsdWU6b2xkVmFsdWVdfX0pfSl9LERhdGEucHJvdG90eXBlLnNldFN0YXR1c0NvbW11bmljYXRpb25EaXNhYmxlZD1mdW5jdGlvbihzdGF0dXMpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuc3RvcmUuc2V0KFwiQ09NTVVOSUNBVElPTl9FTkFCTEVEXCIsc3RhdHVzPzA6MSldO2Nhc2UgMTpyZXR1cm4gX2Euc2VudCgpLFs0LHRoaXMuc3RvcmUuc2V0KFwicGFyYW1zLmlzQ29tbXVuaWNhdGlvbkRpc2FibGVkXCIsc3RhdHVzKV07Y2FzZSAyOnJldHVybiBfYS5zZW50KCksWzJdfX0pfSl9LERhdGEucHJvdG90eXBlLmdldFN0YXR1c0NvbW11bmljYXRpb25EaXNhYmxlZD1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIG9sZFZhbHVlLG5ld1ZhbHVlO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLnN0b3JlLmdldChcIkNPTU1VTklDQVRJT05fRU5BQkxFRFwiKV07Y2FzZSAxOnJldHVybiBvbGRWYWx1ZT1fYS5zZW50KCksWzQsdGhpcy5zdG9yZS5nZXQoXCJwYXJhbXMuaXNDb21tdW5pY2F0aW9uRGlzYWJsZWRcIiwhMSldO2Nhc2UgMjpyZXR1cm5bMix2b2lkIDAhPT0obmV3VmFsdWU9X2Euc2VudCgpKT9uZXdWYWx1ZTowPT1vbGRWYWx1ZV19fSl9KX0sRGF0YS5wcm90b3R5cGUuc2V0U3RhdHVzRHJvcEFsbERhdGE9ZnVuY3Rpb24oc3RhdHVzKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLnN0b3JlLnNldChcIkRFVklDRV9EQVRBX1JFTU9WRURcIixzdGF0dXMpXTtjYXNlIDE6cmV0dXJuIF9hLnNlbnQoKSxbNCx0aGlzLnN0b3JlLnNldChcInBhcmFtcy5pc0Ryb3BBbGxEYXRhXCIsc3RhdHVzKV07Y2FzZSAyOnJldHVybiBfYS5zZW50KCksWzJdfX0pfSl9LERhdGEucHJvdG90eXBlLmdldFN0YXR1c0Ryb3BBbGxEYXRhPWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgb2xkVmFsdWUsbmV3VmFsdWU7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuc3RvcmUuZ2V0KFwiREVWSUNFX0RBVEFfUkVNT1ZFRFwiLCExKV07Y2FzZSAxOnJldHVybiBvbGRWYWx1ZT1fYS5zZW50KCksWzQsdGhpcy5zdG9yZS5nZXQoXCJwYXJhbXMuaXNEcm9wQWxsRGF0YVwiLCExKV07Y2FzZSAyOnJldHVyblsyLHZvaWQgMCE9PShuZXdWYWx1ZT1fYS5zZW50KCkpP25ld1ZhbHVlOm9sZFZhbHVlXX19KX0pfSxEYXRhLnByb3RvdHlwZS5zZXRTZGtWZXJzaW9uPWZ1bmN0aW9uKHZlcnNpb24pe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuc3RvcmUuc2V0KFwicGFyYW1zLnNka1ZlcnNpb25cIix2ZXJzaW9uKV07Y2FzZSAxOnJldHVybiBfYS5zZW50KCksWzJdfX0pfSl9LERhdGEucHJvdG90eXBlLmdldFNka1ZlcnNpb249ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLnN0b3JlLmdldChcInBhcmFtcy5zZGtWZXJzaW9uXCIpXTtjYXNlIDE6cmV0dXJuWzIsX2Euc2VudCgpXX19KX0pfSxEYXRhLnByb3RvdHlwZS5zZXRTZXJ2aWNlV29ya2VyVmVyc2lvbj1mdW5jdGlvbih2ZXJzaW9uKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLnN0b3JlLnNldChcIldPUktFUl9WRVJTSU9OXCIsdmVyc2lvbildO2Nhc2UgMTpyZXR1cm4gX2Euc2VudCgpLFs0LHRoaXMuc3RvcmUuc2V0KFwicGFyYW1zLnNlcnZpY2VXb3JrZXJWZXJzaW9uXCIsdmVyc2lvbildO2Nhc2UgMjpyZXR1cm4gX2Euc2VudCgpLFsyXX19KX0pfSxEYXRhLnByb3RvdHlwZS5nZXRTZXJ2aWNlV29ya2VyVmVyc2lvbj1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIG9sZFZhbHVlLG5ld1ZhbHVlO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLnN0b3JlLmdldChcIldPUktFUl9WRVJTSU9OXCIpXTtjYXNlIDE6cmV0dXJuIG9sZFZhbHVlPV9hLnNlbnQoKSxbNCx0aGlzLnN0b3JlLmdldChcInBhcmFtcy5zZXJ2aWNlV29ya2VyVmVyc2lvblwiKV07Y2FzZSAyOnJldHVyblsyLHZvaWQgMCE9PShuZXdWYWx1ZT1fYS5zZW50KCkpP25ld1ZhbHVlOm9sZFZhbHVlXX19KX0pfSxEYXRhLnByb3RvdHlwZS5zZXRTZXJ2aWNlV29ya2VyVXJsPWZ1bmN0aW9uKHVybCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuIHVybD9bNCx0aGlzLnN0b3JlLnNldChcInBhcmFtcy5zZXJ2aWNlV29ya2VyVXJsXCIsdXJsKV06WzJdO2Nhc2UgMTpyZXR1cm4gX2Euc2VudCgpLFsyXX19KX0pfSxEYXRhLnByb3RvdHlwZS5nZXRTZXJ2aWNlV29ya2VyVXJsPWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5zdG9yZS5nZXQoXCJwYXJhbXMuc2VydmljZVdvcmtlclVybFwiLENPTlNUQU5UUy5ERUZBVUxUX1NFUlZJQ0VfV09SS0VSX1VSTCldO2Nhc2UgMTpyZXR1cm5bMixfYS5zZW50KCldfX0pfSl9LERhdGEucHJvdG90eXBlLnNldFNlcnZpY2VXb3JrZXJTY29wZT1mdW5jdGlvbihzY29wZSl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuIHNjb3BlP1s0LHRoaXMuc3RvcmUuc2V0KFwicGFyYW1zLnNlcnZpY2VXb3JrZXJTY29wZVwiLHNjb3BlKV06WzJdO2Nhc2UgMTpyZXR1cm4gX2Euc2VudCgpLFsyXX19KX0pfSxEYXRhLnByb3RvdHlwZS5nZXRTZXJ2aWNlV29ya2VyU2NvcGU9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLnN0b3JlLmdldChcInBhcmFtcy5zZXJ2aWNlV29ya2VyU2NvcGVcIildO2Nhc2UgMTpyZXR1cm5bMixfYS5zZW50KCldfX0pfSl9LERhdGEucHJvdG90eXBlLnNldExhc3RPcGVuTWVzc2FnZT1mdW5jdGlvbihtZXNzYWdlKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLnN0b3JlLnNldChcIkxBU1RfT1BFTl9NRVNTQUdFXCIsbWVzc2FnZSldO2Nhc2UgMTpyZXR1cm4gX2Euc2VudCgpLFs0LHRoaXMuc3RvcmUuc2V0KFwicGFyYW1zLmxhc3RPcGVuTWVzc2FnZVwiLG1lc3NhZ2UpXTtjYXNlIDI6cmV0dXJuIF9hLnNlbnQoKSxbMl19fSl9KX0sRGF0YS5wcm90b3R5cGUuZ2V0TGFzdE9wZW5NZXNzYWdlPWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgb2xkVmFsdWUsbmV3VmFsdWU7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuc3RvcmUuZ2V0KFwiTEFTVF9PUEVOX01FU1NBR0VcIildO2Nhc2UgMTpyZXR1cm4gb2xkVmFsdWU9X2Euc2VudCgpLFs0LHRoaXMuc3RvcmUuZ2V0KFwicGFyYW1zLmxhc3RPcGVuTWVzc2FnZVwiKV07Y2FzZSAyOnJldHVyblsyLHZvaWQgMCE9PShuZXdWYWx1ZT1fYS5zZW50KCkpP25ld1ZhbHVlOm9sZFZhbHVlXX19KX0pfSxEYXRhLnByb3RvdHlwZS5zZXRMYXN0T3BlbkFwcGxpY2F0aW9uVGltZT1mdW5jdGlvbih0aW1lKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLnN0b3JlLnNldChcInBhcmFtcy5sYXN0T3BlbkFwcGxpY2F0aW9uVGltZVwiLHRpbWUpXTtjYXNlIDE6cmV0dXJuIF9hLnNlbnQoKSxbMl19fSl9KX0sRGF0YS5wcm90b3R5cGUuZ2V0TGFzdE9wZW5BcHBsaWNhdGlvblRpbWU9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLnN0b3JlLmdldChcInBhcmFtcy5sYXN0T3BlbkFwcGxpY2F0aW9uVGltZVwiKV07Y2FzZSAxOnJldHVyblsyLF9hLnNlbnQoKV19fSl9KX0sRGF0YS5wcm90b3R5cGUuc2V0RmVhdHVyZXM9ZnVuY3Rpb24oZmVhdHVyZXMpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuc3RvcmUuc2V0KFwicGFyYW1zLmZlYXR1cmVzXCIsZmVhdHVyZXMpXTtjYXNlIDE6cmV0dXJuIF9hLnNlbnQoKSxbMl19fSl9KX0sRGF0YS5wcm90b3R5cGUuZ2V0RmVhdHVyZXM9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLnN0b3JlLmdldChcInBhcmFtcy5mZWF0dXJlc1wiKV07Y2FzZSAxOnJldHVyblsyLF9hLnNlbnQoKV19fSl9KX0sRGF0YS5wcm90b3R5cGUuc2V0SW5pdFBhcmFtcz1mdW5jdGlvbihwYXJhbXMpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuc3RvcmUuc2V0KFwicGFyYW1zLmluaXRcIixwYXJhbXMpXTtjYXNlIDE6cmV0dXJuIF9hLnNlbnQoKSxbMl19fSl9KX0sRGF0YS5wcm90b3R5cGUuZ2V0SW5pdFBhcmFtcz1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuc3RvcmUuZ2V0KFwicGFyYW1zLmluaXRcIildO2Nhc2UgMTpyZXR1cm5bMixfYS5zZW50KCldfX0pfSl9LERhdGEucHJvdG90eXBlLnNldEluYm94TGFzdFJlcXVlc3RDb2RlPWZ1bmN0aW9uKGxhc3RDb2RlKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLnN0b3JlLnNldChcInBhcmFtcy5pbmJveC5sYXN0UmVxdWVzdENvZGVcIixsYXN0Q29kZSldO2Nhc2UgMTpyZXR1cm4gX2Euc2VudCgpLFsyXX19KX0pfSxEYXRhLnByb3RvdHlwZS5nZXRJbmJveExhc3RSZXF1ZXN0Q29kZT1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuc3RvcmUuZ2V0KFwicGFyYW1zLmluYm94Lmxhc3RSZXF1ZXN0Q29kZVwiLFwiXCIpXTtjYXNlIDE6cmV0dXJuWzIsX2Euc2VudCgpXX19KX0pfSxEYXRhLnByb3RvdHlwZS5zZXRJbmJveExhc3RSZXF1ZXN0VGltZT1mdW5jdGlvbihsYXN0UmVxdWVzdFRpbWUpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuc3RvcmUuc2V0KFwicGFyYW1zLmluYm94Lmxhc3RSZXF1ZXN0VGltZVwiLGxhc3RSZXF1ZXN0VGltZSldO2Nhc2UgMTpyZXR1cm4gX2Euc2VudCgpLFsyXX19KX0pfSxEYXRhLnByb3RvdHlwZS5nZXRJbmJveExhc3RSZXF1ZXN0VGltZT1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3JldHVyblsyLHRoaXMuc3RvcmUuZ2V0KFwicGFyYW1zLmluYm94Lmxhc3RSZXF1ZXN0VGltZVwiLDApXX0pfSl9LERhdGEucHJvdG90eXBlLnNldEluYm94TmV3TWVzc2FnZXNDb3VudD1mdW5jdGlvbihjb3VudCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5zdG9yZS5zZXQoXCJwYXJhbXMuaW5ib3gubmV3TWVzc2FnZXNDb3VudFwiLGNvdW50KV07Y2FzZSAxOnJldHVybiBfYS5zZW50KCksWzJdfX0pfSl9LERhdGEucHJvdG90eXBlLmdldEluYm94TmV3TWVzc2FnZXNDb3VudD1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3JldHVyblsyLHRoaXMuc3RvcmUuZ2V0KFwicGFyYW1zLmluYm94Lm5ld01lc3NhZ2VzQ291bnRcIiwwKV19KX0pfSxEYXRhLnByb3RvdHlwZS5zZXREZWxheWVkRXZlbnQ9ZnVuY3Rpb24oZXZlbnQpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuc3RvcmUuc2V0KFwiREVMQVlFRF9FVkVOVFwiLGV2ZW50KV07Y2FzZSAxOnJldHVybiBfYS5zZW50KCksWzQsdGhpcy5zdG9yZS5zZXQoXCJwYXJhbXMuZGVsYXllZEV2ZW50XCIsZXZlbnQpXTtjYXNlIDI6cmV0dXJuIF9hLnNlbnQoKSxbMl19fSl9KX0sRGF0YS5wcm90b3R5cGUuZ2V0RGVsYXllZEV2ZW50PWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgb2xkVmFsdWUsbmV3VmFsdWU7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuc3RvcmUuZ2V0KFwiREVMQVlFRF9FVkVOVFwiKV07Y2FzZSAxOnJldHVybiBvbGRWYWx1ZT1fYS5zZW50KCksWzQsdGhpcy5zdG9yZS5nZXQoXCJwYXJhbXMuZGVsYXllZEV2ZW50XCIpXTtjYXNlIDI6cmV0dXJuWzIsdm9pZCAwIT09KG5ld1ZhbHVlPV9hLnNlbnQoKSk/bmV3VmFsdWU6b2xkVmFsdWVdfX0pfSl9LERhdGEucHJvdG90eXBlLnNldEluQXBwcz1mdW5jdGlvbihpbkFwcHMpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuc3RvcmUuc2V0KFwicGFyYW1zLmluQXBwc1wiLGluQXBwcyldO2Nhc2UgMTpyZXR1cm4gX2Euc2VudCgpLFsyXX19KX0pfSxEYXRhLnByb3RvdHlwZS5nZXRJbkFwcHM9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtyZXR1cm5bMix0aGlzLnN0b3JlLmdldChcInBhcmFtcy5pbkFwcHNcIildfSl9KX0sRGF0YS5wcm90b3R5cGUuc2V0UHJvbXB0RGlzcGxheUNvdW50PWZ1bmN0aW9uKGNvdW50KXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLnN0b3JlLnNldChcInBhcmFtcy5wcm9tcHREaXNwbGF5Q291bnRcIixjb3VudCldO2Nhc2UgMTpyZXR1cm4gX2Euc2VudCgpLFsyXX19KX0pfSxEYXRhLnByb3RvdHlwZS5nZXRQcm9tcHREaXNwbGF5Q291bnQ9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtyZXR1cm5bMix0aGlzLnN0b3JlLmdldChcInBhcmFtcy5wcm9tcHREaXNwbGF5Q291bnRcIiwwKV19KX0pfSxEYXRhLnByb3RvdHlwZS5zZXRQcm9tcHRMYXN0U2VlblRpbWU9ZnVuY3Rpb24odGltZSl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5zdG9yZS5zZXQoXCJwYXJhbXMucHJvbXB0TGFzdFNlZW5UaW1lXCIsdGltZSldO2Nhc2UgMTpyZXR1cm4gX2Euc2VudCgpLFsyXX19KX0pfSxEYXRhLnByb3RvdHlwZS5nZXRQcm9tcHRMYXN0U2VlblRpbWU9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtyZXR1cm5bMix0aGlzLnN0b3JlLmdldChcInBhcmFtcy5wcm9tcHRMYXN0U2VlblRpbWVcIiwwKV19KX0pfSxEYXRhfSgpO2V4cG9ydHMuRGF0YT1EYXRhfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjt2YXIgX19zcHJlYWRBcnJheXM9dGhpcyYmdGhpcy5fX3NwcmVhZEFycmF5c3x8ZnVuY3Rpb24oKXtmb3IodmFyIHM9MCxpPTAsaWw9YXJndW1lbnRzLmxlbmd0aDtpPGlsO2krKylzKz1hcmd1bWVudHNbaV0ubGVuZ3RoO3ZhciByPUFycmF5KHMpLGs9MDtmb3IoaT0wO2k8aWw7aSsrKWZvcih2YXIgYT1hcmd1bWVudHNbaV0saj0wLGpsPWEubGVuZ3RoO2o8amw7aisrLGsrKylyW2tdPWFbal07cmV0dXJuIHJ9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBzdG9yYWdlXzE9X193ZWJwYWNrX3JlcXVpcmVfXygyKSxsZXZlbHM9e2Vycm9yOjEsaW5mbzoyLGRlYnVnOjN9LGxpbWl0TGV2ZWw9MztfX3dlYnBhY2tfcmVxdWlyZV9fKDExKS5wYXRjaENvbnNvbGUoKTt2YXIgTG9nZ2VyPXtzZXRMZXZlbDpmdW5jdGlvbihsZXZlbCl7bGV2ZWxzW2xldmVsXXx8KGxldmVsPVwiZXJyb3JcIiksbGltaXRMZXZlbD1sZXZlbHNbbGV2ZWxdfSx3cml0ZTpmdW5jdGlvbih0eXBlLG1lc3NhZ2UsYWRkaXRpb25hbCl7cmV0dXJuXCJlcnJvclwiPT09dHlwZT90aGlzLmVycm9yKG1lc3NhZ2UpOnRoaXMuaW5mbyhtZXNzYWdlKSxzdG9yYWdlXzEubG9nLmFkZCh0eXBlLG1lc3NhZ2UsYWRkaXRpb25hbCl9fTtleHBvcnRzLkxvZ2dlcj1Mb2dnZXIsT2JqZWN0LmtleXMobGV2ZWxzKS5mb3JFYWNoKGZ1bmN0aW9uKGxldmVsTmFtZSl7dmFyIGxldmVsTnVtYmVyPWxldmVsc1tsZXZlbE5hbWVdO0xvZ2dlcltsZXZlbE5hbWVdPWZ1bmN0aW9uKCl7Zm9yKHZhciBhcmdzPVtdLF9pPTA7X2k8YXJndW1lbnRzLmxlbmd0aDtfaSsrKWFyZ3NbX2ldPWFyZ3VtZW50c1tfaV07bGV2ZWxOdW1iZXI8PWxpbWl0TGV2ZWwmJihjb25zb2xlLmdyb3VwQ29sbGFwc2VkKGxldmVsTmFtZSksY29uc29sZS5pbmZvLmFwcGx5KGNvbnNvbGUsX19zcHJlYWRBcnJheXMoW1wiXCJdLGFyZ3MpKSxjb25zb2xlLnRyYWNlKFwidHJhY2VcIiksY29uc29sZS5ncm91cEVuZCgpKX19KSxleHBvcnRzLmxvZ0FuZFRocm93RXJyb3I9ZnVuY3Rpb24oZXJyb3Ipe3ZhciBsb2dUZXh0PW5ldyBFcnJvcihlcnJvcik7dGhyb3cgTG9nZ2VyLndyaXRlKFwiZXJyb3JcIixsb2dUZXh0LFwibG9nQW5kVGhyb3dFcnJvclwiKSxsb2dUZXh0fSxleHBvcnRzLmxvZ0FuZFJlamVjdEVycm9yPWZ1bmN0aW9uKGVycm9yLHJlamVjdCl7dmFyIGxvZ1RleHQ9bmV3IEVycm9yKGVycm9yKTtMb2dnZXIud3JpdGUoXCJlcnJvclwiLGxvZ1RleHQsXCJsb2dBbmRSZWplY3RFcnJvclwiKSxyZWplY3QobG9nVGV4dCl9fSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgRGF0ZU1vZHVsZT1mdW5jdGlvbigpe2Z1bmN0aW9uIERhdGVNb2R1bGUoZGF0ZSl7dm9pZCAwPT09ZGF0ZSYmKGRhdGU9bmV3IERhdGUpLHRoaXMuX2RhdGU9ZGF0ZX1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KERhdGVNb2R1bGUucHJvdG90eXBlLFwiZGF0ZVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZGF0ZX0sc2V0OmZ1bmN0aW9uKGRhdGUpe3RoaXMuX2RhdGU9ZGF0ZX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxEYXRlTW9kdWxlLnByb3RvdHlwZS5nZXRVdGNUaW1lc3RhbXA9ZnVuY3Rpb24oKXtyZXR1cm4gTWF0aC5mbG9vcigodGhpcy5kYXRlLmdldFRpbWUoKSs2MCp0aGlzLmRhdGUuZ2V0VGltZXpvbmVPZmZzZXQoKSoxZTMpLzFlMyl9LERhdGVNb2R1bGUucHJvdG90eXBlLmdldFRpbWVzdGFtcD1mdW5jdGlvbigpe3JldHVybiBNYXRoLnJvdW5kKHRoaXMuZGF0ZS5nZXRUaW1lKCkvMWUzKX0sRGF0ZU1vZHVsZS5wcm90b3R5cGUuc2V0TG9jYWw9ZnVuY3Rpb24oKXt2YXIgbmV3RGF0ZVRpbWVzdGFtcD10aGlzLl9kYXRlLmdldFRpbWUoKS02MCp0aGlzLmRhdGUuZ2V0VGltZXpvbmVPZmZzZXQoKSoxZTM7dGhpcy5fZGF0ZT1uZXcgRGF0ZShuZXdEYXRlVGltZXN0YW1wKX0sRGF0ZU1vZHVsZS5wcm90b3R5cGUuYWRkRGF5cz1mdW5jdGlvbihkYXlzKXt2YXIgbmV3RGF0ZVRpbWVzdGFtcD10aGlzLl9kYXRlLmdldFRpbWUoKSsyNCpkYXlzKjYwKjYwKjFlMzt0aGlzLl9kYXRlPW5ldyBEYXRlKG5ld0RhdGVUaW1lc3RhbXApfSxEYXRlTW9kdWxlLnByb3RvdHlwZS5nZXRJbmJveEZha2VPcmRlcj1mdW5jdGlvbigpe3JldHVybigxMDAqdGhpcy5fZGF0ZS5nZXRUaW1lKCkrOWU5KS50b1N0cmluZygpfSxEYXRlTW9kdWxlfSgpO2V4cG9ydHMuZGVmYXVsdD1EYXRlTW9kdWxlfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjsoZnVuY3Rpb24oQnVmZmVyKXtpZihleHBvcnRzLmJhc2U2ND0hMCxleHBvcnRzLmFycmF5PSEwLGV4cG9ydHMuc3RyaW5nPSEwLGV4cG9ydHMuYXJyYXlidWZmZXI9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIEFycmF5QnVmZmVyJiZcInVuZGVmaW5lZFwiIT10eXBlb2YgVWludDhBcnJheSxleHBvcnRzLm5vZGVidWZmZXI9dm9pZCAwIT09QnVmZmVyLGV4cG9ydHMudWludDhhcnJheT1cInVuZGVmaW5lZFwiIT10eXBlb2YgVWludDhBcnJheSxcInVuZGVmaW5lZFwiPT10eXBlb2YgQXJyYXlCdWZmZXIpZXhwb3J0cy5ibG9iPSExO2Vsc2V7dmFyIGJ1ZmZlcj1uZXcgQXJyYXlCdWZmZXIoMCk7dHJ5e2V4cG9ydHMuYmxvYj0wPT09bmV3IEJsb2IoW2J1ZmZlcl0se3R5cGU6XCJhcHBsaWNhdGlvbi96aXBcIn0pLnNpemV9Y2F0Y2goZSl7dHJ5e3ZhciBidWlsZGVyPW5ldyhzZWxmLkJsb2JCdWlsZGVyfHxzZWxmLldlYktpdEJsb2JCdWlsZGVyfHxzZWxmLk1vekJsb2JCdWlsZGVyfHxzZWxmLk1TQmxvYkJ1aWxkZXIpO2J1aWxkZXIuYXBwZW5kKGJ1ZmZlciksZXhwb3J0cy5ibG9iPTA9PT1idWlsZGVyLmdldEJsb2IoXCJhcHBsaWNhdGlvbi96aXBcIikuc2l6ZX1jYXRjaChlKXtleHBvcnRzLmJsb2I9ITF9fX10cnl7ZXhwb3J0cy5ub2Rlc3RyZWFtPSEhX193ZWJwYWNrX3JlcXVpcmVfXyg1MikuUmVhZGFibGV9Y2F0Y2goZSl7ZXhwb3J0cy5ub2Rlc3RyZWFtPSExfX0pLmNhbGwodGhpcyxfX3dlYnBhY2tfcmVxdWlyZV9fKDI2KS5CdWZmZXIpfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjt2YXIgVFlQRURfT0s9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFVpbnQ4QXJyYXkmJlwidW5kZWZpbmVkXCIhPXR5cGVvZiBVaW50MTZBcnJheSYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIEludDMyQXJyYXk7ZnVuY3Rpb24gX2hhcyhvYmosa2V5KXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iaixrZXkpfWV4cG9ydHMuYXNzaWduPWZ1bmN0aW9uKG9iail7Zm9yKHZhciBzb3VyY2VzPUFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywxKTtzb3VyY2VzLmxlbmd0aDspe3ZhciBzb3VyY2U9c291cmNlcy5zaGlmdCgpO2lmKHNvdXJjZSl7aWYoXCJvYmplY3RcIiE9dHlwZW9mIHNvdXJjZSl0aHJvdyBuZXcgVHlwZUVycm9yKHNvdXJjZStcIm11c3QgYmUgbm9uLW9iamVjdFwiKTtmb3IodmFyIHAgaW4gc291cmNlKV9oYXMoc291cmNlLHApJiYob2JqW3BdPXNvdXJjZVtwXSl9fXJldHVybiBvYmp9LGV4cG9ydHMuc2hyaW5rQnVmPWZ1bmN0aW9uKGJ1ZixzaXplKXtyZXR1cm4gYnVmLmxlbmd0aD09PXNpemU/YnVmOmJ1Zi5zdWJhcnJheT9idWYuc3ViYXJyYXkoMCxzaXplKTooYnVmLmxlbmd0aD1zaXplLGJ1Zil9O3ZhciBmblR5cGVkPXthcnJheVNldDpmdW5jdGlvbihkZXN0LHNyYyxzcmNfb2ZmcyxsZW4sZGVzdF9vZmZzKXtpZihzcmMuc3ViYXJyYXkmJmRlc3Quc3ViYXJyYXkpZGVzdC5zZXQoc3JjLnN1YmFycmF5KHNyY19vZmZzLHNyY19vZmZzK2xlbiksZGVzdF9vZmZzKTtlbHNlIGZvcih2YXIgaT0wO2k8bGVuO2krKylkZXN0W2Rlc3Rfb2ZmcytpXT1zcmNbc3JjX29mZnMraV19LGZsYXR0ZW5DaHVua3M6ZnVuY3Rpb24oY2h1bmtzKXt2YXIgaSxsLGxlbixwb3MsY2h1bmsscmVzdWx0O2ZvcihsZW49MCxpPTAsbD1jaHVua3MubGVuZ3RoO2k8bDtpKyspbGVuKz1jaHVua3NbaV0ubGVuZ3RoO2ZvcihyZXN1bHQ9bmV3IFVpbnQ4QXJyYXkobGVuKSxwb3M9MCxpPTAsbD1jaHVua3MubGVuZ3RoO2k8bDtpKyspY2h1bms9Y2h1bmtzW2ldLHJlc3VsdC5zZXQoY2h1bmsscG9zKSxwb3MrPWNodW5rLmxlbmd0aDtyZXR1cm4gcmVzdWx0fX0sZm5VbnR5cGVkPXthcnJheVNldDpmdW5jdGlvbihkZXN0LHNyYyxzcmNfb2ZmcyxsZW4sZGVzdF9vZmZzKXtmb3IodmFyIGk9MDtpPGxlbjtpKyspZGVzdFtkZXN0X29mZnMraV09c3JjW3NyY19vZmZzK2ldfSxmbGF0dGVuQ2h1bmtzOmZ1bmN0aW9uKGNodW5rcyl7cmV0dXJuW10uY29uY2F0LmFwcGx5KFtdLGNodW5rcyl9fTtleHBvcnRzLnNldFR5cGVkPWZ1bmN0aW9uKG9uKXtvbj8oZXhwb3J0cy5CdWY4PVVpbnQ4QXJyYXksZXhwb3J0cy5CdWYxNj1VaW50MTZBcnJheSxleHBvcnRzLkJ1ZjMyPUludDMyQXJyYXksZXhwb3J0cy5hc3NpZ24oZXhwb3J0cyxmblR5cGVkKSk6KGV4cG9ydHMuQnVmOD1BcnJheSxleHBvcnRzLkJ1ZjE2PUFycmF5LGV4cG9ydHMuQnVmMzI9QXJyYXksZXhwb3J0cy5hc3NpZ24oZXhwb3J0cyxmblVudHlwZWQpKX0sZXhwb3J0cy5zZXRUeXBlZChUWVBFRF9PSyl9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBybmc9X193ZWJwYWNrX3JlcXVpcmVfXygzMSksYnl0ZXNUb1V1aWQ9X193ZWJwYWNrX3JlcXVpcmVfXygzMik7bW9kdWxlLmV4cG9ydHM9ZnVuY3Rpb24ob3B0aW9ucyxidWYsb2Zmc2V0KXt2YXIgaT1idWYmJm9mZnNldHx8MDtcInN0cmluZ1wiPT10eXBlb2Ygb3B0aW9ucyYmKGJ1Zj1cImJpbmFyeVwiPT09b3B0aW9ucz9uZXcgQXJyYXkoMTYpOm51bGwsb3B0aW9ucz1udWxsKTt2YXIgcm5kcz0ob3B0aW9ucz1vcHRpb25zfHx7fSkucmFuZG9tfHwob3B0aW9ucy5ybmd8fHJuZykoKTtpZihybmRzWzZdPTE1JnJuZHNbNl18NjQscm5kc1s4XT02MyZybmRzWzhdfDEyOCxidWYpZm9yKHZhciBpaT0wO2lpPDE2OysraWkpYnVmW2kraWldPXJuZHNbaWldO3JldHVybiBidWZ8fGJ5dGVzVG9VdWlkKHJuZHMpfX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZXhwb3J0cy5TVE9SRV9OQU1FX0tFWV9WQUxVRT1cImtleVZhbHVlXCIsZXhwb3J0cy5TVE9SRV9OQU1FX01FU1NBR0VfTE9HPVwibWVzc2FnZXNcIixleHBvcnRzLlNUT1JFX05BTUVfTUFJTl9MT0c9XCJsb2dcIixleHBvcnRzLlNUT1JFX05BTUVfSU5CT1hfTUVTU0FHRVM9XCJpbmJveE1lc3NhZ2VzXCIsZXhwb3J0cy5LRVlfUEFUSF9CQVNFX0lOQ1JFTUVOVD1cImlkXCJ9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO3ZhciBfX2Fzc2lnbj10aGlzJiZ0aGlzLl9fYXNzaWdufHxmdW5jdGlvbigpe3JldHVybihfX2Fzc2lnbj1PYmplY3QuYXNzaWdufHxmdW5jdGlvbih0KXtmb3IodmFyIHMsaT0xLG49YXJndW1lbnRzLmxlbmd0aDtpPG47aSsrKWZvcih2YXIgcCBpbiBzPWFyZ3VtZW50c1tpXSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocyxwKSYmKHRbcF09c1twXSk7cmV0dXJuIHR9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LF9fcmVzdD10aGlzJiZ0aGlzLl9fcmVzdHx8ZnVuY3Rpb24ocyxlKXt2YXIgdD17fTtmb3IodmFyIHAgaW4gcylPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocyxwKSYmZS5pbmRleE9mKHApPDAmJih0W3BdPXNbcF0pO2lmKG51bGwhPXMmJlwiZnVuY3Rpb25cIj09dHlwZW9mIE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpe3ZhciBpPTA7Zm9yKHA9T2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhzKTtpPHAubGVuZ3RoO2krKyllLmluZGV4T2YocFtpXSk8MCYmT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHMscFtpXSkmJih0W3BbaV1dPXNbcFtpXV0pfXJldHVybiB0fTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgc3RvcmFnZV8xPV9fd2VicGFja19yZXF1aXJlX18oMiksY29uc3RhbnRzXzE9X193ZWJwYWNrX3JlcXVpcmVfXygxKSxQbGF0Zm9ybUNoZWNrZXJfMT1fX3dlYnBhY2tfcmVxdWlyZV9fKDIyKTtmdW5jdGlvbiBnZXRHbG9iYWwoKXtyZXR1cm4gRnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpfWZ1bmN0aW9uIGNyZWF0ZVVVSUQocHVzaFRva2VuKXtmb3IodmFyIHM9XCJcIixpPTA7aTwzMjtpKyspe3ZhciBsPXB1c2hUb2tlbi5sZW5ndGgtaS0xLGNoYXJDb2RlPTA7bD49MCYmKGNoYXJDb2RlPXB1c2hUb2tlbi5jaGFyQ29kZUF0KGwpKSxzKz1cIjAxMjM0NTY3ODlhYmNkZWZcIi5zdWJzdHIoY2hhckNvZGUlXCIwMTIzNDU2Nzg5YWJjZGVmXCIubGVuZ3RoLDEpfXJldHVybiBzfWZ1bmN0aW9uIGdldEZha2VQdXNoVG9rZW4oKXtyZXR1cm4gbG9jYWxTdG9yYWdlLmdldEl0ZW0oY29uc3RhbnRzXzEuS0VZX0ZBS0VfUFVTSF9UT0tFTil9ZnVuY3Rpb24gZ2VuZXJhdGVGYWtlUHVzaFRva2VuKCl7dmFyIHRva2VuPWZ1bmN0aW9uKGxlbil7bGVuPWxlbnx8MzI7Zm9yKHZhciB0ZXh0PVwiXCIscG9zc2libGU9XCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OVwiLGk9MDtpPGxlbjtpKyspdGV4dCs9cG9zc2libGUuY2hhckF0KE1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSpwb3NzaWJsZS5sZW5ndGgpKTtyZXR1cm4gdGV4dH0oKTtyZXR1cm4gbG9jYWxTdG9yYWdlLnNldEl0ZW0oY29uc3RhbnRzXzEuS0VZX0ZBS0VfUFVTSF9UT0tFTix0b2tlbiksdG9rZW59ZnVuY3Rpb24gZ2V0U3Vic0tleShwdXNoU3Vic2NyaXB0aW9uLGtleSl7dmFyIHJhd0tleT1wdXNoU3Vic2NyaXB0aW9uJiZwdXNoU3Vic2NyaXB0aW9uLmdldEtleSYmcHVzaFN1YnNjcmlwdGlvbi5nZXRLZXkoa2V5KTtyZXR1cm4gcmF3S2V5P2J0b2EoU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcsbmV3IFVpbnQ4QXJyYXkocmF3S2V5KSkpOlwiXCJ9ZXhwb3J0cy5nZXRHbG9iYWw9Z2V0R2xvYmFsLGV4cG9ydHMuZ2V0VmVyc2lvbj1mdW5jdGlvbigpe3JldHVyblwiMy4xOC4yXCJ9LGV4cG9ydHMucGFyc2VTZXJpYWxpemVkTm90aWZpY2F0aW9uUGFyYW1zPWZ1bmN0aW9uKHBhcmFtLGRlZmF1bHRWYWx1ZSl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIHBhcmFtKXRyeXtyZXR1cm4gSlNPTi5wYXJzZShwYXJhbSl9Y2F0Y2goZSl7Y29uc29sZS5sb2coZSl9cmV0dXJuIHZvaWQgMD09PXBhcmFtJiZ2b2lkIDAhPT1kZWZhdWx0VmFsdWU/ZGVmYXVsdFZhbHVlOnBhcmFtfSxleHBvcnRzLnVybEI2NFRvVWludDhBcnJheT1mdW5jdGlvbihiYXNlNjRTdHJpbmcpe2Zvcih2YXIgYmFzZTY0PShiYXNlNjRTdHJpbmcrXCI9XCIucmVwZWF0KCg0LWJhc2U2NFN0cmluZy5sZW5ndGglNCklNCkpLnJlcGxhY2UoLy0vZyxcIitcIikucmVwbGFjZSgvXy9nLFwiL1wiKSxyYXdEYXRhPXdpbmRvdy5hdG9iKGJhc2U2NCksb3V0cHV0QXJyYXk9bmV3IFVpbnQ4QXJyYXkocmF3RGF0YS5sZW5ndGgpLGk9MDtpPHJhd0RhdGEubGVuZ3RoOysraSlvdXRwdXRBcnJheVtpXT1yYXdEYXRhLmNoYXJDb2RlQXQoaSk7cmV0dXJuIG91dHB1dEFycmF5fSxleHBvcnRzLmNyZWF0ZVVVSUQ9Y3JlYXRlVVVJRCxleHBvcnRzLmdlbmVyYXRlSHdpZD1mdW5jdGlvbihhcHBsaWNhdGlvbkNvZGUscHVzaFRva2VuKXtyZXR1cm4gYXBwbGljYXRpb25Db2RlK1wiX1wiK2NyZWF0ZVVVSUQocHVzaFRva2VuPWdldEZha2VQdXNoVG9rZW4oKXx8cHVzaFRva2VufHxnZW5lcmF0ZUZha2VQdXNoVG9rZW4oKSl9LGV4cG9ydHMuZ2V0RmFrZVB1c2hUb2tlbj1nZXRGYWtlUHVzaFRva2VuLGV4cG9ydHMuZ2VuZXJhdGVGYWtlUHVzaFRva2VuPWdlbmVyYXRlRmFrZVB1c2hUb2tlbixleHBvcnRzLmdldFB1c2hUb2tlbj1mdW5jdGlvbihwdXNoU3Vic2NyaXB0aW9uKXtyZXR1cm4gcHVzaFN1YnNjcmlwdGlvbj9wdXNoU3Vic2NyaXB0aW9uLnN1YnNjcmlwdGlvbklkP3B1c2hTdWJzY3JpcHRpb24uc3Vic2NyaXB0aW9uSWQ6MTI9PT1QbGF0Zm9ybUNoZWNrZXJfMS5kZWZhdWx0LnBsYXRmb3JtP3B1c2hTdWJzY3JpcHRpb24uZW5kcG9pbnQ6cHVzaFN1YnNjcmlwdGlvbi5lbmRwb2ludC5zcGxpdChcIi9cIikucG9wKCl8fFwiXCI6XCJcIn0sZXhwb3J0cy5nZXRGY21LZXk9ZnVuY3Rpb24ocHVzaFN1YnNjcmlwdGlvbixrZXkpe3JldHVybiBwdXNoU3Vic2NyaXB0aW9uP25ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUpe3N0b3JhZ2VfMS5rZXlWYWx1ZS5nZXQoY29uc3RhbnRzXzEuS0VZX0ZDTV9TVUJTQ1JJUFRJT04pLnRoZW4oZnVuY3Rpb24oZmNtU3Vic2NyaXB0aW9uKXtyZXNvbHZlKGZjbVN1YnNjcmlwdGlvbiYmZmNtU3Vic2NyaXB0aW9uW2tleV18fFwiXCIpfSkuY2F0Y2goZnVuY3Rpb24oKXtyZXNvbHZlKFwiXCIpfSl9KTpQcm9taXNlLnJlc29sdmUoXCJcIil9LGV4cG9ydHMuZ2V0QXV0aFRva2VuPWZ1bmN0aW9uKHB1c2hTdWJzY3JpcHRpb24pe3JldHVybiBnZXRTdWJzS2V5KHB1c2hTdWJzY3JpcHRpb24sXCJhdXRoXCIpfSxleHBvcnRzLmdldFB1YmxpY0tleT1mdW5jdGlvbihwdXNoU3Vic2NyaXB0aW9uKXtyZXR1cm4gZ2V0U3Vic0tleShwdXNoU3Vic2NyaXB0aW9uLFwicDI1NmRoXCIpfSxleHBvcnRzLmdldFB1c2h3b29zaFVybD1mdW5jdGlvbihhcHBsaWNhdGlvbkNvZGUpe3ZhciB1cmw9YXBwbGljYXRpb25Db2RlJiYhfmFwcGxpY2F0aW9uQ29kZS5pbmRleE9mKFwiLlwiKT9cImh0dHBzOi8vXCIrYXBwbGljYXRpb25Db2RlK1wiLmFwaS5wdXNod29vc2guY29tL2pzb24vMS4zL1wiOlwiaHR0cHM6Ly9jcC5wdXNod29vc2guY29tL2pzb24vMS4zL1wiO3JldHVybiBzdG9yYWdlXzEua2V5VmFsdWUuZ2V0KGNvbnN0YW50c18xLktFWV9BUElfQkFTRV9VUkwpLnRoZW4oZnVuY3Rpb24oYmFzZV91cmwpe3JldHVybiB2b2lkIDA9PT1iYXNlX3VybCYmKGJhc2VfdXJsPW51bGwpLGJhc2VfdXJsfHx1cmx9KS5jYXRjaChmdW5jdGlvbigpe3JldHVybiB1cmx9KX0sZXhwb3J0cy5wYXRjaENvbnNvbGU9ZnVuY3Rpb24oKXtmb3IodmFyIG1ldGhvZCxub29wPWZ1bmN0aW9uKCl7fSxtZXRob2RzPVtcImFzc2VydFwiLFwiY2xlYXJcIixcImNvdW50XCIsXCJkZWJ1Z1wiLFwiZGlyXCIsXCJkaXJ4bWxcIixcImVycm9yXCIsXCJleGNlcHRpb25cIixcImdyb3VwXCIsXCJncm91cENvbGxhcHNlZFwiLFwiZ3JvdXBFbmRcIixcImluZm9cIixcImxvZ1wiLFwibWFya1RpbWVsaW5lXCIsXCJwcm9maWxlXCIsXCJwcm9maWxlRW5kXCIsXCJ0YWJsZVwiLFwidGltZVwiLFwidGltZUVuZFwiLFwidGltZVN0YW1wXCIsXCJ0cmFjZVwiLFwid2FyblwiXSxsZW49bWV0aG9kcy5sZW5ndGgsZ2xvYmFsPWdldEdsb2JhbCgpLGNvbnNvbGU9Z2xvYmFsLmNvbnNvbGU9Z2xvYmFsLmNvbnNvbGV8fHt9O2xlbi0tOyljb25zb2xlW21ldGhvZD1tZXRob2RzW2xlbl1dfHwoY29uc29sZVttZXRob2RdPW5vb3ApfSxleHBvcnRzLmNsZWFyTG9jYXRpb25IYXNoPWZ1bmN0aW9uKCl7XCJoaXN0b3J5XCJpbiBnZXRHbG9iYWwoKSYmaGlzdG9yeS5wdXNoU3RhdGU/aGlzdG9yeS5wdXNoU3RhdGUobnVsbCxcIlwiLFwiI1wiKTpsb2NhdGlvbi5oYXNoPVwiI1wifSxleHBvcnRzLnZhbGlkYXRlUGFyYW1zPWZ1bmN0aW9uKHBhcmFtcyl7dmFyIHJlc3VsdD1fX3Jlc3QocGFyYW1zLFtdKTtyZXR1cm4gcmVzdWx0LnVzZXJJZCYmXCJ1c2VyX2lkXCI9PT1yZXN1bHQudXNlcklkJiZkZWxldGUgcmVzdWx0LnVzZXJJZCxyZXN1bHR9LGV4cG9ydHMuc2VuZEludGVybmFsUG9zdEV2ZW50PWZ1bmN0aW9uKHBhcmFtcyl7c3RvcmFnZV8xLmtleVZhbHVlLmdldChjb25zdGFudHNfMS5LRVlfSU5URVJOQUxfRVZFTlRTKS50aGVuKGZ1bmN0aW9uKGV2ZW50cyl7dmFyIF9hO3ZvaWQgMD09PWV2ZW50cyYmKGV2ZW50cz17fSksMD09PU9iamVjdC5rZXlzKGV2ZW50cykubGVuZ3RoJiZzdG9yYWdlXzEua2V5VmFsdWUuc2V0KGNvbnN0YW50c18xLktFWV9JTlRFUk5BTF9FVkVOVFMse30pO3ZhciBjdXJyZW50RGF0ZT0obmV3IERhdGUpLnNldEhvdXJzKDAsMCwwLDApLGRhdGVGcm9tU3RvcmU9ZXZlbnRzW3BhcmFtcy5ldmVudF07aWYoIWRhdGVGcm9tU3RvcmV8fGN1cnJlbnREYXRlPmRhdGVGcm9tU3RvcmUpe3N0b3JhZ2VfMS5rZXlWYWx1ZS5leHRlbmQoY29uc3RhbnRzXzEuS0VZX0lOVEVSTkFMX0VWRU5UUywoKF9hPXt9KVtwYXJhbXMuZXZlbnRdPWN1cnJlbnREYXRlLF9hKSk7dmFyIHhocj1uZXcgWE1MSHR0cFJlcXVlc3QscmVxdWVzdD1fX2Fzc2lnbih7YXBwbGljYXRpb246XCJERDI3NS0wNjk0N1wifSxwYXJhbXMpO3hoci5vcGVuKFwiUE9TVFwiLFwiaHR0cHM6Ly9jcC5wdXNod29vc2guY29tL2pzb24vMS4zL3Bvc3RFdmVudFwiLCEwKSx4aHIuc2V0UmVxdWVzdEhlYWRlcihcIkNvbnRlbnQtVHlwZVwiLFwidGV4dC9wbGFpbjtjaGFyc2V0PVVURi04XCIpLHhoci5zZW5kKEpTT04uc3RyaW5naWZ5KHtyZXF1ZXN0OnJlcXVlc3R9KSl9fSl9LGV4cG9ydHMuZ2VuZXJhdGVVVUlEPWZ1bmN0aW9uKCl7dmFyIGQ9KG5ldyBEYXRlKS5nZXRUaW1lKCk7cmV0dXJuXCJ1bmRlZmluZWRcIiE9dHlwZW9mIHBlcmZvcm1hbmNlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBwZXJmb3JtYW5jZS5ub3cmJihkKz1wZXJmb3JtYW5jZS5ub3coKSksXCJ4eHh4eHh4eC14eHh4LTR4eHgteXh4eC14eHh4eHh4eHh4eHhcIi5yZXBsYWNlKC9beHldL2csZnVuY3Rpb24oYyl7dmFyIHI9KGQrMTYqTWF0aC5yYW5kb20oKSklMTZ8MDtyZXR1cm4gZD1NYXRoLmZsb29yKGQvMTYpLChcInhcIj09PWM/cjozJnJ8OCkudG9TdHJpbmcoMTYpfSl9fSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjt2YXIgX19hc3NpZ249dGhpcyYmdGhpcy5fX2Fzc2lnbnx8ZnVuY3Rpb24oKXtyZXR1cm4oX19hc3NpZ249T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24odCl7Zm9yKHZhciBzLGk9MSxuPWFyZ3VtZW50cy5sZW5ndGg7aTxuO2krKylmb3IodmFyIHAgaW4gcz1hcmd1bWVudHNbaV0pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMscCkmJih0W3BdPXNbcF0pO3JldHVybiB0fSkuYXBwbHkodGhpcyxhcmd1bWVudHMpfTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgdXVpZD1fX3dlYnBhY2tfcmVxdWlyZV9fKDkpLENvbW1hbmRCdXNfdHlwZXNfMT1fX3dlYnBhY2tfcmVxdWlyZV9fKDI0KTtleHBvcnRzLlRDb21tYW5kcz1Db21tYW5kQnVzX3R5cGVzXzEuVENvbW1hbmRzO3ZhciBDb21tYW5kQnVzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gQ29tbWFuZEJ1cygpe3RoaXMub2JzZXJ2ZXJzPVtdfXJldHVybiBDb21tYW5kQnVzLmdldEluc3RhbmNlPWZ1bmN0aW9uKCl7cmV0dXJuIENvbW1hbmRCdXMuaW5zdGFuY2V8fChDb21tYW5kQnVzLmluc3RhbmNlPW5ldyBDb21tYW5kQnVzKSxDb21tYW5kQnVzLmluc3RhbmNlfSxDb21tYW5kQnVzLnByb3RvdHlwZS5vbj1mdW5jdGlvbihhcmcxLGNhbGxiYWNrKXt0aGlzLm9ic2VydmVycy5wdXNoKHtjb21tYW5kOmFyZzEsaGFuZGxlcjpjYWxsYmFja30pfSxDb21tYW5kQnVzLnByb3RvdHlwZS5lbWl0PWZ1bmN0aW9uKGFyZzEsYXJnMixhcmczKXt2YXIgY29tbWFuZElkPXV1aWQoKSxwYXJhbXM9e307XCJzdHJpbmdcIj09dHlwZW9mIGFyZzMmJihjb21tYW5kSWQ9YXJnMyksXCJzdHJpbmdcIj09dHlwZW9mIGFyZzImJihjb21tYW5kSWQ9YXJnMiksXCJvYmplY3RcIj09dHlwZW9mIGFyZzImJmFyZzImJihwYXJhbXM9YXJnMiksdGhpcy5vYnNlcnZlcnMuZm9yRWFjaChmdW5jdGlvbihvYnNlcnZlcil7b2JzZXJ2ZXIuY29tbWFuZD09PWFyZzEmJm9ic2VydmVyLmhhbmRsZXIoX19hc3NpZ24oe2NvbW1hbmRJZDpjb21tYW5kSWR9LHBhcmFtcykpfSl9LENvbW1hbmRCdXN9KCk7ZXhwb3J0cy5Db21tYW5kQnVzPUNvbW1hbmRCdXN9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO3ZhciBfX2Fzc2lnbj10aGlzJiZ0aGlzLl9fYXNzaWdufHxmdW5jdGlvbigpe3JldHVybihfX2Fzc2lnbj1PYmplY3QuYXNzaWdufHxmdW5jdGlvbih0KXtmb3IodmFyIHMsaT0xLG49YXJndW1lbnRzLmxlbmd0aDtpPG47aSsrKWZvcih2YXIgcCBpbiBzPWFyZ3VtZW50c1tpXSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocyxwKSYmKHRbcF09c1twXSk7cmV0dXJuIHR9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciB1dWlkPV9fd2VicGFja19yZXF1aXJlX18oOSksRXZlbnRCdXNfdHlwZXNfMT1fX3dlYnBhY2tfcmVxdWlyZV9fKDI1KTtleHBvcnRzLlRFdmVudHM9RXZlbnRCdXNfdHlwZXNfMS5URXZlbnRzO3ZhciBFdmVudEJ1cz1mdW5jdGlvbigpe2Z1bmN0aW9uIEV2ZW50QnVzKCl7dGhpcy5vYnNlcnZlcnM9W119cmV0dXJuIEV2ZW50QnVzLmdldEluc3RhbmNlPWZ1bmN0aW9uKCl7cmV0dXJuIEV2ZW50QnVzLmluc3RhbmNlfHwoRXZlbnRCdXMuaW5zdGFuY2U9bmV3IEV2ZW50QnVzKSxFdmVudEJ1cy5pbnN0YW5jZX0sRXZlbnRCdXMucHJvdG90eXBlLm9uPWZ1bmN0aW9uKGFyZzEsY2FsbGJhY2spe3RoaXMub2JzZXJ2ZXJzLnB1c2goe2V2ZW50OmFyZzEsaGFuZGxlcjpjYWxsYmFja30pfSxFdmVudEJ1cy5wcm90b3R5cGUuZW1pdD1mdW5jdGlvbihhcmcxLGFyZzIsYXJnMyl7dmFyIGV2ZW50SWQ9dXVpZCgpLHBhcmFtcz17fTtcInN0cmluZ1wiPT10eXBlb2YgYXJnMyYmKGV2ZW50SWQ9YXJnMyksXCJzdHJpbmdcIj09dHlwZW9mIGFyZzImJihldmVudElkPWFyZzIpLFwib2JqZWN0XCI9PXR5cGVvZiBhcmcyJiZhcmcyJiYocGFyYW1zPWFyZzIpLHRoaXMub2JzZXJ2ZXJzLmZvckVhY2goZnVuY3Rpb24ob2JzZXJ2ZXIpe29ic2VydmVyLmV2ZW50PT09YXJnMSYmb2JzZXJ2ZXIuaGFuZGxlcihfX2Fzc2lnbih7ZXZlbnRJZDpldmVudElkfSxwYXJhbXMpKX0pfSxFdmVudEJ1c30oKTtleHBvcnRzLkV2ZW50QnVzPUV2ZW50QnVzfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7dmFyIGc7Zz1mdW5jdGlvbigpe3JldHVybiB0aGlzfSgpO3RyeXtnPWd8fEZ1bmN0aW9uKFwicmV0dXJuIHRoaXNcIikoKXx8KDAsZXZhbCkoXCJ0aGlzXCIpfWNhdGNoKGUpe1wib2JqZWN0XCI9PXR5cGVvZiB3aW5kb3cmJihnPXdpbmRvdyl9bW9kdWxlLmV4cG9ydHM9Z30sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7dmFyIHBuYT1fX3dlYnBhY2tfcmVxdWlyZV9fKDMzKSxvYmplY3RLZXlzPU9iamVjdC5rZXlzfHxmdW5jdGlvbihvYmope3ZhciBrZXlzPVtdO2Zvcih2YXIga2V5IGluIG9iailrZXlzLnB1c2goa2V5KTtyZXR1cm4ga2V5c307bW9kdWxlLmV4cG9ydHM9RHVwbGV4O3ZhciB1dGlsPU9iamVjdC5jcmVhdGUoX193ZWJwYWNrX3JlcXVpcmVfXygyOCkpO3V0aWwuaW5oZXJpdHM9X193ZWJwYWNrX3JlcXVpcmVfXygxNyk7dmFyIFJlYWRhYmxlPV9fd2VicGFja19yZXF1aXJlX18oNTMpLFdyaXRhYmxlPV9fd2VicGFja19yZXF1aXJlX18oNDIpO3V0aWwuaW5oZXJpdHMoRHVwbGV4LFJlYWRhYmxlKTtmb3IodmFyIGtleXM9b2JqZWN0S2V5cyhXcml0YWJsZS5wcm90b3R5cGUpLHY9MDt2PGtleXMubGVuZ3RoO3YrKyl7dmFyIG1ldGhvZD1rZXlzW3ZdO0R1cGxleC5wcm90b3R5cGVbbWV0aG9kXXx8KER1cGxleC5wcm90b3R5cGVbbWV0aG9kXT1Xcml0YWJsZS5wcm90b3R5cGVbbWV0aG9kXSl9ZnVuY3Rpb24gRHVwbGV4KG9wdGlvbnMpe2lmKCEodGhpcyBpbnN0YW5jZW9mIER1cGxleCkpcmV0dXJuIG5ldyBEdXBsZXgob3B0aW9ucyk7UmVhZGFibGUuY2FsbCh0aGlzLG9wdGlvbnMpLFdyaXRhYmxlLmNhbGwodGhpcyxvcHRpb25zKSxvcHRpb25zJiYhMT09PW9wdGlvbnMucmVhZGFibGUmJih0aGlzLnJlYWRhYmxlPSExKSxvcHRpb25zJiYhMT09PW9wdGlvbnMud3JpdGFibGUmJih0aGlzLndyaXRhYmxlPSExKSx0aGlzLmFsbG93SGFsZk9wZW49ITAsb3B0aW9ucyYmITE9PT1vcHRpb25zLmFsbG93SGFsZk9wZW4mJih0aGlzLmFsbG93SGFsZk9wZW49ITEpLHRoaXMub25jZShcImVuZFwiLG9uZW5kKX1mdW5jdGlvbiBvbmVuZCgpe3RoaXMuYWxsb3dIYWxmT3Blbnx8dGhpcy5fd3JpdGFibGVTdGF0ZS5lbmRlZHx8cG5hLm5leHRUaWNrKG9uRW5kTlQsdGhpcyl9ZnVuY3Rpb24gb25FbmROVChzZWxmKXtzZWxmLmVuZCgpfU9iamVjdC5kZWZpbmVQcm9wZXJ0eShEdXBsZXgucHJvdG90eXBlLFwid3JpdGFibGVIaWdoV2F0ZXJNYXJrXCIse2VudW1lcmFibGU6ITEsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3dyaXRhYmxlU3RhdGUuaGlnaFdhdGVyTWFya319KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoRHVwbGV4LnByb3RvdHlwZSxcImRlc3Ryb3llZFwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdm9pZCAwIT09dGhpcy5fcmVhZGFibGVTdGF0ZSYmdm9pZCAwIT09dGhpcy5fd3JpdGFibGVTdGF0ZSYmKHRoaXMuX3JlYWRhYmxlU3RhdGUuZGVzdHJveWVkJiZ0aGlzLl93cml0YWJsZVN0YXRlLmRlc3Ryb3llZCl9LHNldDpmdW5jdGlvbih2YWx1ZSl7dm9pZCAwIT09dGhpcy5fcmVhZGFibGVTdGF0ZSYmdm9pZCAwIT09dGhpcy5fd3JpdGFibGVTdGF0ZSYmKHRoaXMuX3JlYWRhYmxlU3RhdGUuZGVzdHJveWVkPXZhbHVlLHRoaXMuX3dyaXRhYmxlU3RhdGUuZGVzdHJveWVkPXZhbHVlKX19KSxEdXBsZXgucHJvdG90eXBlLl9kZXN0cm95PWZ1bmN0aW9uKGVycixjYil7dGhpcy5wdXNoKG51bGwpLHRoaXMuZW5kKCkscG5hLm5leHRUaWNrKGNiLGVycil9fSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtmb3IodmFyIHV0aWxzPV9fd2VicGFja19yZXF1aXJlX18oMCksc3VwcG9ydD1fX3dlYnBhY2tfcmVxdWlyZV9fKDcpLG5vZGVqc1V0aWxzPV9fd2VicGFja19yZXF1aXJlX18oMzUpLEdlbmVyaWNXb3JrZXI9X193ZWJwYWNrX3JlcXVpcmVfXygzKSxfdXRmOGxlbj1uZXcgQXJyYXkoMjU2KSxpPTA7aTwyNTY7aSsrKV91dGY4bGVuW2ldPWk+PTI1Mj82Omk+PTI0OD81Omk+PTI0MD80Omk+PTIyND8zOmk+PTE5Mj8yOjE7X3V0ZjhsZW5bMjU0XT1fdXRmOGxlblsyNTRdPTE7ZnVuY3Rpb24gVXRmOERlY29kZVdvcmtlcigpe0dlbmVyaWNXb3JrZXIuY2FsbCh0aGlzLFwidXRmLTggZGVjb2RlXCIpLHRoaXMubGVmdE92ZXI9bnVsbH1mdW5jdGlvbiBVdGY4RW5jb2RlV29ya2VyKCl7R2VuZXJpY1dvcmtlci5jYWxsKHRoaXMsXCJ1dGYtOCBlbmNvZGVcIil9ZXhwb3J0cy51dGY4ZW5jb2RlPWZ1bmN0aW9uKHN0cil7cmV0dXJuIHN1cHBvcnQubm9kZWJ1ZmZlcj9ub2RlanNVdGlscy5uZXdCdWZmZXJGcm9tKHN0cixcInV0Zi04XCIpOmZ1bmN0aW9uKHN0cil7dmFyIGJ1ZixjLGMyLG1fcG9zLGksc3RyX2xlbj1zdHIubGVuZ3RoLGJ1Zl9sZW49MDtmb3IobV9wb3M9MDttX3BvczxzdHJfbGVuO21fcG9zKyspNTUyOTY9PSg2NDUxMiYoYz1zdHIuY2hhckNvZGVBdChtX3BvcykpKSYmbV9wb3MrMTxzdHJfbGVuJiY1NjMyMD09KDY0NTEyJihjMj1zdHIuY2hhckNvZGVBdChtX3BvcysxKSkpJiYoYz02NTUzNisoYy01NTI5Njw8MTApKyhjMi01NjMyMCksbV9wb3MrKyksYnVmX2xlbis9YzwxMjg/MTpjPDIwNDg/MjpjPDY1NTM2PzM6NDtmb3IoYnVmPXN1cHBvcnQudWludDhhcnJheT9uZXcgVWludDhBcnJheShidWZfbGVuKTpuZXcgQXJyYXkoYnVmX2xlbiksaT0wLG1fcG9zPTA7aTxidWZfbGVuO21fcG9zKyspNTUyOTY9PSg2NDUxMiYoYz1zdHIuY2hhckNvZGVBdChtX3BvcykpKSYmbV9wb3MrMTxzdHJfbGVuJiY1NjMyMD09KDY0NTEyJihjMj1zdHIuY2hhckNvZGVBdChtX3BvcysxKSkpJiYoYz02NTUzNisoYy01NTI5Njw8MTApKyhjMi01NjMyMCksbV9wb3MrKyksYzwxMjg/YnVmW2krK109YzpjPDIwNDg/KGJ1ZltpKytdPTE5MnxjPj4+NixidWZbaSsrXT0xMjh8NjMmYyk6Yzw2NTUzNj8oYnVmW2krK109MjI0fGM+Pj4xMixidWZbaSsrXT0xMjh8Yz4+PjYmNjMsYnVmW2krK109MTI4fDYzJmMpOihidWZbaSsrXT0yNDB8Yz4+PjE4LGJ1ZltpKytdPTEyOHxjPj4+MTImNjMsYnVmW2krK109MTI4fGM+Pj42JjYzLGJ1ZltpKytdPTEyOHw2MyZjKTtyZXR1cm4gYnVmfShzdHIpfSxleHBvcnRzLnV0ZjhkZWNvZGU9ZnVuY3Rpb24oYnVmKXtyZXR1cm4gc3VwcG9ydC5ub2RlYnVmZmVyP3V0aWxzLnRyYW5zZm9ybVRvKFwibm9kZWJ1ZmZlclwiLGJ1ZikudG9TdHJpbmcoXCJ1dGYtOFwiKTpmdW5jdGlvbihidWYpe3ZhciBpLG91dCxjLGNfbGVuLGxlbj1idWYubGVuZ3RoLHV0ZjE2YnVmPW5ldyBBcnJheSgyKmxlbik7Zm9yKG91dD0wLGk9MDtpPGxlbjspaWYoKGM9YnVmW2krK10pPDEyOCl1dGYxNmJ1ZltvdXQrK109YztlbHNlIGlmKChjX2xlbj1fdXRmOGxlbltjXSk+NCl1dGYxNmJ1ZltvdXQrK109NjU1MzMsaSs9Y19sZW4tMTtlbHNle2ZvcihjJj0yPT09Y19sZW4/MzE6Mz09PWNfbGVuPzE1Ojc7Y19sZW4+MSYmaTxsZW47KWM9Yzw8Nnw2MyZidWZbaSsrXSxjX2xlbi0tO2NfbGVuPjE/dXRmMTZidWZbb3V0KytdPTY1NTMzOmM8NjU1MzY/dXRmMTZidWZbb3V0KytdPWM6KGMtPTY1NTM2LHV0ZjE2YnVmW291dCsrXT01NTI5NnxjPj4xMCYxMDIzLHV0ZjE2YnVmW291dCsrXT01NjMyMHwxMDIzJmMpfXJldHVybiB1dGYxNmJ1Zi5sZW5ndGghPT1vdXQmJih1dGYxNmJ1Zi5zdWJhcnJheT91dGYxNmJ1Zj11dGYxNmJ1Zi5zdWJhcnJheSgwLG91dCk6dXRmMTZidWYubGVuZ3RoPW91dCksdXRpbHMuYXBwbHlGcm9tQ2hhckNvZGUodXRmMTZidWYpfShidWY9dXRpbHMudHJhbnNmb3JtVG8oc3VwcG9ydC51aW50OGFycmF5P1widWludDhhcnJheVwiOlwiYXJyYXlcIixidWYpKX0sdXRpbHMuaW5oZXJpdHMoVXRmOERlY29kZVdvcmtlcixHZW5lcmljV29ya2VyKSxVdGY4RGVjb2RlV29ya2VyLnByb3RvdHlwZS5wcm9jZXNzQ2h1bms9ZnVuY3Rpb24oY2h1bmspe3ZhciBkYXRhPXV0aWxzLnRyYW5zZm9ybVRvKHN1cHBvcnQudWludDhhcnJheT9cInVpbnQ4YXJyYXlcIjpcImFycmF5XCIsY2h1bmsuZGF0YSk7aWYodGhpcy5sZWZ0T3ZlciYmdGhpcy5sZWZ0T3Zlci5sZW5ndGgpe2lmKHN1cHBvcnQudWludDhhcnJheSl7dmFyIHByZXZpb3VzRGF0YT1kYXRhOyhkYXRhPW5ldyBVaW50OEFycmF5KHByZXZpb3VzRGF0YS5sZW5ndGgrdGhpcy5sZWZ0T3Zlci5sZW5ndGgpKS5zZXQodGhpcy5sZWZ0T3ZlciwwKSxkYXRhLnNldChwcmV2aW91c0RhdGEsdGhpcy5sZWZ0T3Zlci5sZW5ndGgpfWVsc2UgZGF0YT10aGlzLmxlZnRPdmVyLmNvbmNhdChkYXRhKTt0aGlzLmxlZnRPdmVyPW51bGx9dmFyIG5leHRCb3VuZGFyeT1mdW5jdGlvbihidWYsbWF4KXt2YXIgcG9zO2ZvcigobWF4PW1heHx8YnVmLmxlbmd0aCk+YnVmLmxlbmd0aCYmKG1heD1idWYubGVuZ3RoKSxwb3M9bWF4LTE7cG9zPj0wJiYxMjg9PSgxOTImYnVmW3Bvc10pOylwb3MtLTtyZXR1cm4gcG9zPDA/bWF4OjA9PT1wb3M/bWF4OnBvcytfdXRmOGxlbltidWZbcG9zXV0+bWF4P3BvczptYXh9KGRhdGEpLHVzYWJsZURhdGE9ZGF0YTtuZXh0Qm91bmRhcnkhPT1kYXRhLmxlbmd0aCYmKHN1cHBvcnQudWludDhhcnJheT8odXNhYmxlRGF0YT1kYXRhLnN1YmFycmF5KDAsbmV4dEJvdW5kYXJ5KSx0aGlzLmxlZnRPdmVyPWRhdGEuc3ViYXJyYXkobmV4dEJvdW5kYXJ5LGRhdGEubGVuZ3RoKSk6KHVzYWJsZURhdGE9ZGF0YS5zbGljZSgwLG5leHRCb3VuZGFyeSksdGhpcy5sZWZ0T3Zlcj1kYXRhLnNsaWNlKG5leHRCb3VuZGFyeSxkYXRhLmxlbmd0aCkpKSx0aGlzLnB1c2goe2RhdGE6ZXhwb3J0cy51dGY4ZGVjb2RlKHVzYWJsZURhdGEpLG1ldGE6Y2h1bmsubWV0YX0pfSxVdGY4RGVjb2RlV29ya2VyLnByb3RvdHlwZS5mbHVzaD1mdW5jdGlvbigpe3RoaXMubGVmdE92ZXImJnRoaXMubGVmdE92ZXIubGVuZ3RoJiYodGhpcy5wdXNoKHtkYXRhOmV4cG9ydHMudXRmOGRlY29kZSh0aGlzLmxlZnRPdmVyKSxtZXRhOnt9fSksdGhpcy5sZWZ0T3Zlcj1udWxsKX0sZXhwb3J0cy5VdGY4RGVjb2RlV29ya2VyPVV0ZjhEZWNvZGVXb3JrZXIsdXRpbHMuaW5oZXJpdHMoVXRmOEVuY29kZVdvcmtlcixHZW5lcmljV29ya2VyKSxVdGY4RW5jb2RlV29ya2VyLnByb3RvdHlwZS5wcm9jZXNzQ2h1bms9ZnVuY3Rpb24oY2h1bmspe3RoaXMucHVzaCh7ZGF0YTpleHBvcnRzLnV0ZjhlbmNvZGUoY2h1bmsuZGF0YSksbWV0YTpjaHVuay5tZXRhfSl9LGV4cG9ydHMuVXRmOEVuY29kZVdvcmtlcj1VdGY4RW5jb2RlV29ya2VyfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7XCJmdW5jdGlvblwiPT10eXBlb2YgT2JqZWN0LmNyZWF0ZT9tb2R1bGUuZXhwb3J0cz1mdW5jdGlvbihjdG9yLHN1cGVyQ3Rvcil7c3VwZXJDdG9yJiYoY3Rvci5zdXBlcl89c3VwZXJDdG9yLGN0b3IucHJvdG90eXBlPU9iamVjdC5jcmVhdGUoc3VwZXJDdG9yLnByb3RvdHlwZSx7Y29uc3RydWN0b3I6e3ZhbHVlOmN0b3IsZW51bWVyYWJsZTohMSx3cml0YWJsZTohMCxjb25maWd1cmFibGU6ITB9fSkpfTptb2R1bGUuZXhwb3J0cz1mdW5jdGlvbihjdG9yLHN1cGVyQ3Rvcil7aWYoc3VwZXJDdG9yKXtjdG9yLnN1cGVyXz1zdXBlckN0b3I7dmFyIFRlbXBDdG9yPWZ1bmN0aW9uKCl7fTtUZW1wQ3Rvci5wcm90b3R5cGU9c3VwZXJDdG9yLnByb3RvdHlwZSxjdG9yLnByb3RvdHlwZT1uZXcgVGVtcEN0b3IsY3Rvci5wcm90b3R5cGUuY29uc3RydWN0b3I9Y3Rvcn19fSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxleHBvcnRzLmRlZmF1bHQ9N30sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIE1pZ3JhdGlvbnNfMT1fX3dlYnBhY2tfcmVxdWlyZV9fKDM3KSxNaWdyYXRpb25FeGVjdXRvcj1mdW5jdGlvbigpe2Z1bmN0aW9uIE1pZ3JhdGlvbkV4ZWN1dG9yKGRiLG1pZ3JhdGlvbnNCdWlsZGVyKXt2b2lkIDA9PT1taWdyYXRpb25zQnVpbGRlciYmKG1pZ3JhdGlvbnNCdWlsZGVyPW5ldyBNaWdyYXRpb25zXzEuZGVmYXVsdCksdGhpcy5kYj1kYix0aGlzLm1pZ3JhdGlvbnNCdWlsZGVyPW1pZ3JhdGlvbnNCdWlsZGVyfXJldHVybiBNaWdyYXRpb25FeGVjdXRvci5wcm90b3R5cGUuYXBwbHlNaWdyYXRpb25zPWZ1bmN0aW9uKCl7dmFyIF90aGlzPXRoaXM7dGhpcy5hcHBseU1pZ3JhdGlvbnNQYWNrKHRoaXMubWlncmF0aW9uc0J1aWxkZXIuaW5pdGlhbCksdGhpcy5taWdyYXRpb25zQnVpbGRlci5kYXRlU29ydGVkLmZvckVhY2goZnVuY3Rpb24obWlncmF0aW9uc1BhY2spe190aGlzLmFwcGx5TWlncmF0aW9uc1BhY2sobWlncmF0aW9uc1BhY2spfSl9LE1pZ3JhdGlvbkV4ZWN1dG9yLnByb3RvdHlwZS5hcHBseU1pZ3JhdGlvbnNQYWNrPWZ1bmN0aW9uKG1pZ3JhdGlvbnNQYWNrKXt2YXIgX3RoaXM9dGhpczttaWdyYXRpb25zUGFjay5mb3JFYWNoKGZ1bmN0aW9uKG1pZ3JhdGlvbil7bWlncmF0aW9uKF90aGlzLmRiKX0pfSxNaWdyYXRpb25FeGVjdXRvcn0oKTtleHBvcnRzLmRlZmF1bHQ9TWlncmF0aW9uRXhlY3V0b3J9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGV4cG9ydHMuc3RvcmVDcmVhdG9yRGVjb3JhdG9yPWZ1bmN0aW9uKG5hbWUsc3RvcmVDcmVhdG9yKXtyZXR1cm4gZnVuY3Rpb24oZGF0YWJhc2Upe2RhdGFiYXNlLm9iamVjdFN0b3JlTmFtZXMuY29udGFpbnMobmFtZSl8fHN0b3JlQ3JlYXRvcihkYXRhYmFzZSl9fX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7dmFyIF9fYXdhaXRlcj10aGlzJiZ0aGlzLl9fYXdhaXRlcnx8ZnVuY3Rpb24odGhpc0FyZyxfYXJndW1lbnRzLFAsZ2VuZXJhdG9yKXtyZXR1cm4gbmV3KFB8fChQPVByb21pc2UpKShmdW5jdGlvbihyZXNvbHZlLHJlamVjdCl7ZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKXt0cnl7c3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpfWNhdGNoKGUpe3JlamVjdChlKX19ZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpe3RyeXtzdGVwKGdlbmVyYXRvci50aHJvdyh2YWx1ZSkpfWNhdGNoKGUpe3JlamVjdChlKX19ZnVuY3Rpb24gc3RlcChyZXN1bHQpe3Jlc3VsdC5kb25lP3Jlc29sdmUocmVzdWx0LnZhbHVlKTpmdW5jdGlvbih2YWx1ZSl7cmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUD92YWx1ZTpuZXcgUChmdW5jdGlvbihyZXNvbHZlKXtyZXNvbHZlKHZhbHVlKX0pfShyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLHJlamVjdGVkKX1zdGVwKChnZW5lcmF0b3I9Z2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsX2FyZ3VtZW50c3x8W10pKS5uZXh0KCkpfSl9LF9fZ2VuZXJhdG9yPXRoaXMmJnRoaXMuX19nZW5lcmF0b3J8fGZ1bmN0aW9uKHRoaXNBcmcsYm9keSl7dmFyIGYseSx0LGcsXz17bGFiZWw6MCxzZW50OmZ1bmN0aW9uKCl7aWYoMSZ0WzBdKXRocm93IHRbMV07cmV0dXJuIHRbMV19LHRyeXM6W10sb3BzOltdfTtyZXR1cm4gZz17bmV4dDp2ZXJiKDApLHRocm93OnZlcmIoMSkscmV0dXJuOnZlcmIoMil9LFwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmKGdbU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSksZztmdW5jdGlvbiB2ZXJiKG4pe3JldHVybiBmdW5jdGlvbih2KXtyZXR1cm4gZnVuY3Rpb24ob3Ape2lmKGYpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7Zm9yKDtfOyl0cnl7aWYoZj0xLHkmJih0PTImb3BbMF0/eS5yZXR1cm46b3BbMF0/eS50aHJvd3x8KCh0PXkucmV0dXJuKSYmdC5jYWxsKHkpLDApOnkubmV4dCkmJiEodD10LmNhbGwoeSxvcFsxXSkpLmRvbmUpcmV0dXJuIHQ7c3dpdGNoKHk9MCx0JiYob3A9WzImb3BbMF0sdC52YWx1ZV0pLG9wWzBdKXtjYXNlIDA6Y2FzZSAxOnQ9b3A7YnJlYWs7Y2FzZSA0OnJldHVybiBfLmxhYmVsKysse3ZhbHVlOm9wWzFdLGRvbmU6ITF9O2Nhc2UgNTpfLmxhYmVsKysseT1vcFsxXSxvcD1bMF07Y29udGludWU7Y2FzZSA3Om9wPV8ub3BzLnBvcCgpLF8udHJ5cy5wb3AoKTtjb250aW51ZTtkZWZhdWx0OmlmKCEodD0odD1fLnRyeXMpLmxlbmd0aD4wJiZ0W3QubGVuZ3RoLTFdKSYmKDY9PT1vcFswXXx8Mj09PW9wWzBdKSl7Xz0wO2NvbnRpbnVlfWlmKDM9PT1vcFswXSYmKCF0fHxvcFsxXT50WzBdJiZvcFsxXTx0WzNdKSl7Xy5sYWJlbD1vcFsxXTticmVha31pZig2PT09b3BbMF0mJl8ubGFiZWw8dFsxXSl7Xy5sYWJlbD10WzFdLHQ9b3A7YnJlYWt9aWYodCYmXy5sYWJlbDx0WzJdKXtfLmxhYmVsPXRbMl0sXy5vcHMucHVzaChvcCk7YnJlYWt9dFsyXSYmXy5vcHMucG9wKCksXy50cnlzLnBvcCgpO2NvbnRpbnVlfW9wPWJvZHkuY2FsbCh0aGlzQXJnLF8pfWNhdGNoKGUpe29wPVs2LGVdLHk9MH1maW5hbGx5e2Y9dD0wfWlmKDUmb3BbMF0pdGhyb3cgb3BbMV07cmV0dXJue3ZhbHVlOm9wWzBdP29wWzFdOnZvaWQgMCxkb25lOiEwfX0oW24sdl0pfX19O09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBEYXRhXzE9X193ZWJwYWNrX3JlcXVpcmVfXyg0KSxsb2dnZXJfMT1fX3dlYnBhY2tfcmVxdWlyZV9fKDUpLEFwaUNsaWVudD1mdW5jdGlvbigpe2Z1bmN0aW9uIEFwaUNsaWVudChkYXRhLGxvZ2dlcil7dm9pZCAwPT09ZGF0YSYmKGRhdGE9bmV3IERhdGFfMS5EYXRhKSx2b2lkIDA9PT1sb2dnZXImJihsb2dnZXI9bG9nZ2VyXzEuTG9nZ2VyKSx0aGlzLmRhdGE9ZGF0YSx0aGlzLmxvZ2dlcj1sb2dnZXJ9cmV0dXJuIEFwaUNsaWVudC5wcm90b3R5cGUuY2hlY2tEZXZpY2U9ZnVuY3Rpb24ob3B0aW9ucyl7cmV0dXJuIHRoaXMuY3JlYXRlUmVxdWVzdChcImNoZWNrRGV2aWNlXCIsb3B0aW9ucyl9LEFwaUNsaWVudC5wcm90b3R5cGUuZ2V0Q29uZmlnPWZ1bmN0aW9uKG9wdGlvbnMpe3JldHVybiB0aGlzLmNyZWF0ZVJlcXVlc3QoXCJnZXRDb25maWdcIixvcHRpb25zKX0sQXBpQ2xpZW50LnByb3RvdHlwZS5hcHBsaWNhdGlvbk9wZW49ZnVuY3Rpb24ob3B0aW9ucyl7cmV0dXJuIHRoaXMuY3JlYXRlUmVxdWVzdChcImFwcGxpY2F0aW9uT3BlblwiLG9wdGlvbnMpfSxBcGlDbGllbnQucHJvdG90eXBlLnJlZ2lzdGVyRGV2aWNlPWZ1bmN0aW9uKG9wdGlvbnMpe3JldHVybiB0aGlzLmNyZWF0ZVJlcXVlc3QoXCJyZWdpc3RlckRldmljZVwiLG9wdGlvbnMpfSxBcGlDbGllbnQucHJvdG90eXBlLnVucmVnaXN0ZXJEZXZpY2U9ZnVuY3Rpb24ob3B0aW9ucyl7cmV0dXJuIHRoaXMuY3JlYXRlUmVxdWVzdChcInVucmVnaXN0ZXJEZXZpY2VcIixvcHRpb25zKX0sQXBpQ2xpZW50LnByb3RvdHlwZS5kZWxldGVEZXZpY2U9ZnVuY3Rpb24ob3B0aW9ucyl7cmV0dXJuIHRoaXMuY3JlYXRlUmVxdWVzdChcImRlbGV0ZURldmljZVwiLG9wdGlvbnMpfSxBcGlDbGllbnQucHJvdG90eXBlLm1lc3NhZ2VEZWxpdmVyeUV2ZW50PWZ1bmN0aW9uKG9wdGlvbnMpe3JldHVybiB0aGlzLmNyZWF0ZVJlcXVlc3QoXCJtZXNzYWdlRGVsaXZlcnlFdmVudFwiLG9wdGlvbnMpfSxBcGlDbGllbnQucHJvdG90eXBlLnB1c2hTdGF0PWZ1bmN0aW9uKG9wdGlvbnMpe3JldHVybiB0aGlzLmNyZWF0ZVJlcXVlc3QoXCJwdXNoU3RhdFwiLG9wdGlvbnMpfSxBcGlDbGllbnQucHJvdG90eXBlLnNldFRhZ3M9ZnVuY3Rpb24ob3B0aW9ucyl7cmV0dXJuIHRoaXMuY3JlYXRlUmVxdWVzdChcInNldFRhZ3NcIixvcHRpb25zKX0sQXBpQ2xpZW50LnByb3RvdHlwZS5nZXRUYWdzPWZ1bmN0aW9uKG9wdGlvbnMpe3JldHVybiB0aGlzLmNyZWF0ZVJlcXVlc3QoXCJnZXRUYWdzXCIsb3B0aW9ucyl9LEFwaUNsaWVudC5wcm90b3R5cGUucmVnaXN0ZXJVc2VyPWZ1bmN0aW9uKG9wdGlvbnMpe3JldHVybiB0aGlzLmNyZWF0ZVJlcXVlc3QoXCJyZWdpc3RlclVzZXJcIixvcHRpb25zKX0sQXBpQ2xpZW50LnByb3RvdHlwZS5wb3N0RXZlbnQ9ZnVuY3Rpb24ob3B0aW9ucyl7cmV0dXJuIHRoaXMuY3JlYXRlUmVxdWVzdChcInBvc3RFdmVudFwiLG9wdGlvbnMpfSxBcGlDbGllbnQucHJvdG90eXBlLmdldEluYm94TWVzc2FnZXM9ZnVuY3Rpb24ob3B0aW9ucyl7cmV0dXJuIHRoaXMuY3JlYXRlUmVxdWVzdChcImdldEluYm94TWVzc2FnZXNcIixvcHRpb25zKX0sQXBpQ2xpZW50LnByb3RvdHlwZS5pbmJveFN0YXR1cz1mdW5jdGlvbihvcHRpb25zKXtyZXR1cm4gdGhpcy5jcmVhdGVSZXF1ZXN0KFwiaW5ib3hTdGF0dXNcIixvcHRpb25zKX0sQXBpQ2xpZW50LnByb3RvdHlwZS5wYWdlVmlzaXQ9ZnVuY3Rpb24ob3B0aW9ucyx1cmwpe3JldHVybiB0aGlzLmNyZWF0ZVJlcXVlc3QoXCJwYWdlVmlzaXRcIixvcHRpb25zLHVybCl9LEFwaUNsaWVudC5wcm90b3R5cGUuZ2V0SW5BcHBzPWZ1bmN0aW9uKG9wdGlvbnMpe3JldHVybiB0aGlzLmNyZWF0ZVJlcXVlc3QoXCJnZXRJbkFwcHNcIixvcHRpb25zKX0sQXBpQ2xpZW50LnByb3RvdHlwZS5zZXRQdXJjaGFzZT1mdW5jdGlvbihvcHRpb25zKXtyZXR1cm4gdGhpcy5jcmVhdGVSZXF1ZXN0KFwic2V0UHVyY2hhc2VcIixvcHRpb25zKX0sQXBpQ2xpZW50LnByb3RvdHlwZS5jcmVhdGVSZXF1ZXN0PWZ1bmN0aW9uKG1ldGhvZE5hbWUscmVxdWVzdCxjdXN0b21Vcmwpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGVudHJ5cG9pbnQscmVzcG9uc2UscmVzdWx0O3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLmRhdGEuZ2V0QXBpRW50cnlwb2ludCgpXTtjYXNlIDE6cmV0dXJuIGVudHJ5cG9pbnQ9X2Euc2VudCgpLFs0LGZldGNoKGN1c3RvbVVybHx8ZW50cnlwb2ludCttZXRob2ROYW1lLHttZXRob2Q6XCJQT1NUXCIsaGVhZGVyczp7XCJDb250ZW50LVR5cGVcIjpcInRleHQvcGxhaW47Y2hhcnNldD1VVEYtOFwifSxib2R5OkpTT04uc3RyaW5naWZ5KHtyZXF1ZXN0OnJlcXVlc3R9KX0pXTtjYXNlIDI6cmV0dXJuIHJlc3BvbnNlPV9hLnNlbnQoKSxbNCx0aGlzLmNoZWNrUmVzcG9uc2UocmVzcG9uc2UpXTtjYXNlIDM6cmV0dXJuKHJlc3VsdD1fYS5zZW50KCkpLmJhc2VfdXJsP1s0LHRoaXMuZGF0YS5zZXRBcGlFbnRyeXBvaW50KHJlc3VsdC5iYXNlX3VybCldOlszLDVdO2Nhc2UgNDpfYS5zZW50KCksX2EubGFiZWw9NTtjYXNlIDU6cmV0dXJuWzQsdGhpcy5sb2dnZXIud3JpdGUoXCJhcGlyZXF1ZXN0XCIsbWV0aG9kTmFtZStcIiBjYWxsIHdpdGggYXJndW1lbnRzOiBcIitKU09OLnN0cmluZ2lmeShyZXF1ZXN0KStcIiB0byBQdXNod29vc2ggaGFzIGJlZW4gc3VjY2Vzc2Z1bC4gUmVzdWx0OiBcIitKU09OLnN0cmluZ2lmeShyZXN1bHQucmVzcG9uc2UpKV07Y2FzZSA2OnJldHVybiBfYS5zZW50KCksWzIscmVzdWx0LnJlc3BvbnNlXX19KX0pfSxBcGlDbGllbnQucHJvdG90eXBlLmNoZWNrUmVzcG9uc2U9ZnVuY3Rpb24ocmVzcG9uc2Upe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGRhdGE7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOmlmKDIwMCE9PXJlc3BvbnNlLnN0YXR1cyl0aHJvdyBuZXcgRXJyb3IoXCJFcnJvciBjb2RlOiBcIityZXNwb25zZS5zdGF0dXMrXCIuIEVycm9yIHRleHQ6IFwiK3Jlc3BvbnNlLnN0YXR1c1RleHQpO3JldHVybls0LHJlc3BvbnNlLmpzb24oKV07Y2FzZSAxOmlmKDIwMCE9PShkYXRhPV9hLnNlbnQoKSkuc3RhdHVzX2NvZGUpdGhyb3cgbmV3IEVycm9yKFwiRXJyb3IgY29kZTogXCIrZGF0YS5zdGF0dXNfY29kZStcIi4gRXJyb3IgdGV4dDogXCIrZGF0YS5zdGF0dXNfbWVzc2FnZSk7cmV0dXJuWzIsZGF0YV19fSl9KX0sQXBpQ2xpZW50fSgpO2V4cG9ydHMuQXBpQ2xpZW50PUFwaUNsaWVudH0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIFBsYXRmb3JtQ2hlY2tlcl8xPV9fd2VicGFja19yZXF1aXJlX18oMjMpLFBsYXRmb3JtQ2hlY2tlcl8yPV9fd2VicGFja19yZXF1aXJlX18oMjMpO2V4cG9ydHMuUGxhdGZvcm1DaGVja2VyPVBsYXRmb3JtQ2hlY2tlcl8yLlBsYXRmb3JtQ2hlY2tlcixleHBvcnRzLmRlZmF1bHQ9UGxhdGZvcm1DaGVja2VyXzEucGxhdGZvcm1DaGVja2VyfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgUGxhdGZvcm1DaGVja2VyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gUGxhdGZvcm1DaGVja2VyKGdsb2JhbCl7dm9pZCAwPT09Z2xvYmFsJiYoZ2xvYmFsPXdpbmRvdyksdGhpcy5nbG9iYWw9Z2xvYmFsLHRoaXMuX2lzU2FmYXJpPXRoaXMuaXNTYWZhcmlCcm93c2VyKCksdGhpcy5faXNPcGVyYT10aGlzLmlzT3BlcmFCcm93c2VyKCksdGhpcy5faXNFZGdlPXRoaXMuaXNFZGdlQnJvd3NlcigpLHRoaXMuX2lzRmlyZWZveD10aGlzLmlzRmlyZWZveEJyb3dzZXIoKSx0aGlzLl9pc0Nocm9tZT10aGlzLmlzQ2hyb21lQnJvd3NlcigpLHRoaXMuX2lzTWFjT1M9dGhpcy5pc01hY09TKCksdGhpcy5faXNBdmFpbGFibGVQcm9taXNlPXRoaXMuY2FuVXNlUHJvbWlzZSgpLHRoaXMuX2lzQXZhaWxhYmxlU2VydmljZVdvcmtlcj10aGlzLmNhblVzZVNlcnZpY2VXb3JrZXJzKCksdGhpcy5faXNBdmFpbGFibGVOb3RpZmljYXRpb25zPXRoaXMuY2FuUmVjZWl2ZU5vdGlmaWNhdGlvbnMoKSx0aGlzLl9wbGF0Zm9ybT10aGlzLmdldFBsYXRmb3JtVHlwZSgpLHRoaXMuX2Jyb3dzZXJWZXJzaW9uPXRoaXMuZ2V0QnJvd3NlclZlcnNpb24oKX1yZXR1cm4gT2JqZWN0LmRlZmluZVByb3BlcnR5KFBsYXRmb3JtQ2hlY2tlci5wcm90b3R5cGUsXCJpc0VkZ2VcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lzRWRnZX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoUGxhdGZvcm1DaGVja2VyLnByb3RvdHlwZSxcImlzU2FmYXJpXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pc1NhZmFyaX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoUGxhdGZvcm1DaGVja2VyLnByb3RvdHlwZSxcImlzT3BlcmFcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lzT3BlcmF9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KFBsYXRmb3JtQ2hlY2tlci5wcm90b3R5cGUsXCJpc0F2YWlsYWJsZVByb21pc2VcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2lzQXZhaWxhYmxlUHJvbWlzZX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoUGxhdGZvcm1DaGVja2VyLnByb3RvdHlwZSxcImlzQXZhaWxhYmxlU2VydmljZVdvcmtlclwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faXNBdmFpbGFibGVTZXJ2aWNlV29ya2VyfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShQbGF0Zm9ybUNoZWNrZXIucHJvdG90eXBlLFwiaXNBdmFpbGFibGVOb3RpZmljYXRpb25zXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLl9pc0F2YWlsYWJsZU5vdGlmaWNhdGlvbnN9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KFBsYXRmb3JtQ2hlY2tlci5wcm90b3R5cGUsXCJwbGF0Zm9ybVwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fcGxhdGZvcm19LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksT2JqZWN0LmRlZmluZVByb3BlcnR5KFBsYXRmb3JtQ2hlY2tlci5wcm90b3R5cGUsXCJicm93c2VyVmVyc2lvblwiLHtnZXQ6ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fYnJvd3NlclZlcnNpb259LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksUGxhdGZvcm1DaGVja2VyLnByb3RvdHlwZS5pc1NhZmFyaUJyb3dzZXI9ZnVuY3Rpb24oKXtyZXR1cm5cInNhZmFyaVwiaW4gdGhpcy5nbG9iYWwmJm5hdmlnYXRvci51c2VyQWdlbnQuaW5kZXhPZihcIlNhZmFyaVwiKT4tMX0sUGxhdGZvcm1DaGVja2VyLnByb3RvdHlwZS5pc09wZXJhQnJvd3Nlcj1mdW5jdGlvbigpe3JldHVybi0xIT09bmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKFwiT3BlcmFcIil8fC0xIT09bmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKFwiT1BSXCIpfSxQbGF0Zm9ybUNoZWNrZXIucHJvdG90eXBlLmlzRWRnZUJyb3dzZXI9ZnVuY3Rpb24oKXtyZXR1cm4gbmF2aWdhdG9yLnVzZXJBZ2VudC5pbmRleE9mKFwiRWRnZVwiKT4tMX0sUGxhdGZvcm1DaGVja2VyLnByb3RvdHlwZS5pc0ZpcmVmb3hCcm93c2VyPWZ1bmN0aW9uKCl7cmV0dXJuLTEhPT1uYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkuaW5kZXhPZihcImZpcmVmb3hcIil9LFBsYXRmb3JtQ2hlY2tlci5wcm90b3R5cGUuaXNDaHJvbWVCcm93c2VyPWZ1bmN0aW9uKCl7cmV0dXJuL0Nocm9tZS8udGVzdChuYXZpZ2F0b3IudXNlckFnZW50KSYmL0dvb2dsZSBJbmMvLnRlc3QobmF2aWdhdG9yLnZlbmRvcikmJiF0aGlzLl9pc09wZXJhJiYhdGhpcy5faXNFZGdlfSxQbGF0Zm9ybUNoZWNrZXIucHJvdG90eXBlLmlzTWFjT1M9ZnVuY3Rpb24oKXtyZXR1cm5cInBsYXRmb3JtXCJpbiBuYXZpZ2F0b3ImJi0xIT09bmF2aWdhdG9yLnBsYXRmb3JtLnRvTG93ZXJDYXNlKCkuaW5kZXhPZihcIm1hY1wiKX0sUGxhdGZvcm1DaGVja2VyLnByb3RvdHlwZS5jYW5Vc2VTZXJ2aWNlV29ya2Vycz1mdW5jdGlvbigpe3JldHVybiEhbmF2aWdhdG9yLnNlcnZpY2VXb3JrZXImJlwiUHVzaE1hbmFnZXJcImluIHRoaXMuZ2xvYmFsJiZcIk5vdGlmaWNhdGlvblwiaW4gdGhpcy5nbG9iYWx9LFBsYXRmb3JtQ2hlY2tlci5wcm90b3R5cGUuY2FuVXNlUHJvbWlzZT1mdW5jdGlvbigpe3JldHVyblwiUHJvbWlzZVwiaW4gdGhpcy5nbG9iYWx9LFBsYXRmb3JtQ2hlY2tlci5wcm90b3R5cGUuY2FuUmVjZWl2ZU5vdGlmaWNhdGlvbnM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5faXNTYWZhcmkmJnRoaXMuX2lzTWFjT1N8fHRoaXMuX2lzQXZhaWxhYmxlU2VydmljZVdvcmtlciYmIXRoaXMuX2lzRWRnZX0sUGxhdGZvcm1DaGVja2VyLnByb3RvdHlwZS5nZXRQbGF0Zm9ybVR5cGU9ZnVuY3Rpb24oKXt2YXIgcGxhdGZvcm09MTE7c3dpdGNoKCEwKXtjYXNlIHRoaXMuX2lzU2FmYXJpOnBsYXRmb3JtPTEwO2JyZWFrO2Nhc2UgdGhpcy5faXNPcGVyYXx8dGhpcy5faXNDaHJvbWU6cGxhdGZvcm09MTE7YnJlYWs7Y2FzZSB0aGlzLl9pc0ZpcmVmb3g6cGxhdGZvcm09MTI7YnJlYWs7Y2FzZSB0aGlzLl9pc0VkZ2U6cGxhdGZvcm09MTUwfXJldHVybiBwbGF0Zm9ybX0sUGxhdGZvcm1DaGVja2VyLnByb3RvdHlwZS5nZXRCcm93c2VyVmVyc2lvbj1mdW5jdGlvbigpe3ZhciB1c2VyQWdlbnQ9bmF2aWdhdG9yLnVzZXJBZ2VudCxtYXRjaE9wZXJhVmVyc2lvbj11c2VyQWdlbnQubWF0Y2goL1xcYk9QUlxcLyhcXGQrKS8pO2lmKG51bGwhPT1tYXRjaE9wZXJhVmVyc2lvbilyZXR1cm5cIk9wZXJhIFwiK21hdGNoT3BlcmFWZXJzaW9uWzFdO3ZhciBtYXRjaEVkZ2VWZXJzaW9uPXVzZXJBZ2VudC5tYXRjaCgvXFxiRWRnZVxcLyhcXGQrKS8pO2lmKG51bGwhPT1tYXRjaEVkZ2VWZXJzaW9uKXJldHVyblwiRWRnZSBcIittYXRjaEVkZ2VWZXJzaW9uWzFdO3ZhciBtYXRjaD11c2VyQWdlbnQubWF0Y2goLyhvcGVyYXxjaHJvbWV8c2FmYXJpfGZpcmVmb3h8bXNpZXx0cmlkZW50KD89XFwvKSlcXC8/XFxzKihcXGQrKS9pKXx8W10sX2E9KG1hdGNoWzBdLG1hdGNoWzFdKSxicm93c2VyPXZvaWQgMD09PV9hP1wiXCI6X2E7aWYoL3RyaWRlbnQvaS50ZXN0KHVzZXJBZ2VudCkpe3ZhciBtYXRjaEllVmVyc2lvbj0vdHJpZGVudFxcLyhbLlxcZF0rKS9naS5leGVjKHVzZXJBZ2VudCl8fFtdO3JldHVyblwiSUUgXCIrKChcIjcuMFwiPT09bWF0Y2hJZVZlcnNpb25bMV0/XCIxMVwiOm1hdGNoSWVWZXJzaW9uWzFdKXx8XCJcIil9bWF0Y2g9bWF0Y2hbMl0/W2Jyb3dzZXIsbWF0Y2hbMl1dOltuYXZpZ2F0b3IuYXBwTmFtZSxuYXZpZ2F0b3IuYXBwVmVyc2lvbixcIi0/XCJdO3ZhciB2ZXJzaW9uPXVzZXJBZ2VudC5tYXRjaCgvdmVyc2lvblxcLyhbLlxcZF0rKS9pKTtyZXR1cm4gbnVsbCE9PXZlcnNpb24mJm1hdGNoLnNwbGljZSgxLDEsdmVyc2lvblsxXSksbWF0Y2guam9pbihcIiBcIil9LFBsYXRmb3JtQ2hlY2tlcn0oKTtleHBvcnRzLlBsYXRmb3JtQ2hlY2tlcj1QbGF0Zm9ybUNoZWNrZXIsZXhwb3J0cy5wbGF0Zm9ybUNoZWNrZXI9bmV3IFBsYXRmb3JtQ2hlY2tlcihGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCkpfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxmdW5jdGlvbihUQ29tbWFuZHMpe1RDb21tYW5kcy5TVUJTQ1JJQkU9XCJTVUJTQ1JJQkVcIixUQ29tbWFuZHMuVU5TVUJTQ1JJQkU9XCJVTlNVQlNDUklCRVwiLFRDb21tYW5kcy5HRVRfVEFHUz1cIkdFVF9UQUdTXCIsVENvbW1hbmRzLlNFVF9UQUdTPVwiU0VUX1RBR1NcIixUQ29tbWFuZHMuR0VUX0NIQU5ORUxTPVwiR0VUX0NIQU5ORUxTXCIsVENvbW1hbmRzLkNIRUNLX0lTX1NVQlNDUklCRUQ9XCJDSEVDS19JU19TVUJTQ1JJQkVEXCIsVENvbW1hbmRzLkNIRUNLX0lTX01BTlVBTF9VTlNVQlNDUklCRUQ9XCJDSEVDS19JU19NQU5VQUxfVU5TVUJTQ1JJQkVEXCIsVENvbW1hbmRzLkNMT1NFX0lOX0FQUD1cIkNMT1NFX0lOX0FQUFwiLFRDb21tYW5kcy5TSE9XX0lOX0FQUD1cIlNIT1dfSU5fQVBQXCIsVENvbW1hbmRzLk9QRU5fTkVXX0xJTks9XCJPUEVOX05FV19MSU5LXCIsVENvbW1hbmRzLlBPU1RfTUVTU0FHRV9UT19JRlJBTUU9XCJQT1NUX01FU1NBR0VfVE9fSUZSQU1FXCJ9KGV4cG9ydHMuVENvbW1hbmRzfHwoZXhwb3J0cy5UQ29tbWFuZHM9e30pKX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZnVuY3Rpb24oVEV2ZW50cyl7VEV2ZW50cy5TVUJTQ1JJQkU9XCJTVUJTQ1JJQkVcIixURXZlbnRzLlVOU1VCU0NSSUJFPVwiVU5TVUJTQ1JJQkVcIixURXZlbnRzLkdFVF9UQUdTPVwiR0VUX1RBR1NcIixURXZlbnRzLlNFVF9UQUdTPVwiU0VUX1RBR1NcIixURXZlbnRzLkdFVF9DSEFOTkVMUz1cIkdFVF9DSEFOTkVMU1wiLFRFdmVudHMuQ0hFQ0tfSVNfU1VCU0NSSUJFRD1cIkNIRUNLX0lTX1NVQlNDUklCRURcIixURXZlbnRzLkNIRUNLX0lTX01BTlVBTF9VTlNVQlNDUklCRUQ9XCJDSEVDS19JU19NQU5VQUxfVU5TVUJTQ1JJQkVEXCIsVEV2ZW50cy5TSE9XX05PVElGSUNBVElPTl9QRVJNSVNTSU9OX0RJQUxPRz1cIlNIT1dfTk9USUZJQ0FUSU9OX1BFUk1JU1NJT05fRElBTE9HXCIsVEV2ZW50cy5ISURFX05PVElGSUNBVElPTl9QRVJNSVNTSU9OX0RJQUxPRz1cIkhJREVfTk9USUZJQ0FUSU9OX1BFUk1JU1NJT05fRElBTE9HXCIsVEV2ZW50cy5JTklUX0lOX0FQUFNfTU9EVUxFPVwiSU5JVF9JTl9BUFBTX01PRFVMRVwifShleHBvcnRzLlRFdmVudHN8fChleHBvcnRzLlRFdmVudHM9e30pKX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7KGZ1bmN0aW9uKGdsb2JhbCl7XG4vKiFcbiAqIFRoZSBidWZmZXIgbW9kdWxlIGZyb20gbm9kZS5qcywgZm9yIHRoZSBicm93c2VyLlxuICpcbiAqIEBhdXRob3IgICBGZXJvc3MgQWJvdWtoYWRpamVoIDxodHRwOi8vZmVyb3NzLm9yZz5cbiAqIEBsaWNlbnNlICBNSVRcbiAqL1xudmFyIGJhc2U2ND1fX3dlYnBhY2tfcmVxdWlyZV9fKDg5KSxpZWVlNzU0PV9fd2VicGFja19yZXF1aXJlX18oOTApLGlzQXJyYXk9X193ZWJwYWNrX3JlcXVpcmVfXyg1MSk7ZnVuY3Rpb24ga01heExlbmd0aCgpe3JldHVybiBCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVD8yMTQ3NDgzNjQ3OjEwNzM3NDE4MjN9ZnVuY3Rpb24gY3JlYXRlQnVmZmVyKHRoYXQsbGVuZ3RoKXtpZihrTWF4TGVuZ3RoKCk8bGVuZ3RoKXRocm93IG5ldyBSYW5nZUVycm9yKFwiSW52YWxpZCB0eXBlZCBhcnJheSBsZW5ndGhcIik7cmV0dXJuIEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUPyh0aGF0PW5ldyBVaW50OEFycmF5KGxlbmd0aCkpLl9fcHJvdG9fXz1CdWZmZXIucHJvdG90eXBlOihudWxsPT09dGhhdCYmKHRoYXQ9bmV3IEJ1ZmZlcihsZW5ndGgpKSx0aGF0Lmxlbmd0aD1sZW5ndGgpLHRoYXR9ZnVuY3Rpb24gQnVmZmVyKGFyZyxlbmNvZGluZ09yT2Zmc2V0LGxlbmd0aCl7aWYoIShCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVHx8dGhpcyBpbnN0YW5jZW9mIEJ1ZmZlcikpcmV0dXJuIG5ldyBCdWZmZXIoYXJnLGVuY29kaW5nT3JPZmZzZXQsbGVuZ3RoKTtpZihcIm51bWJlclwiPT10eXBlb2YgYXJnKXtpZihcInN0cmluZ1wiPT10eXBlb2YgZW5jb2RpbmdPck9mZnNldCl0aHJvdyBuZXcgRXJyb3IoXCJJZiBlbmNvZGluZyBpcyBzcGVjaWZpZWQgdGhlbiB0aGUgZmlyc3QgYXJndW1lbnQgbXVzdCBiZSBhIHN0cmluZ1wiKTtyZXR1cm4gYWxsb2NVbnNhZmUodGhpcyxhcmcpfXJldHVybiBmcm9tKHRoaXMsYXJnLGVuY29kaW5nT3JPZmZzZXQsbGVuZ3RoKX1mdW5jdGlvbiBmcm9tKHRoYXQsdmFsdWUsZW5jb2RpbmdPck9mZnNldCxsZW5ndGgpe2lmKFwibnVtYmVyXCI9PXR5cGVvZiB2YWx1ZSl0aHJvdyBuZXcgVHlwZUVycm9yKCdcInZhbHVlXCIgYXJndW1lbnQgbXVzdCBub3QgYmUgYSBudW1iZXInKTtyZXR1cm5cInVuZGVmaW5lZFwiIT10eXBlb2YgQXJyYXlCdWZmZXImJnZhbHVlIGluc3RhbmNlb2YgQXJyYXlCdWZmZXI/ZnVuY3Rpb24odGhhdCxhcnJheSxieXRlT2Zmc2V0LGxlbmd0aCl7aWYoYXJyYXkuYnl0ZUxlbmd0aCxieXRlT2Zmc2V0PDB8fGFycmF5LmJ5dGVMZW5ndGg8Ynl0ZU9mZnNldCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIidvZmZzZXQnIGlzIG91dCBvZiBib3VuZHNcIik7aWYoYXJyYXkuYnl0ZUxlbmd0aDxieXRlT2Zmc2V0KyhsZW5ndGh8fDApKXRocm93IG5ldyBSYW5nZUVycm9yKFwiJ2xlbmd0aCcgaXMgb3V0IG9mIGJvdW5kc1wiKTthcnJheT12b2lkIDA9PT1ieXRlT2Zmc2V0JiZ2b2lkIDA9PT1sZW5ndGg/bmV3IFVpbnQ4QXJyYXkoYXJyYXkpOnZvaWQgMD09PWxlbmd0aD9uZXcgVWludDhBcnJheShhcnJheSxieXRlT2Zmc2V0KTpuZXcgVWludDhBcnJheShhcnJheSxieXRlT2Zmc2V0LGxlbmd0aCk7QnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQ/KHRoYXQ9YXJyYXkpLl9fcHJvdG9fXz1CdWZmZXIucHJvdG90eXBlOnRoYXQ9ZnJvbUFycmF5TGlrZSh0aGF0LGFycmF5KTtyZXR1cm4gdGhhdH0odGhhdCx2YWx1ZSxlbmNvZGluZ09yT2Zmc2V0LGxlbmd0aCk6XCJzdHJpbmdcIj09dHlwZW9mIHZhbHVlP2Z1bmN0aW9uKHRoYXQsc3RyaW5nLGVuY29kaW5nKXtcInN0cmluZ1wiPT10eXBlb2YgZW5jb2RpbmcmJlwiXCIhPT1lbmNvZGluZ3x8KGVuY29kaW5nPVwidXRmOFwiKTtpZighQnVmZmVyLmlzRW5jb2RpbmcoZW5jb2RpbmcpKXRocm93IG5ldyBUeXBlRXJyb3IoJ1wiZW5jb2RpbmdcIiBtdXN0IGJlIGEgdmFsaWQgc3RyaW5nIGVuY29kaW5nJyk7dmFyIGxlbmd0aD0wfGJ5dGVMZW5ndGgoc3RyaW5nLGVuY29kaW5nKSxhY3R1YWw9KHRoYXQ9Y3JlYXRlQnVmZmVyKHRoYXQsbGVuZ3RoKSkud3JpdGUoc3RyaW5nLGVuY29kaW5nKTthY3R1YWwhPT1sZW5ndGgmJih0aGF0PXRoYXQuc2xpY2UoMCxhY3R1YWwpKTtyZXR1cm4gdGhhdH0odGhhdCx2YWx1ZSxlbmNvZGluZ09yT2Zmc2V0KTpmdW5jdGlvbih0aGF0LG9iail7aWYoQnVmZmVyLmlzQnVmZmVyKG9iaikpe3ZhciBsZW49MHxjaGVja2VkKG9iai5sZW5ndGgpO3JldHVybiAwPT09KHRoYXQ9Y3JlYXRlQnVmZmVyKHRoYXQsbGVuKSkubGVuZ3RoP3RoYXQ6KG9iai5jb3B5KHRoYXQsMCwwLGxlbiksdGhhdCl9aWYob2JqKXtpZihcInVuZGVmaW5lZFwiIT10eXBlb2YgQXJyYXlCdWZmZXImJm9iai5idWZmZXIgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlcnx8XCJsZW5ndGhcImluIG9iailyZXR1cm5cIm51bWJlclwiIT10eXBlb2Ygb2JqLmxlbmd0aHx8ZnVuY3Rpb24odmFsKXtyZXR1cm4gdmFsIT12YWx9KG9iai5sZW5ndGgpP2NyZWF0ZUJ1ZmZlcih0aGF0LDApOmZyb21BcnJheUxpa2UodGhhdCxvYmopO2lmKFwiQnVmZmVyXCI9PT1vYmoudHlwZSYmaXNBcnJheShvYmouZGF0YSkpcmV0dXJuIGZyb21BcnJheUxpa2UodGhhdCxvYmouZGF0YSl9dGhyb3cgbmV3IFR5cGVFcnJvcihcIkZpcnN0IGFyZ3VtZW50IG11c3QgYmUgYSBzdHJpbmcsIEJ1ZmZlciwgQXJyYXlCdWZmZXIsIEFycmF5LCBvciBhcnJheS1saWtlIG9iamVjdC5cIil9KHRoYXQsdmFsdWUpfWZ1bmN0aW9uIGFzc2VydFNpemUoc2l6ZSl7aWYoXCJudW1iZXJcIiE9dHlwZW9mIHNpemUpdGhyb3cgbmV3IFR5cGVFcnJvcignXCJzaXplXCIgYXJndW1lbnQgbXVzdCBiZSBhIG51bWJlcicpO2lmKHNpemU8MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcignXCJzaXplXCIgYXJndW1lbnQgbXVzdCBub3QgYmUgbmVnYXRpdmUnKX1mdW5jdGlvbiBhbGxvY1Vuc2FmZSh0aGF0LHNpemUpe2lmKGFzc2VydFNpemUoc2l6ZSksdGhhdD1jcmVhdGVCdWZmZXIodGhhdCxzaXplPDA/MDowfGNoZWNrZWQoc2l6ZSkpLCFCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVClmb3IodmFyIGk9MDtpPHNpemU7KytpKXRoYXRbaV09MDtyZXR1cm4gdGhhdH1mdW5jdGlvbiBmcm9tQXJyYXlMaWtlKHRoYXQsYXJyYXkpe3ZhciBsZW5ndGg9YXJyYXkubGVuZ3RoPDA/MDowfGNoZWNrZWQoYXJyYXkubGVuZ3RoKTt0aGF0PWNyZWF0ZUJ1ZmZlcih0aGF0LGxlbmd0aCk7Zm9yKHZhciBpPTA7aTxsZW5ndGg7aSs9MSl0aGF0W2ldPTI1NSZhcnJheVtpXTtyZXR1cm4gdGhhdH1mdW5jdGlvbiBjaGVja2VkKGxlbmd0aCl7aWYobGVuZ3RoPj1rTWF4TGVuZ3RoKCkpdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJBdHRlbXB0IHRvIGFsbG9jYXRlIEJ1ZmZlciBsYXJnZXIgdGhhbiBtYXhpbXVtIHNpemU6IDB4XCIra01heExlbmd0aCgpLnRvU3RyaW5nKDE2KStcIiBieXRlc1wiKTtyZXR1cm4gMHxsZW5ndGh9ZnVuY3Rpb24gYnl0ZUxlbmd0aChzdHJpbmcsZW5jb2Rpbmcpe2lmKEJ1ZmZlci5pc0J1ZmZlcihzdHJpbmcpKXJldHVybiBzdHJpbmcubGVuZ3RoO2lmKFwidW5kZWZpbmVkXCIhPXR5cGVvZiBBcnJheUJ1ZmZlciYmXCJmdW5jdGlvblwiPT10eXBlb2YgQXJyYXlCdWZmZXIuaXNWaWV3JiYoQXJyYXlCdWZmZXIuaXNWaWV3KHN0cmluZyl8fHN0cmluZyBpbnN0YW5jZW9mIEFycmF5QnVmZmVyKSlyZXR1cm4gc3RyaW5nLmJ5dGVMZW5ndGg7XCJzdHJpbmdcIiE9dHlwZW9mIHN0cmluZyYmKHN0cmluZz1cIlwiK3N0cmluZyk7dmFyIGxlbj1zdHJpbmcubGVuZ3RoO2lmKDA9PT1sZW4pcmV0dXJuIDA7Zm9yKHZhciBsb3dlcmVkQ2FzZT0hMTs7KXN3aXRjaChlbmNvZGluZyl7Y2FzZVwiYXNjaWlcIjpjYXNlXCJsYXRpbjFcIjpjYXNlXCJiaW5hcnlcIjpyZXR1cm4gbGVuO2Nhc2VcInV0ZjhcIjpjYXNlXCJ1dGYtOFwiOmNhc2Ugdm9pZCAwOnJldHVybiB1dGY4VG9CeXRlcyhzdHJpbmcpLmxlbmd0aDtjYXNlXCJ1Y3MyXCI6Y2FzZVwidWNzLTJcIjpjYXNlXCJ1dGYxNmxlXCI6Y2FzZVwidXRmLTE2bGVcIjpyZXR1cm4gMipsZW47Y2FzZVwiaGV4XCI6cmV0dXJuIGxlbj4+PjE7Y2FzZVwiYmFzZTY0XCI6cmV0dXJuIGJhc2U2NFRvQnl0ZXMoc3RyaW5nKS5sZW5ndGg7ZGVmYXVsdDppZihsb3dlcmVkQ2FzZSlyZXR1cm4gdXRmOFRvQnl0ZXMoc3RyaW5nKS5sZW5ndGg7ZW5jb2Rpbmc9KFwiXCIrZW5jb2RpbmcpLnRvTG93ZXJDYXNlKCksbG93ZXJlZENhc2U9ITB9fWZ1bmN0aW9uIHN3YXAoYixuLG0pe3ZhciBpPWJbbl07YltuXT1iW21dLGJbbV09aX1mdW5jdGlvbiBiaWRpcmVjdGlvbmFsSW5kZXhPZihidWZmZXIsdmFsLGJ5dGVPZmZzZXQsZW5jb2RpbmcsZGlyKXtpZigwPT09YnVmZmVyLmxlbmd0aClyZXR1cm4tMTtpZihcInN0cmluZ1wiPT10eXBlb2YgYnl0ZU9mZnNldD8oZW5jb2Rpbmc9Ynl0ZU9mZnNldCxieXRlT2Zmc2V0PTApOmJ5dGVPZmZzZXQ+MjE0NzQ4MzY0Nz9ieXRlT2Zmc2V0PTIxNDc0ODM2NDc6Ynl0ZU9mZnNldDwtMjE0NzQ4MzY0OCYmKGJ5dGVPZmZzZXQ9LTIxNDc0ODM2NDgpLGJ5dGVPZmZzZXQ9K2J5dGVPZmZzZXQsaXNOYU4oYnl0ZU9mZnNldCkmJihieXRlT2Zmc2V0PWRpcj8wOmJ1ZmZlci5sZW5ndGgtMSksYnl0ZU9mZnNldDwwJiYoYnl0ZU9mZnNldD1idWZmZXIubGVuZ3RoK2J5dGVPZmZzZXQpLGJ5dGVPZmZzZXQ+PWJ1ZmZlci5sZW5ndGgpe2lmKGRpcilyZXR1cm4tMTtieXRlT2Zmc2V0PWJ1ZmZlci5sZW5ndGgtMX1lbHNlIGlmKGJ5dGVPZmZzZXQ8MCl7aWYoIWRpcilyZXR1cm4tMTtieXRlT2Zmc2V0PTB9aWYoXCJzdHJpbmdcIj09dHlwZW9mIHZhbCYmKHZhbD1CdWZmZXIuZnJvbSh2YWwsZW5jb2RpbmcpKSxCdWZmZXIuaXNCdWZmZXIodmFsKSlyZXR1cm4gMD09PXZhbC5sZW5ndGg/LTE6YXJyYXlJbmRleE9mKGJ1ZmZlcix2YWwsYnl0ZU9mZnNldCxlbmNvZGluZyxkaXIpO2lmKFwibnVtYmVyXCI9PXR5cGVvZiB2YWwpcmV0dXJuIHZhbCY9MjU1LEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBVaW50OEFycmF5LnByb3RvdHlwZS5pbmRleE9mP2Rpcj9VaW50OEFycmF5LnByb3RvdHlwZS5pbmRleE9mLmNhbGwoYnVmZmVyLHZhbCxieXRlT2Zmc2V0KTpVaW50OEFycmF5LnByb3RvdHlwZS5sYXN0SW5kZXhPZi5jYWxsKGJ1ZmZlcix2YWwsYnl0ZU9mZnNldCk6YXJyYXlJbmRleE9mKGJ1ZmZlcixbdmFsXSxieXRlT2Zmc2V0LGVuY29kaW5nLGRpcik7dGhyb3cgbmV3IFR5cGVFcnJvcihcInZhbCBtdXN0IGJlIHN0cmluZywgbnVtYmVyIG9yIEJ1ZmZlclwiKX1mdW5jdGlvbiBhcnJheUluZGV4T2YoYXJyLHZhbCxieXRlT2Zmc2V0LGVuY29kaW5nLGRpcil7dmFyIGksaW5kZXhTaXplPTEsYXJyTGVuZ3RoPWFyci5sZW5ndGgsdmFsTGVuZ3RoPXZhbC5sZW5ndGg7aWYodm9pZCAwIT09ZW5jb2RpbmcmJihcInVjczJcIj09PShlbmNvZGluZz1TdHJpbmcoZW5jb2RpbmcpLnRvTG93ZXJDYXNlKCkpfHxcInVjcy0yXCI9PT1lbmNvZGluZ3x8XCJ1dGYxNmxlXCI9PT1lbmNvZGluZ3x8XCJ1dGYtMTZsZVwiPT09ZW5jb2RpbmcpKXtpZihhcnIubGVuZ3RoPDJ8fHZhbC5sZW5ndGg8MilyZXR1cm4tMTtpbmRleFNpemU9MixhcnJMZW5ndGgvPTIsdmFsTGVuZ3RoLz0yLGJ5dGVPZmZzZXQvPTJ9ZnVuY3Rpb24gcmVhZChidWYsaSl7cmV0dXJuIDE9PT1pbmRleFNpemU/YnVmW2ldOmJ1Zi5yZWFkVUludDE2QkUoaSppbmRleFNpemUpfWlmKGRpcil7dmFyIGZvdW5kSW5kZXg9LTE7Zm9yKGk9Ynl0ZU9mZnNldDtpPGFyckxlbmd0aDtpKyspaWYocmVhZChhcnIsaSk9PT1yZWFkKHZhbCwtMT09PWZvdW5kSW5kZXg/MDppLWZvdW5kSW5kZXgpKXtpZigtMT09PWZvdW5kSW5kZXgmJihmb3VuZEluZGV4PWkpLGktZm91bmRJbmRleCsxPT09dmFsTGVuZ3RoKXJldHVybiBmb3VuZEluZGV4KmluZGV4U2l6ZX1lbHNlLTEhPT1mb3VuZEluZGV4JiYoaS09aS1mb3VuZEluZGV4KSxmb3VuZEluZGV4PS0xfWVsc2UgZm9yKGJ5dGVPZmZzZXQrdmFsTGVuZ3RoPmFyckxlbmd0aCYmKGJ5dGVPZmZzZXQ9YXJyTGVuZ3RoLXZhbExlbmd0aCksaT1ieXRlT2Zmc2V0O2k+PTA7aS0tKXtmb3IodmFyIGZvdW5kPSEwLGo9MDtqPHZhbExlbmd0aDtqKyspaWYocmVhZChhcnIsaStqKSE9PXJlYWQodmFsLGopKXtmb3VuZD0hMTticmVha31pZihmb3VuZClyZXR1cm4gaX1yZXR1cm4tMX1mdW5jdGlvbiBoZXhXcml0ZShidWYsc3RyaW5nLG9mZnNldCxsZW5ndGgpe29mZnNldD1OdW1iZXIob2Zmc2V0KXx8MDt2YXIgcmVtYWluaW5nPWJ1Zi5sZW5ndGgtb2Zmc2V0O2xlbmd0aD8obGVuZ3RoPU51bWJlcihsZW5ndGgpKT5yZW1haW5pbmcmJihsZW5ndGg9cmVtYWluaW5nKTpsZW5ndGg9cmVtYWluaW5nO3ZhciBzdHJMZW49c3RyaW5nLmxlbmd0aDtpZihzdHJMZW4lMiE9MCl0aHJvdyBuZXcgVHlwZUVycm9yKFwiSW52YWxpZCBoZXggc3RyaW5nXCIpO2xlbmd0aD5zdHJMZW4vMiYmKGxlbmd0aD1zdHJMZW4vMik7Zm9yKHZhciBpPTA7aTxsZW5ndGg7KytpKXt2YXIgcGFyc2VkPXBhcnNlSW50KHN0cmluZy5zdWJzdHIoMippLDIpLDE2KTtpZihpc05hTihwYXJzZWQpKXJldHVybiBpO2J1ZltvZmZzZXQraV09cGFyc2VkfXJldHVybiBpfWZ1bmN0aW9uIHV0ZjhXcml0ZShidWYsc3RyaW5nLG9mZnNldCxsZW5ndGgpe3JldHVybiBibGl0QnVmZmVyKHV0ZjhUb0J5dGVzKHN0cmluZyxidWYubGVuZ3RoLW9mZnNldCksYnVmLG9mZnNldCxsZW5ndGgpfWZ1bmN0aW9uIGFzY2lpV3JpdGUoYnVmLHN0cmluZyxvZmZzZXQsbGVuZ3RoKXtyZXR1cm4gYmxpdEJ1ZmZlcihmdW5jdGlvbihzdHIpe2Zvcih2YXIgYnl0ZUFycmF5PVtdLGk9MDtpPHN0ci5sZW5ndGg7KytpKWJ5dGVBcnJheS5wdXNoKDI1NSZzdHIuY2hhckNvZGVBdChpKSk7cmV0dXJuIGJ5dGVBcnJheX0oc3RyaW5nKSxidWYsb2Zmc2V0LGxlbmd0aCl9ZnVuY3Rpb24gbGF0aW4xV3JpdGUoYnVmLHN0cmluZyxvZmZzZXQsbGVuZ3RoKXtyZXR1cm4gYXNjaWlXcml0ZShidWYsc3RyaW5nLG9mZnNldCxsZW5ndGgpfWZ1bmN0aW9uIGJhc2U2NFdyaXRlKGJ1ZixzdHJpbmcsb2Zmc2V0LGxlbmd0aCl7cmV0dXJuIGJsaXRCdWZmZXIoYmFzZTY0VG9CeXRlcyhzdHJpbmcpLGJ1ZixvZmZzZXQsbGVuZ3RoKX1mdW5jdGlvbiB1Y3MyV3JpdGUoYnVmLHN0cmluZyxvZmZzZXQsbGVuZ3RoKXtyZXR1cm4gYmxpdEJ1ZmZlcihmdW5jdGlvbihzdHIsdW5pdHMpe2Zvcih2YXIgYyxoaSxsbyxieXRlQXJyYXk9W10saT0wO2k8c3RyLmxlbmd0aCYmISgodW5pdHMtPTIpPDApOysraSljPXN0ci5jaGFyQ29kZUF0KGkpLGhpPWM+PjgsbG89YyUyNTYsYnl0ZUFycmF5LnB1c2gobG8pLGJ5dGVBcnJheS5wdXNoKGhpKTtyZXR1cm4gYnl0ZUFycmF5fShzdHJpbmcsYnVmLmxlbmd0aC1vZmZzZXQpLGJ1ZixvZmZzZXQsbGVuZ3RoKX1mdW5jdGlvbiBiYXNlNjRTbGljZShidWYsc3RhcnQsZW5kKXtyZXR1cm4gMD09PXN0YXJ0JiZlbmQ9PT1idWYubGVuZ3RoP2Jhc2U2NC5mcm9tQnl0ZUFycmF5KGJ1Zik6YmFzZTY0LmZyb21CeXRlQXJyYXkoYnVmLnNsaWNlKHN0YXJ0LGVuZCkpfWZ1bmN0aW9uIHV0ZjhTbGljZShidWYsc3RhcnQsZW5kKXtlbmQ9TWF0aC5taW4oYnVmLmxlbmd0aCxlbmQpO2Zvcih2YXIgcmVzPVtdLGk9c3RhcnQ7aTxlbmQ7KXt2YXIgc2Vjb25kQnl0ZSx0aGlyZEJ5dGUsZm91cnRoQnl0ZSx0ZW1wQ29kZVBvaW50LGZpcnN0Qnl0ZT1idWZbaV0sY29kZVBvaW50PW51bGwsYnl0ZXNQZXJTZXF1ZW5jZT1maXJzdEJ5dGU+MjM5PzQ6Zmlyc3RCeXRlPjIyMz8zOmZpcnN0Qnl0ZT4xOTE/MjoxO2lmKGkrYnl0ZXNQZXJTZXF1ZW5jZTw9ZW5kKXN3aXRjaChieXRlc1BlclNlcXVlbmNlKXtjYXNlIDE6Zmlyc3RCeXRlPDEyOCYmKGNvZGVQb2ludD1maXJzdEJ5dGUpO2JyZWFrO2Nhc2UgMjoxMjg9PSgxOTImKHNlY29uZEJ5dGU9YnVmW2krMV0pKSYmKHRlbXBDb2RlUG9pbnQ9KDMxJmZpcnN0Qnl0ZSk8PDZ8NjMmc2Vjb25kQnl0ZSk+MTI3JiYoY29kZVBvaW50PXRlbXBDb2RlUG9pbnQpO2JyZWFrO2Nhc2UgMzpzZWNvbmRCeXRlPWJ1ZltpKzFdLHRoaXJkQnl0ZT1idWZbaSsyXSwxMjg9PSgxOTImc2Vjb25kQnl0ZSkmJjEyOD09KDE5MiZ0aGlyZEJ5dGUpJiYodGVtcENvZGVQb2ludD0oMTUmZmlyc3RCeXRlKTw8MTJ8KDYzJnNlY29uZEJ5dGUpPDw2fDYzJnRoaXJkQnl0ZSk+MjA0NyYmKHRlbXBDb2RlUG9pbnQ8NTUyOTZ8fHRlbXBDb2RlUG9pbnQ+NTczNDMpJiYoY29kZVBvaW50PXRlbXBDb2RlUG9pbnQpO2JyZWFrO2Nhc2UgNDpzZWNvbmRCeXRlPWJ1ZltpKzFdLHRoaXJkQnl0ZT1idWZbaSsyXSxmb3VydGhCeXRlPWJ1ZltpKzNdLDEyOD09KDE5MiZzZWNvbmRCeXRlKSYmMTI4PT0oMTkyJnRoaXJkQnl0ZSkmJjEyOD09KDE5MiZmb3VydGhCeXRlKSYmKHRlbXBDb2RlUG9pbnQ9KDE1JmZpcnN0Qnl0ZSk8PDE4fCg2MyZzZWNvbmRCeXRlKTw8MTJ8KDYzJnRoaXJkQnl0ZSk8PDZ8NjMmZm91cnRoQnl0ZSk+NjU1MzUmJnRlbXBDb2RlUG9pbnQ8MTExNDExMiYmKGNvZGVQb2ludD10ZW1wQ29kZVBvaW50KX1udWxsPT09Y29kZVBvaW50Pyhjb2RlUG9pbnQ9NjU1MzMsYnl0ZXNQZXJTZXF1ZW5jZT0xKTpjb2RlUG9pbnQ+NjU1MzUmJihjb2RlUG9pbnQtPTY1NTM2LHJlcy5wdXNoKGNvZGVQb2ludD4+PjEwJjEwMjN8NTUyOTYpLGNvZGVQb2ludD01NjMyMHwxMDIzJmNvZGVQb2ludCkscmVzLnB1c2goY29kZVBvaW50KSxpKz1ieXRlc1BlclNlcXVlbmNlfXJldHVybiBmdW5jdGlvbihjb2RlUG9pbnRzKXt2YXIgbGVuPWNvZGVQb2ludHMubGVuZ3RoO2lmKGxlbjw9TUFYX0FSR1VNRU5UU19MRU5HVEgpcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkoU3RyaW5nLGNvZGVQb2ludHMpO3ZhciByZXM9XCJcIixpPTA7Zm9yKDtpPGxlbjspcmVzKz1TdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KFN0cmluZyxjb2RlUG9pbnRzLnNsaWNlKGksaSs9TUFYX0FSR1VNRU5UU19MRU5HVEgpKTtyZXR1cm4gcmVzfShyZXMpfWV4cG9ydHMuQnVmZmVyPUJ1ZmZlcixleHBvcnRzLlNsb3dCdWZmZXI9ZnVuY3Rpb24obGVuZ3RoKXsrbGVuZ3RoIT1sZW5ndGgmJihsZW5ndGg9MCk7cmV0dXJuIEJ1ZmZlci5hbGxvYygrbGVuZ3RoKX0sZXhwb3J0cy5JTlNQRUNUX01BWF9CWVRFUz01MCxCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVD12b2lkIDAhPT1nbG9iYWwuVFlQRURfQVJSQVlfU1VQUE9SVD9nbG9iYWwuVFlQRURfQVJSQVlfU1VQUE9SVDpmdW5jdGlvbigpe3RyeXt2YXIgYXJyPW5ldyBVaW50OEFycmF5KDEpO3JldHVybiBhcnIuX19wcm90b19fPXtfX3Byb3RvX186VWludDhBcnJheS5wcm90b3R5cGUsZm9vOmZ1bmN0aW9uKCl7cmV0dXJuIDQyfX0sNDI9PT1hcnIuZm9vKCkmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGFyci5zdWJhcnJheSYmMD09PWFyci5zdWJhcnJheSgxLDEpLmJ5dGVMZW5ndGh9Y2F0Y2goZSl7cmV0dXJuITF9fSgpLGV4cG9ydHMua01heExlbmd0aD1rTWF4TGVuZ3RoKCksQnVmZmVyLnBvb2xTaXplPTgxOTIsQnVmZmVyLl9hdWdtZW50PWZ1bmN0aW9uKGFycil7cmV0dXJuIGFyci5fX3Byb3RvX189QnVmZmVyLnByb3RvdHlwZSxhcnJ9LEJ1ZmZlci5mcm9tPWZ1bmN0aW9uKHZhbHVlLGVuY29kaW5nT3JPZmZzZXQsbGVuZ3RoKXtyZXR1cm4gZnJvbShudWxsLHZhbHVlLGVuY29kaW5nT3JPZmZzZXQsbGVuZ3RoKX0sQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQmJihCdWZmZXIucHJvdG90eXBlLl9fcHJvdG9fXz1VaW50OEFycmF5LnByb3RvdHlwZSxCdWZmZXIuX19wcm90b19fPVVpbnQ4QXJyYXksXCJ1bmRlZmluZWRcIiE9dHlwZW9mIFN5bWJvbCYmU3ltYm9sLnNwZWNpZXMmJkJ1ZmZlcltTeW1ib2wuc3BlY2llc109PT1CdWZmZXImJk9iamVjdC5kZWZpbmVQcm9wZXJ0eShCdWZmZXIsU3ltYm9sLnNwZWNpZXMse3ZhbHVlOm51bGwsY29uZmlndXJhYmxlOiEwfSkpLEJ1ZmZlci5hbGxvYz1mdW5jdGlvbihzaXplLGZpbGwsZW5jb2Rpbmcpe3JldHVybiBmdW5jdGlvbih0aGF0LHNpemUsZmlsbCxlbmNvZGluZyl7cmV0dXJuIGFzc2VydFNpemUoc2l6ZSksc2l6ZTw9MD9jcmVhdGVCdWZmZXIodGhhdCxzaXplKTp2b2lkIDAhPT1maWxsP1wic3RyaW5nXCI9PXR5cGVvZiBlbmNvZGluZz9jcmVhdGVCdWZmZXIodGhhdCxzaXplKS5maWxsKGZpbGwsZW5jb2RpbmcpOmNyZWF0ZUJ1ZmZlcih0aGF0LHNpemUpLmZpbGwoZmlsbCk6Y3JlYXRlQnVmZmVyKHRoYXQsc2l6ZSl9KG51bGwsc2l6ZSxmaWxsLGVuY29kaW5nKX0sQnVmZmVyLmFsbG9jVW5zYWZlPWZ1bmN0aW9uKHNpemUpe3JldHVybiBhbGxvY1Vuc2FmZShudWxsLHNpemUpfSxCdWZmZXIuYWxsb2NVbnNhZmVTbG93PWZ1bmN0aW9uKHNpemUpe3JldHVybiBhbGxvY1Vuc2FmZShudWxsLHNpemUpfSxCdWZmZXIuaXNCdWZmZXI9ZnVuY3Rpb24oYil7cmV0dXJuIShudWxsPT1ifHwhYi5faXNCdWZmZXIpfSxCdWZmZXIuY29tcGFyZT1mdW5jdGlvbihhLGIpe2lmKCFCdWZmZXIuaXNCdWZmZXIoYSl8fCFCdWZmZXIuaXNCdWZmZXIoYikpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkFyZ3VtZW50cyBtdXN0IGJlIEJ1ZmZlcnNcIik7aWYoYT09PWIpcmV0dXJuIDA7Zm9yKHZhciB4PWEubGVuZ3RoLHk9Yi5sZW5ndGgsaT0wLGxlbj1NYXRoLm1pbih4LHkpO2k8bGVuOysraSlpZihhW2ldIT09YltpXSl7eD1hW2ldLHk9YltpXTticmVha31yZXR1cm4geDx5Py0xOnk8eD8xOjB9LEJ1ZmZlci5pc0VuY29kaW5nPWZ1bmN0aW9uKGVuY29kaW5nKXtzd2l0Y2goU3RyaW5nKGVuY29kaW5nKS50b0xvd2VyQ2FzZSgpKXtjYXNlXCJoZXhcIjpjYXNlXCJ1dGY4XCI6Y2FzZVwidXRmLThcIjpjYXNlXCJhc2NpaVwiOmNhc2VcImxhdGluMVwiOmNhc2VcImJpbmFyeVwiOmNhc2VcImJhc2U2NFwiOmNhc2VcInVjczJcIjpjYXNlXCJ1Y3MtMlwiOmNhc2VcInV0ZjE2bGVcIjpjYXNlXCJ1dGYtMTZsZVwiOnJldHVybiEwO2RlZmF1bHQ6cmV0dXJuITF9fSxCdWZmZXIuY29uY2F0PWZ1bmN0aW9uKGxpc3QsbGVuZ3RoKXtpZighaXNBcnJheShsaXN0KSl0aHJvdyBuZXcgVHlwZUVycm9yKCdcImxpc3RcIiBhcmd1bWVudCBtdXN0IGJlIGFuIEFycmF5IG9mIEJ1ZmZlcnMnKTtpZigwPT09bGlzdC5sZW5ndGgpcmV0dXJuIEJ1ZmZlci5hbGxvYygwKTt2YXIgaTtpZih2b2lkIDA9PT1sZW5ndGgpZm9yKGxlbmd0aD0wLGk9MDtpPGxpc3QubGVuZ3RoOysraSlsZW5ndGgrPWxpc3RbaV0ubGVuZ3RoO3ZhciBidWZmZXI9QnVmZmVyLmFsbG9jVW5zYWZlKGxlbmd0aCkscG9zPTA7Zm9yKGk9MDtpPGxpc3QubGVuZ3RoOysraSl7dmFyIGJ1Zj1saXN0W2ldO2lmKCFCdWZmZXIuaXNCdWZmZXIoYnVmKSl0aHJvdyBuZXcgVHlwZUVycm9yKCdcImxpc3RcIiBhcmd1bWVudCBtdXN0IGJlIGFuIEFycmF5IG9mIEJ1ZmZlcnMnKTtidWYuY29weShidWZmZXIscG9zKSxwb3MrPWJ1Zi5sZW5ndGh9cmV0dXJuIGJ1ZmZlcn0sQnVmZmVyLmJ5dGVMZW5ndGg9Ynl0ZUxlbmd0aCxCdWZmZXIucHJvdG90eXBlLl9pc0J1ZmZlcj0hMCxCdWZmZXIucHJvdG90eXBlLnN3YXAxNj1mdW5jdGlvbigpe3ZhciBsZW49dGhpcy5sZW5ndGg7aWYobGVuJTIhPTApdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJCdWZmZXIgc2l6ZSBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgMTYtYml0c1wiKTtmb3IodmFyIGk9MDtpPGxlbjtpKz0yKXN3YXAodGhpcyxpLGkrMSk7cmV0dXJuIHRoaXN9LEJ1ZmZlci5wcm90b3R5cGUuc3dhcDMyPWZ1bmN0aW9uKCl7dmFyIGxlbj10aGlzLmxlbmd0aDtpZihsZW4lNCE9MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkJ1ZmZlciBzaXplIG11c3QgYmUgYSBtdWx0aXBsZSBvZiAzMi1iaXRzXCIpO2Zvcih2YXIgaT0wO2k8bGVuO2krPTQpc3dhcCh0aGlzLGksaSszKSxzd2FwKHRoaXMsaSsxLGkrMik7cmV0dXJuIHRoaXN9LEJ1ZmZlci5wcm90b3R5cGUuc3dhcDY0PWZ1bmN0aW9uKCl7dmFyIGxlbj10aGlzLmxlbmd0aDtpZihsZW4lOCE9MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkJ1ZmZlciBzaXplIG11c3QgYmUgYSBtdWx0aXBsZSBvZiA2NC1iaXRzXCIpO2Zvcih2YXIgaT0wO2k8bGVuO2krPTgpc3dhcCh0aGlzLGksaSs3KSxzd2FwKHRoaXMsaSsxLGkrNiksc3dhcCh0aGlzLGkrMixpKzUpLHN3YXAodGhpcyxpKzMsaSs0KTtyZXR1cm4gdGhpc30sQnVmZmVyLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe3ZhciBsZW5ndGg9MHx0aGlzLmxlbmd0aDtyZXR1cm4gMD09PWxlbmd0aD9cIlwiOjA9PT1hcmd1bWVudHMubGVuZ3RoP3V0ZjhTbGljZSh0aGlzLDAsbGVuZ3RoKTpmdW5jdGlvbihlbmNvZGluZyxzdGFydCxlbmQpe3ZhciBsb3dlcmVkQ2FzZT0hMTtpZigodm9pZCAwPT09c3RhcnR8fHN0YXJ0PDApJiYoc3RhcnQ9MCksc3RhcnQ+dGhpcy5sZW5ndGgpcmV0dXJuXCJcIjtpZigodm9pZCAwPT09ZW5kfHxlbmQ+dGhpcy5sZW5ndGgpJiYoZW5kPXRoaXMubGVuZ3RoKSxlbmQ8PTApcmV0dXJuXCJcIjtpZigoZW5kPj4+PTApPD0oc3RhcnQ+Pj49MCkpcmV0dXJuXCJcIjtmb3IoZW5jb2Rpbmd8fChlbmNvZGluZz1cInV0ZjhcIik7Oylzd2l0Y2goZW5jb2Rpbmcpe2Nhc2VcImhleFwiOnJldHVybiBoZXhTbGljZSh0aGlzLHN0YXJ0LGVuZCk7Y2FzZVwidXRmOFwiOmNhc2VcInV0Zi04XCI6cmV0dXJuIHV0ZjhTbGljZSh0aGlzLHN0YXJ0LGVuZCk7Y2FzZVwiYXNjaWlcIjpyZXR1cm4gYXNjaWlTbGljZSh0aGlzLHN0YXJ0LGVuZCk7Y2FzZVwibGF0aW4xXCI6Y2FzZVwiYmluYXJ5XCI6cmV0dXJuIGxhdGluMVNsaWNlKHRoaXMsc3RhcnQsZW5kKTtjYXNlXCJiYXNlNjRcIjpyZXR1cm4gYmFzZTY0U2xpY2UodGhpcyxzdGFydCxlbmQpO2Nhc2VcInVjczJcIjpjYXNlXCJ1Y3MtMlwiOmNhc2VcInV0ZjE2bGVcIjpjYXNlXCJ1dGYtMTZsZVwiOnJldHVybiB1dGYxNmxlU2xpY2UodGhpcyxzdGFydCxlbmQpO2RlZmF1bHQ6aWYobG93ZXJlZENhc2UpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlVua25vd24gZW5jb2Rpbmc6IFwiK2VuY29kaW5nKTtlbmNvZGluZz0oZW5jb2RpbmcrXCJcIikudG9Mb3dlckNhc2UoKSxsb3dlcmVkQ2FzZT0hMH19LmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sQnVmZmVyLnByb3RvdHlwZS5lcXVhbHM9ZnVuY3Rpb24oYil7aWYoIUJ1ZmZlci5pc0J1ZmZlcihiKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQXJndW1lbnQgbXVzdCBiZSBhIEJ1ZmZlclwiKTtyZXR1cm4gdGhpcz09PWJ8fDA9PT1CdWZmZXIuY29tcGFyZSh0aGlzLGIpfSxCdWZmZXIucHJvdG90eXBlLmluc3BlY3Q9ZnVuY3Rpb24oKXt2YXIgc3RyPVwiXCIsbWF4PWV4cG9ydHMuSU5TUEVDVF9NQVhfQllURVM7cmV0dXJuIHRoaXMubGVuZ3RoPjAmJihzdHI9dGhpcy50b1N0cmluZyhcImhleFwiLDAsbWF4KS5tYXRjaCgvLnsyfS9nKS5qb2luKFwiIFwiKSx0aGlzLmxlbmd0aD5tYXgmJihzdHIrPVwiIC4uLiBcIikpLFwiPEJ1ZmZlciBcIitzdHIrXCI+XCJ9LEJ1ZmZlci5wcm90b3R5cGUuY29tcGFyZT1mdW5jdGlvbih0YXJnZXQsc3RhcnQsZW5kLHRoaXNTdGFydCx0aGlzRW5kKXtpZighQnVmZmVyLmlzQnVmZmVyKHRhcmdldCkpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkFyZ3VtZW50IG11c3QgYmUgYSBCdWZmZXJcIik7aWYodm9pZCAwPT09c3RhcnQmJihzdGFydD0wKSx2b2lkIDA9PT1lbmQmJihlbmQ9dGFyZ2V0P3RhcmdldC5sZW5ndGg6MCksdm9pZCAwPT09dGhpc1N0YXJ0JiYodGhpc1N0YXJ0PTApLHZvaWQgMD09PXRoaXNFbmQmJih0aGlzRW5kPXRoaXMubGVuZ3RoKSxzdGFydDwwfHxlbmQ+dGFyZ2V0Lmxlbmd0aHx8dGhpc1N0YXJ0PDB8fHRoaXNFbmQ+dGhpcy5sZW5ndGgpdGhyb3cgbmV3IFJhbmdlRXJyb3IoXCJvdXQgb2YgcmFuZ2UgaW5kZXhcIik7aWYodGhpc1N0YXJ0Pj10aGlzRW5kJiZzdGFydD49ZW5kKXJldHVybiAwO2lmKHRoaXNTdGFydD49dGhpc0VuZClyZXR1cm4tMTtpZihzdGFydD49ZW5kKXJldHVybiAxO2lmKHN0YXJ0Pj4+PTAsZW5kPj4+PTAsdGhpc1N0YXJ0Pj4+PTAsdGhpc0VuZD4+Pj0wLHRoaXM9PT10YXJnZXQpcmV0dXJuIDA7Zm9yKHZhciB4PXRoaXNFbmQtdGhpc1N0YXJ0LHk9ZW5kLXN0YXJ0LGxlbj1NYXRoLm1pbih4LHkpLHRoaXNDb3B5PXRoaXMuc2xpY2UodGhpc1N0YXJ0LHRoaXNFbmQpLHRhcmdldENvcHk9dGFyZ2V0LnNsaWNlKHN0YXJ0LGVuZCksaT0wO2k8bGVuOysraSlpZih0aGlzQ29weVtpXSE9PXRhcmdldENvcHlbaV0pe3g9dGhpc0NvcHlbaV0seT10YXJnZXRDb3B5W2ldO2JyZWFrfXJldHVybiB4PHk/LTE6eTx4PzE6MH0sQnVmZmVyLnByb3RvdHlwZS5pbmNsdWRlcz1mdW5jdGlvbih2YWwsYnl0ZU9mZnNldCxlbmNvZGluZyl7cmV0dXJuLTEhPT10aGlzLmluZGV4T2YodmFsLGJ5dGVPZmZzZXQsZW5jb2RpbmcpfSxCdWZmZXIucHJvdG90eXBlLmluZGV4T2Y9ZnVuY3Rpb24odmFsLGJ5dGVPZmZzZXQsZW5jb2Rpbmcpe3JldHVybiBiaWRpcmVjdGlvbmFsSW5kZXhPZih0aGlzLHZhbCxieXRlT2Zmc2V0LGVuY29kaW5nLCEwKX0sQnVmZmVyLnByb3RvdHlwZS5sYXN0SW5kZXhPZj1mdW5jdGlvbih2YWwsYnl0ZU9mZnNldCxlbmNvZGluZyl7cmV0dXJuIGJpZGlyZWN0aW9uYWxJbmRleE9mKHRoaXMsdmFsLGJ5dGVPZmZzZXQsZW5jb2RpbmcsITEpfSxCdWZmZXIucHJvdG90eXBlLndyaXRlPWZ1bmN0aW9uKHN0cmluZyxvZmZzZXQsbGVuZ3RoLGVuY29kaW5nKXtpZih2b2lkIDA9PT1vZmZzZXQpZW5jb2Rpbmc9XCJ1dGY4XCIsbGVuZ3RoPXRoaXMubGVuZ3RoLG9mZnNldD0wO2Vsc2UgaWYodm9pZCAwPT09bGVuZ3RoJiZcInN0cmluZ1wiPT10eXBlb2Ygb2Zmc2V0KWVuY29kaW5nPW9mZnNldCxsZW5ndGg9dGhpcy5sZW5ndGgsb2Zmc2V0PTA7ZWxzZXtpZighaXNGaW5pdGUob2Zmc2V0KSl0aHJvdyBuZXcgRXJyb3IoXCJCdWZmZXIud3JpdGUoc3RyaW5nLCBlbmNvZGluZywgb2Zmc2V0WywgbGVuZ3RoXSkgaXMgbm8gbG9uZ2VyIHN1cHBvcnRlZFwiKTtvZmZzZXR8PTAsaXNGaW5pdGUobGVuZ3RoKT8obGVuZ3RofD0wLHZvaWQgMD09PWVuY29kaW5nJiYoZW5jb2Rpbmc9XCJ1dGY4XCIpKTooZW5jb2Rpbmc9bGVuZ3RoLGxlbmd0aD12b2lkIDApfXZhciByZW1haW5pbmc9dGhpcy5sZW5ndGgtb2Zmc2V0O2lmKCh2b2lkIDA9PT1sZW5ndGh8fGxlbmd0aD5yZW1haW5pbmcpJiYobGVuZ3RoPXJlbWFpbmluZyksc3RyaW5nLmxlbmd0aD4wJiYobGVuZ3RoPDB8fG9mZnNldDwwKXx8b2Zmc2V0PnRoaXMubGVuZ3RoKXRocm93IG5ldyBSYW5nZUVycm9yKFwiQXR0ZW1wdCB0byB3cml0ZSBvdXRzaWRlIGJ1ZmZlciBib3VuZHNcIik7ZW5jb2Rpbmd8fChlbmNvZGluZz1cInV0ZjhcIik7Zm9yKHZhciBsb3dlcmVkQ2FzZT0hMTs7KXN3aXRjaChlbmNvZGluZyl7Y2FzZVwiaGV4XCI6cmV0dXJuIGhleFdyaXRlKHRoaXMsc3RyaW5nLG9mZnNldCxsZW5ndGgpO2Nhc2VcInV0ZjhcIjpjYXNlXCJ1dGYtOFwiOnJldHVybiB1dGY4V3JpdGUodGhpcyxzdHJpbmcsb2Zmc2V0LGxlbmd0aCk7Y2FzZVwiYXNjaWlcIjpyZXR1cm4gYXNjaWlXcml0ZSh0aGlzLHN0cmluZyxvZmZzZXQsbGVuZ3RoKTtjYXNlXCJsYXRpbjFcIjpjYXNlXCJiaW5hcnlcIjpyZXR1cm4gbGF0aW4xV3JpdGUodGhpcyxzdHJpbmcsb2Zmc2V0LGxlbmd0aCk7Y2FzZVwiYmFzZTY0XCI6cmV0dXJuIGJhc2U2NFdyaXRlKHRoaXMsc3RyaW5nLG9mZnNldCxsZW5ndGgpO2Nhc2VcInVjczJcIjpjYXNlXCJ1Y3MtMlwiOmNhc2VcInV0ZjE2bGVcIjpjYXNlXCJ1dGYtMTZsZVwiOnJldHVybiB1Y3MyV3JpdGUodGhpcyxzdHJpbmcsb2Zmc2V0LGxlbmd0aCk7ZGVmYXVsdDppZihsb3dlcmVkQ2FzZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiVW5rbm93biBlbmNvZGluZzogXCIrZW5jb2RpbmcpO2VuY29kaW5nPShcIlwiK2VuY29kaW5nKS50b0xvd2VyQ2FzZSgpLGxvd2VyZWRDYXNlPSEwfX0sQnVmZmVyLnByb3RvdHlwZS50b0pTT049ZnVuY3Rpb24oKXtyZXR1cm57dHlwZTpcIkJ1ZmZlclwiLGRhdGE6QXJyYXkucHJvdG90eXBlLnNsaWNlLmNhbGwodGhpcy5fYXJyfHx0aGlzLDApfX07dmFyIE1BWF9BUkdVTUVOVFNfTEVOR1RIPTQwOTY7ZnVuY3Rpb24gYXNjaWlTbGljZShidWYsc3RhcnQsZW5kKXt2YXIgcmV0PVwiXCI7ZW5kPU1hdGgubWluKGJ1Zi5sZW5ndGgsZW5kKTtmb3IodmFyIGk9c3RhcnQ7aTxlbmQ7KytpKXJldCs9U3RyaW5nLmZyb21DaGFyQ29kZSgxMjcmYnVmW2ldKTtyZXR1cm4gcmV0fWZ1bmN0aW9uIGxhdGluMVNsaWNlKGJ1ZixzdGFydCxlbmQpe3ZhciByZXQ9XCJcIjtlbmQ9TWF0aC5taW4oYnVmLmxlbmd0aCxlbmQpO2Zvcih2YXIgaT1zdGFydDtpPGVuZDsrK2kpcmV0Kz1TdHJpbmcuZnJvbUNoYXJDb2RlKGJ1ZltpXSk7cmV0dXJuIHJldH1mdW5jdGlvbiBoZXhTbGljZShidWYsc3RhcnQsZW5kKXt2YXIgbGVuPWJ1Zi5sZW5ndGg7KCFzdGFydHx8c3RhcnQ8MCkmJihzdGFydD0wKSwoIWVuZHx8ZW5kPDB8fGVuZD5sZW4pJiYoZW5kPWxlbik7Zm9yKHZhciBvdXQ9XCJcIixpPXN0YXJ0O2k8ZW5kOysraSlvdXQrPXRvSGV4KGJ1ZltpXSk7cmV0dXJuIG91dH1mdW5jdGlvbiB1dGYxNmxlU2xpY2UoYnVmLHN0YXJ0LGVuZCl7Zm9yKHZhciBieXRlcz1idWYuc2xpY2Uoc3RhcnQsZW5kKSxyZXM9XCJcIixpPTA7aTxieXRlcy5sZW5ndGg7aSs9MilyZXMrPVN0cmluZy5mcm9tQ2hhckNvZGUoYnl0ZXNbaV0rMjU2KmJ5dGVzW2krMV0pO3JldHVybiByZXN9ZnVuY3Rpb24gY2hlY2tPZmZzZXQob2Zmc2V0LGV4dCxsZW5ndGgpe2lmKG9mZnNldCUxIT0wfHxvZmZzZXQ8MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIm9mZnNldCBpcyBub3QgdWludFwiKTtpZihvZmZzZXQrZXh0Pmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIlRyeWluZyB0byBhY2Nlc3MgYmV5b25kIGJ1ZmZlciBsZW5ndGhcIil9ZnVuY3Rpb24gY2hlY2tJbnQoYnVmLHZhbHVlLG9mZnNldCxleHQsbWF4LG1pbil7aWYoIUJ1ZmZlci5pc0J1ZmZlcihidWYpKXRocm93IG5ldyBUeXBlRXJyb3IoJ1wiYnVmZmVyXCIgYXJndW1lbnQgbXVzdCBiZSBhIEJ1ZmZlciBpbnN0YW5jZScpO2lmKHZhbHVlPm1heHx8dmFsdWU8bWluKXRocm93IG5ldyBSYW5nZUVycm9yKCdcInZhbHVlXCIgYXJndW1lbnQgaXMgb3V0IG9mIGJvdW5kcycpO2lmKG9mZnNldCtleHQ+YnVmLmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcIkluZGV4IG91dCBvZiByYW5nZVwiKX1mdW5jdGlvbiBvYmplY3RXcml0ZVVJbnQxNihidWYsdmFsdWUsb2Zmc2V0LGxpdHRsZUVuZGlhbil7dmFsdWU8MCYmKHZhbHVlPTY1NTM1K3ZhbHVlKzEpO2Zvcih2YXIgaT0wLGo9TWF0aC5taW4oYnVmLmxlbmd0aC1vZmZzZXQsMik7aTxqOysraSlidWZbb2Zmc2V0K2ldPSh2YWx1ZSYyNTU8PDgqKGxpdHRsZUVuZGlhbj9pOjEtaSkpPj4+OCoobGl0dGxlRW5kaWFuP2k6MS1pKX1mdW5jdGlvbiBvYmplY3RXcml0ZVVJbnQzMihidWYsdmFsdWUsb2Zmc2V0LGxpdHRsZUVuZGlhbil7dmFsdWU8MCYmKHZhbHVlPTQyOTQ5NjcyOTUrdmFsdWUrMSk7Zm9yKHZhciBpPTAsaj1NYXRoLm1pbihidWYubGVuZ3RoLW9mZnNldCw0KTtpPGo7KytpKWJ1ZltvZmZzZXQraV09dmFsdWU+Pj44KihsaXR0bGVFbmRpYW4/aTozLWkpJjI1NX1mdW5jdGlvbiBjaGVja0lFRUU3NTQoYnVmLHZhbHVlLG9mZnNldCxleHQsbWF4LG1pbil7aWYob2Zmc2V0K2V4dD5idWYubGVuZ3RoKXRocm93IG5ldyBSYW5nZUVycm9yKFwiSW5kZXggb3V0IG9mIHJhbmdlXCIpO2lmKG9mZnNldDwwKXRocm93IG5ldyBSYW5nZUVycm9yKFwiSW5kZXggb3V0IG9mIHJhbmdlXCIpfWZ1bmN0aW9uIHdyaXRlRmxvYXQoYnVmLHZhbHVlLG9mZnNldCxsaXR0bGVFbmRpYW4sbm9Bc3NlcnQpe3JldHVybiBub0Fzc2VydHx8Y2hlY2tJRUVFNzU0KGJ1ZiwwLG9mZnNldCw0KSxpZWVlNzU0LndyaXRlKGJ1Zix2YWx1ZSxvZmZzZXQsbGl0dGxlRW5kaWFuLDIzLDQpLG9mZnNldCs0fWZ1bmN0aW9uIHdyaXRlRG91YmxlKGJ1Zix2YWx1ZSxvZmZzZXQsbGl0dGxlRW5kaWFuLG5vQXNzZXJ0KXtyZXR1cm4gbm9Bc3NlcnR8fGNoZWNrSUVFRTc1NChidWYsMCxvZmZzZXQsOCksaWVlZTc1NC53cml0ZShidWYsdmFsdWUsb2Zmc2V0LGxpdHRsZUVuZGlhbiw1Miw4KSxvZmZzZXQrOH1CdWZmZXIucHJvdG90eXBlLnNsaWNlPWZ1bmN0aW9uKHN0YXJ0LGVuZCl7dmFyIG5ld0J1ZixsZW49dGhpcy5sZW5ndGg7aWYoc3RhcnQ9fn5zdGFydCxlbmQ9dm9pZCAwPT09ZW5kP2xlbjp+fmVuZCxzdGFydDwwPyhzdGFydCs9bGVuKTwwJiYoc3RhcnQ9MCk6c3RhcnQ+bGVuJiYoc3RhcnQ9bGVuKSxlbmQ8MD8oZW5kKz1sZW4pPDAmJihlbmQ9MCk6ZW5kPmxlbiYmKGVuZD1sZW4pLGVuZDxzdGFydCYmKGVuZD1zdGFydCksQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQpKG5ld0J1Zj10aGlzLnN1YmFycmF5KHN0YXJ0LGVuZCkpLl9fcHJvdG9fXz1CdWZmZXIucHJvdG90eXBlO2Vsc2V7dmFyIHNsaWNlTGVuPWVuZC1zdGFydDtuZXdCdWY9bmV3IEJ1ZmZlcihzbGljZUxlbix2b2lkIDApO2Zvcih2YXIgaT0wO2k8c2xpY2VMZW47KytpKW5ld0J1ZltpXT10aGlzW2krc3RhcnRdfXJldHVybiBuZXdCdWZ9LEJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnRMRT1mdW5jdGlvbihvZmZzZXQsYnl0ZUxlbmd0aCxub0Fzc2VydCl7b2Zmc2V0fD0wLGJ5dGVMZW5ndGh8PTAsbm9Bc3NlcnR8fGNoZWNrT2Zmc2V0KG9mZnNldCxieXRlTGVuZ3RoLHRoaXMubGVuZ3RoKTtmb3IodmFyIHZhbD10aGlzW29mZnNldF0sbXVsPTEsaT0wOysraTxieXRlTGVuZ3RoJiYobXVsKj0yNTYpOyl2YWwrPXRoaXNbb2Zmc2V0K2ldKm11bDtyZXR1cm4gdmFsfSxCdWZmZXIucHJvdG90eXBlLnJlYWRVSW50QkU9ZnVuY3Rpb24ob2Zmc2V0LGJ5dGVMZW5ndGgsbm9Bc3NlcnQpe29mZnNldHw9MCxieXRlTGVuZ3RofD0wLG5vQXNzZXJ0fHxjaGVja09mZnNldChvZmZzZXQsYnl0ZUxlbmd0aCx0aGlzLmxlbmd0aCk7Zm9yKHZhciB2YWw9dGhpc1tvZmZzZXQrLS1ieXRlTGVuZ3RoXSxtdWw9MTtieXRlTGVuZ3RoPjAmJihtdWwqPTI1Nik7KXZhbCs9dGhpc1tvZmZzZXQrLS1ieXRlTGVuZ3RoXSptdWw7cmV0dXJuIHZhbH0sQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludDg9ZnVuY3Rpb24ob2Zmc2V0LG5vQXNzZXJ0KXtyZXR1cm4gbm9Bc3NlcnR8fGNoZWNrT2Zmc2V0KG9mZnNldCwxLHRoaXMubGVuZ3RoKSx0aGlzW29mZnNldF19LEJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnQxNkxFPWZ1bmN0aW9uKG9mZnNldCxub0Fzc2VydCl7cmV0dXJuIG5vQXNzZXJ0fHxjaGVja09mZnNldChvZmZzZXQsMix0aGlzLmxlbmd0aCksdGhpc1tvZmZzZXRdfHRoaXNbb2Zmc2V0KzFdPDw4fSxCdWZmZXIucHJvdG90eXBlLnJlYWRVSW50MTZCRT1mdW5jdGlvbihvZmZzZXQsbm9Bc3NlcnQpe3JldHVybiBub0Fzc2VydHx8Y2hlY2tPZmZzZXQob2Zmc2V0LDIsdGhpcy5sZW5ndGgpLHRoaXNbb2Zmc2V0XTw8OHx0aGlzW29mZnNldCsxXX0sQnVmZmVyLnByb3RvdHlwZS5yZWFkVUludDMyTEU9ZnVuY3Rpb24ob2Zmc2V0LG5vQXNzZXJ0KXtyZXR1cm4gbm9Bc3NlcnR8fGNoZWNrT2Zmc2V0KG9mZnNldCw0LHRoaXMubGVuZ3RoKSwodGhpc1tvZmZzZXRdfHRoaXNbb2Zmc2V0KzFdPDw4fHRoaXNbb2Zmc2V0KzJdPDwxNikrMTY3NzcyMTYqdGhpc1tvZmZzZXQrM119LEJ1ZmZlci5wcm90b3R5cGUucmVhZFVJbnQzMkJFPWZ1bmN0aW9uKG9mZnNldCxub0Fzc2VydCl7cmV0dXJuIG5vQXNzZXJ0fHxjaGVja09mZnNldChvZmZzZXQsNCx0aGlzLmxlbmd0aCksMTY3NzcyMTYqdGhpc1tvZmZzZXRdKyh0aGlzW29mZnNldCsxXTw8MTZ8dGhpc1tvZmZzZXQrMl08PDh8dGhpc1tvZmZzZXQrM10pfSxCdWZmZXIucHJvdG90eXBlLnJlYWRJbnRMRT1mdW5jdGlvbihvZmZzZXQsYnl0ZUxlbmd0aCxub0Fzc2VydCl7b2Zmc2V0fD0wLGJ5dGVMZW5ndGh8PTAsbm9Bc3NlcnR8fGNoZWNrT2Zmc2V0KG9mZnNldCxieXRlTGVuZ3RoLHRoaXMubGVuZ3RoKTtmb3IodmFyIHZhbD10aGlzW29mZnNldF0sbXVsPTEsaT0wOysraTxieXRlTGVuZ3RoJiYobXVsKj0yNTYpOyl2YWwrPXRoaXNbb2Zmc2V0K2ldKm11bDtyZXR1cm4gdmFsPj0obXVsKj0xMjgpJiYodmFsLT1NYXRoLnBvdygyLDgqYnl0ZUxlbmd0aCkpLHZhbH0sQnVmZmVyLnByb3RvdHlwZS5yZWFkSW50QkU9ZnVuY3Rpb24ob2Zmc2V0LGJ5dGVMZW5ndGgsbm9Bc3NlcnQpe29mZnNldHw9MCxieXRlTGVuZ3RofD0wLG5vQXNzZXJ0fHxjaGVja09mZnNldChvZmZzZXQsYnl0ZUxlbmd0aCx0aGlzLmxlbmd0aCk7Zm9yKHZhciBpPWJ5dGVMZW5ndGgsbXVsPTEsdmFsPXRoaXNbb2Zmc2V0Ky0taV07aT4wJiYobXVsKj0yNTYpOyl2YWwrPXRoaXNbb2Zmc2V0Ky0taV0qbXVsO3JldHVybiB2YWw+PShtdWwqPTEyOCkmJih2YWwtPU1hdGgucG93KDIsOCpieXRlTGVuZ3RoKSksdmFsfSxCdWZmZXIucHJvdG90eXBlLnJlYWRJbnQ4PWZ1bmN0aW9uKG9mZnNldCxub0Fzc2VydCl7cmV0dXJuIG5vQXNzZXJ0fHxjaGVja09mZnNldChvZmZzZXQsMSx0aGlzLmxlbmd0aCksMTI4JnRoaXNbb2Zmc2V0XT8tMSooMjU1LXRoaXNbb2Zmc2V0XSsxKTp0aGlzW29mZnNldF19LEJ1ZmZlci5wcm90b3R5cGUucmVhZEludDE2TEU9ZnVuY3Rpb24ob2Zmc2V0LG5vQXNzZXJ0KXtub0Fzc2VydHx8Y2hlY2tPZmZzZXQob2Zmc2V0LDIsdGhpcy5sZW5ndGgpO3ZhciB2YWw9dGhpc1tvZmZzZXRdfHRoaXNbb2Zmc2V0KzFdPDw4O3JldHVybiAzMjc2OCZ2YWw/NDI5NDkwMTc2MHx2YWw6dmFsfSxCdWZmZXIucHJvdG90eXBlLnJlYWRJbnQxNkJFPWZ1bmN0aW9uKG9mZnNldCxub0Fzc2VydCl7bm9Bc3NlcnR8fGNoZWNrT2Zmc2V0KG9mZnNldCwyLHRoaXMubGVuZ3RoKTt2YXIgdmFsPXRoaXNbb2Zmc2V0KzFdfHRoaXNbb2Zmc2V0XTw8ODtyZXR1cm4gMzI3NjgmdmFsPzQyOTQ5MDE3NjB8dmFsOnZhbH0sQnVmZmVyLnByb3RvdHlwZS5yZWFkSW50MzJMRT1mdW5jdGlvbihvZmZzZXQsbm9Bc3NlcnQpe3JldHVybiBub0Fzc2VydHx8Y2hlY2tPZmZzZXQob2Zmc2V0LDQsdGhpcy5sZW5ndGgpLHRoaXNbb2Zmc2V0XXx0aGlzW29mZnNldCsxXTw8OHx0aGlzW29mZnNldCsyXTw8MTZ8dGhpc1tvZmZzZXQrM108PDI0fSxCdWZmZXIucHJvdG90eXBlLnJlYWRJbnQzMkJFPWZ1bmN0aW9uKG9mZnNldCxub0Fzc2VydCl7cmV0dXJuIG5vQXNzZXJ0fHxjaGVja09mZnNldChvZmZzZXQsNCx0aGlzLmxlbmd0aCksdGhpc1tvZmZzZXRdPDwyNHx0aGlzW29mZnNldCsxXTw8MTZ8dGhpc1tvZmZzZXQrMl08PDh8dGhpc1tvZmZzZXQrM119LEJ1ZmZlci5wcm90b3R5cGUucmVhZEZsb2F0TEU9ZnVuY3Rpb24ob2Zmc2V0LG5vQXNzZXJ0KXtyZXR1cm4gbm9Bc3NlcnR8fGNoZWNrT2Zmc2V0KG9mZnNldCw0LHRoaXMubGVuZ3RoKSxpZWVlNzU0LnJlYWQodGhpcyxvZmZzZXQsITAsMjMsNCl9LEJ1ZmZlci5wcm90b3R5cGUucmVhZEZsb2F0QkU9ZnVuY3Rpb24ob2Zmc2V0LG5vQXNzZXJ0KXtyZXR1cm4gbm9Bc3NlcnR8fGNoZWNrT2Zmc2V0KG9mZnNldCw0LHRoaXMubGVuZ3RoKSxpZWVlNzU0LnJlYWQodGhpcyxvZmZzZXQsITEsMjMsNCl9LEJ1ZmZlci5wcm90b3R5cGUucmVhZERvdWJsZUxFPWZ1bmN0aW9uKG9mZnNldCxub0Fzc2VydCl7cmV0dXJuIG5vQXNzZXJ0fHxjaGVja09mZnNldChvZmZzZXQsOCx0aGlzLmxlbmd0aCksaWVlZTc1NC5yZWFkKHRoaXMsb2Zmc2V0LCEwLDUyLDgpfSxCdWZmZXIucHJvdG90eXBlLnJlYWREb3VibGVCRT1mdW5jdGlvbihvZmZzZXQsbm9Bc3NlcnQpe3JldHVybiBub0Fzc2VydHx8Y2hlY2tPZmZzZXQob2Zmc2V0LDgsdGhpcy5sZW5ndGgpLGllZWU3NTQucmVhZCh0aGlzLG9mZnNldCwhMSw1Miw4KX0sQnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnRMRT1mdW5jdGlvbih2YWx1ZSxvZmZzZXQsYnl0ZUxlbmd0aCxub0Fzc2VydCl7KHZhbHVlPSt2YWx1ZSxvZmZzZXR8PTAsYnl0ZUxlbmd0aHw9MCxub0Fzc2VydCl8fGNoZWNrSW50KHRoaXMsdmFsdWUsb2Zmc2V0LGJ5dGVMZW5ndGgsTWF0aC5wb3coMiw4KmJ5dGVMZW5ndGgpLTEsMCk7dmFyIG11bD0xLGk9MDtmb3IodGhpc1tvZmZzZXRdPTI1NSZ2YWx1ZTsrK2k8Ynl0ZUxlbmd0aCYmKG11bCo9MjU2KTspdGhpc1tvZmZzZXQraV09dmFsdWUvbXVsJjI1NTtyZXR1cm4gb2Zmc2V0K2J5dGVMZW5ndGh9LEJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50QkU9ZnVuY3Rpb24odmFsdWUsb2Zmc2V0LGJ5dGVMZW5ndGgsbm9Bc3NlcnQpeyh2YWx1ZT0rdmFsdWUsb2Zmc2V0fD0wLGJ5dGVMZW5ndGh8PTAsbm9Bc3NlcnQpfHxjaGVja0ludCh0aGlzLHZhbHVlLG9mZnNldCxieXRlTGVuZ3RoLE1hdGgucG93KDIsOCpieXRlTGVuZ3RoKS0xLDApO3ZhciBpPWJ5dGVMZW5ndGgtMSxtdWw9MTtmb3IodGhpc1tvZmZzZXQraV09MjU1JnZhbHVlOy0taT49MCYmKG11bCo9MjU2KTspdGhpc1tvZmZzZXQraV09dmFsdWUvbXVsJjI1NTtyZXR1cm4gb2Zmc2V0K2J5dGVMZW5ndGh9LEJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50OD1mdW5jdGlvbih2YWx1ZSxvZmZzZXQsbm9Bc3NlcnQpe3JldHVybiB2YWx1ZT0rdmFsdWUsb2Zmc2V0fD0wLG5vQXNzZXJ0fHxjaGVja0ludCh0aGlzLHZhbHVlLG9mZnNldCwxLDI1NSwwKSxCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVHx8KHZhbHVlPU1hdGguZmxvb3IodmFsdWUpKSx0aGlzW29mZnNldF09MjU1JnZhbHVlLG9mZnNldCsxfSxCdWZmZXIucHJvdG90eXBlLndyaXRlVUludDE2TEU9ZnVuY3Rpb24odmFsdWUsb2Zmc2V0LG5vQXNzZXJ0KXtyZXR1cm4gdmFsdWU9K3ZhbHVlLG9mZnNldHw9MCxub0Fzc2VydHx8Y2hlY2tJbnQodGhpcyx2YWx1ZSxvZmZzZXQsMiw2NTUzNSwwKSxCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVD8odGhpc1tvZmZzZXRdPTI1NSZ2YWx1ZSx0aGlzW29mZnNldCsxXT12YWx1ZT4+PjgpOm9iamVjdFdyaXRlVUludDE2KHRoaXMsdmFsdWUsb2Zmc2V0LCEwKSxvZmZzZXQrMn0sQnVmZmVyLnByb3RvdHlwZS53cml0ZVVJbnQxNkJFPWZ1bmN0aW9uKHZhbHVlLG9mZnNldCxub0Fzc2VydCl7cmV0dXJuIHZhbHVlPSt2YWx1ZSxvZmZzZXR8PTAsbm9Bc3NlcnR8fGNoZWNrSW50KHRoaXMsdmFsdWUsb2Zmc2V0LDIsNjU1MzUsMCksQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQ/KHRoaXNbb2Zmc2V0XT12YWx1ZT4+PjgsdGhpc1tvZmZzZXQrMV09MjU1JnZhbHVlKTpvYmplY3RXcml0ZVVJbnQxNih0aGlzLHZhbHVlLG9mZnNldCwhMSksb2Zmc2V0KzJ9LEJ1ZmZlci5wcm90b3R5cGUud3JpdGVVSW50MzJMRT1mdW5jdGlvbih2YWx1ZSxvZmZzZXQsbm9Bc3NlcnQpe3JldHVybiB2YWx1ZT0rdmFsdWUsb2Zmc2V0fD0wLG5vQXNzZXJ0fHxjaGVja0ludCh0aGlzLHZhbHVlLG9mZnNldCw0LDQyOTQ5NjcyOTUsMCksQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQ/KHRoaXNbb2Zmc2V0KzNdPXZhbHVlPj4+MjQsdGhpc1tvZmZzZXQrMl09dmFsdWU+Pj4xNix0aGlzW29mZnNldCsxXT12YWx1ZT4+PjgsdGhpc1tvZmZzZXRdPTI1NSZ2YWx1ZSk6b2JqZWN0V3JpdGVVSW50MzIodGhpcyx2YWx1ZSxvZmZzZXQsITApLG9mZnNldCs0fSxCdWZmZXIucHJvdG90eXBlLndyaXRlVUludDMyQkU9ZnVuY3Rpb24odmFsdWUsb2Zmc2V0LG5vQXNzZXJ0KXtyZXR1cm4gdmFsdWU9K3ZhbHVlLG9mZnNldHw9MCxub0Fzc2VydHx8Y2hlY2tJbnQodGhpcyx2YWx1ZSxvZmZzZXQsNCw0Mjk0OTY3Mjk1LDApLEJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUPyh0aGlzW29mZnNldF09dmFsdWU+Pj4yNCx0aGlzW29mZnNldCsxXT12YWx1ZT4+PjE2LHRoaXNbb2Zmc2V0KzJdPXZhbHVlPj4+OCx0aGlzW29mZnNldCszXT0yNTUmdmFsdWUpOm9iamVjdFdyaXRlVUludDMyKHRoaXMsdmFsdWUsb2Zmc2V0LCExKSxvZmZzZXQrNH0sQnVmZmVyLnByb3RvdHlwZS53cml0ZUludExFPWZ1bmN0aW9uKHZhbHVlLG9mZnNldCxieXRlTGVuZ3RoLG5vQXNzZXJ0KXtpZih2YWx1ZT0rdmFsdWUsb2Zmc2V0fD0wLCFub0Fzc2VydCl7dmFyIGxpbWl0PU1hdGgucG93KDIsOCpieXRlTGVuZ3RoLTEpO2NoZWNrSW50KHRoaXMsdmFsdWUsb2Zmc2V0LGJ5dGVMZW5ndGgsbGltaXQtMSwtbGltaXQpfXZhciBpPTAsbXVsPTEsc3ViPTA7Zm9yKHRoaXNbb2Zmc2V0XT0yNTUmdmFsdWU7KytpPGJ5dGVMZW5ndGgmJihtdWwqPTI1Nik7KXZhbHVlPDAmJjA9PT1zdWImJjAhPT10aGlzW29mZnNldCtpLTFdJiYoc3ViPTEpLHRoaXNbb2Zmc2V0K2ldPSh2YWx1ZS9tdWw+PjApLXN1YiYyNTU7cmV0dXJuIG9mZnNldCtieXRlTGVuZ3RofSxCdWZmZXIucHJvdG90eXBlLndyaXRlSW50QkU9ZnVuY3Rpb24odmFsdWUsb2Zmc2V0LGJ5dGVMZW5ndGgsbm9Bc3NlcnQpe2lmKHZhbHVlPSt2YWx1ZSxvZmZzZXR8PTAsIW5vQXNzZXJ0KXt2YXIgbGltaXQ9TWF0aC5wb3coMiw4KmJ5dGVMZW5ndGgtMSk7Y2hlY2tJbnQodGhpcyx2YWx1ZSxvZmZzZXQsYnl0ZUxlbmd0aCxsaW1pdC0xLC1saW1pdCl9dmFyIGk9Ynl0ZUxlbmd0aC0xLG11bD0xLHN1Yj0wO2Zvcih0aGlzW29mZnNldCtpXT0yNTUmdmFsdWU7LS1pPj0wJiYobXVsKj0yNTYpOyl2YWx1ZTwwJiYwPT09c3ViJiYwIT09dGhpc1tvZmZzZXQraSsxXSYmKHN1Yj0xKSx0aGlzW29mZnNldCtpXT0odmFsdWUvbXVsPj4wKS1zdWImMjU1O3JldHVybiBvZmZzZXQrYnl0ZUxlbmd0aH0sQnVmZmVyLnByb3RvdHlwZS53cml0ZUludDg9ZnVuY3Rpb24odmFsdWUsb2Zmc2V0LG5vQXNzZXJ0KXtyZXR1cm4gdmFsdWU9K3ZhbHVlLG9mZnNldHw9MCxub0Fzc2VydHx8Y2hlY2tJbnQodGhpcyx2YWx1ZSxvZmZzZXQsMSwxMjcsLTEyOCksQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlR8fCh2YWx1ZT1NYXRoLmZsb29yKHZhbHVlKSksdmFsdWU8MCYmKHZhbHVlPTI1NSt2YWx1ZSsxKSx0aGlzW29mZnNldF09MjU1JnZhbHVlLG9mZnNldCsxfSxCdWZmZXIucHJvdG90eXBlLndyaXRlSW50MTZMRT1mdW5jdGlvbih2YWx1ZSxvZmZzZXQsbm9Bc3NlcnQpe3JldHVybiB2YWx1ZT0rdmFsdWUsb2Zmc2V0fD0wLG5vQXNzZXJ0fHxjaGVja0ludCh0aGlzLHZhbHVlLG9mZnNldCwyLDMyNzY3LC0zMjc2OCksQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQ/KHRoaXNbb2Zmc2V0XT0yNTUmdmFsdWUsdGhpc1tvZmZzZXQrMV09dmFsdWU+Pj44KTpvYmplY3RXcml0ZVVJbnQxNih0aGlzLHZhbHVlLG9mZnNldCwhMCksb2Zmc2V0KzJ9LEJ1ZmZlci5wcm90b3R5cGUud3JpdGVJbnQxNkJFPWZ1bmN0aW9uKHZhbHVlLG9mZnNldCxub0Fzc2VydCl7cmV0dXJuIHZhbHVlPSt2YWx1ZSxvZmZzZXR8PTAsbm9Bc3NlcnR8fGNoZWNrSW50KHRoaXMsdmFsdWUsb2Zmc2V0LDIsMzI3NjcsLTMyNzY4KSxCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVD8odGhpc1tvZmZzZXRdPXZhbHVlPj4+OCx0aGlzW29mZnNldCsxXT0yNTUmdmFsdWUpOm9iamVjdFdyaXRlVUludDE2KHRoaXMsdmFsdWUsb2Zmc2V0LCExKSxvZmZzZXQrMn0sQnVmZmVyLnByb3RvdHlwZS53cml0ZUludDMyTEU9ZnVuY3Rpb24odmFsdWUsb2Zmc2V0LG5vQXNzZXJ0KXtyZXR1cm4gdmFsdWU9K3ZhbHVlLG9mZnNldHw9MCxub0Fzc2VydHx8Y2hlY2tJbnQodGhpcyx2YWx1ZSxvZmZzZXQsNCwyMTQ3NDgzNjQ3LC0yMTQ3NDgzNjQ4KSxCdWZmZXIuVFlQRURfQVJSQVlfU1VQUE9SVD8odGhpc1tvZmZzZXRdPTI1NSZ2YWx1ZSx0aGlzW29mZnNldCsxXT12YWx1ZT4+PjgsdGhpc1tvZmZzZXQrMl09dmFsdWU+Pj4xNix0aGlzW29mZnNldCszXT12YWx1ZT4+PjI0KTpvYmplY3RXcml0ZVVJbnQzMih0aGlzLHZhbHVlLG9mZnNldCwhMCksb2Zmc2V0KzR9LEJ1ZmZlci5wcm90b3R5cGUud3JpdGVJbnQzMkJFPWZ1bmN0aW9uKHZhbHVlLG9mZnNldCxub0Fzc2VydCl7cmV0dXJuIHZhbHVlPSt2YWx1ZSxvZmZzZXR8PTAsbm9Bc3NlcnR8fGNoZWNrSW50KHRoaXMsdmFsdWUsb2Zmc2V0LDQsMjE0NzQ4MzY0NywtMjE0NzQ4MzY0OCksdmFsdWU8MCYmKHZhbHVlPTQyOTQ5NjcyOTUrdmFsdWUrMSksQnVmZmVyLlRZUEVEX0FSUkFZX1NVUFBPUlQ/KHRoaXNbb2Zmc2V0XT12YWx1ZT4+PjI0LHRoaXNbb2Zmc2V0KzFdPXZhbHVlPj4+MTYsdGhpc1tvZmZzZXQrMl09dmFsdWU+Pj44LHRoaXNbb2Zmc2V0KzNdPTI1NSZ2YWx1ZSk6b2JqZWN0V3JpdGVVSW50MzIodGhpcyx2YWx1ZSxvZmZzZXQsITEpLG9mZnNldCs0fSxCdWZmZXIucHJvdG90eXBlLndyaXRlRmxvYXRMRT1mdW5jdGlvbih2YWx1ZSxvZmZzZXQsbm9Bc3NlcnQpe3JldHVybiB3cml0ZUZsb2F0KHRoaXMsdmFsdWUsb2Zmc2V0LCEwLG5vQXNzZXJ0KX0sQnVmZmVyLnByb3RvdHlwZS53cml0ZUZsb2F0QkU9ZnVuY3Rpb24odmFsdWUsb2Zmc2V0LG5vQXNzZXJ0KXtyZXR1cm4gd3JpdGVGbG9hdCh0aGlzLHZhbHVlLG9mZnNldCwhMSxub0Fzc2VydCl9LEJ1ZmZlci5wcm90b3R5cGUud3JpdGVEb3VibGVMRT1mdW5jdGlvbih2YWx1ZSxvZmZzZXQsbm9Bc3NlcnQpe3JldHVybiB3cml0ZURvdWJsZSh0aGlzLHZhbHVlLG9mZnNldCwhMCxub0Fzc2VydCl9LEJ1ZmZlci5wcm90b3R5cGUud3JpdGVEb3VibGVCRT1mdW5jdGlvbih2YWx1ZSxvZmZzZXQsbm9Bc3NlcnQpe3JldHVybiB3cml0ZURvdWJsZSh0aGlzLHZhbHVlLG9mZnNldCwhMSxub0Fzc2VydCl9LEJ1ZmZlci5wcm90b3R5cGUuY29weT1mdW5jdGlvbih0YXJnZXQsdGFyZ2V0U3RhcnQsc3RhcnQsZW5kKXtpZihzdGFydHx8KHN0YXJ0PTApLGVuZHx8MD09PWVuZHx8KGVuZD10aGlzLmxlbmd0aCksdGFyZ2V0U3RhcnQ+PXRhcmdldC5sZW5ndGgmJih0YXJnZXRTdGFydD10YXJnZXQubGVuZ3RoKSx0YXJnZXRTdGFydHx8KHRhcmdldFN0YXJ0PTApLGVuZD4wJiZlbmQ8c3RhcnQmJihlbmQ9c3RhcnQpLGVuZD09PXN0YXJ0KXJldHVybiAwO2lmKDA9PT10YXJnZXQubGVuZ3RofHwwPT09dGhpcy5sZW5ndGgpcmV0dXJuIDA7aWYodGFyZ2V0U3RhcnQ8MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcInRhcmdldFN0YXJ0IG91dCBvZiBib3VuZHNcIik7aWYoc3RhcnQ8MHx8c3RhcnQ+PXRoaXMubGVuZ3RoKXRocm93IG5ldyBSYW5nZUVycm9yKFwic291cmNlU3RhcnQgb3V0IG9mIGJvdW5kc1wiKTtpZihlbmQ8MCl0aHJvdyBuZXcgUmFuZ2VFcnJvcihcInNvdXJjZUVuZCBvdXQgb2YgYm91bmRzXCIpO2VuZD50aGlzLmxlbmd0aCYmKGVuZD10aGlzLmxlbmd0aCksdGFyZ2V0Lmxlbmd0aC10YXJnZXRTdGFydDxlbmQtc3RhcnQmJihlbmQ9dGFyZ2V0Lmxlbmd0aC10YXJnZXRTdGFydCtzdGFydCk7dmFyIGksbGVuPWVuZC1zdGFydDtpZih0aGlzPT09dGFyZ2V0JiZzdGFydDx0YXJnZXRTdGFydCYmdGFyZ2V0U3RhcnQ8ZW5kKWZvcihpPWxlbi0xO2k+PTA7LS1pKXRhcmdldFtpK3RhcmdldFN0YXJ0XT10aGlzW2krc3RhcnRdO2Vsc2UgaWYobGVuPDFlM3x8IUJ1ZmZlci5UWVBFRF9BUlJBWV9TVVBQT1JUKWZvcihpPTA7aTxsZW47KytpKXRhcmdldFtpK3RhcmdldFN0YXJ0XT10aGlzW2krc3RhcnRdO2Vsc2UgVWludDhBcnJheS5wcm90b3R5cGUuc2V0LmNhbGwodGFyZ2V0LHRoaXMuc3ViYXJyYXkoc3RhcnQsc3RhcnQrbGVuKSx0YXJnZXRTdGFydCk7cmV0dXJuIGxlbn0sQnVmZmVyLnByb3RvdHlwZS5maWxsPWZ1bmN0aW9uKHZhbCxzdGFydCxlbmQsZW5jb2Rpbmcpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiB2YWwpe2lmKFwic3RyaW5nXCI9PXR5cGVvZiBzdGFydD8oZW5jb2Rpbmc9c3RhcnQsc3RhcnQ9MCxlbmQ9dGhpcy5sZW5ndGgpOlwic3RyaW5nXCI9PXR5cGVvZiBlbmQmJihlbmNvZGluZz1lbmQsZW5kPXRoaXMubGVuZ3RoKSwxPT09dmFsLmxlbmd0aCl7dmFyIGNvZGU9dmFsLmNoYXJDb2RlQXQoMCk7Y29kZTwyNTYmJih2YWw9Y29kZSl9aWYodm9pZCAwIT09ZW5jb2RpbmcmJlwic3RyaW5nXCIhPXR5cGVvZiBlbmNvZGluZyl0aHJvdyBuZXcgVHlwZUVycm9yKFwiZW5jb2RpbmcgbXVzdCBiZSBhIHN0cmluZ1wiKTtpZihcInN0cmluZ1wiPT10eXBlb2YgZW5jb2RpbmcmJiFCdWZmZXIuaXNFbmNvZGluZyhlbmNvZGluZykpdGhyb3cgbmV3IFR5cGVFcnJvcihcIlVua25vd24gZW5jb2Rpbmc6IFwiK2VuY29kaW5nKX1lbHNlXCJudW1iZXJcIj09dHlwZW9mIHZhbCYmKHZhbCY9MjU1KTtpZihzdGFydDwwfHx0aGlzLmxlbmd0aDxzdGFydHx8dGhpcy5sZW5ndGg8ZW5kKXRocm93IG5ldyBSYW5nZUVycm9yKFwiT3V0IG9mIHJhbmdlIGluZGV4XCIpO2lmKGVuZDw9c3RhcnQpcmV0dXJuIHRoaXM7dmFyIGk7aWYoc3RhcnQ+Pj49MCxlbmQ9dm9pZCAwPT09ZW5kP3RoaXMubGVuZ3RoOmVuZD4+PjAsdmFsfHwodmFsPTApLFwibnVtYmVyXCI9PXR5cGVvZiB2YWwpZm9yKGk9c3RhcnQ7aTxlbmQ7KytpKXRoaXNbaV09dmFsO2Vsc2V7dmFyIGJ5dGVzPUJ1ZmZlci5pc0J1ZmZlcih2YWwpP3ZhbDp1dGY4VG9CeXRlcyhuZXcgQnVmZmVyKHZhbCxlbmNvZGluZykudG9TdHJpbmcoKSksbGVuPWJ5dGVzLmxlbmd0aDtmb3IoaT0wO2k8ZW5kLXN0YXJ0OysraSl0aGlzW2krc3RhcnRdPWJ5dGVzW2klbGVuXX1yZXR1cm4gdGhpc307dmFyIElOVkFMSURfQkFTRTY0X1JFPS9bXitcXC8wLTlBLVphLXotX10vZztmdW5jdGlvbiB0b0hleChuKXtyZXR1cm4gbjwxNj9cIjBcIituLnRvU3RyaW5nKDE2KTpuLnRvU3RyaW5nKDE2KX1mdW5jdGlvbiB1dGY4VG9CeXRlcyhzdHJpbmcsdW5pdHMpe3ZhciBjb2RlUG9pbnQ7dW5pdHM9dW5pdHN8fDEvMDtmb3IodmFyIGxlbmd0aD1zdHJpbmcubGVuZ3RoLGxlYWRTdXJyb2dhdGU9bnVsbCxieXRlcz1bXSxpPTA7aTxsZW5ndGg7KytpKXtpZigoY29kZVBvaW50PXN0cmluZy5jaGFyQ29kZUF0KGkpKT41NTI5NSYmY29kZVBvaW50PDU3MzQ0KXtpZighbGVhZFN1cnJvZ2F0ZSl7aWYoY29kZVBvaW50PjU2MzE5KXsodW5pdHMtPTMpPi0xJiZieXRlcy5wdXNoKDIzOSwxOTEsMTg5KTtjb250aW51ZX1pZihpKzE9PT1sZW5ndGgpeyh1bml0cy09Myk+LTEmJmJ5dGVzLnB1c2goMjM5LDE5MSwxODkpO2NvbnRpbnVlfWxlYWRTdXJyb2dhdGU9Y29kZVBvaW50O2NvbnRpbnVlfWlmKGNvZGVQb2ludDw1NjMyMCl7KHVuaXRzLT0zKT4tMSYmYnl0ZXMucHVzaCgyMzksMTkxLDE4OSksbGVhZFN1cnJvZ2F0ZT1jb2RlUG9pbnQ7Y29udGludWV9Y29kZVBvaW50PTY1NTM2KyhsZWFkU3Vycm9nYXRlLTU1Mjk2PDwxMHxjb2RlUG9pbnQtNTYzMjApfWVsc2UgbGVhZFN1cnJvZ2F0ZSYmKHVuaXRzLT0zKT4tMSYmYnl0ZXMucHVzaCgyMzksMTkxLDE4OSk7aWYobGVhZFN1cnJvZ2F0ZT1udWxsLGNvZGVQb2ludDwxMjgpe2lmKCh1bml0cy09MSk8MClicmVhaztieXRlcy5wdXNoKGNvZGVQb2ludCl9ZWxzZSBpZihjb2RlUG9pbnQ8MjA0OCl7aWYoKHVuaXRzLT0yKTwwKWJyZWFrO2J5dGVzLnB1c2goY29kZVBvaW50Pj42fDE5Miw2MyZjb2RlUG9pbnR8MTI4KX1lbHNlIGlmKGNvZGVQb2ludDw2NTUzNil7aWYoKHVuaXRzLT0zKTwwKWJyZWFrO2J5dGVzLnB1c2goY29kZVBvaW50Pj4xMnwyMjQsY29kZVBvaW50Pj42JjYzfDEyOCw2MyZjb2RlUG9pbnR8MTI4KX1lbHNle2lmKCEoY29kZVBvaW50PDExMTQxMTIpKXRocm93IG5ldyBFcnJvcihcIkludmFsaWQgY29kZSBwb2ludFwiKTtpZigodW5pdHMtPTQpPDApYnJlYWs7Ynl0ZXMucHVzaChjb2RlUG9pbnQ+PjE4fDI0MCxjb2RlUG9pbnQ+PjEyJjYzfDEyOCxjb2RlUG9pbnQ+PjYmNjN8MTI4LDYzJmNvZGVQb2ludHwxMjgpfX1yZXR1cm4gYnl0ZXN9ZnVuY3Rpb24gYmFzZTY0VG9CeXRlcyhzdHIpe3JldHVybiBiYXNlNjQudG9CeXRlQXJyYXkoZnVuY3Rpb24oc3RyKXtpZigoc3RyPWZ1bmN0aW9uKHN0cil7cmV0dXJuIHN0ci50cmltP3N0ci50cmltKCk6c3RyLnJlcGxhY2UoL15cXHMrfFxccyskL2csXCJcIil9KHN0cikucmVwbGFjZShJTlZBTElEX0JBU0U2NF9SRSxcIlwiKSkubGVuZ3RoPDIpcmV0dXJuXCJcIjtmb3IoO3N0ci5sZW5ndGglNCE9MDspc3RyKz1cIj1cIjtyZXR1cm4gc3RyfShzdHIpKX1mdW5jdGlvbiBibGl0QnVmZmVyKHNyYyxkc3Qsb2Zmc2V0LGxlbmd0aCl7Zm9yKHZhciBpPTA7aTxsZW5ndGgmJiEoaStvZmZzZXQ+PWRzdC5sZW5ndGh8fGk+PXNyYy5sZW5ndGgpOysraSlkc3RbaStvZmZzZXRdPXNyY1tpXTtyZXR1cm4gaX19KS5jYWxsKHRoaXMsX193ZWJwYWNrX3JlcXVpcmVfXygxNCkpfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7dmFyIGNhY2hlZFNldFRpbWVvdXQsY2FjaGVkQ2xlYXJUaW1lb3V0LHByb2Nlc3M9bW9kdWxlLmV4cG9ydHM9e307ZnVuY3Rpb24gZGVmYXVsdFNldFRpbW91dCgpe3Rocm93IG5ldyBFcnJvcihcInNldFRpbWVvdXQgaGFzIG5vdCBiZWVuIGRlZmluZWRcIil9ZnVuY3Rpb24gZGVmYXVsdENsZWFyVGltZW91dCgpe3Rocm93IG5ldyBFcnJvcihcImNsZWFyVGltZW91dCBoYXMgbm90IGJlZW4gZGVmaW5lZFwiKX1mdW5jdGlvbiBydW5UaW1lb3V0KGZ1bil7aWYoY2FjaGVkU2V0VGltZW91dD09PXNldFRpbWVvdXQpcmV0dXJuIHNldFRpbWVvdXQoZnVuLDApO2lmKChjYWNoZWRTZXRUaW1lb3V0PT09ZGVmYXVsdFNldFRpbW91dHx8IWNhY2hlZFNldFRpbWVvdXQpJiZzZXRUaW1lb3V0KXJldHVybiBjYWNoZWRTZXRUaW1lb3V0PXNldFRpbWVvdXQsc2V0VGltZW91dChmdW4sMCk7dHJ5e3JldHVybiBjYWNoZWRTZXRUaW1lb3V0KGZ1biwwKX1jYXRjaChlKXt0cnl7cmV0dXJuIGNhY2hlZFNldFRpbWVvdXQuY2FsbChudWxsLGZ1biwwKX1jYXRjaChlKXtyZXR1cm4gY2FjaGVkU2V0VGltZW91dC5jYWxsKHRoaXMsZnVuLDApfX19IWZ1bmN0aW9uKCl7dHJ5e2NhY2hlZFNldFRpbWVvdXQ9XCJmdW5jdGlvblwiPT10eXBlb2Ygc2V0VGltZW91dD9zZXRUaW1lb3V0OmRlZmF1bHRTZXRUaW1vdXR9Y2F0Y2goZSl7Y2FjaGVkU2V0VGltZW91dD1kZWZhdWx0U2V0VGltb3V0fXRyeXtjYWNoZWRDbGVhclRpbWVvdXQ9XCJmdW5jdGlvblwiPT10eXBlb2YgY2xlYXJUaW1lb3V0P2NsZWFyVGltZW91dDpkZWZhdWx0Q2xlYXJUaW1lb3V0fWNhdGNoKGUpe2NhY2hlZENsZWFyVGltZW91dD1kZWZhdWx0Q2xlYXJUaW1lb3V0fX0oKTt2YXIgY3VycmVudFF1ZXVlLHF1ZXVlPVtdLGRyYWluaW5nPSExLHF1ZXVlSW5kZXg9LTE7ZnVuY3Rpb24gY2xlYW5VcE5leHRUaWNrKCl7ZHJhaW5pbmcmJmN1cnJlbnRRdWV1ZSYmKGRyYWluaW5nPSExLGN1cnJlbnRRdWV1ZS5sZW5ndGg/cXVldWU9Y3VycmVudFF1ZXVlLmNvbmNhdChxdWV1ZSk6cXVldWVJbmRleD0tMSxxdWV1ZS5sZW5ndGgmJmRyYWluUXVldWUoKSl9ZnVuY3Rpb24gZHJhaW5RdWV1ZSgpe2lmKCFkcmFpbmluZyl7dmFyIHRpbWVvdXQ9cnVuVGltZW91dChjbGVhblVwTmV4dFRpY2spO2RyYWluaW5nPSEwO2Zvcih2YXIgbGVuPXF1ZXVlLmxlbmd0aDtsZW47KXtmb3IoY3VycmVudFF1ZXVlPXF1ZXVlLHF1ZXVlPVtdOysrcXVldWVJbmRleDxsZW47KWN1cnJlbnRRdWV1ZSYmY3VycmVudFF1ZXVlW3F1ZXVlSW5kZXhdLnJ1bigpO3F1ZXVlSW5kZXg9LTEsbGVuPXF1ZXVlLmxlbmd0aH1jdXJyZW50UXVldWU9bnVsbCxkcmFpbmluZz0hMSxmdW5jdGlvbihtYXJrZXIpe2lmKGNhY2hlZENsZWFyVGltZW91dD09PWNsZWFyVGltZW91dClyZXR1cm4gY2xlYXJUaW1lb3V0KG1hcmtlcik7aWYoKGNhY2hlZENsZWFyVGltZW91dD09PWRlZmF1bHRDbGVhclRpbWVvdXR8fCFjYWNoZWRDbGVhclRpbWVvdXQpJiZjbGVhclRpbWVvdXQpcmV0dXJuIGNhY2hlZENsZWFyVGltZW91dD1jbGVhclRpbWVvdXQsY2xlYXJUaW1lb3V0KG1hcmtlcik7dHJ5e2NhY2hlZENsZWFyVGltZW91dChtYXJrZXIpfWNhdGNoKGUpe3RyeXtyZXR1cm4gY2FjaGVkQ2xlYXJUaW1lb3V0LmNhbGwobnVsbCxtYXJrZXIpfWNhdGNoKGUpe3JldHVybiBjYWNoZWRDbGVhclRpbWVvdXQuY2FsbCh0aGlzLG1hcmtlcil9fX0odGltZW91dCl9fWZ1bmN0aW9uIEl0ZW0oZnVuLGFycmF5KXt0aGlzLmZ1bj1mdW4sdGhpcy5hcnJheT1hcnJheX1mdW5jdGlvbiBub29wKCl7fXByb2Nlc3MubmV4dFRpY2s9ZnVuY3Rpb24oZnVuKXt2YXIgYXJncz1uZXcgQXJyYXkoYXJndW1lbnRzLmxlbmd0aC0xKTtpZihhcmd1bWVudHMubGVuZ3RoPjEpZm9yKHZhciBpPTE7aTxhcmd1bWVudHMubGVuZ3RoO2krKylhcmdzW2ktMV09YXJndW1lbnRzW2ldO3F1ZXVlLnB1c2gobmV3IEl0ZW0oZnVuLGFyZ3MpKSwxIT09cXVldWUubGVuZ3RofHxkcmFpbmluZ3x8cnVuVGltZW91dChkcmFpblF1ZXVlKX0sSXRlbS5wcm90b3R5cGUucnVuPWZ1bmN0aW9uKCl7dGhpcy5mdW4uYXBwbHkobnVsbCx0aGlzLmFycmF5KX0scHJvY2Vzcy50aXRsZT1cImJyb3dzZXJcIixwcm9jZXNzLmJyb3dzZXI9ITAscHJvY2Vzcy5lbnY9e30scHJvY2Vzcy5hcmd2PVtdLHByb2Nlc3MudmVyc2lvbj1cIlwiLHByb2Nlc3MudmVyc2lvbnM9e30scHJvY2Vzcy5vbj1ub29wLHByb2Nlc3MuYWRkTGlzdGVuZXI9bm9vcCxwcm9jZXNzLm9uY2U9bm9vcCxwcm9jZXNzLm9mZj1ub29wLHByb2Nlc3MucmVtb3ZlTGlzdGVuZXI9bm9vcCxwcm9jZXNzLnJlbW92ZUFsbExpc3RlbmVycz1ub29wLHByb2Nlc3MuZW1pdD1ub29wLHByb2Nlc3MucHJlcGVuZExpc3RlbmVyPW5vb3AscHJvY2Vzcy5wcmVwZW5kT25jZUxpc3RlbmVyPW5vb3AscHJvY2Vzcy5saXN0ZW5lcnM9ZnVuY3Rpb24obmFtZSl7cmV0dXJuW119LHByb2Nlc3MuYmluZGluZz1mdW5jdGlvbihuYW1lKXt0aHJvdyBuZXcgRXJyb3IoXCJwcm9jZXNzLmJpbmRpbmcgaXMgbm90IHN1cHBvcnRlZFwiKX0scHJvY2Vzcy5jd2Q9ZnVuY3Rpb24oKXtyZXR1cm5cIi9cIn0scHJvY2Vzcy5jaGRpcj1mdW5jdGlvbihkaXIpe3Rocm93IG5ldyBFcnJvcihcInByb2Nlc3MuY2hkaXIgaXMgbm90IHN1cHBvcnRlZFwiKX0scHJvY2Vzcy51bWFzaz1mdW5jdGlvbigpe3JldHVybiAwfX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7KGZ1bmN0aW9uKEJ1ZmZlcil7ZnVuY3Rpb24gb2JqZWN0VG9TdHJpbmcobyl7cmV0dXJuIE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvKX1leHBvcnRzLmlzQXJyYXk9ZnVuY3Rpb24oYXJnKXtyZXR1cm4gQXJyYXkuaXNBcnJheT9BcnJheS5pc0FycmF5KGFyZyk6XCJbb2JqZWN0IEFycmF5XVwiPT09b2JqZWN0VG9TdHJpbmcoYXJnKX0sZXhwb3J0cy5pc0Jvb2xlYW49ZnVuY3Rpb24oYXJnKXtyZXR1cm5cImJvb2xlYW5cIj09dHlwZW9mIGFyZ30sZXhwb3J0cy5pc051bGw9ZnVuY3Rpb24oYXJnKXtyZXR1cm4gbnVsbD09PWFyZ30sZXhwb3J0cy5pc051bGxPclVuZGVmaW5lZD1mdW5jdGlvbihhcmcpe3JldHVybiBudWxsPT1hcmd9LGV4cG9ydHMuaXNOdW1iZXI9ZnVuY3Rpb24oYXJnKXtyZXR1cm5cIm51bWJlclwiPT10eXBlb2YgYXJnfSxleHBvcnRzLmlzU3RyaW5nPWZ1bmN0aW9uKGFyZyl7cmV0dXJuXCJzdHJpbmdcIj09dHlwZW9mIGFyZ30sZXhwb3J0cy5pc1N5bWJvbD1mdW5jdGlvbihhcmcpe3JldHVyblwic3ltYm9sXCI9PXR5cGVvZiBhcmd9LGV4cG9ydHMuaXNVbmRlZmluZWQ9ZnVuY3Rpb24oYXJnKXtyZXR1cm4gdm9pZCAwPT09YXJnfSxleHBvcnRzLmlzUmVnRXhwPWZ1bmN0aW9uKHJlKXtyZXR1cm5cIltvYmplY3QgUmVnRXhwXVwiPT09b2JqZWN0VG9TdHJpbmcocmUpfSxleHBvcnRzLmlzT2JqZWN0PWZ1bmN0aW9uKGFyZyl7cmV0dXJuXCJvYmplY3RcIj09dHlwZW9mIGFyZyYmbnVsbCE9PWFyZ30sZXhwb3J0cy5pc0RhdGU9ZnVuY3Rpb24oZCl7cmV0dXJuXCJbb2JqZWN0IERhdGVdXCI9PT1vYmplY3RUb1N0cmluZyhkKX0sZXhwb3J0cy5pc0Vycm9yPWZ1bmN0aW9uKGUpe3JldHVyblwiW29iamVjdCBFcnJvcl1cIj09PW9iamVjdFRvU3RyaW5nKGUpfHxlIGluc3RhbmNlb2YgRXJyb3J9LGV4cG9ydHMuaXNGdW5jdGlvbj1mdW5jdGlvbihhcmcpe3JldHVyblwiZnVuY3Rpb25cIj09dHlwZW9mIGFyZ30sZXhwb3J0cy5pc1ByaW1pdGl2ZT1mdW5jdGlvbihhcmcpe3JldHVybiBudWxsPT09YXJnfHxcImJvb2xlYW5cIj09dHlwZW9mIGFyZ3x8XCJudW1iZXJcIj09dHlwZW9mIGFyZ3x8XCJzdHJpbmdcIj09dHlwZW9mIGFyZ3x8XCJzeW1ib2xcIj09dHlwZW9mIGFyZ3x8dm9pZCAwPT09YXJnfSxleHBvcnRzLmlzQnVmZmVyPUJ1ZmZlci5pc0J1ZmZlcn0pLmNhbGwodGhpcyxfX3dlYnBhY2tfcmVxdWlyZV9fKDI2KS5CdWZmZXIpfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjt2YXIgRVM2UHJvbWlzZT1udWxsO0VTNlByb21pc2U9XCJ1bmRlZmluZWRcIiE9dHlwZW9mIFByb21pc2U/UHJvbWlzZTpfX3dlYnBhY2tfcmVxdWlyZV9fKDEwMyksbW9kdWxlLmV4cG9ydHM9e1Byb21pc2U6RVM2UHJvbWlzZX19LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO3ZhciBfX2F3YWl0ZXI9dGhpcyYmdGhpcy5fX2F3YWl0ZXJ8fGZ1bmN0aW9uKHRoaXNBcmcsX2FyZ3VtZW50cyxQLGdlbmVyYXRvcil7cmV0dXJuIG5ldyhQfHwoUD1Qcm9taXNlKSkoZnVuY3Rpb24ocmVzb2x2ZSxyZWplY3Qpe2Z1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSl7dHJ5e3N0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKX1jYXRjaChlKXtyZWplY3QoZSl9fWZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKXt0cnl7c3RlcChnZW5lcmF0b3IudGhyb3codmFsdWUpKX1jYXRjaChlKXtyZWplY3QoZSl9fWZ1bmN0aW9uIHN0ZXAocmVzdWx0KXtyZXN1bHQuZG9uZT9yZXNvbHZlKHJlc3VsdC52YWx1ZSk6ZnVuY3Rpb24odmFsdWUpe3JldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFA/dmFsdWU6bmV3IFAoZnVuY3Rpb24ocmVzb2x2ZSl7cmVzb2x2ZSh2YWx1ZSl9KX0ocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCxyZWplY3RlZCl9c3RlcCgoZ2VuZXJhdG9yPWdlbmVyYXRvci5hcHBseSh0aGlzQXJnLF9hcmd1bWVudHN8fFtdKSkubmV4dCgpKX0pfSxfX2dlbmVyYXRvcj10aGlzJiZ0aGlzLl9fZ2VuZXJhdG9yfHxmdW5jdGlvbih0aGlzQXJnLGJvZHkpe3ZhciBmLHksdCxnLF89e2xhYmVsOjAsc2VudDpmdW5jdGlvbigpe2lmKDEmdFswXSl0aHJvdyB0WzFdO3JldHVybiB0WzFdfSx0cnlzOltdLG9wczpbXX07cmV0dXJuIGc9e25leHQ6dmVyYigwKSx0aHJvdzp2ZXJiKDEpLHJldHVybjp2ZXJiKDIpfSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJihnW1N5bWJvbC5pdGVyYXRvcl09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pLGc7ZnVuY3Rpb24gdmVyYihuKXtyZXR1cm4gZnVuY3Rpb24odil7cmV0dXJuIGZ1bmN0aW9uKG9wKXtpZihmKXRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO2Zvcig7XzspdHJ5e2lmKGY9MSx5JiYodD0yJm9wWzBdP3kucmV0dXJuOm9wWzBdP3kudGhyb3d8fCgodD15LnJldHVybikmJnQuY2FsbCh5KSwwKTp5Lm5leHQpJiYhKHQ9dC5jYWxsKHksb3BbMV0pKS5kb25lKXJldHVybiB0O3N3aXRjaCh5PTAsdCYmKG9wPVsyJm9wWzBdLHQudmFsdWVdKSxvcFswXSl7Y2FzZSAwOmNhc2UgMTp0PW9wO2JyZWFrO2Nhc2UgNDpyZXR1cm4gXy5sYWJlbCsrLHt2YWx1ZTpvcFsxXSxkb25lOiExfTtjYXNlIDU6Xy5sYWJlbCsrLHk9b3BbMV0sb3A9WzBdO2NvbnRpbnVlO2Nhc2UgNzpvcD1fLm9wcy5wb3AoKSxfLnRyeXMucG9wKCk7Y29udGludWU7ZGVmYXVsdDppZighKHQ9KHQ9Xy50cnlzKS5sZW5ndGg+MCYmdFt0Lmxlbmd0aC0xXSkmJig2PT09b3BbMF18fDI9PT1vcFswXSkpe189MDtjb250aW51ZX1pZigzPT09b3BbMF0mJighdHx8b3BbMV0+dFswXSYmb3BbMV08dFszXSkpe18ubGFiZWw9b3BbMV07YnJlYWt9aWYoNj09PW9wWzBdJiZfLmxhYmVsPHRbMV0pe18ubGFiZWw9dFsxXSx0PW9wO2JyZWFrfWlmKHQmJl8ubGFiZWw8dFsyXSl7Xy5sYWJlbD10WzJdLF8ub3BzLnB1c2gob3ApO2JyZWFrfXRbMl0mJl8ub3BzLnBvcCgpLF8udHJ5cy5wb3AoKTtjb250aW51ZX1vcD1ib2R5LmNhbGwodGhpc0FyZyxfKX1jYXRjaChlKXtvcD1bNixlXSx5PTB9ZmluYWxseXtmPXQ9MH1pZig1Jm9wWzBdKXRocm93IG9wWzFdO3JldHVybnt2YWx1ZTpvcFswXT9vcFsxXTp2b2lkIDAsZG9uZTohMH19KFtuLHZdKX19fSxfX3NwcmVhZEFycmF5cz10aGlzJiZ0aGlzLl9fc3ByZWFkQXJyYXlzfHxmdW5jdGlvbigpe2Zvcih2YXIgcz0wLGk9MCxpbD1hcmd1bWVudHMubGVuZ3RoO2k8aWw7aSsrKXMrPWFyZ3VtZW50c1tpXS5sZW5ndGg7dmFyIHI9QXJyYXkocyksaz0wO2ZvcihpPTA7aTxpbDtpKyspZm9yKHZhciBhPWFyZ3VtZW50c1tpXSxqPTAsamw9YS5sZW5ndGg7ajxqbDtqKyssaysrKXJba109YVtqXTtyZXR1cm4gcn07T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIERhdGVNb2R1bGVfMT1fX3dlYnBhY2tfcmVxdWlyZV9fKDYpLEluYm94TWVzc2FnZXM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBJbmJveE1lc3NhZ2VzKGRhdGEsYXBpLGluYm94TW9kZWwsZGF0ZU1vZHVsZSl7dm9pZCAwPT09ZGF0ZU1vZHVsZSYmKGRhdGVNb2R1bGU9bmV3IERhdGVNb2R1bGVfMS5kZWZhdWx0KSx0aGlzLmRhdGE9ZGF0YSx0aGlzLmFwaT1hcGksdGhpcy5pbmJveE1vZGVsPWluYm94TW9kZWwsdGhpcy5kYXRlTW9kdWxlPWRhdGVNb2R1bGUsdGhpcy5wdWJsaWNNZXNzYWdlQnVpbGRlcj10aGlzLnB1YmxpY01lc3NhZ2VCdWlsZGVyLmJpbmQodGhpcyl9cmV0dXJuIEluYm94TWVzc2FnZXMucHJvdG90eXBlLm1lc3NhZ2VUeXBlRmFjdG9yeT1mdW5jdGlvbihhY3Rpb25QYXJhbXMpe3ZhciBtZXNzYWdlVHlwZT0wO3JldHVyblwiaFwiaW4gYWN0aW9uUGFyYW1zfHxcInJtXCJpbiBhY3Rpb25QYXJhbXN8fFwiclwiaW4gYWN0aW9uUGFyYW1zP21lc3NhZ2VUeXBlPTE6XCJsXCJpbiBhY3Rpb25QYXJhbXMmJnZvaWQgMCE9PWFjdGlvblBhcmFtcy5sJiYobWVzc2FnZVR5cGU9YWN0aW9uUGFyYW1zLmwuc3RhcnRzV2l0aChcImh0dHBcIik/MjozKSxtZXNzYWdlVHlwZX0sSW5ib3hNZXNzYWdlcy5wcm90b3R5cGUudXBkYXRlTWVzc2FnZXNTdGF0dXNXaXRoQ29kZXM9ZnVuY3Rpb24oY29kZXMsbWVzc2FnZXMsc3RhdHVzKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciB1cGRhdGVkTWVzc2FnZXMsaW5ib3hTdGF0dXNRdWVyaWVzLF90aGlzPXRoaXM7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybiB1cGRhdGVkTWVzc2FnZXM9W10saW5ib3hTdGF0dXNRdWVyaWVzPVtdLG1lc3NhZ2VzLmZvckVhY2goZnVuY3Rpb24obXNnKXtyZXR1cm4gX19hd2FpdGVyKF90aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7cmV0dXJuLTE9PT1jb2Rlcy5pbmRleE9mKG1zZy5pbmJveF9pZCk/WzJdOihtc2cuc3RhdHVzPXN0YXR1cyx1cGRhdGVkTWVzc2FnZXMucHVzaChtc2cpLGluYm94U3RhdHVzUXVlcmllcy5wdXNoKHRoaXMuYXBpLmluYm94U3RhdHVzKG1zZy5vcmRlcixtc2cuc3RhdHVzKSksWzJdKX0pfSl9KSxbNCx0aGlzLmluYm94TW9kZWwucHV0QnVsa01lc3NhZ2VzKHVwZGF0ZWRNZXNzYWdlcyldO2Nhc2UgMTpyZXR1cm4gX2Euc2VudCgpLFs0LFByb21pc2UuYWxsKGluYm94U3RhdHVzUXVlcmllcyldO2Nhc2UgMjpyZXR1cm4gX2Euc2VudCgpLFsyXX19KX0pfSxJbmJveE1lc3NhZ2VzLnByb3RvdHlwZS5wdWJsaWNNZXNzYWdlQnVpbGRlcj1mdW5jdGlvbihtZXNzYWdlKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBpbWFnZVVybCxfYSx0aXRsZSxfYjtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYyl7c3dpdGNoKF9jLmxhYmVsKXtjYXNlIDA6cmV0dXJuKF9hPW1lc3NhZ2UuaW1hZ2UpP1szLDJdOls0LHRoaXMuZGF0YS5nZXREZWZhdWx0Tm90aWZpY2F0aW9uSW1hZ2UoKV07Y2FzZSAxOl9hPV9jLnNlbnQoKSxfYy5sYWJlbD0yO2Nhc2UgMjpyZXR1cm4gaW1hZ2VVcmw9X2EsKF9iPW1lc3NhZ2UudGl0bGUpP1szLDRdOls0LHRoaXMuZGF0YS5nZXREZWZhdWx0Tm90aWZpY2F0aW9uVGl0bGUoKV07Y2FzZSAzOl9iPV9jLnNlbnQoKSxfYy5sYWJlbD00O2Nhc2UgNDpyZXR1cm4gdGl0bGU9X2IsdGhpcy5kYXRlTW9kdWxlLmRhdGU9bmV3IERhdGUoMWUzKnBhcnNlSW50KG1lc3NhZ2Uuc2VuZF9kYXRlKSksdGhpcy5kYXRlTW9kdWxlLnNldExvY2FsKCksWzIse3RpdGxlOnRpdGxlLGltYWdlVXJsOmltYWdlVXJsLGNvZGU6bWVzc2FnZS5pbmJveF9pZCxtZXNzYWdlOm1lc3NhZ2UudGV4dCxzZW5kRGF0ZTp0aGlzLmRhdGVNb2R1bGUuZGF0ZS50b0lTT1N0cmluZygpLHR5cGU6dGhpcy5tZXNzYWdlVHlwZUZhY3RvcnkoSlNPTi5wYXJzZShtZXNzYWdlLmFjdGlvbl9wYXJhbXMpKSxpc1JlYWQ6Mj09PW1lc3NhZ2Uuc3RhdHVzfHwzPT09bWVzc2FnZS5zdGF0dXMsaXNBY3Rpb25QZXJmb3JtZWQ6Mz09PW1lc3NhZ2Uuc3RhdHVzfV19fSl9KX0sSW5ib3hNZXNzYWdlcy5wcm90b3R5cGUubWVzc2FnZXNXaXRoTm9BY3Rpb25QZXJmb3JtZWRDb3VudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmluYm94TW9kZWwuZ2V0RGVsaXZlcmVkUmVhZE1lc3NhZ2VzQ291bnQoKX0sSW5ib3hNZXNzYWdlcy5wcm90b3R5cGUudW5yZWFkTWVzc2FnZXNDb3VudD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmluYm94TW9kZWwuZ2V0RGVsaXZlcmVkTWVzc2FnZXNDb3VudCgpfSxJbmJveE1lc3NhZ2VzLnByb3RvdHlwZS5tZXNzYWdlc0NvdW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW5ib3hNb2RlbC5tZXNzYWdlc0NvdW50KCl9LEluYm94TWVzc2FnZXMucHJvdG90eXBlLmxvYWRNZXNzYWdlcz1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIHJlYWRNZXNzYWdlcyx1bnJlYWRNZXNzYWdlcyxidWlsZE1lc3NhZ2VQcm9taXNlcztyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5pbmJveE1vZGVsLmdldFJlYWRPcGVuTWVzc2FnZXMoKV07Y2FzZSAxOnJldHVybiByZWFkTWVzc2FnZXM9X2Euc2VudCgpLFs0LHRoaXMuaW5ib3hNb2RlbC5nZXREZWxpdmVyZWRNZXNzYWdlcygpXTtjYXNlIDI6cmV0dXJuIHVucmVhZE1lc3NhZ2VzPV9hLnNlbnQoKSxidWlsZE1lc3NhZ2VQcm9taXNlcz1fX3NwcmVhZEFycmF5cyhyZWFkTWVzc2FnZXMsdW5yZWFkTWVzc2FnZXMpLnNvcnQoZnVuY3Rpb24obXNnQSxtc2dCKXtyZXR1cm4gcGFyc2VJbnQobXNnQi5zZW5kX2RhdGUsMTApLXBhcnNlSW50KG1zZ0Euc2VuZF9kYXRlLDEwKX0pLnNvcnQoZnVuY3Rpb24obXNnQSxtc2dCKXtyZXR1cm4gcGFyc2VJbnQobXNnQi5vcmRlcnx8XCIwXCIsMTApLXBhcnNlSW50KG1zZ0Eub3JkZXJ8fFwiMFwiLDEwKX0pLm1hcCh0aGlzLnB1YmxpY01lc3NhZ2VCdWlsZGVyKSxbMixQcm9taXNlLmFsbChidWlsZE1lc3NhZ2VQcm9taXNlcyldfX0pfSl9LEluYm94TWVzc2FnZXMucHJvdG90eXBlLnJlYWRNZXNzYWdlc1dpdGhDb2Rlcz1mdW5jdGlvbihjb2Rlcyl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgdW5yZWFkTWVzc2FnZXMsc3RhdHVzUmVhZDtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5pbmJveE1vZGVsLmdldERlbGl2ZXJlZE1lc3NhZ2VzKCldO2Nhc2UgMTpyZXR1cm4gdW5yZWFkTWVzc2FnZXM9X2Euc2VudCgpLHN0YXR1c1JlYWQ9MixbNCx0aGlzLnVwZGF0ZU1lc3NhZ2VzU3RhdHVzV2l0aENvZGVzKGNvZGVzLHVucmVhZE1lc3NhZ2VzLHN0YXR1c1JlYWQpXTtjYXNlIDI6cmV0dXJuIF9hLnNlbnQoKSxbMl19fSl9KX0sSW5ib3hNZXNzYWdlcy5wcm90b3R5cGUucGVyZm9ybUFjdGlvbkZvck1lc3NhZ2VXaXRoQ29kZT1mdW5jdGlvbihjb2RlKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBtZXNzYWdlLGFjdGlvblBhcmFtcyxtZXNzYWdlVHlwZTtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5pbmJveE1vZGVsLmdldE1lc3NhZ2UoY29kZSldO2Nhc2UgMTpyZXR1cm4gbWVzc2FnZT1fYS5zZW50KCksYWN0aW9uUGFyYW1zPUpTT04ucGFyc2UobWVzc2FnZS5hY3Rpb25fcGFyYW1zKSwyPT09KG1lc3NhZ2VUeXBlPXRoaXMubWVzc2FnZVR5cGVGYWN0b3J5KGFjdGlvblBhcmFtcykpJiZ2b2lkIDAhPT1hY3Rpb25QYXJhbXMubD9kb2N1bWVudC5sb2NhdGlvbi5ocmVmPWFjdGlvblBhcmFtcy5sOjM9PT1tZXNzYWdlVHlwZSYmdm9pZCAwIT09YWN0aW9uUGFyYW1zLmwmJndpbmRvdy5oaXN0b3J5LmdvKGFjdGlvblBhcmFtcy5sKSxtZXNzYWdlLnN0YXR1cz0zLFs0LHRoaXMuaW5ib3hNb2RlbC5wdXRNZXNzYWdlKG1lc3NhZ2UpXTtjYXNlIDI6cmV0dXJuIF9hLnNlbnQoKSxbNCx0aGlzLmFwaS5pbmJveFN0YXR1cyhtZXNzYWdlLm9yZGVyLG1lc3NhZ2Uuc3RhdHVzKV07Y2FzZSAzOnJldHVybiBfYS5zZW50KCksWzJdfX0pfSl9LEluYm94TWVzc2FnZXMucHJvdG90eXBlLmRlbGV0ZU1lc3NhZ2VzV2l0aENvZGVzPWZ1bmN0aW9uKGNvZGVzKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciByZWFkTWVzc2FnZXMsdW5yZWFkTWVzc2FnZXMsc3RhdHVzRGVsZXRlZDtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5pbmJveE1vZGVsLmdldFJlYWRPcGVuTWVzc2FnZXMoKV07Y2FzZSAxOnJldHVybiByZWFkTWVzc2FnZXM9X2Euc2VudCgpLFs0LHRoaXMuaW5ib3hNb2RlbC5nZXREZWxpdmVyZWRNZXNzYWdlcygpXTtjYXNlIDI6cmV0dXJuIHVucmVhZE1lc3NhZ2VzPV9hLnNlbnQoKSxzdGF0dXNEZWxldGVkPTQsWzQsdGhpcy51cGRhdGVNZXNzYWdlc1N0YXR1c1dpdGhDb2Rlcyhjb2RlcyxfX3NwcmVhZEFycmF5cyhyZWFkTWVzc2FnZXMsdW5yZWFkTWVzc2FnZXMpLHN0YXR1c0RlbGV0ZWQpXTtjYXNlIDM6cmV0dXJuIF9hLnNlbnQoKSxbMl19fSl9KX0sSW5ib3hNZXNzYWdlcy5wcm90b3R5cGUuc3luY01lc3NhZ2VzPWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5pbmJveE1vZGVsLnVwZGF0ZU1lc3NhZ2VzKCldO2Nhc2UgMTpyZXR1cm4gX2Euc2VudCgpLFsyXX19KX0pfSxJbmJveE1lc3NhZ2VzfSgpO2V4cG9ydHMuZGVmYXVsdD1JbmJveE1lc3NhZ2VzfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7dmFyIGdldFJhbmRvbVZhbHVlcz1cInVuZGVmaW5lZFwiIT10eXBlb2YgY3J5cHRvJiZjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzJiZjcnlwdG8uZ2V0UmFuZG9tVmFsdWVzLmJpbmQoY3J5cHRvKXx8XCJ1bmRlZmluZWRcIiE9dHlwZW9mIG1zQ3J5cHRvJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB3aW5kb3cubXNDcnlwdG8uZ2V0UmFuZG9tVmFsdWVzJiZtc0NyeXB0by5nZXRSYW5kb21WYWx1ZXMuYmluZChtc0NyeXB0byk7aWYoZ2V0UmFuZG9tVmFsdWVzKXt2YXIgcm5kczg9bmV3IFVpbnQ4QXJyYXkoMTYpO21vZHVsZS5leHBvcnRzPWZ1bmN0aW9uKCl7cmV0dXJuIGdldFJhbmRvbVZhbHVlcyhybmRzOCkscm5kczh9fWVsc2V7dmFyIHJuZHM9bmV3IEFycmF5KDE2KTttb2R1bGUuZXhwb3J0cz1mdW5jdGlvbigpe2Zvcih2YXIgcixpPTA7aTwxNjtpKyspMD09KDMmaSkmJihyPTQyOTQ5NjcyOTYqTWF0aC5yYW5kb20oKSkscm5kc1tpXT1yPj4+KCgzJmkpPDwzKSYyNTU7cmV0dXJuIHJuZHN9fX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpe2Zvcih2YXIgYnl0ZVRvSGV4PVtdLGk9MDtpPDI1NjsrK2kpYnl0ZVRvSGV4W2ldPShpKzI1NikudG9TdHJpbmcoMTYpLnN1YnN0cigxKTttb2R1bGUuZXhwb3J0cz1mdW5jdGlvbihidWYsb2Zmc2V0KXt2YXIgaT1vZmZzZXR8fDAsYnRoPWJ5dGVUb0hleDtyZXR1cm5bYnRoW2J1ZltpKytdXSxidGhbYnVmW2krK11dLGJ0aFtidWZbaSsrXV0sYnRoW2J1ZltpKytdXSxcIi1cIixidGhbYnVmW2krK11dLGJ0aFtidWZbaSsrXV0sXCItXCIsYnRoW2J1ZltpKytdXSxidGhbYnVmW2krK11dLFwiLVwiLGJ0aFtidWZbaSsrXV0sYnRoW2J1ZltpKytdXSxcIi1cIixidGhbYnVmW2krK11dLGJ0aFtidWZbaSsrXV0sYnRoW2J1ZltpKytdXSxidGhbYnVmW2krK11dLGJ0aFtidWZbaSsrXV0sYnRoW2J1ZltpKytdXV0uam9pbihcIlwiKX19LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiOyhmdW5jdGlvbihwcm9jZXNzKXt2b2lkIDA9PT1wcm9jZXNzfHwhcHJvY2Vzcy52ZXJzaW9ufHwwPT09cHJvY2Vzcy52ZXJzaW9uLmluZGV4T2YoXCJ2MC5cIil8fDA9PT1wcm9jZXNzLnZlcnNpb24uaW5kZXhPZihcInYxLlwiKSYmMCE9PXByb2Nlc3MudmVyc2lvbi5pbmRleE9mKFwidjEuOC5cIik/bW9kdWxlLmV4cG9ydHM9e25leHRUaWNrOmZ1bmN0aW9uKGZuLGFyZzEsYXJnMixhcmczKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBmbil0aHJvdyBuZXcgVHlwZUVycm9yKCdcImNhbGxiYWNrXCIgYXJndW1lbnQgbXVzdCBiZSBhIGZ1bmN0aW9uJyk7dmFyIGFyZ3MsaSxsZW49YXJndW1lbnRzLmxlbmd0aDtzd2l0Y2gobGVuKXtjYXNlIDA6Y2FzZSAxOnJldHVybiBwcm9jZXNzLm5leHRUaWNrKGZuKTtjYXNlIDI6cmV0dXJuIHByb2Nlc3MubmV4dFRpY2soZnVuY3Rpb24oKXtmbi5jYWxsKG51bGwsYXJnMSl9KTtjYXNlIDM6cmV0dXJuIHByb2Nlc3MubmV4dFRpY2soZnVuY3Rpb24oKXtmbi5jYWxsKG51bGwsYXJnMSxhcmcyKX0pO2Nhc2UgNDpyZXR1cm4gcHJvY2Vzcy5uZXh0VGljayhmdW5jdGlvbigpe2ZuLmNhbGwobnVsbCxhcmcxLGFyZzIsYXJnMyl9KTtkZWZhdWx0OmZvcihhcmdzPW5ldyBBcnJheShsZW4tMSksaT0wO2k8YXJncy5sZW5ndGg7KWFyZ3NbaSsrXT1hcmd1bWVudHNbaV07cmV0dXJuIHByb2Nlc3MubmV4dFRpY2soZnVuY3Rpb24oKXtmbi5hcHBseShudWxsLGFyZ3MpfSl9fX06bW9kdWxlLmV4cG9ydHM9cHJvY2Vzc30pLmNhbGwodGhpcyxfX3dlYnBhY2tfcmVxdWlyZV9fKDI3KSl9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe3ZhciBidWZmZXI9X193ZWJwYWNrX3JlcXVpcmVfXygyNiksQnVmZmVyPWJ1ZmZlci5CdWZmZXI7ZnVuY3Rpb24gY29weVByb3BzKHNyYyxkc3Qpe2Zvcih2YXIga2V5IGluIHNyYylkc3Rba2V5XT1zcmNba2V5XX1mdW5jdGlvbiBTYWZlQnVmZmVyKGFyZyxlbmNvZGluZ09yT2Zmc2V0LGxlbmd0aCl7cmV0dXJuIEJ1ZmZlcihhcmcsZW5jb2RpbmdPck9mZnNldCxsZW5ndGgpfUJ1ZmZlci5mcm9tJiZCdWZmZXIuYWxsb2MmJkJ1ZmZlci5hbGxvY1Vuc2FmZSYmQnVmZmVyLmFsbG9jVW5zYWZlU2xvdz9tb2R1bGUuZXhwb3J0cz1idWZmZXI6KGNvcHlQcm9wcyhidWZmZXIsZXhwb3J0cyksZXhwb3J0cy5CdWZmZXI9U2FmZUJ1ZmZlciksY29weVByb3BzKEJ1ZmZlcixTYWZlQnVmZmVyKSxTYWZlQnVmZmVyLmZyb209ZnVuY3Rpb24oYXJnLGVuY29kaW5nT3JPZmZzZXQsbGVuZ3RoKXtpZihcIm51bWJlclwiPT10eXBlb2YgYXJnKXRocm93IG5ldyBUeXBlRXJyb3IoXCJBcmd1bWVudCBtdXN0IG5vdCBiZSBhIG51bWJlclwiKTtyZXR1cm4gQnVmZmVyKGFyZyxlbmNvZGluZ09yT2Zmc2V0LGxlbmd0aCl9LFNhZmVCdWZmZXIuYWxsb2M9ZnVuY3Rpb24oc2l6ZSxmaWxsLGVuY29kaW5nKXtpZihcIm51bWJlclwiIT10eXBlb2Ygc2l6ZSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiQXJndW1lbnQgbXVzdCBiZSBhIG51bWJlclwiKTt2YXIgYnVmPUJ1ZmZlcihzaXplKTtyZXR1cm4gdm9pZCAwIT09ZmlsbD9cInN0cmluZ1wiPT10eXBlb2YgZW5jb2Rpbmc/YnVmLmZpbGwoZmlsbCxlbmNvZGluZyk6YnVmLmZpbGwoZmlsbCk6YnVmLmZpbGwoMCksYnVmfSxTYWZlQnVmZmVyLmFsbG9jVW5zYWZlPWZ1bmN0aW9uKHNpemUpe2lmKFwibnVtYmVyXCIhPXR5cGVvZiBzaXplKXRocm93IG5ldyBUeXBlRXJyb3IoXCJBcmd1bWVudCBtdXN0IGJlIGEgbnVtYmVyXCIpO3JldHVybiBCdWZmZXIoc2l6ZSl9LFNhZmVCdWZmZXIuYWxsb2NVbnNhZmVTbG93PWZ1bmN0aW9uKHNpemUpe2lmKFwibnVtYmVyXCIhPXR5cGVvZiBzaXplKXRocm93IG5ldyBUeXBlRXJyb3IoXCJBcmd1bWVudCBtdXN0IGJlIGEgbnVtYmVyXCIpO3JldHVybiBidWZmZXIuU2xvd0J1ZmZlcihzaXplKX19LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiOyhmdW5jdGlvbihCdWZmZXIpe21vZHVsZS5leHBvcnRzPXtpc05vZGU6dm9pZCAwIT09QnVmZmVyLG5ld0J1ZmZlckZyb206ZnVuY3Rpb24oZGF0YSxlbmNvZGluZyl7aWYoQnVmZmVyLmZyb20mJkJ1ZmZlci5mcm9tIT09VWludDhBcnJheS5mcm9tKXJldHVybiBCdWZmZXIuZnJvbShkYXRhLGVuY29kaW5nKTtpZihcIm51bWJlclwiPT10eXBlb2YgZGF0YSl0aHJvdyBuZXcgRXJyb3IoJ1RoZSBcImRhdGFcIiBhcmd1bWVudCBtdXN0IG5vdCBiZSBhIG51bWJlcicpO3JldHVybiBuZXcgQnVmZmVyKGRhdGEsZW5jb2RpbmcpfSxhbGxvY0J1ZmZlcjpmdW5jdGlvbihzaXplKXtpZihCdWZmZXIuYWxsb2MpcmV0dXJuIEJ1ZmZlci5hbGxvYyhzaXplKTt2YXIgYnVmPW5ldyBCdWZmZXIoc2l6ZSk7cmV0dXJuIGJ1Zi5maWxsKDApLGJ1Zn0saXNCdWZmZXI6ZnVuY3Rpb24oYil7cmV0dXJuIEJ1ZmZlci5pc0J1ZmZlcihiKX0saXNTdHJlYW06ZnVuY3Rpb24ob2JqKXtyZXR1cm4gb2JqJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBvYmoub24mJlwiZnVuY3Rpb25cIj09dHlwZW9mIG9iai5wYXVzZSYmXCJmdW5jdGlvblwiPT10eXBlb2Ygb2JqLnJlc3VtZX19fSkuY2FsbCh0aGlzLF9fd2VicGFja19yZXF1aXJlX18oMjYpLkJ1ZmZlcil9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO3ZhciBfX2Fzc2lnbj10aGlzJiZ0aGlzLl9fYXNzaWdufHxmdW5jdGlvbigpe3JldHVybihfX2Fzc2lnbj1PYmplY3QuYXNzaWdufHxmdW5jdGlvbih0KXtmb3IodmFyIHMsaT0xLG49YXJndW1lbnRzLmxlbmd0aDtpPG47aSsrKWZvcih2YXIgcCBpbiBzPWFyZ3VtZW50c1tpXSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocyxwKSYmKHRbcF09c1twXSk7cmV0dXJuIHR9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LF9fYXdhaXRlcj10aGlzJiZ0aGlzLl9fYXdhaXRlcnx8ZnVuY3Rpb24odGhpc0FyZyxfYXJndW1lbnRzLFAsZ2VuZXJhdG9yKXtyZXR1cm4gbmV3KFB8fChQPVByb21pc2UpKShmdW5jdGlvbihyZXNvbHZlLHJlamVjdCl7ZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKXt0cnl7c3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpfWNhdGNoKGUpe3JlamVjdChlKX19ZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpe3RyeXtzdGVwKGdlbmVyYXRvci50aHJvdyh2YWx1ZSkpfWNhdGNoKGUpe3JlamVjdChlKX19ZnVuY3Rpb24gc3RlcChyZXN1bHQpe3Jlc3VsdC5kb25lP3Jlc29sdmUocmVzdWx0LnZhbHVlKTpmdW5jdGlvbih2YWx1ZSl7cmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUD92YWx1ZTpuZXcgUChmdW5jdGlvbihyZXNvbHZlKXtyZXNvbHZlKHZhbHVlKX0pfShyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLHJlamVjdGVkKX1zdGVwKChnZW5lcmF0b3I9Z2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsX2FyZ3VtZW50c3x8W10pKS5uZXh0KCkpfSl9LF9fZ2VuZXJhdG9yPXRoaXMmJnRoaXMuX19nZW5lcmF0b3J8fGZ1bmN0aW9uKHRoaXNBcmcsYm9keSl7dmFyIGYseSx0LGcsXz17bGFiZWw6MCxzZW50OmZ1bmN0aW9uKCl7aWYoMSZ0WzBdKXRocm93IHRbMV07cmV0dXJuIHRbMV19LHRyeXM6W10sb3BzOltdfTtyZXR1cm4gZz17bmV4dDp2ZXJiKDApLHRocm93OnZlcmIoMSkscmV0dXJuOnZlcmIoMil9LFwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmKGdbU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSksZztmdW5jdGlvbiB2ZXJiKG4pe3JldHVybiBmdW5jdGlvbih2KXtyZXR1cm4gZnVuY3Rpb24ob3Ape2lmKGYpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7Zm9yKDtfOyl0cnl7aWYoZj0xLHkmJih0PTImb3BbMF0/eS5yZXR1cm46b3BbMF0/eS50aHJvd3x8KCh0PXkucmV0dXJuKSYmdC5jYWxsKHkpLDApOnkubmV4dCkmJiEodD10LmNhbGwoeSxvcFsxXSkpLmRvbmUpcmV0dXJuIHQ7c3dpdGNoKHk9MCx0JiYob3A9WzImb3BbMF0sdC52YWx1ZV0pLG9wWzBdKXtjYXNlIDA6Y2FzZSAxOnQ9b3A7YnJlYWs7Y2FzZSA0OnJldHVybiBfLmxhYmVsKysse3ZhbHVlOm9wWzFdLGRvbmU6ITF9O2Nhc2UgNTpfLmxhYmVsKysseT1vcFsxXSxvcD1bMF07Y29udGludWU7Y2FzZSA3Om9wPV8ub3BzLnBvcCgpLF8udHJ5cy5wb3AoKTtjb250aW51ZTtkZWZhdWx0OmlmKCEodD0odD1fLnRyeXMpLmxlbmd0aD4wJiZ0W3QubGVuZ3RoLTFdKSYmKDY9PT1vcFswXXx8Mj09PW9wWzBdKSl7Xz0wO2NvbnRpbnVlfWlmKDM9PT1vcFswXSYmKCF0fHxvcFsxXT50WzBdJiZvcFsxXTx0WzNdKSl7Xy5sYWJlbD1vcFsxXTticmVha31pZig2PT09b3BbMF0mJl8ubGFiZWw8dFsxXSl7Xy5sYWJlbD10WzFdLHQ9b3A7YnJlYWt9aWYodCYmXy5sYWJlbDx0WzJdKXtfLmxhYmVsPXRbMl0sXy5vcHMucHVzaChvcCk7YnJlYWt9dFsyXSYmXy5vcHMucG9wKCksXy50cnlzLnBvcCgpO2NvbnRpbnVlfW9wPWJvZHkuY2FsbCh0aGlzQXJnLF8pfWNhdGNoKGUpe29wPVs2LGVdLHk9MH1maW5hbGx5e2Y9dD0wfWlmKDUmb3BbMF0pdGhyb3cgb3BbMV07cmV0dXJue3ZhbHVlOm9wWzBdP29wWzFdOnZvaWQgMCxkb25lOiEwfX0oW24sdl0pfX19O09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBEYXRhXzE9X193ZWJwYWNrX3JlcXVpcmVfXyg0KSxBcGlDbGllbnRfMT1fX3dlYnBhY2tfcmVxdWlyZV9fKDIxKSxDb21tYW5kQnVzXzE9X193ZWJwYWNrX3JlcXVpcmVfXygxMiksRXZlbnRCdXNfMT1fX3dlYnBhY2tfcmVxdWlyZV9fKDEzKSxDb21tYW5kQnVzX3R5cGVzXzE9X193ZWJwYWNrX3JlcXVpcmVfXygyNCksRXZlbnRCdXNfdHlwZXNfMT1fX3dlYnBhY2tfcmVxdWlyZV9fKDI1KSxDT05TVEFOVFM9X193ZWJwYWNrX3JlcXVpcmVfXygxKSxBcGk9ZnVuY3Rpb24oKXtmdW5jdGlvbiBBcGkoZGF0YSxhcGlDbGllbnQsY29tbWFuZEJ1cyxldmVudEJ1cyxldmVudEVtaXR0ZXIpe3ZhciBfdGhpcz10aGlzO3ZvaWQgMD09PWRhdGEmJihkYXRhPW5ldyBEYXRhXzEuRGF0YSksdm9pZCAwPT09YXBpQ2xpZW50JiYoYXBpQ2xpZW50PW5ldyBBcGlDbGllbnRfMS5BcGlDbGllbnQpLHZvaWQgMD09PWNvbW1hbmRCdXMmJihjb21tYW5kQnVzPUNvbW1hbmRCdXNfMS5Db21tYW5kQnVzLmdldEluc3RhbmNlKCkpLHZvaWQgMD09PWV2ZW50QnVzJiYoZXZlbnRCdXM9RXZlbnRCdXNfMS5FdmVudEJ1cy5nZXRJbnN0YW5jZSgpKSx0aGlzLmV2ZW50RW1pdHRlcj1ldmVudEVtaXR0ZXIsdGhpcy5ldmVudEJ1cz1ldmVudEJ1cyx0aGlzLmRhdGE9ZGF0YSx0aGlzLmFwaUNsaWVudD1hcGlDbGllbnQsdGhpcy5jb21tYW5kQnVzPWNvbW1hbmRCdXMsdGhpcy5jb21tYW5kQnVzLm9uKENvbW1hbmRCdXNfdHlwZXNfMS5UQ29tbWFuZHMuR0VUX1RBR1MsZnVuY3Rpb24oX2Epe3ZhciBjb21tYW5kSWQ9X2EuY29tbWFuZElkO190aGlzLmdldFRhZ3MoKS50aGVuKGZ1bmN0aW9uKF9hKXt2YXIgcmVzdWx0PV9hLnJlc3VsdDtfdGhpcy5ldmVudEJ1cy5lbWl0KEV2ZW50QnVzX3R5cGVzXzEuVEV2ZW50cy5HRVRfVEFHUyx7dGFnczpyZXN1bHR9LGNvbW1hbmRJZCl9KX0pLHRoaXMuY29tbWFuZEJ1cy5vbihDb21tYW5kQnVzX3R5cGVzXzEuVENvbW1hbmRzLlNFVF9UQUdTLGZ1bmN0aW9uKF9hKXt2YXIgY29tbWFuZElkPV9hLmNvbW1hbmRJZCx0YWdzPV9hLnRhZ3M7X3RoaXMuc2V0VGFncyh0YWdzKS50aGVuKGZ1bmN0aW9uKCl7X3RoaXMuZXZlbnRCdXMuZW1pdChFdmVudEJ1c190eXBlc18xLlRFdmVudHMuU0VUX1RBR1MsY29tbWFuZElkKX0pfSl9cmV0dXJuIEFwaS5wcm90b3R5cGUuY2hlY2tEZXZpY2U9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBwYXJhbXM7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuZ2V0UmVxdWVzdFBhcmFtcygpXTtjYXNlIDE6cmV0dXJuIHBhcmFtcz1fYS5zZW50KCksWzQsdGhpcy5hcGlDbGllbnQuY2hlY2tEZXZpY2UocGFyYW1zKV07Y2FzZSAyOnJldHVyblsyLF9hLnNlbnQoKV19fSl9KX0sQXBpLnByb3RvdHlwZS5jaGVja0RldmljZVN1YnNjcmliZUZvclB1c2hOb3RpZmljYXRpb25zPWZ1bmN0aW9uKHVzZUNhY2hlKXtyZXR1cm4gdm9pZCAwPT09dXNlQ2FjaGUmJih1c2VDYWNoZT0hMCksX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBzdGF0dXMsX2EsZXhpc3QscHVzaF90b2tlbl9leGlzdDtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYil7c3dpdGNoKF9iLmxhYmVsKXtjYXNlIDA6cmV0dXJuIHZvaWQgMCE9PShzdGF0dXM9bG9jYWxTdG9yYWdlLmdldEl0ZW0oQ09OU1RBTlRTLktFWV9ERVZJQ0VfUkVHSVNUUkFUSU9OX1NUQVRVUykpJiZ1c2VDYWNoZT9bMywyXTpbNCx0aGlzLmNoZWNrRGV2aWNlKCldO2Nhc2UgMTpfYT1fYi5zZW50KCksZXhpc3Q9X2EuZXhpc3QscHVzaF90b2tlbl9leGlzdD1fYS5wdXNoX3Rva2VuX2V4aXN0LGxvY2FsU3RvcmFnZS5zZXRJdGVtKENPTlNUQU5UUy5LRVlfREVWSUNFX1JFR0lTVFJBVElPTl9TVEFUVVMsZXhpc3QmJnB1c2hfdG9rZW5fZXhpc3Q/Q09OU1RBTlRTLkRFVklDRV9SRUdJU1RSQVRJT05fU1RBVFVTX1JFR0lTVEVSRUQ6Q09OU1RBTlRTLkRFVklDRV9SRUdJU1RSQVRJT05fU1RBVFVTX1VOUkVHSVNURVJFRCksc3RhdHVzPWxvY2FsU3RvcmFnZS5nZXRJdGVtKENPTlNUQU5UUy5LRVlfREVWSUNFX1JFR0lTVFJBVElPTl9TVEFUVVMpLF9iLmxhYmVsPTI7Y2FzZSAyOnJldHVyblsyLHN0YXR1cz09PUNPTlNUQU5UUy5ERVZJQ0VfUkVHSVNUUkFUSU9OX1NUQVRVU19SRUdJU1RFUkVEXX19KX0pfSxBcGkucHJvdG90eXBlLmdldENvbmZpZz1mdW5jdGlvbihmZWF0dXJlcyl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgcGFyYW1zO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLmdldFJlcXVlc3RQYXJhbXMoKV07Y2FzZSAxOnJldHVybiBwYXJhbXM9X2Euc2VudCgpLFsyLHRoaXMuYXBpQ2xpZW50LmdldENvbmZpZyhfX2Fzc2lnbihfX2Fzc2lnbih7fSxwYXJhbXMpLHtmZWF0dXJlczpmZWF0dXJlc30pKV19fSl9KX0sQXBpLnByb3RvdHlwZS5hcHBsaWNhdGlvbk9wZW49ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBwYXJhbXM7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuZ2V0UmVxdWVzdFBhcmFtcygpXTtjYXNlIDE6cmV0dXJuIHBhcmFtcz1fYS5zZW50KCksWzQsdGhpcy5kYXRhLnNldExhc3RPcGVuQXBwbGljYXRpb25UaW1lKERhdGUubm93KCkpXTtjYXNlIDI6cmV0dXJuIF9hLnNlbnQoKSxbMix0aGlzLmFwaUNsaWVudC5hcHBsaWNhdGlvbk9wZW4ocGFyYW1zKV19fSl9KX0sQXBpLnByb3RvdHlwZS5yZWdpc3RlckRldmljZT1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIHBhcmFtcyx0b2tlbnMscmVzcG9uc2U7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuZGF0YS5nZXRTdGF0dXNDb21tdW5pY2F0aW9uRGlzYWJsZWQoKV07Y2FzZSAxOmlmKF9hLnNlbnQoKSl0aHJvdyBuZXcgRXJyb3IoXCJDYW4ndCByZWdpc3RlciBkZXZpY2U6IENvbW11bmljYXRpb24gaXMgZGlzYWJsZWQhXCIpO3JldHVybls0LHRoaXMuZ2V0UmVxdWVzdFBhcmFtcygpXTtjYXNlIDI6cmV0dXJuIHBhcmFtcz1fYS5zZW50KCksWzQsdGhpcy5kYXRhLmdldFRva2VucygpXTtjYXNlIDM6aWYoISh0b2tlbnM9X2Euc2VudCgpKS5wdXNoVG9rZW4pdGhyb3cgbmV3IEVycm9yKFwiQ2FuJ3QgcmVnaXN0ZXIgZGV2aWNlOiBwdXNoVG9rZW4gaXMgbm90IGV4aXN0IVwiKTtyZXR1cm5bNCx0aGlzLmFwaUNsaWVudC5yZWdpc3RlckRldmljZShfX2Fzc2lnbihfX2Fzc2lnbih7fSxwYXJhbXMpLHtwdXNoX3Rva2VuOnRva2Vucy5wdXNoVG9rZW4sYXV0aF90b2tlbjp0b2tlbnMuYXV0aFRva2VuLHB1YmxpY19rZXk6dG9rZW5zLnB1YmxpY0tleSxmY21fcHVzaF9zZXQ6dG9rZW5zLmZjbVB1c2hTZXQsZmNtX3Rva2VuOnRva2Vucy5mY21Ub2tlbn0pKV07Y2FzZSA0OnJldHVybiByZXNwb25zZT1fYS5zZW50KCksWzQsdGhpcy5kYXRhLnNldFN0YXR1c01hbnVhbFVuc3Vic2NyaWJlZCghMSldO2Nhc2UgNTpyZXR1cm4gX2Euc2VudCgpLGxvY2FsU3RvcmFnZS5zZXRJdGVtKENPTlNUQU5UUy5LRVlfREVWSUNFX1JFR0lTVFJBVElPTl9TVEFUVVMsQ09OU1RBTlRTLkRFVklDRV9SRUdJU1RSQVRJT05fU1RBVFVTX1JFR0lTVEVSRUQpLHRoaXMuZXZlbnRFbWl0dGVyJiZ0aGlzLmV2ZW50RW1pdHRlci5lbWl0KENPTlNUQU5UUy5FVkVOVF9PTl9SRUdJU1RFUiksWzIscmVzcG9uc2VdfX0pfSl9LEFwaS5wcm90b3R5cGUudW5yZWdpc3RlckRldmljZT1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIHBhcmFtcyxyZXNwb25zZTtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5nZXRSZXF1ZXN0UGFyYW1zKCldO2Nhc2UgMTpyZXR1cm4gcGFyYW1zPV9hLnNlbnQoKSxyZXNwb25zZT10aGlzLmFwaUNsaWVudC51bnJlZ2lzdGVyRGV2aWNlKHBhcmFtcyksbG9jYWxTdG9yYWdlLnNldEl0ZW0oQ09OU1RBTlRTLktFWV9ERVZJQ0VfUkVHSVNUUkFUSU9OX1NUQVRVUyxDT05TVEFOVFMuREVWSUNFX1JFR0lTVFJBVElPTl9TVEFUVVNfVU5SRUdJU1RFUkVEKSx0aGlzLmV2ZW50RW1pdHRlciYmdGhpcy5ldmVudEVtaXR0ZXIuZW1pdChDT05TVEFOVFMuRVZFTlRfT05fVU5TVUJTQ1JJQkUpLFsyLHJlc3BvbnNlXX19KX0pfSxBcGkucHJvdG90eXBlLmRlbGV0ZURldmljZT1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIHBhcmFtcyxyZXNwb25zZTtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5nZXRSZXF1ZXN0UGFyYW1zKCldO2Nhc2UgMTpyZXR1cm4gcGFyYW1zPV9hLnNlbnQoKSxyZXNwb25zZT10aGlzLmFwaUNsaWVudC5kZWxldGVEZXZpY2UocGFyYW1zKSxbNCx0aGlzLmRhdGEuc2V0U3RhdHVzTWFudWFsVW5zdWJzY3JpYmVkKCEwKV07Y2FzZSAyOnJldHVybiBfYS5zZW50KCksbG9jYWxTdG9yYWdlLnNldEl0ZW0oQ09OU1RBTlRTLktFWV9ERVZJQ0VfUkVHSVNUUkFUSU9OX1NUQVRVUyxDT05TVEFOVFMuREVWSUNFX1JFR0lTVFJBVElPTl9TVEFUVVNfVU5SRUdJU1RFUkVEKSx0aGlzLmV2ZW50RW1pdHRlciYmdGhpcy5ldmVudEVtaXR0ZXIuZW1pdChDT05TVEFOVFMuRVZFTlRfT05fVU5TVUJTQ1JJQkUpLFsyLHJlc3BvbnNlXX19KX0pfSxBcGkucHJvdG90eXBlLm1lc3NhZ2VEZWxpdmVyeUV2ZW50PWZ1bmN0aW9uKGhhc2gsaXNUcmFja2luZ0xvZ09uRmFpbHVyZSl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgc3RhcnRUaW1lLHBhcmFtcyxlcnJvcl8xO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm4gc3RhcnRUaW1lPU1hdGgucm91bmQoK25ldyBEYXRlKSxbNCx0aGlzLmdldFJlcXVlc3RQYXJhbXMoKV07Y2FzZSAxOnBhcmFtcz1fYS5zZW50KCksX2EubGFiZWw9MjtjYXNlIDI6cmV0dXJuIF9hLnRyeXMucHVzaChbMiw0LCw1XSksWzQsdGhpcy5hcGlDbGllbnQubWVzc2FnZURlbGl2ZXJ5RXZlbnQoX19hc3NpZ24oX19hc3NpZ24oe30scGFyYW1zKSx7aGFzaDpoYXNofSkpXTtjYXNlIDM6cmV0dXJuWzIsX2Euc2VudCgpXTtjYXNlIDQ6dGhyb3cgZXJyb3JfMT1fYS5zZW50KCksaXNUcmFja2luZ0xvZ09uRmFpbHVyZSYmdGhpcy50cmFja0xvZyhcIm1lc3NhZ2VEZWxpdmVyeUV2ZW50XCIsX19hc3NpZ24oX19hc3NpZ24oe30scGFyYW1zKSx7aGFzaDpoYXNofSkse3N0YXJ0VGltZTpzdGFydFRpbWUsZXJyb3I6ZXJyb3JfMX0pLGVycm9yXzE7Y2FzZSA1OnJldHVyblsyXX19KX0pfSxBcGkucHJvdG90eXBlLnB1c2hTdGF0PWZ1bmN0aW9uKGhhc2gsaXNUcmFja2luZ0xvZ09uRmFpbHVyZSl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgc3RhcnRUaW1lLHBhcmFtcyxlcnJvcl8yO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm4gc3RhcnRUaW1lPU1hdGgucm91bmQoK25ldyBEYXRlKSxbNCx0aGlzLmdldFJlcXVlc3RQYXJhbXMoKV07Y2FzZSAxOnBhcmFtcz1fYS5zZW50KCksX2EubGFiZWw9MjtjYXNlIDI6cmV0dXJuIF9hLnRyeXMucHVzaChbMiw0LCw1XSksWzQsdGhpcy5hcGlDbGllbnQucHVzaFN0YXQoX19hc3NpZ24oX19hc3NpZ24oe30scGFyYW1zKSx7aGFzaDpoYXNofSkpXTtjYXNlIDM6cmV0dXJuWzIsX2Euc2VudCgpXTtjYXNlIDQ6dGhyb3cgZXJyb3JfMj1fYS5zZW50KCksaXNUcmFja2luZ0xvZ09uRmFpbHVyZSYmdGhpcy50cmFja0xvZyhcInB1c2hTdGF0XCIsX19hc3NpZ24oX19hc3NpZ24oe30scGFyYW1zKSx7aGFzaDpoYXNofSkse3N0YXJ0VGltZTpzdGFydFRpbWUsZXJyb3I6ZXJyb3JfMn0pLGVycm9yXzI7Y2FzZSA1OnJldHVyblsyXX19KX0pfSxBcGkucHJvdG90eXBlLnNldFRhZ3M9ZnVuY3Rpb24odGFncyl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgcGFyYW1zO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLmdldFJlcXVlc3RQYXJhbXMoKV07Y2FzZSAxOnJldHVybiBwYXJhbXM9X2Euc2VudCgpLFsyLHRoaXMuYXBpQ2xpZW50LnNldFRhZ3MoX19hc3NpZ24oX19hc3NpZ24oe30scGFyYW1zKSx7dGFnczp0YWdzfSkpXX19KX0pfSxBcGkucHJvdG90eXBlLmdldFRhZ3M9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBwYXJhbXM7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuZ2V0UmVxdWVzdFBhcmFtcygpXTtjYXNlIDE6cmV0dXJuIHBhcmFtcz1fYS5zZW50KCksWzIsdGhpcy5hcGlDbGllbnQuZ2V0VGFncyhwYXJhbXMpXX19KX0pfSxBcGkucHJvdG90eXBlLnJlZ2lzdGVyVXNlcj1mdW5jdGlvbih1c2VySWQpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIHBhcmFtcyxkZXZpY2VUeXBlLGlkLHJlc3BvbnNlO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLmdldFJlcXVlc3RQYXJhbXMoKV07Y2FzZSAxOnJldHVybiBwYXJhbXM9X2Euc2VudCgpLFs0LHRoaXMuZGF0YS5nZXREZXZpY2VUeXBlKCldO2Nhc2UgMjpyZXR1cm4gZGV2aWNlVHlwZT1fYS5zZW50KCksaWQ9XCJcIit1c2VySWQsWzQsdGhpcy5hcGlDbGllbnQucmVnaXN0ZXJVc2VyKF9fYXNzaWduKF9fYXNzaWduKHt9LHBhcmFtcykse3VzZXJJZDppZCx0c19vZmZzZXQ6NjAqLShuZXcgRGF0ZSkuZ2V0VGltZXpvbmVPZmZzZXQoKSxkZXZpY2VfdHlwZTpkZXZpY2VUeXBlfSkpXTtjYXNlIDM6cmV0dXJuIHJlc3BvbnNlPV9hLnNlbnQoKSxbNCx0aGlzLmRhdGEuc2V0VXNlcklkKFwiXCIrdXNlcklkKV07Y2FzZSA0OnJldHVybiBfYS5zZW50KCksWzQsdGhpcy5kYXRhLnNldFN0YXR1c1VzZXJJZFdhc0NoYW5nZWQoITApXTtjYXNlIDU6cmV0dXJuIF9hLnNlbnQoKSxbMixyZXNwb25zZV19fSl9KX0sQXBpLnByb3RvdHlwZS5wb3N0RXZlbnQ9ZnVuY3Rpb24oZXZlbnQsYXR0cmlidXRlcyl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgcGFyYW1zLGRhdGUsdGltZSx0aW1lc3RhbXBVVEMsdGltZXN0YW1wQ3VycmVudCxsYXN0T3Blbk1lc3NhZ2UscmVzcG9uc2U7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuZ2V0UmVxdWVzdFBhcmFtcygpXTtjYXNlIDE6cmV0dXJuIHBhcmFtcz1fYS5zZW50KCksZGF0ZT1uZXcgRGF0ZSx0aW1lPWRhdGUuZ2V0VGltZSgpLHRpbWVzdGFtcFVUQz1NYXRoLmZsb29yKHRpbWUvMWUzKSx0aW1lc3RhbXBDdXJyZW50PXRpbWVzdGFtcFVUQy1kYXRlLmdldFRpbWV6b25lT2Zmc2V0KCkvNjAqMzYwMCxbNCx0aGlzLmRhdGEuZ2V0TGFzdE9wZW5NZXNzYWdlKCldO2Nhc2UgMjppZigobGFzdE9wZW5NZXNzYWdlPV9hLnNlbnQoKSkmJmxhc3RPcGVuTWVzc2FnZS5leHBpcnk+RGF0ZS5ub3coKSl7aWYoYXR0cmlidXRlcy5tc2dIYXNoKXJldHVyblsyLFByb21pc2UucmVqZWN0KFwiYXR0cmlidXRlIG1zZ0hhc2ggYWxyZWFkeSBkZWZpbmVkXCIpXTthdHRyaWJ1dGVzPV9fYXNzaWduKF9fYXNzaWduKHt9LGF0dHJpYnV0ZXMpLHttc2dIYXNoOmxhc3RPcGVuTWVzc2FnZS5tZXNzYWdlSGFzaH0pfXJldHVybls0LHRoaXMuZGF0YS5zZXRMYXN0T3Blbk1lc3NhZ2Uodm9pZCAwKV07Y2FzZSAzOnJldHVybiBfYS5zZW50KCksWzQsdGhpcy5hcGlDbGllbnQucG9zdEV2ZW50KF9fYXNzaWduKF9fYXNzaWduKHt9LHBhcmFtcykse2V2ZW50OmV2ZW50LHRpbWVzdGFtcFVUQzp0aW1lc3RhbXBVVEMsdGltZXN0YW1wQ3VycmVudDp0aW1lc3RhbXBDdXJyZW50LGF0dHJpYnV0ZXM6YXR0cmlidXRlc30pKV07Y2FzZSA0OnJldHVybihyZXNwb25zZT1fYS5zZW50KCkpJiZyZXNwb25zZS5jb2RlJiZ0aGlzLmNvbW1hbmRCdXMuZW1pdChDb21tYW5kQnVzX3R5cGVzXzEuVENvbW1hbmRzLlNIT1dfSU5fQVBQLHtjb2RlOnJlc3BvbnNlLmNvZGV9KSxbMixyZXNwb25zZV19fSl9KX0sQXBpLnByb3RvdHlwZS5nZXRJbmJveE1lc3NhZ2VzPWZ1bmN0aW9uKGNvdW50KXtyZXR1cm4gdm9pZCAwPT09Y291bnQmJihjb3VudD0wKSxfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIHBhcmFtcyxsYXN0Q29kZSxsYXN0UmVxdWVzdFRpbWU7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuZ2V0UmVxdWVzdFBhcmFtcygpXTtjYXNlIDE6cmV0dXJuIHBhcmFtcz1fYS5zZW50KCksWzQsdGhpcy5kYXRhLmdldEluYm94TGFzdFJlcXVlc3RDb2RlKCldO2Nhc2UgMjpyZXR1cm4gbGFzdENvZGU9X2Euc2VudCgpLFs0LHRoaXMuZGF0YS5nZXRJbmJveExhc3RSZXF1ZXN0VGltZSgpXTtjYXNlIDM6cmV0dXJuIGxhc3RSZXF1ZXN0VGltZT1fYS5zZW50KCksWzIsdGhpcy5hcGlDbGllbnQuZ2V0SW5ib3hNZXNzYWdlcyhfX2Fzc2lnbihfX2Fzc2lnbih7fSxwYXJhbXMpLHtjb3VudDpjb3VudCxsYXN0X2NvZGU6bGFzdENvZGUsbGFzdF9yZXF1ZXN0X3RpbWU6bGFzdFJlcXVlc3RUaW1lfSkpXX19KX0pfSxBcGkucHJvdG90eXBlLmluYm94U3RhdHVzPWZ1bmN0aW9uKG9yZGVyLHN0YXR1cyl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgcGFyYW1zO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLmdldFJlcXVlc3RQYXJhbXMoKV07Y2FzZSAxOnJldHVybiBwYXJhbXM9X2Euc2VudCgpLFsyLHRoaXMuYXBpQ2xpZW50LmluYm94U3RhdHVzKF9fYXNzaWduKF9fYXNzaWduKHt9LHBhcmFtcykse2luYm94X2NvZGU6b3JkZXIsc3RhdHVzOnN0YXR1cyx0aW1lOihuZXcgRGF0ZSkuZ2V0VGltZSgpfSkpXX19KX0pfSxBcGkucHJvdG90eXBlLnRyaWdnZXJFdmVudD1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3Rocm93IG5ldyBFcnJvcihcIk1ldGhvZCBoYXMgYmVlbiBkZXByZWNhdGVkLCBiZWNhdXNlIHdlIGRvbid0IGFnZ3JlZ2F0ZSB0aGlzIHN0YXRpc3RpY3MuXCIpfSl9KX0sQXBpLnByb3RvdHlwZS5wYWdlVmlzaXQ9ZnVuY3Rpb24oY29uZmlnKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBwYXJhbXMsZmVhdHVyZXMsdXJsO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLmdldFJlcXVlc3RQYXJhbXMoKV07Y2FzZSAxOnJldHVybiBwYXJhbXM9X2Euc2VudCgpLFs0LHRoaXMuZGF0YS5nZXRGZWF0dXJlcygpXTtjYXNlIDI6cmV0dXJuIGZlYXR1cmVzPV9hLnNlbnQoKSwodXJsPWZlYXR1cmVzJiZmZWF0dXJlcy5wYWdlX3Zpc2l0JiZmZWF0dXJlcy5wYWdlX3Zpc2l0LmVudHJ5cG9pbnQpP1syLHRoaXMuYXBpQ2xpZW50LnBhZ2VWaXNpdChfX2Fzc2lnbihfX2Fzc2lnbih7fSxwYXJhbXMpLGNvbmZpZyksdXJsKV06WzJdfX0pfSl9LEFwaS5wcm90b3R5cGUuZ2V0SW5BcHBzPWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgcGFyYW1zO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLmdldFJlcXVlc3RQYXJhbXMoKV07Y2FzZSAxOnJldHVybiBwYXJhbXM9X2Euc2VudCgpLFsyLHRoaXMuYXBpQ2xpZW50LmdldEluQXBwcyhwYXJhbXMpXX19KX0pfSxBcGkucHJvdG90eXBlLnNldFB1cmNoYXNlPWZ1bmN0aW9uKGF0dHJpYnV0ZXMpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIHBhcmFtcztyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5nZXRSZXF1ZXN0UGFyYW1zKCldO2Nhc2UgMTpyZXR1cm4gcGFyYW1zPV9hLnNlbnQoKSxbMix0aGlzLmFwaUNsaWVudC5zZXRQdXJjaGFzZShfX2Fzc2lnbihfX2Fzc2lnbih7fSxwYXJhbXMpLGF0dHJpYnV0ZXMpKV19fSl9KX0sQXBpLnByb3RvdHlwZS5nZXRQYXJhbXM9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBhcHBsaWNhdGlvbkNvZGUsaHdpZCxhcGlQYXJhbXMsaW5pdFBhcmFtcztyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5kYXRhLmdldEFwcGxpY2F0aW9uQ29kZSgpXTtjYXNlIDE6cmV0dXJuIGFwcGxpY2F0aW9uQ29kZT1fYS5zZW50KCksWzQsdGhpcy5kYXRhLmdldEh3aWQoKV07Y2FzZSAyOnJldHVybiBod2lkPV9hLnNlbnQoKSxbNCx0aGlzLmRhdGEuZ2V0VG9rZW5zKCldO2Nhc2UgMzpyZXR1cm4gYXBpUGFyYW1zPV9hLnNlbnQoKSxbNCx0aGlzLmRhdGEuZ2V0SW5pdFBhcmFtcygpXTtjYXNlIDQ6cmV0dXJuIGluaXRQYXJhbXM9X2Euc2VudCgpLFsyLF9fYXNzaWduKF9fYXNzaWduKHthcHBsaWNhdGlvbkNvZGU6YXBwbGljYXRpb25Db2RlLGh3aWQ6aHdpZH0sYXBpUGFyYW1zKSxpbml0UGFyYW1zKV19fSl9KX0sT2JqZWN0LmRlZmluZVByb3BlcnR5KEFwaS5wcm90b3R5cGUsXCJwYXJhbXNcIix7Z2V0OmZ1bmN0aW9uKCl7dGhyb3cgbmV3IEVycm9yKCdQcm9wZXJ0eSBcIlB1c2h3b29zaC5hcGkucGFyYW1zXCIgaGF2ZSBiZWVuIGRlcHJlY2F0ZWQuIFVzZSB0aGUgYXN5bmMgbWV0aG9kIFwiUHVzaHdvb3NoLmFwaS5nZXRQYXJhbXMoKVwiJyl9LGVudW1lcmFibGU6ITAsY29uZmlndXJhYmxlOiEwfSksQXBpLnByb3RvdHlwZS5nZXRSZXF1ZXN0UGFyYW1zPWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgYXBwbGljYXRpb25Db2RlLGh3aWQsdXNlcklkLGRldmljZVR5cGUsZGV2aWNlTW9kZWwsbGFuZ3VhZ2UsdmVyc2lvbix0aW1lem9uZTtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5kYXRhLmdldEFwcGxpY2F0aW9uQ29kZSgpXTtjYXNlIDE6cmV0dXJuIGFwcGxpY2F0aW9uQ29kZT1fYS5zZW50KCksWzQsdGhpcy5kYXRhLmdldEh3aWQoKV07Y2FzZSAyOnJldHVybiBod2lkPV9hLnNlbnQoKSxbNCx0aGlzLmRhdGEuZ2V0VXNlcklkKCldO2Nhc2UgMzpyZXR1cm4gdXNlcklkPV9hLnNlbnQoKSxbNCx0aGlzLmRhdGEuZ2V0RGV2aWNlVHlwZSgpXTtjYXNlIDQ6cmV0dXJuIGRldmljZVR5cGU9X2Euc2VudCgpLFs0LHRoaXMuZGF0YS5nZXREZXZpY2VNb2RlbCgpXTtjYXNlIDU6cmV0dXJuIGRldmljZU1vZGVsPV9hLnNlbnQoKSxbNCx0aGlzLmRhdGEuZ2V0TGFuZ3VhZ2UoKV07Y2FzZSA2OnJldHVybiBsYW5ndWFnZT1fYS5zZW50KCksWzQsdGhpcy5kYXRhLmdldFNka1ZlcnNpb24oKV07Y2FzZSA3OnJldHVybiB2ZXJzaW9uPV9hLnNlbnQoKSx0aW1lem9uZT02MCotKG5ldyBEYXRlKS5nZXRUaW1lem9uZU9mZnNldCgpLFsyLHthcHBsaWNhdGlvbjphcHBsaWNhdGlvbkNvZGUsaHdpZDpod2lkLHVzZXJJZDp1c2VySWR8fGh3aWQsZGV2aWNlX3R5cGU6ZGV2aWNlVHlwZSxkZXZpY2VfbW9kZWw6ZGV2aWNlTW9kZWwsdGltZXpvbmU6dGltZXpvbmUsbGFuZ3VhZ2U6bGFuZ3VhZ2Usdjp2ZXJzaW9ufV19fSl9KX0sQXBpLnByb3RvdHlwZS50cmFja0xvZz1mdW5jdGlvbihtZXRob2QscGF5bG9hZCxvdGhlcnMpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGVuZFRpbWUsZW50cnlwb2ludDtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuIGVuZFRpbWU9TWF0aC5yb3VuZCgrbmV3IERhdGUpLFs0LHRoaXMuZGF0YS5nZXRBcGlFbnRyeXBvaW50KCldO2Nhc2UgMTpyZXR1cm4gZW50cnlwb2ludD1fYS5zZW50KCksZmV0Y2goXCJodHRwczovL3Bvc3QtbG9nLnB1c2h3b29zaC5jb20vd2Vic2RrXCIse21ldGhvZDpcIlBPU1RcIixoZWFkZXJzOntcIkNvbnRlbnQtVHlwZVwiOlwidGV4dC9wbGFpbjtjaGFyc2V0PVVURi04XCJ9LGJvZHk6SlNPTi5zdHJpbmdpZnkoe3BheWxvYWQ6cGF5bG9hZCxzdGFydFRpbWU6b3RoZXJzLnN0YXJ0VGltZSxlbmRUaW1lOmVuZFRpbWUsZXhlY3V0aW9uVGltZTplbmRUaW1lLW90aGVycy5zdGFydFRpbWUsZXJyb3I6e2NvZGU6b3RoZXJzLmVycm9yLmNvZGUsbWVzc2FnZTpvdGhlcnMuZXJyb3IubWVzc2FnZX0sbWV0aG9kOm1ldGhvZCxlbnRyeXBvaW50OmVudHJ5cG9pbnQsbG9jYXRpb246e2hvc3RuYW1lOnNlbGYubG9jYXRpb24uaG9zdG5hbWUsb3JpZ2luOnNlbGYubG9jYXRpb24ub3JpZ2luLHBhdGhuYW1lOnNlbGYubG9jYXRpb24ucGF0aG5hbWV9LHR5cGU6XCJ3ZWJzZGtcIn0pfSksWzJdfX0pfSl9LEFwaX0oKTtleHBvcnRzLkFwaT1BcGl9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBpbml0aWFsXzE9X193ZWJwYWNrX3JlcXVpcmVfXygzOCksXzI2XzExXzIwMThfMT1fX3dlYnBhY2tfcmVxdWlyZV9fKDM5KSxEYXRlTW9kdWxlXzE9X193ZWJwYWNrX3JlcXVpcmVfXyg2KSxNaWdyYXRpb25zPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gTWlncmF0aW9ucyhkYXRlTW9kdWxlKXt2b2lkIDA9PT1kYXRlTW9kdWxlJiYoZGF0ZU1vZHVsZT1uZXcgRGF0ZU1vZHVsZV8xLmRlZmF1bHQpLHRoaXMubWlncmF0aW9ucz17aW5pdGlhbDppbml0aWFsXzEuZGVmYXVsdCxcIjIwMTgvMTEvMjZcIjpfMjZfMTFfMjAxOF8xLmRlZmF1bHR9LHRoaXMuZGF0ZU1vZHVsZT1kYXRlTW9kdWxlfXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoTWlncmF0aW9ucy5wcm90b3R5cGUsXCJpbml0aWFsXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB0aGlzLm1pZ3JhdGlvbnMuaW5pdGlhbH0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxPYmplY3QuZGVmaW5lUHJvcGVydHkoTWlncmF0aW9ucy5wcm90b3R5cGUsXCJkYXRlU29ydGVkXCIse2dldDpmdW5jdGlvbigpe3ZhciBfdGhpcz10aGlzO3JldHVybiBPYmplY3Qua2V5cyh0aGlzLm1pZ3JhdGlvbnMpLmZpbHRlcihmdW5jdGlvbihrZXkpe3JldHVyblwiaW5pdGlhbFwiIT09a2V5fSkuc29ydChmdW5jdGlvbihhLGIpe3ZhciBkYXRlQT1uZXcgRGF0ZU1vZHVsZV8xLmRlZmF1bHQobmV3IERhdGUoYSkpLGRhdGVCPW5ldyBEYXRlTW9kdWxlXzEuZGVmYXVsdChuZXcgRGF0ZShiKSk7cmV0dXJuIGRhdGVBLmdldFRpbWVzdGFtcCgpLWRhdGVCLmdldFRpbWVzdGFtcCgpfSkubWFwKGZ1bmN0aW9uKGtleSl7cmV0dXJuIF90aGlzLm1pZ3JhdGlvbnNba2V5XX0pfSxlbnVtZXJhYmxlOiEwLGNvbmZpZ3VyYWJsZTohMH0pLE1pZ3JhdGlvbnN9KCk7ZXhwb3J0cy5kZWZhdWx0PU1pZ3JhdGlvbnN9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBoZWxwZXJzXzE9X193ZWJwYWNrX3JlcXVpcmVfXygyMCksY29uc3RhbnRzXzE9X193ZWJwYWNrX3JlcXVpcmVfXygxMCk7ZXhwb3J0cy5kZWZhdWx0PVtoZWxwZXJzXzEuc3RvcmVDcmVhdG9yRGVjb3JhdG9yKGNvbnN0YW50c18xLlNUT1JFX05BTUVfS0VZX1ZBTFVFLGZ1bmN0aW9uKGRhdGFiYXNlKXtkYXRhYmFzZS5jcmVhdGVPYmplY3RTdG9yZShjb25zdGFudHNfMS5TVE9SRV9OQU1FX0tFWV9WQUxVRSx7a2V5UGF0aDpcImtleVwifSl9KSxoZWxwZXJzXzEuc3RvcmVDcmVhdG9yRGVjb3JhdG9yKGNvbnN0YW50c18xLlNUT1JFX05BTUVfTUFJTl9MT0csZnVuY3Rpb24oZGF0YWJhc2Upe3ZhciBsb2dTdG9yZT1kYXRhYmFzZS5jcmVhdGVPYmplY3RTdG9yZShjb25zdGFudHNfMS5TVE9SRV9OQU1FX01BSU5fTE9HLHtrZXlQYXRoOmNvbnN0YW50c18xLktFWV9QQVRIX0JBU0VfSU5DUkVNRU5ULGF1dG9JbmNyZW1lbnQ6ITB9KTtsb2dTdG9yZS5jcmVhdGVJbmRleChcImVudmlyb25tZW50XCIsXCJlbnZpcm9ubWVudFwiLHt1bmlxdWU6ITF9KSxsb2dTdG9yZS5jcmVhdGVJbmRleChcImRhdGVcIixcImRhdGVcIix7dW5pcXVlOiExfSksbG9nU3RvcmUuY3JlYXRlSW5kZXgoXCJ0eXBlXCIsXCJ0eXBlXCIse3VuaXF1ZTohMX0pfSksaGVscGVyc18xLnN0b3JlQ3JlYXRvckRlY29yYXRvcihjb25zdGFudHNfMS5TVE9SRV9OQU1FX01FU1NBR0VfTE9HLGZ1bmN0aW9uKGRhdGFiYXNlKXtkYXRhYmFzZS5jcmVhdGVPYmplY3RTdG9yZShjb25zdGFudHNfMS5TVE9SRV9OQU1FX01FU1NBR0VfTE9HLHtrZXlQYXRoOmNvbnN0YW50c18xLktFWV9QQVRIX0JBU0VfSU5DUkVNRU5ULGF1dG9JbmNyZW1lbnQ6ITB9KS5jcmVhdGVJbmRleChcImRhdGVcIixcImRhdGVcIix7dW5pcXVlOiExfSl9KV19LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBoZWxwZXJzXzE9X193ZWJwYWNrX3JlcXVpcmVfXygyMCksY29uc3RhbnRzXzE9X193ZWJwYWNrX3JlcXVpcmVfXygxMCk7ZXhwb3J0cy5kZWZhdWx0PVtoZWxwZXJzXzEuc3RvcmVDcmVhdG9yRGVjb3JhdG9yKGNvbnN0YW50c18xLlNUT1JFX05BTUVfSU5CT1hfTUVTU0FHRVMsZnVuY3Rpb24oZGF0YWJhc2Upe3ZhciBzdG9yZT1kYXRhYmFzZS5jcmVhdGVPYmplY3RTdG9yZShjb25zdGFudHNfMS5TVE9SRV9OQU1FX0lOQk9YX01FU1NBR0VTLHtrZXlQYXRoOlwiaW5ib3hfaWRcIixhdXRvSW5jcmVtZW50OiExfSk7c3RvcmUuY3JlYXRlSW5kZXgoXCJzdGF0dXNcIixcInN0YXR1c1wiLHt1bmlxdWU6ITEsbXVsdGlFbnRyeTohMH0pLHN0b3JlLmNyZWF0ZUluZGV4KFwicnRcIixcInJ0XCIse3VuaXF1ZTohMSxtdWx0aUVudHJ5OiEwfSl9KV19LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO3ZhciBSZWZsZWN0T3duS2V5cyxSPVwib2JqZWN0XCI9PXR5cGVvZiBSZWZsZWN0P1JlZmxlY3Q6bnVsbCxSZWZsZWN0QXBwbHk9UiYmXCJmdW5jdGlvblwiPT10eXBlb2YgUi5hcHBseT9SLmFwcGx5OmZ1bmN0aW9uKHRhcmdldCxyZWNlaXZlcixhcmdzKXtyZXR1cm4gRnVuY3Rpb24ucHJvdG90eXBlLmFwcGx5LmNhbGwodGFyZ2V0LHJlY2VpdmVyLGFyZ3MpfTtSZWZsZWN0T3duS2V5cz1SJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBSLm93bktleXM/Ui5vd25LZXlzOk9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHM/ZnVuY3Rpb24odGFyZ2V0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGFyZ2V0KS5jb25jYXQoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyh0YXJnZXQpKX06ZnVuY3Rpb24odGFyZ2V0KXtyZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5TmFtZXModGFyZ2V0KX07dmFyIE51bWJlcklzTmFOPU51bWJlci5pc05hTnx8ZnVuY3Rpb24odmFsdWUpe3JldHVybiB2YWx1ZSE9dmFsdWV9O2Z1bmN0aW9uIEV2ZW50RW1pdHRlcigpe0V2ZW50RW1pdHRlci5pbml0LmNhbGwodGhpcyl9bW9kdWxlLmV4cG9ydHM9RXZlbnRFbWl0dGVyLG1vZHVsZS5leHBvcnRzLm9uY2U9ZnVuY3Rpb24oZW1pdHRlcixuYW1lKXtyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSxyZWplY3Qpe2Z1bmN0aW9uIGV2ZW50TGlzdGVuZXIoKXt2b2lkIDAhPT1lcnJvckxpc3RlbmVyJiZlbWl0dGVyLnJlbW92ZUxpc3RlbmVyKFwiZXJyb3JcIixlcnJvckxpc3RlbmVyKSxyZXNvbHZlKFtdLnNsaWNlLmNhbGwoYXJndW1lbnRzKSl9dmFyIGVycm9yTGlzdGVuZXI7XCJlcnJvclwiIT09bmFtZSYmKGVycm9yTGlzdGVuZXI9ZnVuY3Rpb24oZXJyKXtlbWl0dGVyLnJlbW92ZUxpc3RlbmVyKG5hbWUsZXZlbnRMaXN0ZW5lcikscmVqZWN0KGVycil9LGVtaXR0ZXIub25jZShcImVycm9yXCIsZXJyb3JMaXN0ZW5lcikpLGVtaXR0ZXIub25jZShuYW1lLGV2ZW50TGlzdGVuZXIpfSl9LEV2ZW50RW1pdHRlci5FdmVudEVtaXR0ZXI9RXZlbnRFbWl0dGVyLEV2ZW50RW1pdHRlci5wcm90b3R5cGUuX2V2ZW50cz12b2lkIDAsRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5fZXZlbnRzQ291bnQ9MCxFdmVudEVtaXR0ZXIucHJvdG90eXBlLl9tYXhMaXN0ZW5lcnM9dm9pZCAwO3ZhciBkZWZhdWx0TWF4TGlzdGVuZXJzPTEwO2Z1bmN0aW9uIGNoZWNrTGlzdGVuZXIobGlzdGVuZXIpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGxpc3RlbmVyKXRocm93IG5ldyBUeXBlRXJyb3IoJ1RoZSBcImxpc3RlbmVyXCIgYXJndW1lbnQgbXVzdCBiZSBvZiB0eXBlIEZ1bmN0aW9uLiBSZWNlaXZlZCB0eXBlICcrdHlwZW9mIGxpc3RlbmVyKX1mdW5jdGlvbiBfZ2V0TWF4TGlzdGVuZXJzKHRoYXQpe3JldHVybiB2b2lkIDA9PT10aGF0Ll9tYXhMaXN0ZW5lcnM/RXZlbnRFbWl0dGVyLmRlZmF1bHRNYXhMaXN0ZW5lcnM6dGhhdC5fbWF4TGlzdGVuZXJzfWZ1bmN0aW9uIF9hZGRMaXN0ZW5lcih0YXJnZXQsdHlwZSxsaXN0ZW5lcixwcmVwZW5kKXt2YXIgbSxldmVudHMsZXhpc3Rpbmc7aWYoY2hlY2tMaXN0ZW5lcihsaXN0ZW5lciksdm9pZCAwPT09KGV2ZW50cz10YXJnZXQuX2V2ZW50cyk/KGV2ZW50cz10YXJnZXQuX2V2ZW50cz1PYmplY3QuY3JlYXRlKG51bGwpLHRhcmdldC5fZXZlbnRzQ291bnQ9MCk6KHZvaWQgMCE9PWV2ZW50cy5uZXdMaXN0ZW5lciYmKHRhcmdldC5lbWl0KFwibmV3TGlzdGVuZXJcIix0eXBlLGxpc3RlbmVyLmxpc3RlbmVyP2xpc3RlbmVyLmxpc3RlbmVyOmxpc3RlbmVyKSxldmVudHM9dGFyZ2V0Ll9ldmVudHMpLGV4aXN0aW5nPWV2ZW50c1t0eXBlXSksdm9pZCAwPT09ZXhpc3RpbmcpZXhpc3Rpbmc9ZXZlbnRzW3R5cGVdPWxpc3RlbmVyLCsrdGFyZ2V0Ll9ldmVudHNDb3VudDtlbHNlIGlmKFwiZnVuY3Rpb25cIj09dHlwZW9mIGV4aXN0aW5nP2V4aXN0aW5nPWV2ZW50c1t0eXBlXT1wcmVwZW5kP1tsaXN0ZW5lcixleGlzdGluZ106W2V4aXN0aW5nLGxpc3RlbmVyXTpwcmVwZW5kP2V4aXN0aW5nLnVuc2hpZnQobGlzdGVuZXIpOmV4aXN0aW5nLnB1c2gobGlzdGVuZXIpLChtPV9nZXRNYXhMaXN0ZW5lcnModGFyZ2V0KSk+MCYmZXhpc3RpbmcubGVuZ3RoPm0mJiFleGlzdGluZy53YXJuZWQpe2V4aXN0aW5nLndhcm5lZD0hMDt2YXIgdz1uZXcgRXJyb3IoXCJQb3NzaWJsZSBFdmVudEVtaXR0ZXIgbWVtb3J5IGxlYWsgZGV0ZWN0ZWQuIFwiK2V4aXN0aW5nLmxlbmd0aCtcIiBcIitTdHJpbmcodHlwZSkrXCIgbGlzdGVuZXJzIGFkZGVkLiBVc2UgZW1pdHRlci5zZXRNYXhMaXN0ZW5lcnMoKSB0byBpbmNyZWFzZSBsaW1pdFwiKTt3Lm5hbWU9XCJNYXhMaXN0ZW5lcnNFeGNlZWRlZFdhcm5pbmdcIix3LmVtaXR0ZXI9dGFyZ2V0LHcudHlwZT10eXBlLHcuY291bnQ9ZXhpc3RpbmcubGVuZ3RoLGZ1bmN0aW9uKHdhcm5pbmcpe2NvbnNvbGUmJmNvbnNvbGUud2FybiYmY29uc29sZS53YXJuKHdhcm5pbmcpfSh3KX1yZXR1cm4gdGFyZ2V0fWZ1bmN0aW9uIF9vbmNlV3JhcCh0YXJnZXQsdHlwZSxsaXN0ZW5lcil7dmFyIHN0YXRlPXtmaXJlZDohMSx3cmFwRm46dm9pZCAwLHRhcmdldDp0YXJnZXQsdHlwZTp0eXBlLGxpc3RlbmVyOmxpc3RlbmVyfSx3cmFwcGVkPWZ1bmN0aW9uKCl7aWYoIXRoaXMuZmlyZWQpcmV0dXJuIHRoaXMudGFyZ2V0LnJlbW92ZUxpc3RlbmVyKHRoaXMudHlwZSx0aGlzLndyYXBGbiksdGhpcy5maXJlZD0hMCwwPT09YXJndW1lbnRzLmxlbmd0aD90aGlzLmxpc3RlbmVyLmNhbGwodGhpcy50YXJnZXQpOnRoaXMubGlzdGVuZXIuYXBwbHkodGhpcy50YXJnZXQsYXJndW1lbnRzKX0uYmluZChzdGF0ZSk7cmV0dXJuIHdyYXBwZWQubGlzdGVuZXI9bGlzdGVuZXIsc3RhdGUud3JhcEZuPXdyYXBwZWQsd3JhcHBlZH1mdW5jdGlvbiBfbGlzdGVuZXJzKHRhcmdldCx0eXBlLHVud3JhcCl7dmFyIGV2ZW50cz10YXJnZXQuX2V2ZW50cztpZih2b2lkIDA9PT1ldmVudHMpcmV0dXJuW107dmFyIGV2bGlzdGVuZXI9ZXZlbnRzW3R5cGVdO3JldHVybiB2b2lkIDA9PT1ldmxpc3RlbmVyP1tdOlwiZnVuY3Rpb25cIj09dHlwZW9mIGV2bGlzdGVuZXI/dW53cmFwP1tldmxpc3RlbmVyLmxpc3RlbmVyfHxldmxpc3RlbmVyXTpbZXZsaXN0ZW5lcl06dW53cmFwP2Z1bmN0aW9uKGFycil7Zm9yKHZhciByZXQ9bmV3IEFycmF5KGFyci5sZW5ndGgpLGk9MDtpPHJldC5sZW5ndGg7KytpKXJldFtpXT1hcnJbaV0ubGlzdGVuZXJ8fGFycltpXTtyZXR1cm4gcmV0fShldmxpc3RlbmVyKTphcnJheUNsb25lKGV2bGlzdGVuZXIsZXZsaXN0ZW5lci5sZW5ndGgpfWZ1bmN0aW9uIGxpc3RlbmVyQ291bnQodHlwZSl7dmFyIGV2ZW50cz10aGlzLl9ldmVudHM7aWYodm9pZCAwIT09ZXZlbnRzKXt2YXIgZXZsaXN0ZW5lcj1ldmVudHNbdHlwZV07aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgZXZsaXN0ZW5lcilyZXR1cm4gMTtpZih2b2lkIDAhPT1ldmxpc3RlbmVyKXJldHVybiBldmxpc3RlbmVyLmxlbmd0aH1yZXR1cm4gMH1mdW5jdGlvbiBhcnJheUNsb25lKGFycixuKXtmb3IodmFyIGNvcHk9bmV3IEFycmF5KG4pLGk9MDtpPG47KytpKWNvcHlbaV09YXJyW2ldO3JldHVybiBjb3B5fU9iamVjdC5kZWZpbmVQcm9wZXJ0eShFdmVudEVtaXR0ZXIsXCJkZWZhdWx0TWF4TGlzdGVuZXJzXCIse2VudW1lcmFibGU6ITAsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIGRlZmF1bHRNYXhMaXN0ZW5lcnN9LHNldDpmdW5jdGlvbihhcmcpe2lmKFwibnVtYmVyXCIhPXR5cGVvZiBhcmd8fGFyZzwwfHxOdW1iZXJJc05hTihhcmcpKXRocm93IG5ldyBSYW5nZUVycm9yKCdUaGUgdmFsdWUgb2YgXCJkZWZhdWx0TWF4TGlzdGVuZXJzXCIgaXMgb3V0IG9mIHJhbmdlLiBJdCBtdXN0IGJlIGEgbm9uLW5lZ2F0aXZlIG51bWJlci4gUmVjZWl2ZWQgJythcmcrXCIuXCIpO2RlZmF1bHRNYXhMaXN0ZW5lcnM9YXJnfX0pLEV2ZW50RW1pdHRlci5pbml0PWZ1bmN0aW9uKCl7dm9pZCAwIT09dGhpcy5fZXZlbnRzJiZ0aGlzLl9ldmVudHMhPT1PYmplY3QuZ2V0UHJvdG90eXBlT2YodGhpcykuX2V2ZW50c3x8KHRoaXMuX2V2ZW50cz1PYmplY3QuY3JlYXRlKG51bGwpLHRoaXMuX2V2ZW50c0NvdW50PTApLHRoaXMuX21heExpc3RlbmVycz10aGlzLl9tYXhMaXN0ZW5lcnN8fHZvaWQgMH0sRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5zZXRNYXhMaXN0ZW5lcnM9ZnVuY3Rpb24obil7aWYoXCJudW1iZXJcIiE9dHlwZW9mIG58fG48MHx8TnVtYmVySXNOYU4obikpdGhyb3cgbmV3IFJhbmdlRXJyb3IoJ1RoZSB2YWx1ZSBvZiBcIm5cIiBpcyBvdXQgb2YgcmFuZ2UuIEl0IG11c3QgYmUgYSBub24tbmVnYXRpdmUgbnVtYmVyLiBSZWNlaXZlZCAnK24rXCIuXCIpO3JldHVybiB0aGlzLl9tYXhMaXN0ZW5lcnM9bix0aGlzfSxFdmVudEVtaXR0ZXIucHJvdG90eXBlLmdldE1heExpc3RlbmVycz1mdW5jdGlvbigpe3JldHVybiBfZ2V0TWF4TGlzdGVuZXJzKHRoaXMpfSxFdmVudEVtaXR0ZXIucHJvdG90eXBlLmVtaXQ9ZnVuY3Rpb24odHlwZSl7Zm9yKHZhciBhcmdzPVtdLGk9MTtpPGFyZ3VtZW50cy5sZW5ndGg7aSsrKWFyZ3MucHVzaChhcmd1bWVudHNbaV0pO3ZhciBkb0Vycm9yPVwiZXJyb3JcIj09PXR5cGUsZXZlbnRzPXRoaXMuX2V2ZW50cztpZih2b2lkIDAhPT1ldmVudHMpZG9FcnJvcj1kb0Vycm9yJiZ2b2lkIDA9PT1ldmVudHMuZXJyb3I7ZWxzZSBpZighZG9FcnJvcilyZXR1cm4hMTtpZihkb0Vycm9yKXt2YXIgZXI7aWYoYXJncy5sZW5ndGg+MCYmKGVyPWFyZ3NbMF0pLGVyIGluc3RhbmNlb2YgRXJyb3IpdGhyb3cgZXI7dmFyIGVycj1uZXcgRXJyb3IoXCJVbmhhbmRsZWQgZXJyb3IuXCIrKGVyP1wiIChcIitlci5tZXNzYWdlK1wiKVwiOlwiXCIpKTt0aHJvdyBlcnIuY29udGV4dD1lcixlcnJ9dmFyIGhhbmRsZXI9ZXZlbnRzW3R5cGVdO2lmKHZvaWQgMD09PWhhbmRsZXIpcmV0dXJuITE7aWYoXCJmdW5jdGlvblwiPT10eXBlb2YgaGFuZGxlcilSZWZsZWN0QXBwbHkoaGFuZGxlcix0aGlzLGFyZ3MpO2Vsc2V7dmFyIGxlbj1oYW5kbGVyLmxlbmd0aCxsaXN0ZW5lcnM9YXJyYXlDbG9uZShoYW5kbGVyLGxlbik7Zm9yKGk9MDtpPGxlbjsrK2kpUmVmbGVjdEFwcGx5KGxpc3RlbmVyc1tpXSx0aGlzLGFyZ3MpfXJldHVybiEwfSxFdmVudEVtaXR0ZXIucHJvdG90eXBlLmFkZExpc3RlbmVyPWZ1bmN0aW9uKHR5cGUsbGlzdGVuZXIpe3JldHVybiBfYWRkTGlzdGVuZXIodGhpcyx0eXBlLGxpc3RlbmVyLCExKX0sRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbj1FdmVudEVtaXR0ZXIucHJvdG90eXBlLmFkZExpc3RlbmVyLEV2ZW50RW1pdHRlci5wcm90b3R5cGUucHJlcGVuZExpc3RlbmVyPWZ1bmN0aW9uKHR5cGUsbGlzdGVuZXIpe3JldHVybiBfYWRkTGlzdGVuZXIodGhpcyx0eXBlLGxpc3RlbmVyLCEwKX0sRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbmNlPWZ1bmN0aW9uKHR5cGUsbGlzdGVuZXIpe3JldHVybiBjaGVja0xpc3RlbmVyKGxpc3RlbmVyKSx0aGlzLm9uKHR5cGUsX29uY2VXcmFwKHRoaXMsdHlwZSxsaXN0ZW5lcikpLHRoaXN9LEV2ZW50RW1pdHRlci5wcm90b3R5cGUucHJlcGVuZE9uY2VMaXN0ZW5lcj1mdW5jdGlvbih0eXBlLGxpc3RlbmVyKXtyZXR1cm4gY2hlY2tMaXN0ZW5lcihsaXN0ZW5lciksdGhpcy5wcmVwZW5kTGlzdGVuZXIodHlwZSxfb25jZVdyYXAodGhpcyx0eXBlLGxpc3RlbmVyKSksdGhpc30sRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVMaXN0ZW5lcj1mdW5jdGlvbih0eXBlLGxpc3RlbmVyKXt2YXIgbGlzdCxldmVudHMscG9zaXRpb24saSxvcmlnaW5hbExpc3RlbmVyO2lmKGNoZWNrTGlzdGVuZXIobGlzdGVuZXIpLHZvaWQgMD09PShldmVudHM9dGhpcy5fZXZlbnRzKSlyZXR1cm4gdGhpcztpZih2b2lkIDA9PT0obGlzdD1ldmVudHNbdHlwZV0pKXJldHVybiB0aGlzO2lmKGxpc3Q9PT1saXN0ZW5lcnx8bGlzdC5saXN0ZW5lcj09PWxpc3RlbmVyKTA9PS0tdGhpcy5fZXZlbnRzQ291bnQ/dGhpcy5fZXZlbnRzPU9iamVjdC5jcmVhdGUobnVsbCk6KGRlbGV0ZSBldmVudHNbdHlwZV0sZXZlbnRzLnJlbW92ZUxpc3RlbmVyJiZ0aGlzLmVtaXQoXCJyZW1vdmVMaXN0ZW5lclwiLHR5cGUsbGlzdC5saXN0ZW5lcnx8bGlzdGVuZXIpKTtlbHNlIGlmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGxpc3Qpe2Zvcihwb3NpdGlvbj0tMSxpPWxpc3QubGVuZ3RoLTE7aT49MDtpLS0paWYobGlzdFtpXT09PWxpc3RlbmVyfHxsaXN0W2ldLmxpc3RlbmVyPT09bGlzdGVuZXIpe29yaWdpbmFsTGlzdGVuZXI9bGlzdFtpXS5saXN0ZW5lcixwb3NpdGlvbj1pO2JyZWFrfWlmKHBvc2l0aW9uPDApcmV0dXJuIHRoaXM7MD09PXBvc2l0aW9uP2xpc3Quc2hpZnQoKTpmdW5jdGlvbihsaXN0LGluZGV4KXtmb3IoO2luZGV4KzE8bGlzdC5sZW5ndGg7aW5kZXgrKylsaXN0W2luZGV4XT1saXN0W2luZGV4KzFdO2xpc3QucG9wKCl9KGxpc3QscG9zaXRpb24pLDE9PT1saXN0Lmxlbmd0aCYmKGV2ZW50c1t0eXBlXT1saXN0WzBdKSx2b2lkIDAhPT1ldmVudHMucmVtb3ZlTGlzdGVuZXImJnRoaXMuZW1pdChcInJlbW92ZUxpc3RlbmVyXCIsdHlwZSxvcmlnaW5hbExpc3RlbmVyfHxsaXN0ZW5lcil9cmV0dXJuIHRoaXN9LEV2ZW50RW1pdHRlci5wcm90b3R5cGUub2ZmPUV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXIsRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yZW1vdmVBbGxMaXN0ZW5lcnM9ZnVuY3Rpb24odHlwZSl7dmFyIGxpc3RlbmVycyxldmVudHMsaTtpZih2b2lkIDA9PT0oZXZlbnRzPXRoaXMuX2V2ZW50cykpcmV0dXJuIHRoaXM7aWYodm9pZCAwPT09ZXZlbnRzLnJlbW92ZUxpc3RlbmVyKXJldHVybiAwPT09YXJndW1lbnRzLmxlbmd0aD8odGhpcy5fZXZlbnRzPU9iamVjdC5jcmVhdGUobnVsbCksdGhpcy5fZXZlbnRzQ291bnQ9MCk6dm9pZCAwIT09ZXZlbnRzW3R5cGVdJiYoMD09LS10aGlzLl9ldmVudHNDb3VudD90aGlzLl9ldmVudHM9T2JqZWN0LmNyZWF0ZShudWxsKTpkZWxldGUgZXZlbnRzW3R5cGVdKSx0aGlzO2lmKDA9PT1hcmd1bWVudHMubGVuZ3RoKXt2YXIga2V5LGtleXM9T2JqZWN0LmtleXMoZXZlbnRzKTtmb3IoaT0wO2k8a2V5cy5sZW5ndGg7KytpKVwicmVtb3ZlTGlzdGVuZXJcIiE9PShrZXk9a2V5c1tpXSkmJnRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKGtleSk7cmV0dXJuIHRoaXMucmVtb3ZlQWxsTGlzdGVuZXJzKFwicmVtb3ZlTGlzdGVuZXJcIiksdGhpcy5fZXZlbnRzPU9iamVjdC5jcmVhdGUobnVsbCksdGhpcy5fZXZlbnRzQ291bnQ9MCx0aGlzfWlmKFwiZnVuY3Rpb25cIj09dHlwZW9mKGxpc3RlbmVycz1ldmVudHNbdHlwZV0pKXRoaXMucmVtb3ZlTGlzdGVuZXIodHlwZSxsaXN0ZW5lcnMpO2Vsc2UgaWYodm9pZCAwIT09bGlzdGVuZXJzKWZvcihpPWxpc3RlbmVycy5sZW5ndGgtMTtpPj0wO2ktLSl0aGlzLnJlbW92ZUxpc3RlbmVyKHR5cGUsbGlzdGVuZXJzW2ldKTtyZXR1cm4gdGhpc30sRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5saXN0ZW5lcnM9ZnVuY3Rpb24odHlwZSl7cmV0dXJuIF9saXN0ZW5lcnModGhpcyx0eXBlLCEwKX0sRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5yYXdMaXN0ZW5lcnM9ZnVuY3Rpb24odHlwZSl7cmV0dXJuIF9saXN0ZW5lcnModGhpcyx0eXBlLCExKX0sRXZlbnRFbWl0dGVyLmxpc3RlbmVyQ291bnQ9ZnVuY3Rpb24oZW1pdHRlcix0eXBlKXtyZXR1cm5cImZ1bmN0aW9uXCI9PXR5cGVvZiBlbWl0dGVyLmxpc3RlbmVyQ291bnQ/ZW1pdHRlci5saXN0ZW5lckNvdW50KHR5cGUpOmxpc3RlbmVyQ291bnQuY2FsbChlbWl0dGVyLHR5cGUpfSxFdmVudEVtaXR0ZXIucHJvdG90eXBlLmxpc3RlbmVyQ291bnQ9bGlzdGVuZXJDb3VudCxFdmVudEVtaXR0ZXIucHJvdG90eXBlLmV2ZW50TmFtZXM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5fZXZlbnRzQ291bnQ+MD9SZWZsZWN0T3duS2V5cyh0aGlzLl9ldmVudHMpOltdfX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7KGV4cG9ydHM9bW9kdWxlLmV4cG9ydHM9X193ZWJwYWNrX3JlcXVpcmVfXyg1MykpLlN0cmVhbT1leHBvcnRzLGV4cG9ydHMuUmVhZGFibGU9ZXhwb3J0cyxleHBvcnRzLldyaXRhYmxlPV9fd2VicGFja19yZXF1aXJlX18oNDIpLGV4cG9ydHMuRHVwbGV4PV9fd2VicGFja19yZXF1aXJlX18oMTUpLGV4cG9ydHMuVHJhbnNmb3JtPV9fd2VicGFja19yZXF1aXJlX18oNTgpLGV4cG9ydHMuUGFzc1Rocm91Z2g9X193ZWJwYWNrX3JlcXVpcmVfXyg5Nyl9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiOyhmdW5jdGlvbihwcm9jZXNzLHNldEltbWVkaWF0ZSxnbG9iYWwpe3ZhciBwbmE9X193ZWJwYWNrX3JlcXVpcmVfXygzMyk7ZnVuY3Rpb24gQ29ya2VkUmVxdWVzdChzdGF0ZSl7dmFyIF90aGlzPXRoaXM7dGhpcy5uZXh0PW51bGwsdGhpcy5lbnRyeT1udWxsLHRoaXMuZmluaXNoPWZ1bmN0aW9uKCl7IWZ1bmN0aW9uKGNvcmtSZXEsc3RhdGUsZXJyKXt2YXIgZW50cnk9Y29ya1JlcS5lbnRyeTtjb3JrUmVxLmVudHJ5PW51bGw7Zm9yKDtlbnRyeTspe3ZhciBjYj1lbnRyeS5jYWxsYmFjaztzdGF0ZS5wZW5kaW5nY2ItLSxjYihlcnIpLGVudHJ5PWVudHJ5Lm5leHR9c3RhdGUuY29ya2VkUmVxdWVzdHNGcmVlP3N0YXRlLmNvcmtlZFJlcXVlc3RzRnJlZS5uZXh0PWNvcmtSZXE6c3RhdGUuY29ya2VkUmVxdWVzdHNGcmVlPWNvcmtSZXF9KF90aGlzLHN0YXRlKX19bW9kdWxlLmV4cG9ydHM9V3JpdGFibGU7dmFyIER1cGxleCxhc3luY1dyaXRlPSFwcm9jZXNzLmJyb3dzZXImJltcInYwLjEwXCIsXCJ2MC45LlwiXS5pbmRleE9mKHByb2Nlc3MudmVyc2lvbi5zbGljZSgwLDUpKT4tMT9zZXRJbW1lZGlhdGU6cG5hLm5leHRUaWNrO1dyaXRhYmxlLldyaXRhYmxlU3RhdGU9V3JpdGFibGVTdGF0ZTt2YXIgdXRpbD1PYmplY3QuY3JlYXRlKF9fd2VicGFja19yZXF1aXJlX18oMjgpKTt1dGlsLmluaGVyaXRzPV9fd2VicGFja19yZXF1aXJlX18oMTcpO3ZhciBpbnRlcm5hbFV0aWw9e2RlcHJlY2F0ZTpfX3dlYnBhY2tfcmVxdWlyZV9fKDk2KX0sU3RyZWFtPV9fd2VicGFja19yZXF1aXJlX18oNTQpLEJ1ZmZlcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDM0KS5CdWZmZXIsT3VyVWludDhBcnJheT1nbG9iYWwuVWludDhBcnJheXx8ZnVuY3Rpb24oKXt9O3ZhciByZWFsSGFzSW5zdGFuY2UsZGVzdHJveUltcGw9X193ZWJwYWNrX3JlcXVpcmVfXyg1NSk7ZnVuY3Rpb24gbm9wKCl7fWZ1bmN0aW9uIFdyaXRhYmxlU3RhdGUob3B0aW9ucyxzdHJlYW0pe0R1cGxleD1EdXBsZXh8fF9fd2VicGFja19yZXF1aXJlX18oMTUpLG9wdGlvbnM9b3B0aW9uc3x8e307dmFyIGlzRHVwbGV4PXN0cmVhbSBpbnN0YW5jZW9mIER1cGxleDt0aGlzLm9iamVjdE1vZGU9ISFvcHRpb25zLm9iamVjdE1vZGUsaXNEdXBsZXgmJih0aGlzLm9iamVjdE1vZGU9dGhpcy5vYmplY3RNb2RlfHwhIW9wdGlvbnMud3JpdGFibGVPYmplY3RNb2RlKTt2YXIgaHdtPW9wdGlvbnMuaGlnaFdhdGVyTWFyayx3cml0YWJsZUh3bT1vcHRpb25zLndyaXRhYmxlSGlnaFdhdGVyTWFyayxkZWZhdWx0SHdtPXRoaXMub2JqZWN0TW9kZT8xNjoxNjM4NDt0aGlzLmhpZ2hXYXRlck1hcms9aHdtfHwwPT09aHdtP2h3bTppc0R1cGxleCYmKHdyaXRhYmxlSHdtfHwwPT09d3JpdGFibGVId20pP3dyaXRhYmxlSHdtOmRlZmF1bHRId20sdGhpcy5oaWdoV2F0ZXJNYXJrPU1hdGguZmxvb3IodGhpcy5oaWdoV2F0ZXJNYXJrKSx0aGlzLmZpbmFsQ2FsbGVkPSExLHRoaXMubmVlZERyYWluPSExLHRoaXMuZW5kaW5nPSExLHRoaXMuZW5kZWQ9ITEsdGhpcy5maW5pc2hlZD0hMSx0aGlzLmRlc3Ryb3llZD0hMTt2YXIgbm9EZWNvZGU9ITE9PT1vcHRpb25zLmRlY29kZVN0cmluZ3M7dGhpcy5kZWNvZGVTdHJpbmdzPSFub0RlY29kZSx0aGlzLmRlZmF1bHRFbmNvZGluZz1vcHRpb25zLmRlZmF1bHRFbmNvZGluZ3x8XCJ1dGY4XCIsdGhpcy5sZW5ndGg9MCx0aGlzLndyaXRpbmc9ITEsdGhpcy5jb3JrZWQ9MCx0aGlzLnN5bmM9ITAsdGhpcy5idWZmZXJQcm9jZXNzaW5nPSExLHRoaXMub253cml0ZT1mdW5jdGlvbihlcil7IWZ1bmN0aW9uKHN0cmVhbSxlcil7dmFyIHN0YXRlPXN0cmVhbS5fd3JpdGFibGVTdGF0ZSxzeW5jPXN0YXRlLnN5bmMsY2I9c3RhdGUud3JpdGVjYjtpZihmdW5jdGlvbihzdGF0ZSl7c3RhdGUud3JpdGluZz0hMSxzdGF0ZS53cml0ZWNiPW51bGwsc3RhdGUubGVuZ3RoLT1zdGF0ZS53cml0ZWxlbixzdGF0ZS53cml0ZWxlbj0wfShzdGF0ZSksZXIpIWZ1bmN0aW9uKHN0cmVhbSxzdGF0ZSxzeW5jLGVyLGNiKXstLXN0YXRlLnBlbmRpbmdjYixzeW5jPyhwbmEubmV4dFRpY2soY2IsZXIpLHBuYS5uZXh0VGljayhmaW5pc2hNYXliZSxzdHJlYW0sc3RhdGUpLHN0cmVhbS5fd3JpdGFibGVTdGF0ZS5lcnJvckVtaXR0ZWQ9ITAsc3RyZWFtLmVtaXQoXCJlcnJvclwiLGVyKSk6KGNiKGVyKSxzdHJlYW0uX3dyaXRhYmxlU3RhdGUuZXJyb3JFbWl0dGVkPSEwLHN0cmVhbS5lbWl0KFwiZXJyb3JcIixlciksZmluaXNoTWF5YmUoc3RyZWFtLHN0YXRlKSl9KHN0cmVhbSxzdGF0ZSxzeW5jLGVyLGNiKTtlbHNle3ZhciBmaW5pc2hlZD1uZWVkRmluaXNoKHN0YXRlKTtmaW5pc2hlZHx8c3RhdGUuY29ya2VkfHxzdGF0ZS5idWZmZXJQcm9jZXNzaW5nfHwhc3RhdGUuYnVmZmVyZWRSZXF1ZXN0fHxjbGVhckJ1ZmZlcihzdHJlYW0sc3RhdGUpLHN5bmM/YXN5bmNXcml0ZShhZnRlcldyaXRlLHN0cmVhbSxzdGF0ZSxmaW5pc2hlZCxjYik6YWZ0ZXJXcml0ZShzdHJlYW0sc3RhdGUsZmluaXNoZWQsY2IpfX0oc3RyZWFtLGVyKX0sdGhpcy53cml0ZWNiPW51bGwsdGhpcy53cml0ZWxlbj0wLHRoaXMuYnVmZmVyZWRSZXF1ZXN0PW51bGwsdGhpcy5sYXN0QnVmZmVyZWRSZXF1ZXN0PW51bGwsdGhpcy5wZW5kaW5nY2I9MCx0aGlzLnByZWZpbmlzaGVkPSExLHRoaXMuZXJyb3JFbWl0dGVkPSExLHRoaXMuYnVmZmVyZWRSZXF1ZXN0Q291bnQ9MCx0aGlzLmNvcmtlZFJlcXVlc3RzRnJlZT1uZXcgQ29ya2VkUmVxdWVzdCh0aGlzKX1mdW5jdGlvbiBXcml0YWJsZShvcHRpb25zKXtpZihEdXBsZXg9RHVwbGV4fHxfX3dlYnBhY2tfcmVxdWlyZV9fKDE1KSwhKHJlYWxIYXNJbnN0YW5jZS5jYWxsKFdyaXRhYmxlLHRoaXMpfHx0aGlzIGluc3RhbmNlb2YgRHVwbGV4KSlyZXR1cm4gbmV3IFdyaXRhYmxlKG9wdGlvbnMpO3RoaXMuX3dyaXRhYmxlU3RhdGU9bmV3IFdyaXRhYmxlU3RhdGUob3B0aW9ucyx0aGlzKSx0aGlzLndyaXRhYmxlPSEwLG9wdGlvbnMmJihcImZ1bmN0aW9uXCI9PXR5cGVvZiBvcHRpb25zLndyaXRlJiYodGhpcy5fd3JpdGU9b3B0aW9ucy53cml0ZSksXCJmdW5jdGlvblwiPT10eXBlb2Ygb3B0aW9ucy53cml0ZXYmJih0aGlzLl93cml0ZXY9b3B0aW9ucy53cml0ZXYpLFwiZnVuY3Rpb25cIj09dHlwZW9mIG9wdGlvbnMuZGVzdHJveSYmKHRoaXMuX2Rlc3Ryb3k9b3B0aW9ucy5kZXN0cm95KSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBvcHRpb25zLmZpbmFsJiYodGhpcy5fZmluYWw9b3B0aW9ucy5maW5hbCkpLFN0cmVhbS5jYWxsKHRoaXMpfWZ1bmN0aW9uIGRvV3JpdGUoc3RyZWFtLHN0YXRlLHdyaXRldixsZW4sY2h1bmssZW5jb2RpbmcsY2Ipe3N0YXRlLndyaXRlbGVuPWxlbixzdGF0ZS53cml0ZWNiPWNiLHN0YXRlLndyaXRpbmc9ITAsc3RhdGUuc3luYz0hMCx3cml0ZXY/c3RyZWFtLl93cml0ZXYoY2h1bmssc3RhdGUub253cml0ZSk6c3RyZWFtLl93cml0ZShjaHVuayxlbmNvZGluZyxzdGF0ZS5vbndyaXRlKSxzdGF0ZS5zeW5jPSExfWZ1bmN0aW9uIGFmdGVyV3JpdGUoc3RyZWFtLHN0YXRlLGZpbmlzaGVkLGNiKXtmaW5pc2hlZHx8ZnVuY3Rpb24oc3RyZWFtLHN0YXRlKXswPT09c3RhdGUubGVuZ3RoJiZzdGF0ZS5uZWVkRHJhaW4mJihzdGF0ZS5uZWVkRHJhaW49ITEsc3RyZWFtLmVtaXQoXCJkcmFpblwiKSl9KHN0cmVhbSxzdGF0ZSksc3RhdGUucGVuZGluZ2NiLS0sY2IoKSxmaW5pc2hNYXliZShzdHJlYW0sc3RhdGUpfWZ1bmN0aW9uIGNsZWFyQnVmZmVyKHN0cmVhbSxzdGF0ZSl7c3RhdGUuYnVmZmVyUHJvY2Vzc2luZz0hMDt2YXIgZW50cnk9c3RhdGUuYnVmZmVyZWRSZXF1ZXN0O2lmKHN0cmVhbS5fd3JpdGV2JiZlbnRyeSYmZW50cnkubmV4dCl7dmFyIGw9c3RhdGUuYnVmZmVyZWRSZXF1ZXN0Q291bnQsYnVmZmVyPW5ldyBBcnJheShsKSxob2xkZXI9c3RhdGUuY29ya2VkUmVxdWVzdHNGcmVlO2hvbGRlci5lbnRyeT1lbnRyeTtmb3IodmFyIGNvdW50PTAsYWxsQnVmZmVycz0hMDtlbnRyeTspYnVmZmVyW2NvdW50XT1lbnRyeSxlbnRyeS5pc0J1Znx8KGFsbEJ1ZmZlcnM9ITEpLGVudHJ5PWVudHJ5Lm5leHQsY291bnQrPTE7YnVmZmVyLmFsbEJ1ZmZlcnM9YWxsQnVmZmVycyxkb1dyaXRlKHN0cmVhbSxzdGF0ZSwhMCxzdGF0ZS5sZW5ndGgsYnVmZmVyLFwiXCIsaG9sZGVyLmZpbmlzaCksc3RhdGUucGVuZGluZ2NiKyssc3RhdGUubGFzdEJ1ZmZlcmVkUmVxdWVzdD1udWxsLGhvbGRlci5uZXh0PyhzdGF0ZS5jb3JrZWRSZXF1ZXN0c0ZyZWU9aG9sZGVyLm5leHQsaG9sZGVyLm5leHQ9bnVsbCk6c3RhdGUuY29ya2VkUmVxdWVzdHNGcmVlPW5ldyBDb3JrZWRSZXF1ZXN0KHN0YXRlKSxzdGF0ZS5idWZmZXJlZFJlcXVlc3RDb3VudD0wfWVsc2V7Zm9yKDtlbnRyeTspe3ZhciBjaHVuaz1lbnRyeS5jaHVuayxlbmNvZGluZz1lbnRyeS5lbmNvZGluZyxjYj1lbnRyeS5jYWxsYmFjaztpZihkb1dyaXRlKHN0cmVhbSxzdGF0ZSwhMSxzdGF0ZS5vYmplY3RNb2RlPzE6Y2h1bmsubGVuZ3RoLGNodW5rLGVuY29kaW5nLGNiKSxlbnRyeT1lbnRyeS5uZXh0LHN0YXRlLmJ1ZmZlcmVkUmVxdWVzdENvdW50LS0sc3RhdGUud3JpdGluZylicmVha31udWxsPT09ZW50cnkmJihzdGF0ZS5sYXN0QnVmZmVyZWRSZXF1ZXN0PW51bGwpfXN0YXRlLmJ1ZmZlcmVkUmVxdWVzdD1lbnRyeSxzdGF0ZS5idWZmZXJQcm9jZXNzaW5nPSExfWZ1bmN0aW9uIG5lZWRGaW5pc2goc3RhdGUpe3JldHVybiBzdGF0ZS5lbmRpbmcmJjA9PT1zdGF0ZS5sZW5ndGgmJm51bGw9PT1zdGF0ZS5idWZmZXJlZFJlcXVlc3QmJiFzdGF0ZS5maW5pc2hlZCYmIXN0YXRlLndyaXRpbmd9ZnVuY3Rpb24gY2FsbEZpbmFsKHN0cmVhbSxzdGF0ZSl7c3RyZWFtLl9maW5hbChmdW5jdGlvbihlcnIpe3N0YXRlLnBlbmRpbmdjYi0tLGVyciYmc3RyZWFtLmVtaXQoXCJlcnJvclwiLGVyciksc3RhdGUucHJlZmluaXNoZWQ9ITAsc3RyZWFtLmVtaXQoXCJwcmVmaW5pc2hcIiksZmluaXNoTWF5YmUoc3RyZWFtLHN0YXRlKX0pfWZ1bmN0aW9uIGZpbmlzaE1heWJlKHN0cmVhbSxzdGF0ZSl7dmFyIG5lZWQ9bmVlZEZpbmlzaChzdGF0ZSk7cmV0dXJuIG5lZWQmJighZnVuY3Rpb24oc3RyZWFtLHN0YXRlKXtzdGF0ZS5wcmVmaW5pc2hlZHx8c3RhdGUuZmluYWxDYWxsZWR8fChcImZ1bmN0aW9uXCI9PXR5cGVvZiBzdHJlYW0uX2ZpbmFsPyhzdGF0ZS5wZW5kaW5nY2IrKyxzdGF0ZS5maW5hbENhbGxlZD0hMCxwbmEubmV4dFRpY2soY2FsbEZpbmFsLHN0cmVhbSxzdGF0ZSkpOihzdGF0ZS5wcmVmaW5pc2hlZD0hMCxzdHJlYW0uZW1pdChcInByZWZpbmlzaFwiKSkpfShzdHJlYW0sc3RhdGUpLDA9PT1zdGF0ZS5wZW5kaW5nY2ImJihzdGF0ZS5maW5pc2hlZD0hMCxzdHJlYW0uZW1pdChcImZpbmlzaFwiKSkpLG5lZWR9dXRpbC5pbmhlcml0cyhXcml0YWJsZSxTdHJlYW0pLFdyaXRhYmxlU3RhdGUucHJvdG90eXBlLmdldEJ1ZmZlcj1mdW5jdGlvbigpe2Zvcih2YXIgY3VycmVudD10aGlzLmJ1ZmZlcmVkUmVxdWVzdCxvdXQ9W107Y3VycmVudDspb3V0LnB1c2goY3VycmVudCksY3VycmVudD1jdXJyZW50Lm5leHQ7cmV0dXJuIG91dH0sZnVuY3Rpb24oKXt0cnl7T2JqZWN0LmRlZmluZVByb3BlcnR5KFdyaXRhYmxlU3RhdGUucHJvdG90eXBlLFwiYnVmZmVyXCIse2dldDppbnRlcm5hbFV0aWwuZGVwcmVjYXRlKGZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0QnVmZmVyKCl9LFwiX3dyaXRhYmxlU3RhdGUuYnVmZmVyIGlzIGRlcHJlY2F0ZWQuIFVzZSBfd3JpdGFibGVTdGF0ZS5nZXRCdWZmZXIgaW5zdGVhZC5cIixcIkRFUDAwMDNcIil9KX1jYXRjaChfKXt9fSgpLFwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmU3ltYm9sLmhhc0luc3RhbmNlJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBGdW5jdGlvbi5wcm90b3R5cGVbU3ltYm9sLmhhc0luc3RhbmNlXT8ocmVhbEhhc0luc3RhbmNlPUZ1bmN0aW9uLnByb3RvdHlwZVtTeW1ib2wuaGFzSW5zdGFuY2VdLE9iamVjdC5kZWZpbmVQcm9wZXJ0eShXcml0YWJsZSxTeW1ib2wuaGFzSW5zdGFuY2Use3ZhbHVlOmZ1bmN0aW9uKG9iamVjdCl7cmV0dXJuISFyZWFsSGFzSW5zdGFuY2UuY2FsbCh0aGlzLG9iamVjdCl8fHRoaXM9PT1Xcml0YWJsZSYmKG9iamVjdCYmb2JqZWN0Ll93cml0YWJsZVN0YXRlIGluc3RhbmNlb2YgV3JpdGFibGVTdGF0ZSl9fSkpOnJlYWxIYXNJbnN0YW5jZT1mdW5jdGlvbihvYmplY3Qpe3JldHVybiBvYmplY3QgaW5zdGFuY2VvZiB0aGlzfSxXcml0YWJsZS5wcm90b3R5cGUucGlwZT1mdW5jdGlvbigpe3RoaXMuZW1pdChcImVycm9yXCIsbmV3IEVycm9yKFwiQ2Fubm90IHBpcGUsIG5vdCByZWFkYWJsZVwiKSl9LFdyaXRhYmxlLnByb3RvdHlwZS53cml0ZT1mdW5jdGlvbihjaHVuayxlbmNvZGluZyxjYil7dmFyIHN0YXRlPXRoaXMuX3dyaXRhYmxlU3RhdGUscmV0PSExLGlzQnVmPSFzdGF0ZS5vYmplY3RNb2RlJiZmdW5jdGlvbihvYmope3JldHVybiBCdWZmZXIuaXNCdWZmZXIob2JqKXx8b2JqIGluc3RhbmNlb2YgT3VyVWludDhBcnJheX0oY2h1bmspO3JldHVybiBpc0J1ZiYmIUJ1ZmZlci5pc0J1ZmZlcihjaHVuaykmJihjaHVuaz1mdW5jdGlvbihjaHVuayl7cmV0dXJuIEJ1ZmZlci5mcm9tKGNodW5rKX0oY2h1bmspKSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBlbmNvZGluZyYmKGNiPWVuY29kaW5nLGVuY29kaW5nPW51bGwpLGlzQnVmP2VuY29kaW5nPVwiYnVmZmVyXCI6ZW5jb2Rpbmd8fChlbmNvZGluZz1zdGF0ZS5kZWZhdWx0RW5jb2RpbmcpLFwiZnVuY3Rpb25cIiE9dHlwZW9mIGNiJiYoY2I9bm9wKSxzdGF0ZS5lbmRlZD9mdW5jdGlvbihzdHJlYW0sY2Ipe3ZhciBlcj1uZXcgRXJyb3IoXCJ3cml0ZSBhZnRlciBlbmRcIik7c3RyZWFtLmVtaXQoXCJlcnJvclwiLGVyKSxwbmEubmV4dFRpY2soY2IsZXIpfSh0aGlzLGNiKTooaXNCdWZ8fGZ1bmN0aW9uKHN0cmVhbSxzdGF0ZSxjaHVuayxjYil7dmFyIHZhbGlkPSEwLGVyPSExO3JldHVybiBudWxsPT09Y2h1bms/ZXI9bmV3IFR5cGVFcnJvcihcIk1heSBub3Qgd3JpdGUgbnVsbCB2YWx1ZXMgdG8gc3RyZWFtXCIpOlwic3RyaW5nXCI9PXR5cGVvZiBjaHVua3x8dm9pZCAwPT09Y2h1bmt8fHN0YXRlLm9iamVjdE1vZGV8fChlcj1uZXcgVHlwZUVycm9yKFwiSW52YWxpZCBub24tc3RyaW5nL2J1ZmZlciBjaHVua1wiKSksZXImJihzdHJlYW0uZW1pdChcImVycm9yXCIsZXIpLHBuYS5uZXh0VGljayhjYixlciksdmFsaWQ9ITEpLHZhbGlkfSh0aGlzLHN0YXRlLGNodW5rLGNiKSkmJihzdGF0ZS5wZW5kaW5nY2IrKyxyZXQ9ZnVuY3Rpb24oc3RyZWFtLHN0YXRlLGlzQnVmLGNodW5rLGVuY29kaW5nLGNiKXtpZighaXNCdWYpe3ZhciBuZXdDaHVuaz1mdW5jdGlvbihzdGF0ZSxjaHVuayxlbmNvZGluZyl7c3RhdGUub2JqZWN0TW9kZXx8ITE9PT1zdGF0ZS5kZWNvZGVTdHJpbmdzfHxcInN0cmluZ1wiIT10eXBlb2YgY2h1bmt8fChjaHVuaz1CdWZmZXIuZnJvbShjaHVuayxlbmNvZGluZykpO3JldHVybiBjaHVua30oc3RhdGUsY2h1bmssZW5jb2RpbmcpO2NodW5rIT09bmV3Q2h1bmsmJihpc0J1Zj0hMCxlbmNvZGluZz1cImJ1ZmZlclwiLGNodW5rPW5ld0NodW5rKX12YXIgbGVuPXN0YXRlLm9iamVjdE1vZGU/MTpjaHVuay5sZW5ndGg7c3RhdGUubGVuZ3RoKz1sZW47dmFyIHJldD1zdGF0ZS5sZW5ndGg8c3RhdGUuaGlnaFdhdGVyTWFyaztyZXR8fChzdGF0ZS5uZWVkRHJhaW49ITApO2lmKHN0YXRlLndyaXRpbmd8fHN0YXRlLmNvcmtlZCl7dmFyIGxhc3Q9c3RhdGUubGFzdEJ1ZmZlcmVkUmVxdWVzdDtzdGF0ZS5sYXN0QnVmZmVyZWRSZXF1ZXN0PXtjaHVuazpjaHVuayxlbmNvZGluZzplbmNvZGluZyxpc0J1Zjppc0J1ZixjYWxsYmFjazpjYixuZXh0Om51bGx9LGxhc3Q/bGFzdC5uZXh0PXN0YXRlLmxhc3RCdWZmZXJlZFJlcXVlc3Q6c3RhdGUuYnVmZmVyZWRSZXF1ZXN0PXN0YXRlLmxhc3RCdWZmZXJlZFJlcXVlc3Qsc3RhdGUuYnVmZmVyZWRSZXF1ZXN0Q291bnQrPTF9ZWxzZSBkb1dyaXRlKHN0cmVhbSxzdGF0ZSwhMSxsZW4sY2h1bmssZW5jb2RpbmcsY2IpO3JldHVybiByZXR9KHRoaXMsc3RhdGUsaXNCdWYsY2h1bmssZW5jb2RpbmcsY2IpKSxyZXR9LFdyaXRhYmxlLnByb3RvdHlwZS5jb3JrPWZ1bmN0aW9uKCl7dGhpcy5fd3JpdGFibGVTdGF0ZS5jb3JrZWQrK30sV3JpdGFibGUucHJvdG90eXBlLnVuY29yaz1mdW5jdGlvbigpe3ZhciBzdGF0ZT10aGlzLl93cml0YWJsZVN0YXRlO3N0YXRlLmNvcmtlZCYmKHN0YXRlLmNvcmtlZC0tLHN0YXRlLndyaXRpbmd8fHN0YXRlLmNvcmtlZHx8c3RhdGUuZmluaXNoZWR8fHN0YXRlLmJ1ZmZlclByb2Nlc3Npbmd8fCFzdGF0ZS5idWZmZXJlZFJlcXVlc3R8fGNsZWFyQnVmZmVyKHRoaXMsc3RhdGUpKX0sV3JpdGFibGUucHJvdG90eXBlLnNldERlZmF1bHRFbmNvZGluZz1mdW5jdGlvbihlbmNvZGluZyl7aWYoXCJzdHJpbmdcIj09dHlwZW9mIGVuY29kaW5nJiYoZW5jb2Rpbmc9ZW5jb2RpbmcudG9Mb3dlckNhc2UoKSksIShbXCJoZXhcIixcInV0ZjhcIixcInV0Zi04XCIsXCJhc2NpaVwiLFwiYmluYXJ5XCIsXCJiYXNlNjRcIixcInVjczJcIixcInVjcy0yXCIsXCJ1dGYxNmxlXCIsXCJ1dGYtMTZsZVwiLFwicmF3XCJdLmluZGV4T2YoKGVuY29kaW5nK1wiXCIpLnRvTG93ZXJDYXNlKCkpPi0xKSl0aHJvdyBuZXcgVHlwZUVycm9yKFwiVW5rbm93biBlbmNvZGluZzogXCIrZW5jb2RpbmcpO3JldHVybiB0aGlzLl93cml0YWJsZVN0YXRlLmRlZmF1bHRFbmNvZGluZz1lbmNvZGluZyx0aGlzfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoV3JpdGFibGUucHJvdG90eXBlLFwid3JpdGFibGVIaWdoV2F0ZXJNYXJrXCIse2VudW1lcmFibGU6ITEsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3dyaXRhYmxlU3RhdGUuaGlnaFdhdGVyTWFya319KSxXcml0YWJsZS5wcm90b3R5cGUuX3dyaXRlPWZ1bmN0aW9uKGNodW5rLGVuY29kaW5nLGNiKXtjYihuZXcgRXJyb3IoXCJfd3JpdGUoKSBpcyBub3QgaW1wbGVtZW50ZWRcIikpfSxXcml0YWJsZS5wcm90b3R5cGUuX3dyaXRldj1udWxsLFdyaXRhYmxlLnByb3RvdHlwZS5lbmQ9ZnVuY3Rpb24oY2h1bmssZW5jb2RpbmcsY2Ipe3ZhciBzdGF0ZT10aGlzLl93cml0YWJsZVN0YXRlO1wiZnVuY3Rpb25cIj09dHlwZW9mIGNodW5rPyhjYj1jaHVuayxjaHVuaz1udWxsLGVuY29kaW5nPW51bGwpOlwiZnVuY3Rpb25cIj09dHlwZW9mIGVuY29kaW5nJiYoY2I9ZW5jb2RpbmcsZW5jb2Rpbmc9bnVsbCksbnVsbCE9PWNodW5rJiZ2b2lkIDAhPT1jaHVuayYmdGhpcy53cml0ZShjaHVuayxlbmNvZGluZyksc3RhdGUuY29ya2VkJiYoc3RhdGUuY29ya2VkPTEsdGhpcy51bmNvcmsoKSksc3RhdGUuZW5kaW5nfHxzdGF0ZS5maW5pc2hlZHx8ZnVuY3Rpb24oc3RyZWFtLHN0YXRlLGNiKXtzdGF0ZS5lbmRpbmc9ITAsZmluaXNoTWF5YmUoc3RyZWFtLHN0YXRlKSxjYiYmKHN0YXRlLmZpbmlzaGVkP3BuYS5uZXh0VGljayhjYik6c3RyZWFtLm9uY2UoXCJmaW5pc2hcIixjYikpO3N0YXRlLmVuZGVkPSEwLHN0cmVhbS53cml0YWJsZT0hMX0odGhpcyxzdGF0ZSxjYil9LE9iamVjdC5kZWZpbmVQcm9wZXJ0eShXcml0YWJsZS5wcm90b3R5cGUsXCJkZXN0cm95ZWRcIix7Z2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHZvaWQgMCE9PXRoaXMuX3dyaXRhYmxlU3RhdGUmJnRoaXMuX3dyaXRhYmxlU3RhdGUuZGVzdHJveWVkfSxzZXQ6ZnVuY3Rpb24odmFsdWUpe3RoaXMuX3dyaXRhYmxlU3RhdGUmJih0aGlzLl93cml0YWJsZVN0YXRlLmRlc3Ryb3llZD12YWx1ZSl9fSksV3JpdGFibGUucHJvdG90eXBlLmRlc3Ryb3k9ZGVzdHJveUltcGwuZGVzdHJveSxXcml0YWJsZS5wcm90b3R5cGUuX3VuZGVzdHJveT1kZXN0cm95SW1wbC51bmRlc3Ryb3ksV3JpdGFibGUucHJvdG90eXBlLl9kZXN0cm95PWZ1bmN0aW9uKGVycixjYil7dGhpcy5lbmQoKSxjYihlcnIpfX0pLmNhbGwodGhpcyxfX3dlYnBhY2tfcmVxdWlyZV9fKDI3KSxfX3dlYnBhY2tfcmVxdWlyZV9fKDU2KS5zZXRJbW1lZGlhdGUsX193ZWJwYWNrX3JlcXVpcmVfXygxNCkpfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjt2YXIgZXh0ZXJuYWw9X193ZWJwYWNrX3JlcXVpcmVfXygyOSksRGF0YVdvcmtlcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDYyKSxEYXRhTGVuZ3RoUHJvYmU9X193ZWJwYWNrX3JlcXVpcmVfXyg2MyksQ3JjMzJQcm9iZT1fX3dlYnBhY2tfcmVxdWlyZV9fKDY0KTtEYXRhTGVuZ3RoUHJvYmU9X193ZWJwYWNrX3JlcXVpcmVfXyg2Myk7ZnVuY3Rpb24gQ29tcHJlc3NlZE9iamVjdChjb21wcmVzc2VkU2l6ZSx1bmNvbXByZXNzZWRTaXplLGNyYzMyLGNvbXByZXNzaW9uLGRhdGEpe3RoaXMuY29tcHJlc3NlZFNpemU9Y29tcHJlc3NlZFNpemUsdGhpcy51bmNvbXByZXNzZWRTaXplPXVuY29tcHJlc3NlZFNpemUsdGhpcy5jcmMzMj1jcmMzMix0aGlzLmNvbXByZXNzaW9uPWNvbXByZXNzaW9uLHRoaXMuY29tcHJlc3NlZENvbnRlbnQ9ZGF0YX1Db21wcmVzc2VkT2JqZWN0LnByb3RvdHlwZT17Z2V0Q29udGVudFdvcmtlcjpmdW5jdGlvbigpe3ZhciB3b3JrZXI9bmV3IERhdGFXb3JrZXIoZXh0ZXJuYWwuUHJvbWlzZS5yZXNvbHZlKHRoaXMuY29tcHJlc3NlZENvbnRlbnQpKS5waXBlKHRoaXMuY29tcHJlc3Npb24udW5jb21wcmVzc1dvcmtlcigpKS5waXBlKG5ldyBEYXRhTGVuZ3RoUHJvYmUoXCJkYXRhX2xlbmd0aFwiKSksdGhhdD10aGlzO3JldHVybiB3b3JrZXIub24oXCJlbmRcIixmdW5jdGlvbigpe2lmKHRoaXMuc3RyZWFtSW5mby5kYXRhX2xlbmd0aCE9PXRoYXQudW5jb21wcmVzc2VkU2l6ZSl0aHJvdyBuZXcgRXJyb3IoXCJCdWcgOiB1bmNvbXByZXNzZWQgZGF0YSBzaXplIG1pc21hdGNoXCIpfSksd29ya2VyfSxnZXRDb21wcmVzc2VkV29ya2VyOmZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBEYXRhV29ya2VyKGV4dGVybmFsLlByb21pc2UucmVzb2x2ZSh0aGlzLmNvbXByZXNzZWRDb250ZW50KSkud2l0aFN0cmVhbUluZm8oXCJjb21wcmVzc2VkU2l6ZVwiLHRoaXMuY29tcHJlc3NlZFNpemUpLndpdGhTdHJlYW1JbmZvKFwidW5jb21wcmVzc2VkU2l6ZVwiLHRoaXMudW5jb21wcmVzc2VkU2l6ZSkud2l0aFN0cmVhbUluZm8oXCJjcmMzMlwiLHRoaXMuY3JjMzIpLndpdGhTdHJlYW1JbmZvKFwiY29tcHJlc3Npb25cIix0aGlzLmNvbXByZXNzaW9uKX19LENvbXByZXNzZWRPYmplY3QuY3JlYXRlV29ya2VyRnJvbT1mdW5jdGlvbih1bmNvbXByZXNzZWRXb3JrZXIsY29tcHJlc3Npb24sY29tcHJlc3Npb25PcHRpb25zKXtyZXR1cm4gdW5jb21wcmVzc2VkV29ya2VyLnBpcGUobmV3IENyYzMyUHJvYmUpLnBpcGUobmV3IERhdGFMZW5ndGhQcm9iZShcInVuY29tcHJlc3NlZFNpemVcIikpLnBpcGUoY29tcHJlc3Npb24uY29tcHJlc3NXb3JrZXIoY29tcHJlc3Npb25PcHRpb25zKSkucGlwZShuZXcgRGF0YUxlbmd0aFByb2JlKFwiY29tcHJlc3NlZFNpemVcIikpLndpdGhTdHJlYW1JbmZvKFwiY29tcHJlc3Npb25cIixjb21wcmVzc2lvbil9LG1vZHVsZS5leHBvcnRzPUNvbXByZXNzZWRPYmplY3R9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO3ZhciB1dGlscz1fX3dlYnBhY2tfcmVxdWlyZV9fKDApO3ZhciBjcmNUYWJsZT1mdW5jdGlvbigpe2Zvcih2YXIgYyx0YWJsZT1bXSxuPTA7bjwyNTY7bisrKXtjPW47Zm9yKHZhciBrPTA7azw4O2srKyljPTEmYz8zOTg4MjkyMzg0XmM+Pj4xOmM+Pj4xO3RhYmxlW25dPWN9cmV0dXJuIHRhYmxlfSgpO21vZHVsZS5leHBvcnRzPWZ1bmN0aW9uKGlucHV0LGNyYyl7cmV0dXJuIHZvaWQgMCE9PWlucHV0JiZpbnB1dC5sZW5ndGg/XCJzdHJpbmdcIiE9PXV0aWxzLmdldFR5cGVPZihpbnB1dCk/ZnVuY3Rpb24oY3JjLGJ1ZixsZW4scG9zKXt2YXIgdD1jcmNUYWJsZSxlbmQ9cG9zK2xlbjtjcmNePS0xO2Zvcih2YXIgaT1wb3M7aTxlbmQ7aSsrKWNyYz1jcmM+Pj44XnRbMjU1JihjcmNeYnVmW2ldKV07cmV0dXJuLTFeY3JjfSgwfGNyYyxpbnB1dCxpbnB1dC5sZW5ndGgsMCk6ZnVuY3Rpb24oY3JjLHN0cixsZW4scG9zKXt2YXIgdD1jcmNUYWJsZSxlbmQ9cG9zK2xlbjtjcmNePS0xO2Zvcih2YXIgaT1wb3M7aTxlbmQ7aSsrKWNyYz1jcmM+Pj44XnRbMjU1JihjcmNec3RyLmNoYXJDb2RlQXQoaSkpXTtyZXR1cm4tMV5jcmN9KDB8Y3JjLGlucHV0LGlucHV0Lmxlbmd0aCwwKTowfX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7bW9kdWxlLmV4cG9ydHM9ezI6XCJuZWVkIGRpY3Rpb25hcnlcIiwxOlwic3RyZWFtIGVuZFwiLDA6XCJcIixcIi0xXCI6XCJmaWxlIGVycm9yXCIsXCItMlwiOlwic3RyZWFtIGVycm9yXCIsXCItM1wiOlwiZGF0YSBlcnJvclwiLFwiLTRcIjpcImluc3VmZmljaWVudCBtZW1vcnlcIixcIi01XCI6XCJidWZmZXIgZXJyb3JcIixcIi02XCI6XCJpbmNvbXBhdGlibGUgdmVyc2lvblwifX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7dmFyIF9fYXdhaXRlcj10aGlzJiZ0aGlzLl9fYXdhaXRlcnx8ZnVuY3Rpb24odGhpc0FyZyxfYXJndW1lbnRzLFAsZ2VuZXJhdG9yKXtyZXR1cm4gbmV3KFB8fChQPVByb21pc2UpKShmdW5jdGlvbihyZXNvbHZlLHJlamVjdCl7ZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKXt0cnl7c3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpfWNhdGNoKGUpe3JlamVjdChlKX19ZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpe3RyeXtzdGVwKGdlbmVyYXRvci50aHJvdyh2YWx1ZSkpfWNhdGNoKGUpe3JlamVjdChlKX19ZnVuY3Rpb24gc3RlcChyZXN1bHQpe3Jlc3VsdC5kb25lP3Jlc29sdmUocmVzdWx0LnZhbHVlKTpmdW5jdGlvbih2YWx1ZSl7cmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUD92YWx1ZTpuZXcgUChmdW5jdGlvbihyZXNvbHZlKXtyZXNvbHZlKHZhbHVlKX0pfShyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLHJlamVjdGVkKX1zdGVwKChnZW5lcmF0b3I9Z2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsX2FyZ3VtZW50c3x8W10pKS5uZXh0KCkpfSl9LF9fZ2VuZXJhdG9yPXRoaXMmJnRoaXMuX19nZW5lcmF0b3J8fGZ1bmN0aW9uKHRoaXNBcmcsYm9keSl7dmFyIGYseSx0LGcsXz17bGFiZWw6MCxzZW50OmZ1bmN0aW9uKCl7aWYoMSZ0WzBdKXRocm93IHRbMV07cmV0dXJuIHRbMV19LHRyeXM6W10sb3BzOltdfTtyZXR1cm4gZz17bmV4dDp2ZXJiKDApLHRocm93OnZlcmIoMSkscmV0dXJuOnZlcmIoMil9LFwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmKGdbU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSksZztmdW5jdGlvbiB2ZXJiKG4pe3JldHVybiBmdW5jdGlvbih2KXtyZXR1cm4gZnVuY3Rpb24ob3Ape2lmKGYpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7Zm9yKDtfOyl0cnl7aWYoZj0xLHkmJih0PTImb3BbMF0/eS5yZXR1cm46b3BbMF0/eS50aHJvd3x8KCh0PXkucmV0dXJuKSYmdC5jYWxsKHkpLDApOnkubmV4dCkmJiEodD10LmNhbGwoeSxvcFsxXSkpLmRvbmUpcmV0dXJuIHQ7c3dpdGNoKHk9MCx0JiYob3A9WzImb3BbMF0sdC52YWx1ZV0pLG9wWzBdKXtjYXNlIDA6Y2FzZSAxOnQ9b3A7YnJlYWs7Y2FzZSA0OnJldHVybiBfLmxhYmVsKysse3ZhbHVlOm9wWzFdLGRvbmU6ITF9O2Nhc2UgNTpfLmxhYmVsKysseT1vcFsxXSxvcD1bMF07Y29udGludWU7Y2FzZSA3Om9wPV8ub3BzLnBvcCgpLF8udHJ5cy5wb3AoKTtjb250aW51ZTtkZWZhdWx0OmlmKCEodD0odD1fLnRyeXMpLmxlbmd0aD4wJiZ0W3QubGVuZ3RoLTFdKSYmKDY9PT1vcFswXXx8Mj09PW9wWzBdKSl7Xz0wO2NvbnRpbnVlfWlmKDM9PT1vcFswXSYmKCF0fHxvcFsxXT50WzBdJiZvcFsxXTx0WzNdKSl7Xy5sYWJlbD1vcFsxXTticmVha31pZig2PT09b3BbMF0mJl8ubGFiZWw8dFsxXSl7Xy5sYWJlbD10WzFdLHQ9b3A7YnJlYWt9aWYodCYmXy5sYWJlbDx0WzJdKXtfLmxhYmVsPXRbMl0sXy5vcHMucHVzaChvcCk7YnJlYWt9dFsyXSYmXy5vcHMucG9wKCksXy50cnlzLnBvcCgpO2NvbnRpbnVlfW9wPWJvZHkuY2FsbCh0aGlzQXJnLF8pfWNhdGNoKGUpe29wPVs2LGVdLHk9MH1maW5hbGx5e2Y9dD0wfWlmKDUmb3BbMF0pdGhyb3cgb3BbMV07cmV0dXJue3ZhbHVlOm9wWzBdP29wWzFdOnZvaWQgMCxkb25lOiEwfX0oW24sdl0pfX19O09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBTdG9yYWdlXzE9X193ZWJwYWNrX3JlcXVpcmVfXyg0NyksRGF0ZU1vZHVsZV8xPV9fd2VicGFja19yZXF1aXJlX18oNiksSW5ib3hNZXNzYWdlc1B1YmxpY18xPV9fd2VicGFja19yZXF1aXJlX18oMzApLGNvbnN0YW50c18xPV9fd2VicGFja19yZXF1aXJlX18oMSksSW5ib3hNZXNzYWdlcz1mdW5jdGlvbigpe2Z1bmN0aW9uIEluYm94TWVzc2FnZXMoZGF0YSxhcGksc3RvcmFnZSxkYXRlTW9kdWxlKXt2b2lkIDA9PT1zdG9yYWdlJiYoc3RvcmFnZT1uZXcgU3RvcmFnZV8xLmRlZmF1bHQpLHZvaWQgMD09PWRhdGVNb2R1bGUmJihkYXRlTW9kdWxlPW5ldyBEYXRlTW9kdWxlXzEuZGVmYXVsdCksdGhpcy5kYXRhPWRhdGEsdGhpcy5hcGk9YXBpLHRoaXMuc3RvcmFnZT1zdG9yYWdlLHRoaXMuc3RvcmVOYW1lPVwiaW5ib3hNZXNzYWdlc1wiLHRoaXMuZGF0ZU1vZHVsZT1kYXRlTW9kdWxlfXJldHVybiBJbmJveE1lc3NhZ2VzLnByb3RvdHlwZS5nZXRJbmJveE1lc3NhZ2VzPWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgcmVzcG9uc2U7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuYXBpLmdldEluYm94TWVzc2FnZXMoKV07Y2FzZSAxOnJldHVybiByZXNwb25zZT1fYS5zZW50KCksWzQsdGhpcy5zdG9yZUdldEluYm94TWVzc2FnZXNSZXF1ZXN0UGFyYW1zKHJlc3BvbnNlLm5leHQscmVzcG9uc2UubmV3X2luYm94KV07Y2FzZSAyOnJldHVybiBfYS5zZW50KCksWzIscmVzcG9uc2VdfX0pfSl9LEluYm94TWVzc2FnZXMucHJvdG90eXBlLnN0b3JlR2V0SW5ib3hNZXNzYWdlc1JlcXVlc3RQYXJhbXM9ZnVuY3Rpb24obmV4dCxuZXdNZXNzYWdlc0NvdW50KXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm4gdGhpcy5kYXRlTW9kdWxlLmRhdGU9bmV3IERhdGUsWzQsdGhpcy5kYXRhLnNldEluYm94TGFzdFJlcXVlc3RUaW1lKHRoaXMuZGF0ZU1vZHVsZS5nZXRVdGNUaW1lc3RhbXAoKSldO2Nhc2UgMTpyZXR1cm4gX2Euc2VudCgpLFs0LHRoaXMuZGF0YS5zZXRJbmJveExhc3RSZXF1ZXN0Q29kZShuZXh0KV07Y2FzZSAyOnJldHVybiBfYS5zZW50KCksWzQsdGhpcy5kYXRhLnNldEluYm94TmV3TWVzc2FnZXNDb3VudChuZXdNZXNzYWdlc0NvdW50KV07Y2FzZSAzOnJldHVybiBfYS5zZW50KCksWzJdfX0pfSl9LEluYm94TWVzc2FnZXMucHJvdG90eXBlLnB1dFNlcnZlck1lc3NhZ2VzPWZ1bmN0aW9uKG1lc3NhZ2VzKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBwdXRUcmFuc2FjdGlvbnMsX3RoaXM9dGhpcztyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7cmV0dXJuIHB1dFRyYW5zYWN0aW9ucz1tZXNzYWdlcy5tYXAoZnVuY3Rpb24obWVzc2FnZSl7cmV0dXJuIF9fYXdhaXRlcihfdGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGxvY2FsTWVzc2FnZTtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5zdG9yYWdlLmdldCh0aGlzLnN0b3JlTmFtZSxtZXNzYWdlLmluYm94X2lkLHt9KV07Y2FzZSAxOnJldHVyblwic3RhdHVzXCJpbihsb2NhbE1lc3NhZ2U9X2Euc2VudCgpKSYmKG1lc3NhZ2Uuc3RhdHVzPWxvY2FsTWVzc2FnZS5zdGF0dXMpLFsyLHRoaXMucHV0TWVzc2FnZShtZXNzYWdlKV19fSl9KX0pLFsyLFByb21pc2UuYWxsKHB1dFRyYW5zYWN0aW9ucyldfSl9KX0sSW5ib3hNZXNzYWdlcy5wcm90b3R5cGUucHV0TWVzc2FnZT1mdW5jdGlvbihtZXNzYWdlKXtyZXR1cm4gdGhpcy5zdG9yYWdlLnB1dCh0aGlzLnN0b3JlTmFtZSxtZXNzYWdlKX0sSW5ib3hNZXNzYWdlcy5wcm90b3R5cGUucHV0QnVsa01lc3NhZ2VzPWZ1bmN0aW9uKG1lc3NhZ2VzKXt2YXIgX3RoaXM9dGhpcyxwdXRUcmFuc2FjdGlvbnM9bWVzc2FnZXMubWFwKGZ1bmN0aW9uKG1lc3NhZ2Upe3JldHVybiBfdGhpcy5wdXRNZXNzYWdlKG1lc3NhZ2UpfSk7cmV0dXJuIFByb21pc2UuYWxsKHB1dFRyYW5zYWN0aW9ucyl9LEluYm94TWVzc2FnZXMucHJvdG90eXBlLmRlbGV0ZU1lc3NhZ2VzPWZ1bmN0aW9uKGNvZGVzKXt2YXIgX3RoaXM9dGhpcyxkZWxldGVUcmFuc2FjdGlvbnM9Y29kZXMubWFwKGZ1bmN0aW9uKGNvZGUpe3JldHVybiBfdGhpcy5zdG9yYWdlLmRlbGV0ZShfdGhpcy5zdG9yZU5hbWUsY29kZSl9KTtyZXR1cm4gUHJvbWlzZS5hbGwoZGVsZXRlVHJhbnNhY3Rpb25zKX0sSW5ib3hNZXNzYWdlcy5wcm90b3R5cGUuZGVsZXRlRXhwaXJlZE1lc3NhZ2VzPWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgdXBwZXJCb3VuZCxhbGxNZXNzYWdlcyxjb2Rlc1RvRGVsZXRlO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm4gdGhpcy5kYXRlTW9kdWxlLmRhdGU9bmV3IERhdGUsdXBwZXJCb3VuZD10aGlzLmRhdGVNb2R1bGUuZ2V0VGltZXN0YW1wKCkudG9TdHJpbmcoKSxbNCx0aGlzLnN0b3JhZ2UuZ2V0QWxsKHRoaXMuc3RvcmVOYW1lKV07Y2FzZSAxOnJldHVybiBhbGxNZXNzYWdlcz1fYS5zZW50KCksY29kZXNUb0RlbGV0ZT1hbGxNZXNzYWdlcy5maWx0ZXIoZnVuY3Rpb24obXNnKXtyZXR1cm4gbXNnLnJ0PnVwcGVyQm91bmR9KS5tYXAoZnVuY3Rpb24obXNnKXtyZXR1cm4gbXNnLmluYm94X2lkfSksWzIsdGhpcy5kZWxldGVNZXNzYWdlcyhjb2Rlc1RvRGVsZXRlKV19fSl9KX0sSW5ib3hNZXNzYWdlcy5wcm90b3R5cGUuZ2V0TWVzc2FnZT1mdW5jdGlvbihjb2RlKXtyZXR1cm4gdGhpcy5zdG9yYWdlLmdldCh0aGlzLnN0b3JlTmFtZSxjb2RlKX0sSW5ib3hNZXNzYWdlcy5wcm90b3R5cGUuZ2V0UmVhZE9wZW5NZXNzYWdlcz1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuc3RvcmFnZS5nZXRBbGwodGhpcy5zdG9yZU5hbWUpXTtjYXNlIDE6cmV0dXJuWzIsX2Euc2VudCgpLmZpbHRlcihmdW5jdGlvbihtc2cpe3JldHVybiAyPT09bXNnLnN0YXR1c3x8Mz09PW1zZy5zdGF0dXN9KV19fSl9KX0sSW5ib3hNZXNzYWdlcy5wcm90b3R5cGUuZ2V0RGVsaXZlcmVkTWVzc2FnZXM9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLnN0b3JhZ2UuZ2V0QWxsKHRoaXMuc3RvcmVOYW1lKV07Y2FzZSAxOnJldHVyblsyLF9hLnNlbnQoKS5maWx0ZXIoZnVuY3Rpb24obXNnKXtyZXR1cm4gMT09PW1zZy5zdGF0dXN9KV19fSl9KX0sSW5ib3hNZXNzYWdlcy5wcm90b3R5cGUubWVzc2FnZXNDb3VudD1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3JldHVyblsyLHRoaXMuc3RvcmFnZS5jb3VudCh0aGlzLnN0b3JlTmFtZSldfSl9KX0sSW5ib3hNZXNzYWdlcy5wcm90b3R5cGUuZ2V0RGVsaXZlcmVkTWVzc2FnZXNDb3VudD1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGRlbGl2ZXJlZFN0YXR1cyxzdGF0dXNJbmRleE5hbWU7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3JldHVybiBkZWxpdmVyZWRTdGF0dXM9MSxzdGF0dXNJbmRleE5hbWU9XCJzdGF0dXNcIixbMix0aGlzLnN0b3JhZ2UuY291bnRCeUluZGV4KHRoaXMuc3RvcmVOYW1lLHN0YXR1c0luZGV4TmFtZSxkZWxpdmVyZWRTdGF0dXMpXX0pfSl9LEluYm94TWVzc2FnZXMucHJvdG90eXBlLmdldFJlYWRNZXNzYWdlc0NvdW50PWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgcmVhZFN0YXR1cyxzdGF0dXNJbmRleE5hbWU7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3JldHVybiByZWFkU3RhdHVzPTIsc3RhdHVzSW5kZXhOYW1lPVwic3RhdHVzXCIsWzIsdGhpcy5zdG9yYWdlLmNvdW50QnlJbmRleCh0aGlzLnN0b3JlTmFtZSxzdGF0dXNJbmRleE5hbWUscmVhZFN0YXR1cyldfSl9KX0sSW5ib3hNZXNzYWdlcy5wcm90b3R5cGUuZ2V0RGVsaXZlcmVkUmVhZE1lc3NhZ2VzQ291bnQ9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBfYSxyZWFkU3RhdHVzLG9wZW5TdGF0dXMsa2V5UmFuZ2Usc3RhdHVzSW5kZXhOYW1lO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9iKXtyZXR1cm4gcmVhZFN0YXR1cz0oX2E9WzIsM10pWzBdLG9wZW5TdGF0dXM9X2FbMV0sa2V5UmFuZ2U9SURCS2V5UmFuZ2UuYm91bmQocmVhZFN0YXR1cyxvcGVuU3RhdHVzKSxzdGF0dXNJbmRleE5hbWU9XCJzdGF0dXNcIixbMix0aGlzLnN0b3JhZ2UuY291bnRCeUluZGV4KHRoaXMuc3RvcmVOYW1lLHN0YXR1c0luZGV4TmFtZSxrZXlSYW5nZSldfSl9KX0sSW5ib3hNZXNzYWdlcy5wcm90b3R5cGUudXBkYXRlTWVzc2FnZXM9ZnVuY3Rpb24oZXZlbnRFbWl0dGVyKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciByZXNwb25zZTtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5nZXRJbmJveE1lc3NhZ2VzKCldO2Nhc2UgMTpyZXR1cm4gcmVzcG9uc2U9X2Euc2VudCgpLFs0LHRoaXMuZGVsZXRlRXhwaXJlZE1lc3NhZ2VzKCldO2Nhc2UgMjpyZXR1cm4gX2Euc2VudCgpLFs0LHRoaXMuZGVsZXRlTWVzc2FnZXMocmVzcG9uc2UuZGVsZXRlZCldO2Nhc2UgMzpyZXR1cm4gX2Euc2VudCgpLFs0LHRoaXMucHV0U2VydmVyTWVzc2FnZXMocmVzcG9uc2UubWVzc2FnZXMpXTtjYXNlIDQ6cmV0dXJuIF9hLnNlbnQoKSxldmVudEVtaXR0ZXImJmV2ZW50RW1pdHRlci5lbWl0KGNvbnN0YW50c18xLkVWRU5UX09OX1VQREFURV9JTkJPWF9NRVNTQUdFUyxuZXcgSW5ib3hNZXNzYWdlc1B1YmxpY18xLmRlZmF1bHQodGhpcy5kYXRhLHRoaXMuYXBpLHRoaXMpKSxbMl19fSl9KX0sSW5ib3hNZXNzYWdlc30oKTtleHBvcnRzLmRlZmF1bHQ9SW5ib3hNZXNzYWdlc30sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7dmFyIF9fYXdhaXRlcj10aGlzJiZ0aGlzLl9fYXdhaXRlcnx8ZnVuY3Rpb24odGhpc0FyZyxfYXJndW1lbnRzLFAsZ2VuZXJhdG9yKXtyZXR1cm4gbmV3KFB8fChQPVByb21pc2UpKShmdW5jdGlvbihyZXNvbHZlLHJlamVjdCl7ZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKXt0cnl7c3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpfWNhdGNoKGUpe3JlamVjdChlKX19ZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpe3RyeXtzdGVwKGdlbmVyYXRvci50aHJvdyh2YWx1ZSkpfWNhdGNoKGUpe3JlamVjdChlKX19ZnVuY3Rpb24gc3RlcChyZXN1bHQpe3Jlc3VsdC5kb25lP3Jlc29sdmUocmVzdWx0LnZhbHVlKTpmdW5jdGlvbih2YWx1ZSl7cmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUD92YWx1ZTpuZXcgUChmdW5jdGlvbihyZXNvbHZlKXtyZXNvbHZlKHZhbHVlKX0pfShyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLHJlamVjdGVkKX1zdGVwKChnZW5lcmF0b3I9Z2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsX2FyZ3VtZW50c3x8W10pKS5uZXh0KCkpfSl9LF9fZ2VuZXJhdG9yPXRoaXMmJnRoaXMuX19nZW5lcmF0b3J8fGZ1bmN0aW9uKHRoaXNBcmcsYm9keSl7dmFyIGYseSx0LGcsXz17bGFiZWw6MCxzZW50OmZ1bmN0aW9uKCl7aWYoMSZ0WzBdKXRocm93IHRbMV07cmV0dXJuIHRbMV19LHRyeXM6W10sb3BzOltdfTtyZXR1cm4gZz17bmV4dDp2ZXJiKDApLHRocm93OnZlcmIoMSkscmV0dXJuOnZlcmIoMil9LFwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmKGdbU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSksZztmdW5jdGlvbiB2ZXJiKG4pe3JldHVybiBmdW5jdGlvbih2KXtyZXR1cm4gZnVuY3Rpb24ob3Ape2lmKGYpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7Zm9yKDtfOyl0cnl7aWYoZj0xLHkmJih0PTImb3BbMF0/eS5yZXR1cm46b3BbMF0/eS50aHJvd3x8KCh0PXkucmV0dXJuKSYmdC5jYWxsKHkpLDApOnkubmV4dCkmJiEodD10LmNhbGwoeSxvcFsxXSkpLmRvbmUpcmV0dXJuIHQ7c3dpdGNoKHk9MCx0JiYob3A9WzImb3BbMF0sdC52YWx1ZV0pLG9wWzBdKXtjYXNlIDA6Y2FzZSAxOnQ9b3A7YnJlYWs7Y2FzZSA0OnJldHVybiBfLmxhYmVsKysse3ZhbHVlOm9wWzFdLGRvbmU6ITF9O2Nhc2UgNTpfLmxhYmVsKysseT1vcFsxXSxvcD1bMF07Y29udGludWU7Y2FzZSA3Om9wPV8ub3BzLnBvcCgpLF8udHJ5cy5wb3AoKTtjb250aW51ZTtkZWZhdWx0OmlmKCEodD0odD1fLnRyeXMpLmxlbmd0aD4wJiZ0W3QubGVuZ3RoLTFdKSYmKDY9PT1vcFswXXx8Mj09PW9wWzBdKSl7Xz0wO2NvbnRpbnVlfWlmKDM9PT1vcFswXSYmKCF0fHxvcFsxXT50WzBdJiZvcFsxXTx0WzNdKSl7Xy5sYWJlbD1vcFsxXTticmVha31pZig2PT09b3BbMF0mJl8ubGFiZWw8dFsxXSl7Xy5sYWJlbD10WzFdLHQ9b3A7YnJlYWt9aWYodCYmXy5sYWJlbDx0WzJdKXtfLmxhYmVsPXRbMl0sXy5vcHMucHVzaChvcCk7YnJlYWt9dFsyXSYmXy5vcHMucG9wKCksXy50cnlzLnBvcCgpO2NvbnRpbnVlfW9wPWJvZHkuY2FsbCh0aGlzQXJnLF8pfWNhdGNoKGUpe29wPVs2LGVdLHk9MH1maW5hbGx5e2Y9dD0wfWlmKDUmb3BbMF0pdGhyb3cgb3BbMV07cmV0dXJue3ZhbHVlOm9wWzBdP29wWzFdOnZvaWQgMCxkb25lOiEwfX0oW24sdl0pfX19O09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciB2ZXJzaW9uXzE9X193ZWJwYWNrX3JlcXVpcmVfXygxOCksTWlncmF0aW9uRXhlY3V0b3JfMT1fX3dlYnBhY2tfcmVxdWlyZV9fKDE5KSxTdG9yZV8xPV9fd2VicGFja19yZXF1aXJlX18oNDgpLFN0b3JhZ2U9ZnVuY3Rpb24oKXtmdW5jdGlvbiBTdG9yYWdlKCl7fXJldHVybiBTdG9yYWdlLnByb3RvdHlwZS5kYlZlcnNpb25DaGFuZ2VIYW5kbGVyPWZ1bmN0aW9uKGRiLGV2ZW50KXtjb25zb2xlLmluZm8oXCJvbnZlcnNpb25jaGFuZ2VcIixldmVudCksZGIuY2xvc2UoKX0sU3RvcmFnZS5wcm90b3R5cGUuZGJSZXF1ZXN0U3VjY2Vzc0hhbmRsZXI9ZnVuY3Rpb24ocmVzb2x2ZSxldmVudCl7dmFyIF90aGlzPXRoaXMsZGF0YWJhc2U9ZXZlbnQudGFyZ2V0LnJlc3VsdDtkYXRhYmFzZS5vbnZlcnNpb25jaGFuZ2U9ZnVuY3Rpb24oZXZlbnQpe190aGlzLmRiVmVyc2lvbkNoYW5nZUhhbmRsZXIoZGF0YWJhc2UsZXZlbnQpfSxyZXNvbHZlKGRhdGFiYXNlKX0sU3RvcmFnZS5wcm90b3R5cGUuZGJSZXF1ZXN0VXBncmFkZU5lZWRlZEhhbmRsZXI9ZnVuY3Rpb24oZXZlbnQpe3ZhciBfdGhpcz10aGlzLGRhdGFiYXNlPWV2ZW50LnRhcmdldC5yZXN1bHQ7ZGF0YWJhc2Uub252ZXJzaW9uY2hhbmdlPWZ1bmN0aW9uKGV2ZW50KXtfdGhpcy5kYlZlcnNpb25DaGFuZ2VIYW5kbGVyKGRhdGFiYXNlLGV2ZW50KX0sbmV3IE1pZ3JhdGlvbkV4ZWN1dG9yXzEuZGVmYXVsdChkYXRhYmFzZSkuYXBwbHlNaWdyYXRpb25zKCl9LFN0b3JhZ2UucHJvdG90eXBlLmdldERCPWZ1bmN0aW9uKCl7dmFyIF90aGlzPXRoaXM7cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUscmVqZWN0KXt2YXIgcmVxdWVzdD1pbmRleGVkREIub3BlbihcIlBVU0hXT09TSF9TREtfU1RPUkVcIix2ZXJzaW9uXzEuZGVmYXVsdCk7cmVxdWVzdC5vbnN1Y2Nlc3M9ZnVuY3Rpb24oZXZlbnQpe190aGlzLmRiUmVxdWVzdFN1Y2Nlc3NIYW5kbGVyKHJlc29sdmUsZXZlbnQpfSxyZXF1ZXN0Lm9udXBncmFkZW5lZWRlZD1mdW5jdGlvbihldmVudCl7X3RoaXMuZGJSZXF1ZXN0VXBncmFkZU5lZWRlZEhhbmRsZXIoZXZlbnQpfSxyZXF1ZXN0Lm9uZXJyb3I9ZnVuY3Rpb24oKXtyZXR1cm4gcmVqZWN0KHJlcXVlc3QuZXJyb3IpfX0pfSxTdG9yYWdlLnByb3RvdHlwZS5wdXQ9ZnVuY3Rpb24oc3RvcmVOYW1lLGRhdGEsa2V5KXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBkYixyZXN1bHQ7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuZ2V0REIoKV07Y2FzZSAxOnJldHVybiBkYj1fYS5zZW50KCksWzQsbmV3IFN0b3JlXzEuZGVmYXVsdChkYixzdG9yZU5hbWUpLnB1dChkYXRhLGtleSldO2Nhc2UgMjpyZXR1cm4gcmVzdWx0PV9hLnNlbnQoKSxkYi5jbG9zZSgpLFsyLHJlc3VsdF19fSl9KX0sU3RvcmFnZS5wcm90b3R5cGUuZGVsZXRlPWZ1bmN0aW9uKHN0b3JlTmFtZSxrZXkpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGRiLHJlc3VsdDtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5nZXREQigpXTtjYXNlIDE6cmV0dXJuIGRiPV9hLnNlbnQoKSxbNCxuZXcgU3RvcmVfMS5kZWZhdWx0KGRiLHN0b3JlTmFtZSkuZGVsZXRlKGtleSldO2Nhc2UgMjpyZXR1cm4gcmVzdWx0PV9hLnNlbnQoKSxkYi5jbG9zZSgpLFsyLHJlc3VsdF19fSl9KX0sU3RvcmFnZS5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKHN0b3JlTmFtZSxrZXksZGVmYXVsdFZhbHVlKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBkYixyZXN1bHQ7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuZ2V0REIoKV07Y2FzZSAxOnJldHVybiBkYj1fYS5zZW50KCksWzQsbmV3IFN0b3JlXzEuZGVmYXVsdChkYixzdG9yZU5hbWUpLmdldChrZXksZGVmYXVsdFZhbHVlKV07Y2FzZSAyOnJldHVybiByZXN1bHQ9X2Euc2VudCgpLGRiLmNsb3NlKCksWzIscmVzdWx0XX19KX0pfSxTdG9yYWdlLnByb3RvdHlwZS5nZXRBbGw9ZnVuY3Rpb24oc3RvcmVOYW1lKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBkYixyZXN1bHQ7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuZ2V0REIoKV07Y2FzZSAxOnJldHVybiBkYj1fYS5zZW50KCksWzQsbmV3IFN0b3JlXzEuZGVmYXVsdChkYixzdG9yZU5hbWUpLmdldEFsbCgpXTtjYXNlIDI6cmV0dXJuIHJlc3VsdD1fYS5zZW50KCksZGIuY2xvc2UoKSxbMixyZXN1bHR8fFtdXX19KX0pfSxTdG9yYWdlLnByb3RvdHlwZS5jb3VudD1mdW5jdGlvbihzdG9yZU5hbWUscXVlcnkpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGRiLHJlc3VsdDtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5nZXREQigpXTtjYXNlIDE6cmV0dXJuIGRiPV9hLnNlbnQoKSxbNCxuZXcgU3RvcmVfMS5kZWZhdWx0KGRiLHN0b3JlTmFtZSkuY291bnQocXVlcnkpXTtjYXNlIDI6cmV0dXJuIHJlc3VsdD1fYS5zZW50KCksZGIuY2xvc2UoKSxbMixyZXN1bHRdfX0pfSl9LFN0b3JhZ2UucHJvdG90eXBlLmNvdW50QnlJbmRleD1mdW5jdGlvbihzdG9yZU5hbWUsaW5kZXhOYW1lLGtleSl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgZGIsc3RvcmUscmVzdWx0O3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLmdldERCKCldO2Nhc2UgMTpyZXR1cm4gZGI9X2Euc2VudCgpLChzdG9yZT1uZXcgU3RvcmVfMS5kZWZhdWx0KGRiLHN0b3JlTmFtZSkpLmluZGV4PWluZGV4TmFtZSxbNCxzdG9yZS5jb3VudEJ5SW5kZXgoa2V5KV07Y2FzZSAyOnJldHVybiByZXN1bHQ9X2Euc2VudCgpLGRiLmNsb3NlKCksWzIscmVzdWx0XX19KX0pfSxTdG9yYWdlfSgpO2V4cG9ydHMuZGVmYXVsdD1TdG9yYWdlfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgU3RvcmU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBTdG9yZShkYixuYW1lKXt0aGlzLm5hbWU9bmFtZSx0aGlzLnN0b3JlPWRiLnRyYW5zYWN0aW9uKHRoaXMubmFtZSxcInJlYWR3cml0ZVwiKS5vYmplY3RTdG9yZSh0aGlzLm5hbWUpfXJldHVybiBPYmplY3QuZGVmaW5lUHJvcGVydHkoU3RvcmUucHJvdG90eXBlLFwiaW5kZXhcIix7c2V0OmZ1bmN0aW9uKGluZGV4KXt0aGlzLnN0b3JlLmluZGV4TmFtZXMuY29udGFpbnMoaW5kZXgpP3RoaXMuX2luZGV4PXRoaXMuc3RvcmUuaW5kZXgoaW5kZXgpOmNvbnNvbGUud2FybignSW5kZXggXCInK2luZGV4KydcIiBpbiAnKX0sZW51bWVyYWJsZTohMCxjb25maWd1cmFibGU6ITB9KSxTdG9yZS5wcm90b3R5cGUud3JpdGVSZXF1ZXN0UHJvbWlzZT1mdW5jdGlvbihyZXF1ZXN0LHJlc3VsdCl7cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUscmVqZWN0KXtyZXF1ZXN0Lm9uc3VjY2Vzcz1mdW5jdGlvbigpe3Jlc29sdmUocmVzdWx0KX0scmVxdWVzdC5vbmVycm9yPWZ1bmN0aW9uKCl7cmVqZWN0KHJlcXVlc3QuZXJyb3IpfX0pfSxTdG9yZS5wcm90b3R5cGUucmVhZFJlcXVlc3RQcm9taXNlPWZ1bmN0aW9uKHJlcXVlc3QsZGVmYXVsdFZhbHVlKXtyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSxyZWplY3Qpe3JlcXVlc3Qub25zdWNjZXNzPWZ1bmN0aW9uKGV2ZW50KXt2YXIgdGFyZ2V0PWV2ZW50LnRhcmdldDtyZXNvbHZlKHRhcmdldC5yZXN1bHR8fGRlZmF1bHRWYWx1ZSl9LHJlcXVlc3Qub25lcnJvcj1mdW5jdGlvbigpe3JlamVjdChyZXF1ZXN0LmVycm9yKX19KX0sU3RvcmUucHJvdG90eXBlLnB1dD1mdW5jdGlvbihkYXRhLGtleSl7dmFyIHJlcXVlc3Q9dGhpcy5zdG9yZS5wdXQoZGF0YSxrZXkpO3JldHVybiB0aGlzLndyaXRlUmVxdWVzdFByb21pc2UocmVxdWVzdCxrZXkpfSxTdG9yZS5wcm90b3R5cGUuYWRkPWZ1bmN0aW9uKGRhdGEsa2V5KXtyZXR1cm4gdGhpcy5wdXQoZGF0YSxrZXkpfSxTdG9yZS5wcm90b3R5cGUuZGVsZXRlPWZ1bmN0aW9uKGtleSl7dmFyIHJlcXVlc3Q9dGhpcy5zdG9yZS5kZWxldGUoa2V5KTtyZXR1cm4gdGhpcy53cml0ZVJlcXVlc3RQcm9taXNlKHJlcXVlc3QpfSxTdG9yZS5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGtleSxkZWZhdWx0VmFsdWUpe3ZhciByZXF1ZXN0PXRoaXMuc3RvcmUuZ2V0KGtleSk7cmV0dXJuIHRoaXMucmVhZFJlcXVlc3RQcm9taXNlKHJlcXVlc3QsZGVmYXVsdFZhbHVlKX0sU3RvcmUucHJvdG90eXBlLmdldEFsbD1mdW5jdGlvbigpe3ZhciBjdXJzb3I9dGhpcy5zdG9yZS5vcGVuQ3Vyc29yKCkscmVzdWx0PVtdO3JldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLHJlamVjdCl7Y3Vyc29yLm9uc3VjY2Vzcz1mdW5jdGlvbihldmVudCl7dmFyIGN1cnNvclJlc3VsdD1ldmVudC50YXJnZXQucmVzdWx0O2N1cnNvclJlc3VsdD8ocmVzdWx0LnB1c2goY3Vyc29yUmVzdWx0LnZhbHVlKSxjdXJzb3JSZXN1bHQuY29udGludWUoKSk6cmVzb2x2ZShyZXN1bHQpfSxjdXJzb3Iub25lcnJvcj1mdW5jdGlvbigpe3JlamVjdChjdXJzb3IuZXJyb3IpfX0pfSxTdG9yZS5wcm90b3R5cGUuY291bnQ9ZnVuY3Rpb24ocXVlcnkpe3ZhciByZXF1ZXN0PXRoaXMuc3RvcmUuY291bnQocXVlcnkpO3JldHVybiB0aGlzLnJlYWRSZXF1ZXN0UHJvbWlzZShyZXF1ZXN0LDApfSxTdG9yZS5wcm90b3R5cGUuY291bnRCeUluZGV4PWZ1bmN0aW9uKGtleSl7dmFyIHJlcXVlc3Q9dGhpcy5faW5kZXguY291bnQoa2V5KTtyZXR1cm4gdGhpcy5yZWFkUmVxdWVzdFByb21pc2UocmVxdWVzdCwwKX0sU3RvcmV9KCk7ZXhwb3J0cy5kZWZhdWx0PVN0b3JlfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXt2YXIgdjE9X193ZWJwYWNrX3JlcXVpcmVfXyg4MCksdjQ9X193ZWJwYWNrX3JlcXVpcmVfXyg5KSx1dWlkPXY0O3V1aWQudjE9djEsdXVpZC52ND12NCxtb2R1bGUuZXhwb3J0cz11dWlkfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjt2YXIgX19hd2FpdGVyPXRoaXMmJnRoaXMuX19hd2FpdGVyfHxmdW5jdGlvbih0aGlzQXJnLF9hcmd1bWVudHMsUCxnZW5lcmF0b3Ipe3JldHVybiBuZXcoUHx8KFA9UHJvbWlzZSkpKGZ1bmN0aW9uKHJlc29sdmUscmVqZWN0KXtmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpe3RyeXtzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSl9Y2F0Y2goZSl7cmVqZWN0KGUpfX1mdW5jdGlvbiByZWplY3RlZCh2YWx1ZSl7dHJ5e3N0ZXAoZ2VuZXJhdG9yLnRocm93KHZhbHVlKSl9Y2F0Y2goZSl7cmVqZWN0KGUpfX1mdW5jdGlvbiBzdGVwKHJlc3VsdCl7cmVzdWx0LmRvbmU/cmVzb2x2ZShyZXN1bHQudmFsdWUpOmZ1bmN0aW9uKHZhbHVlKXtyZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQP3ZhbHVlOm5ldyBQKGZ1bmN0aW9uKHJlc29sdmUpe3Jlc29sdmUodmFsdWUpfSl9KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQscmVqZWN0ZWQpfXN0ZXAoKGdlbmVyYXRvcj1nZW5lcmF0b3IuYXBwbHkodGhpc0FyZyxfYXJndW1lbnRzfHxbXSkpLm5leHQoKSl9KX0sX19nZW5lcmF0b3I9dGhpcyYmdGhpcy5fX2dlbmVyYXRvcnx8ZnVuY3Rpb24odGhpc0FyZyxib2R5KXt2YXIgZix5LHQsZyxfPXtsYWJlbDowLHNlbnQ6ZnVuY3Rpb24oKXtpZigxJnRbMF0pdGhyb3cgdFsxXTtyZXR1cm4gdFsxXX0sdHJ5czpbXSxvcHM6W119O3JldHVybiBnPXtuZXh0OnZlcmIoMCksdGhyb3c6dmVyYigxKSxyZXR1cm46dmVyYigyKX0sXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiYoZ1tTeW1ib2wuaXRlcmF0b3JdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSxnO2Z1bmN0aW9uIHZlcmIobil7cmV0dXJuIGZ1bmN0aW9uKHYpe3JldHVybiBmdW5jdGlvbihvcCl7aWYoZil0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtmb3IoO187KXRyeXtpZihmPTEseSYmKHQ9MiZvcFswXT95LnJldHVybjpvcFswXT95LnRocm93fHwoKHQ9eS5yZXR1cm4pJiZ0LmNhbGwoeSksMCk6eS5uZXh0KSYmISh0PXQuY2FsbCh5LG9wWzFdKSkuZG9uZSlyZXR1cm4gdDtzd2l0Y2goeT0wLHQmJihvcD1bMiZvcFswXSx0LnZhbHVlXSksb3BbMF0pe2Nhc2UgMDpjYXNlIDE6dD1vcDticmVhaztjYXNlIDQ6cmV0dXJuIF8ubGFiZWwrKyx7dmFsdWU6b3BbMV0sZG9uZTohMX07Y2FzZSA1Ol8ubGFiZWwrKyx5PW9wWzFdLG9wPVswXTtjb250aW51ZTtjYXNlIDc6b3A9Xy5vcHMucG9wKCksXy50cnlzLnBvcCgpO2NvbnRpbnVlO2RlZmF1bHQ6aWYoISh0PSh0PV8udHJ5cykubGVuZ3RoPjAmJnRbdC5sZW5ndGgtMV0pJiYoNj09PW9wWzBdfHwyPT09b3BbMF0pKXtfPTA7Y29udGludWV9aWYoMz09PW9wWzBdJiYoIXR8fG9wWzFdPnRbMF0mJm9wWzFdPHRbM10pKXtfLmxhYmVsPW9wWzFdO2JyZWFrfWlmKDY9PT1vcFswXSYmXy5sYWJlbDx0WzFdKXtfLmxhYmVsPXRbMV0sdD1vcDticmVha31pZih0JiZfLmxhYmVsPHRbMl0pe18ubGFiZWw9dFsyXSxfLm9wcy5wdXNoKG9wKTticmVha310WzJdJiZfLm9wcy5wb3AoKSxfLnRyeXMucG9wKCk7Y29udGludWV9b3A9Ym9keS5jYWxsKHRoaXNBcmcsXyl9Y2F0Y2goZSl7b3A9WzYsZV0seT0wfWZpbmFsbHl7Zj10PTB9aWYoNSZvcFswXSl0aHJvdyBvcFsxXTtyZXR1cm57dmFsdWU6b3BbMF0/b3BbMV06dm9pZCAwLGRvbmU6ITB9fShbbix2XSl9fX07T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIEpTWmlwPV9fd2VicGFja19yZXF1aXJlX18oODcpO2V4cG9ydHMuZ2V0WmlwPWZ1bmN0aW9uKHVybCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgcmVzcG9uc2UscmVzdWx0O3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCxmZXRjaCh1cmwse21ldGhvZDpcIkdFVFwifSldO2Nhc2UgMTpyZXR1cm4gMjAwIT09KHJlc3BvbnNlPV9hLnNlbnQoKSkuc3RhdHVzJiZuZXcgRXJyb3IocmVzcG9uc2Uuc3RhdHVzVGV4dCksWzQscmVzcG9uc2UuYmxvYigpXTtjYXNlIDI6cmV0dXJuIHJlc3VsdD1fYS5zZW50KCksWzIsSlNaaXAubG9hZEFzeW5jKHJlc3VsdCldfX0pfSl9fSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7dmFyIHRvU3RyaW5nPXt9LnRvU3RyaW5nO21vZHVsZS5leHBvcnRzPUFycmF5LmlzQXJyYXl8fGZ1bmN0aW9uKGFycil7cmV0dXJuXCJbb2JqZWN0IEFycmF5XVwiPT10b1N0cmluZy5jYWxsKGFycil9fSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXttb2R1bGUuZXhwb3J0cz1fX3dlYnBhY2tfcmVxdWlyZV9fKDkxKX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7KGZ1bmN0aW9uKGdsb2JhbCxwcm9jZXNzKXt2YXIgcG5hPV9fd2VicGFja19yZXF1aXJlX18oMzMpO21vZHVsZS5leHBvcnRzPVJlYWRhYmxlO3ZhciBEdXBsZXgsaXNBcnJheT1fX3dlYnBhY2tfcmVxdWlyZV9fKDUxKTtSZWFkYWJsZS5SZWFkYWJsZVN0YXRlPVJlYWRhYmxlU3RhdGU7X193ZWJwYWNrX3JlcXVpcmVfXyg0MCkuRXZlbnRFbWl0dGVyO3ZhciBFRWxpc3RlbmVyQ291bnQ9ZnVuY3Rpb24oZW1pdHRlcix0eXBlKXtyZXR1cm4gZW1pdHRlci5saXN0ZW5lcnModHlwZSkubGVuZ3RofSxTdHJlYW09X193ZWJwYWNrX3JlcXVpcmVfXyg1NCksQnVmZmVyPV9fd2VicGFja19yZXF1aXJlX18oMzQpLkJ1ZmZlcixPdXJVaW50OEFycmF5PWdsb2JhbC5VaW50OEFycmF5fHxmdW5jdGlvbigpe307dmFyIHV0aWw9T2JqZWN0LmNyZWF0ZShfX3dlYnBhY2tfcmVxdWlyZV9fKDI4KSk7dXRpbC5pbmhlcml0cz1fX3dlYnBhY2tfcmVxdWlyZV9fKDE3KTt2YXIgZGVidWdVdGlsPV9fd2VicGFja19yZXF1aXJlX18oOTIpLGRlYnVnPXZvaWQgMDtkZWJ1Zz1kZWJ1Z1V0aWwmJmRlYnVnVXRpbC5kZWJ1Z2xvZz9kZWJ1Z1V0aWwuZGVidWdsb2coXCJzdHJlYW1cIik6ZnVuY3Rpb24oKXt9O3ZhciBTdHJpbmdEZWNvZGVyLEJ1ZmZlckxpc3Q9X193ZWJwYWNrX3JlcXVpcmVfXyg5MyksZGVzdHJveUltcGw9X193ZWJwYWNrX3JlcXVpcmVfXyg1NSk7dXRpbC5pbmhlcml0cyhSZWFkYWJsZSxTdHJlYW0pO3ZhciBrUHJveHlFdmVudHM9W1wiZXJyb3JcIixcImNsb3NlXCIsXCJkZXN0cm95XCIsXCJwYXVzZVwiLFwicmVzdW1lXCJdO2Z1bmN0aW9uIFJlYWRhYmxlU3RhdGUob3B0aW9ucyxzdHJlYW0pe0R1cGxleD1EdXBsZXh8fF9fd2VicGFja19yZXF1aXJlX18oMTUpLG9wdGlvbnM9b3B0aW9uc3x8e307dmFyIGlzRHVwbGV4PXN0cmVhbSBpbnN0YW5jZW9mIER1cGxleDt0aGlzLm9iamVjdE1vZGU9ISFvcHRpb25zLm9iamVjdE1vZGUsaXNEdXBsZXgmJih0aGlzLm9iamVjdE1vZGU9dGhpcy5vYmplY3RNb2RlfHwhIW9wdGlvbnMucmVhZGFibGVPYmplY3RNb2RlKTt2YXIgaHdtPW9wdGlvbnMuaGlnaFdhdGVyTWFyayxyZWFkYWJsZUh3bT1vcHRpb25zLnJlYWRhYmxlSGlnaFdhdGVyTWFyayxkZWZhdWx0SHdtPXRoaXMub2JqZWN0TW9kZT8xNjoxNjM4NDt0aGlzLmhpZ2hXYXRlck1hcms9aHdtfHwwPT09aHdtP2h3bTppc0R1cGxleCYmKHJlYWRhYmxlSHdtfHwwPT09cmVhZGFibGVId20pP3JlYWRhYmxlSHdtOmRlZmF1bHRId20sdGhpcy5oaWdoV2F0ZXJNYXJrPU1hdGguZmxvb3IodGhpcy5oaWdoV2F0ZXJNYXJrKSx0aGlzLmJ1ZmZlcj1uZXcgQnVmZmVyTGlzdCx0aGlzLmxlbmd0aD0wLHRoaXMucGlwZXM9bnVsbCx0aGlzLnBpcGVzQ291bnQ9MCx0aGlzLmZsb3dpbmc9bnVsbCx0aGlzLmVuZGVkPSExLHRoaXMuZW5kRW1pdHRlZD0hMSx0aGlzLnJlYWRpbmc9ITEsdGhpcy5zeW5jPSEwLHRoaXMubmVlZFJlYWRhYmxlPSExLHRoaXMuZW1pdHRlZFJlYWRhYmxlPSExLHRoaXMucmVhZGFibGVMaXN0ZW5pbmc9ITEsdGhpcy5yZXN1bWVTY2hlZHVsZWQ9ITEsdGhpcy5kZXN0cm95ZWQ9ITEsdGhpcy5kZWZhdWx0RW5jb2Rpbmc9b3B0aW9ucy5kZWZhdWx0RW5jb2Rpbmd8fFwidXRmOFwiLHRoaXMuYXdhaXREcmFpbj0wLHRoaXMucmVhZGluZ01vcmU9ITEsdGhpcy5kZWNvZGVyPW51bGwsdGhpcy5lbmNvZGluZz1udWxsLG9wdGlvbnMuZW5jb2RpbmcmJihTdHJpbmdEZWNvZGVyfHwoU3RyaW5nRGVjb2Rlcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDU3KS5TdHJpbmdEZWNvZGVyKSx0aGlzLmRlY29kZXI9bmV3IFN0cmluZ0RlY29kZXIob3B0aW9ucy5lbmNvZGluZyksdGhpcy5lbmNvZGluZz1vcHRpb25zLmVuY29kaW5nKX1mdW5jdGlvbiBSZWFkYWJsZShvcHRpb25zKXtpZihEdXBsZXg9RHVwbGV4fHxfX3dlYnBhY2tfcmVxdWlyZV9fKDE1KSwhKHRoaXMgaW5zdGFuY2VvZiBSZWFkYWJsZSkpcmV0dXJuIG5ldyBSZWFkYWJsZShvcHRpb25zKTt0aGlzLl9yZWFkYWJsZVN0YXRlPW5ldyBSZWFkYWJsZVN0YXRlKG9wdGlvbnMsdGhpcyksdGhpcy5yZWFkYWJsZT0hMCxvcHRpb25zJiYoXCJmdW5jdGlvblwiPT10eXBlb2Ygb3B0aW9ucy5yZWFkJiYodGhpcy5fcmVhZD1vcHRpb25zLnJlYWQpLFwiZnVuY3Rpb25cIj09dHlwZW9mIG9wdGlvbnMuZGVzdHJveSYmKHRoaXMuX2Rlc3Ryb3k9b3B0aW9ucy5kZXN0cm95KSksU3RyZWFtLmNhbGwodGhpcyl9ZnVuY3Rpb24gcmVhZGFibGVBZGRDaHVuayhzdHJlYW0sY2h1bmssZW5jb2RpbmcsYWRkVG9Gcm9udCxza2lwQ2h1bmtDaGVjayl7dmFyIGVyLHN0YXRlPXN0cmVhbS5fcmVhZGFibGVTdGF0ZTtudWxsPT09Y2h1bms/KHN0YXRlLnJlYWRpbmc9ITEsZnVuY3Rpb24oc3RyZWFtLHN0YXRlKXtpZihzdGF0ZS5lbmRlZClyZXR1cm47aWYoc3RhdGUuZGVjb2Rlcil7dmFyIGNodW5rPXN0YXRlLmRlY29kZXIuZW5kKCk7Y2h1bmsmJmNodW5rLmxlbmd0aCYmKHN0YXRlLmJ1ZmZlci5wdXNoKGNodW5rKSxzdGF0ZS5sZW5ndGgrPXN0YXRlLm9iamVjdE1vZGU/MTpjaHVuay5sZW5ndGgpfXN0YXRlLmVuZGVkPSEwLGVtaXRSZWFkYWJsZShzdHJlYW0pfShzdHJlYW0sc3RhdGUpKTooc2tpcENodW5rQ2hlY2t8fChlcj1mdW5jdGlvbihzdGF0ZSxjaHVuayl7dmFyIGVyOyhmdW5jdGlvbihvYmope3JldHVybiBCdWZmZXIuaXNCdWZmZXIob2JqKXx8b2JqIGluc3RhbmNlb2YgT3VyVWludDhBcnJheX0pKGNodW5rKXx8XCJzdHJpbmdcIj09dHlwZW9mIGNodW5rfHx2b2lkIDA9PT1jaHVua3x8c3RhdGUub2JqZWN0TW9kZXx8KGVyPW5ldyBUeXBlRXJyb3IoXCJJbnZhbGlkIG5vbi1zdHJpbmcvYnVmZmVyIGNodW5rXCIpKTtyZXR1cm4gZXJ9KHN0YXRlLGNodW5rKSksZXI/c3RyZWFtLmVtaXQoXCJlcnJvclwiLGVyKTpzdGF0ZS5vYmplY3RNb2RlfHxjaHVuayYmY2h1bmsubGVuZ3RoPjA/KFwic3RyaW5nXCI9PXR5cGVvZiBjaHVua3x8c3RhdGUub2JqZWN0TW9kZXx8T2JqZWN0LmdldFByb3RvdHlwZU9mKGNodW5rKT09PUJ1ZmZlci5wcm90b3R5cGV8fChjaHVuaz1mdW5jdGlvbihjaHVuayl7cmV0dXJuIEJ1ZmZlci5mcm9tKGNodW5rKX0oY2h1bmspKSxhZGRUb0Zyb250P3N0YXRlLmVuZEVtaXR0ZWQ/c3RyZWFtLmVtaXQoXCJlcnJvclwiLG5ldyBFcnJvcihcInN0cmVhbS51bnNoaWZ0KCkgYWZ0ZXIgZW5kIGV2ZW50XCIpKTphZGRDaHVuayhzdHJlYW0sc3RhdGUsY2h1bmssITApOnN0YXRlLmVuZGVkP3N0cmVhbS5lbWl0KFwiZXJyb3JcIixuZXcgRXJyb3IoXCJzdHJlYW0ucHVzaCgpIGFmdGVyIEVPRlwiKSk6KHN0YXRlLnJlYWRpbmc9ITEsc3RhdGUuZGVjb2RlciYmIWVuY29kaW5nPyhjaHVuaz1zdGF0ZS5kZWNvZGVyLndyaXRlKGNodW5rKSxzdGF0ZS5vYmplY3RNb2RlfHwwIT09Y2h1bmsubGVuZ3RoP2FkZENodW5rKHN0cmVhbSxzdGF0ZSxjaHVuaywhMSk6bWF5YmVSZWFkTW9yZShzdHJlYW0sc3RhdGUpKTphZGRDaHVuayhzdHJlYW0sc3RhdGUsY2h1bmssITEpKSk6YWRkVG9Gcm9udHx8KHN0YXRlLnJlYWRpbmc9ITEpKTtyZXR1cm4gZnVuY3Rpb24oc3RhdGUpe3JldHVybiFzdGF0ZS5lbmRlZCYmKHN0YXRlLm5lZWRSZWFkYWJsZXx8c3RhdGUubGVuZ3RoPHN0YXRlLmhpZ2hXYXRlck1hcmt8fDA9PT1zdGF0ZS5sZW5ndGgpfShzdGF0ZSl9ZnVuY3Rpb24gYWRkQ2h1bmsoc3RyZWFtLHN0YXRlLGNodW5rLGFkZFRvRnJvbnQpe3N0YXRlLmZsb3dpbmcmJjA9PT1zdGF0ZS5sZW5ndGgmJiFzdGF0ZS5zeW5jPyhzdHJlYW0uZW1pdChcImRhdGFcIixjaHVuayksc3RyZWFtLnJlYWQoMCkpOihzdGF0ZS5sZW5ndGgrPXN0YXRlLm9iamVjdE1vZGU/MTpjaHVuay5sZW5ndGgsYWRkVG9Gcm9udD9zdGF0ZS5idWZmZXIudW5zaGlmdChjaHVuayk6c3RhdGUuYnVmZmVyLnB1c2goY2h1bmspLHN0YXRlLm5lZWRSZWFkYWJsZSYmZW1pdFJlYWRhYmxlKHN0cmVhbSkpLG1heWJlUmVhZE1vcmUoc3RyZWFtLHN0YXRlKX1PYmplY3QuZGVmaW5lUHJvcGVydHkoUmVhZGFibGUucHJvdG90eXBlLFwiZGVzdHJveWVkXCIse2dldDpmdW5jdGlvbigpe3JldHVybiB2b2lkIDAhPT10aGlzLl9yZWFkYWJsZVN0YXRlJiZ0aGlzLl9yZWFkYWJsZVN0YXRlLmRlc3Ryb3llZH0sc2V0OmZ1bmN0aW9uKHZhbHVlKXt0aGlzLl9yZWFkYWJsZVN0YXRlJiYodGhpcy5fcmVhZGFibGVTdGF0ZS5kZXN0cm95ZWQ9dmFsdWUpfX0pLFJlYWRhYmxlLnByb3RvdHlwZS5kZXN0cm95PWRlc3Ryb3lJbXBsLmRlc3Ryb3ksUmVhZGFibGUucHJvdG90eXBlLl91bmRlc3Ryb3k9ZGVzdHJveUltcGwudW5kZXN0cm95LFJlYWRhYmxlLnByb3RvdHlwZS5fZGVzdHJveT1mdW5jdGlvbihlcnIsY2Ipe3RoaXMucHVzaChudWxsKSxjYihlcnIpfSxSZWFkYWJsZS5wcm90b3R5cGUucHVzaD1mdW5jdGlvbihjaHVuayxlbmNvZGluZyl7dmFyIHNraXBDaHVua0NoZWNrLHN0YXRlPXRoaXMuX3JlYWRhYmxlU3RhdGU7cmV0dXJuIHN0YXRlLm9iamVjdE1vZGU/c2tpcENodW5rQ2hlY2s9ITA6XCJzdHJpbmdcIj09dHlwZW9mIGNodW5rJiYoKGVuY29kaW5nPWVuY29kaW5nfHxzdGF0ZS5kZWZhdWx0RW5jb2RpbmcpIT09c3RhdGUuZW5jb2RpbmcmJihjaHVuaz1CdWZmZXIuZnJvbShjaHVuayxlbmNvZGluZyksZW5jb2Rpbmc9XCJcIiksc2tpcENodW5rQ2hlY2s9ITApLHJlYWRhYmxlQWRkQ2h1bmsodGhpcyxjaHVuayxlbmNvZGluZywhMSxza2lwQ2h1bmtDaGVjayl9LFJlYWRhYmxlLnByb3RvdHlwZS51bnNoaWZ0PWZ1bmN0aW9uKGNodW5rKXtyZXR1cm4gcmVhZGFibGVBZGRDaHVuayh0aGlzLGNodW5rLG51bGwsITAsITEpfSxSZWFkYWJsZS5wcm90b3R5cGUuaXNQYXVzZWQ9ZnVuY3Rpb24oKXtyZXR1cm4hMT09PXRoaXMuX3JlYWRhYmxlU3RhdGUuZmxvd2luZ30sUmVhZGFibGUucHJvdG90eXBlLnNldEVuY29kaW5nPWZ1bmN0aW9uKGVuYyl7cmV0dXJuIFN0cmluZ0RlY29kZXJ8fChTdHJpbmdEZWNvZGVyPV9fd2VicGFja19yZXF1aXJlX18oNTcpLlN0cmluZ0RlY29kZXIpLHRoaXMuX3JlYWRhYmxlU3RhdGUuZGVjb2Rlcj1uZXcgU3RyaW5nRGVjb2RlcihlbmMpLHRoaXMuX3JlYWRhYmxlU3RhdGUuZW5jb2Rpbmc9ZW5jLHRoaXN9O3ZhciBNQVhfSFdNPTgzODg2MDg7ZnVuY3Rpb24gaG93TXVjaFRvUmVhZChuLHN0YXRlKXtyZXR1cm4gbjw9MHx8MD09PXN0YXRlLmxlbmd0aCYmc3RhdGUuZW5kZWQ/MDpzdGF0ZS5vYmplY3RNb2RlPzE6biE9bj9zdGF0ZS5mbG93aW5nJiZzdGF0ZS5sZW5ndGg/c3RhdGUuYnVmZmVyLmhlYWQuZGF0YS5sZW5ndGg6c3RhdGUubGVuZ3RoOihuPnN0YXRlLmhpZ2hXYXRlck1hcmsmJihzdGF0ZS5oaWdoV2F0ZXJNYXJrPWZ1bmN0aW9uKG4pe3JldHVybiBuPj1NQVhfSFdNP249TUFYX0hXTToobi0tLG58PW4+Pj4xLG58PW4+Pj4yLG58PW4+Pj40LG58PW4+Pj44LG58PW4+Pj4xNixuKyspLG59KG4pKSxuPD1zdGF0ZS5sZW5ndGg/bjpzdGF0ZS5lbmRlZD9zdGF0ZS5sZW5ndGg6KHN0YXRlLm5lZWRSZWFkYWJsZT0hMCwwKSl9ZnVuY3Rpb24gZW1pdFJlYWRhYmxlKHN0cmVhbSl7dmFyIHN0YXRlPXN0cmVhbS5fcmVhZGFibGVTdGF0ZTtzdGF0ZS5uZWVkUmVhZGFibGU9ITEsc3RhdGUuZW1pdHRlZFJlYWRhYmxlfHwoZGVidWcoXCJlbWl0UmVhZGFibGVcIixzdGF0ZS5mbG93aW5nKSxzdGF0ZS5lbWl0dGVkUmVhZGFibGU9ITAsc3RhdGUuc3luYz9wbmEubmV4dFRpY2soZW1pdFJlYWRhYmxlXyxzdHJlYW0pOmVtaXRSZWFkYWJsZV8oc3RyZWFtKSl9ZnVuY3Rpb24gZW1pdFJlYWRhYmxlXyhzdHJlYW0pe2RlYnVnKFwiZW1pdCByZWFkYWJsZVwiKSxzdHJlYW0uZW1pdChcInJlYWRhYmxlXCIpLGZsb3coc3RyZWFtKX1mdW5jdGlvbiBtYXliZVJlYWRNb3JlKHN0cmVhbSxzdGF0ZSl7c3RhdGUucmVhZGluZ01vcmV8fChzdGF0ZS5yZWFkaW5nTW9yZT0hMCxwbmEubmV4dFRpY2sobWF5YmVSZWFkTW9yZV8sc3RyZWFtLHN0YXRlKSl9ZnVuY3Rpb24gbWF5YmVSZWFkTW9yZV8oc3RyZWFtLHN0YXRlKXtmb3IodmFyIGxlbj1zdGF0ZS5sZW5ndGg7IXN0YXRlLnJlYWRpbmcmJiFzdGF0ZS5mbG93aW5nJiYhc3RhdGUuZW5kZWQmJnN0YXRlLmxlbmd0aDxzdGF0ZS5oaWdoV2F0ZXJNYXJrJiYoZGVidWcoXCJtYXliZVJlYWRNb3JlIHJlYWQgMFwiKSxzdHJlYW0ucmVhZCgwKSxsZW4hPT1zdGF0ZS5sZW5ndGgpOylsZW49c3RhdGUubGVuZ3RoO3N0YXRlLnJlYWRpbmdNb3JlPSExfWZ1bmN0aW9uIG5SZWFkaW5nTmV4dFRpY2soc2VsZil7ZGVidWcoXCJyZWFkYWJsZSBuZXh0dGljayByZWFkIDBcIiksc2VsZi5yZWFkKDApfWZ1bmN0aW9uIHJlc3VtZV8oc3RyZWFtLHN0YXRlKXtzdGF0ZS5yZWFkaW5nfHwoZGVidWcoXCJyZXN1bWUgcmVhZCAwXCIpLHN0cmVhbS5yZWFkKDApKSxzdGF0ZS5yZXN1bWVTY2hlZHVsZWQ9ITEsc3RhdGUuYXdhaXREcmFpbj0wLHN0cmVhbS5lbWl0KFwicmVzdW1lXCIpLGZsb3coc3RyZWFtKSxzdGF0ZS5mbG93aW5nJiYhc3RhdGUucmVhZGluZyYmc3RyZWFtLnJlYWQoMCl9ZnVuY3Rpb24gZmxvdyhzdHJlYW0pe3ZhciBzdGF0ZT1zdHJlYW0uX3JlYWRhYmxlU3RhdGU7Zm9yKGRlYnVnKFwiZmxvd1wiLHN0YXRlLmZsb3dpbmcpO3N0YXRlLmZsb3dpbmcmJm51bGwhPT1zdHJlYW0ucmVhZCgpOyk7fWZ1bmN0aW9uIGZyb21MaXN0KG4sc3RhdGUpe3JldHVybiAwPT09c3RhdGUubGVuZ3RoP251bGw6KHN0YXRlLm9iamVjdE1vZGU/cmV0PXN0YXRlLmJ1ZmZlci5zaGlmdCgpOiFufHxuPj1zdGF0ZS5sZW5ndGg/KHJldD1zdGF0ZS5kZWNvZGVyP3N0YXRlLmJ1ZmZlci5qb2luKFwiXCIpOjE9PT1zdGF0ZS5idWZmZXIubGVuZ3RoP3N0YXRlLmJ1ZmZlci5oZWFkLmRhdGE6c3RhdGUuYnVmZmVyLmNvbmNhdChzdGF0ZS5sZW5ndGgpLHN0YXRlLmJ1ZmZlci5jbGVhcigpKTpyZXQ9ZnVuY3Rpb24obixsaXN0LGhhc1N0cmluZ3Mpe3ZhciByZXQ7bjxsaXN0LmhlYWQuZGF0YS5sZW5ndGg/KHJldD1saXN0LmhlYWQuZGF0YS5zbGljZSgwLG4pLGxpc3QuaGVhZC5kYXRhPWxpc3QuaGVhZC5kYXRhLnNsaWNlKG4pKTpyZXQ9bj09PWxpc3QuaGVhZC5kYXRhLmxlbmd0aD9saXN0LnNoaWZ0KCk6aGFzU3RyaW5ncz9mdW5jdGlvbihuLGxpc3Qpe3ZhciBwPWxpc3QuaGVhZCxjPTEscmV0PXAuZGF0YTtuLT1yZXQubGVuZ3RoO2Zvcig7cD1wLm5leHQ7KXt2YXIgc3RyPXAuZGF0YSxuYj1uPnN0ci5sZW5ndGg/c3RyLmxlbmd0aDpuO2lmKG5iPT09c3RyLmxlbmd0aD9yZXQrPXN0cjpyZXQrPXN0ci5zbGljZSgwLG4pLDA9PT0obi09bmIpKXtuYj09PXN0ci5sZW5ndGg/KCsrYyxwLm5leHQ/bGlzdC5oZWFkPXAubmV4dDpsaXN0LmhlYWQ9bGlzdC50YWlsPW51bGwpOihsaXN0LmhlYWQ9cCxwLmRhdGE9c3RyLnNsaWNlKG5iKSk7YnJlYWt9KytjfXJldHVybiBsaXN0Lmxlbmd0aC09YyxyZXR9KG4sbGlzdCk6ZnVuY3Rpb24obixsaXN0KXt2YXIgcmV0PUJ1ZmZlci5hbGxvY1Vuc2FmZShuKSxwPWxpc3QuaGVhZCxjPTE7cC5kYXRhLmNvcHkocmV0KSxuLT1wLmRhdGEubGVuZ3RoO2Zvcig7cD1wLm5leHQ7KXt2YXIgYnVmPXAuZGF0YSxuYj1uPmJ1Zi5sZW5ndGg/YnVmLmxlbmd0aDpuO2lmKGJ1Zi5jb3B5KHJldCxyZXQubGVuZ3RoLW4sMCxuYiksMD09PShuLT1uYikpe25iPT09YnVmLmxlbmd0aD8oKytjLHAubmV4dD9saXN0LmhlYWQ9cC5uZXh0Omxpc3QuaGVhZD1saXN0LnRhaWw9bnVsbCk6KGxpc3QuaGVhZD1wLHAuZGF0YT1idWYuc2xpY2UobmIpKTticmVha30rK2N9cmV0dXJuIGxpc3QubGVuZ3RoLT1jLHJldH0obixsaXN0KTtyZXR1cm4gcmV0fShuLHN0YXRlLmJ1ZmZlcixzdGF0ZS5kZWNvZGVyKSxyZXQpO3ZhciByZXR9ZnVuY3Rpb24gZW5kUmVhZGFibGUoc3RyZWFtKXt2YXIgc3RhdGU9c3RyZWFtLl9yZWFkYWJsZVN0YXRlO2lmKHN0YXRlLmxlbmd0aD4wKXRocm93IG5ldyBFcnJvcignXCJlbmRSZWFkYWJsZSgpXCIgY2FsbGVkIG9uIG5vbi1lbXB0eSBzdHJlYW0nKTtzdGF0ZS5lbmRFbWl0dGVkfHwoc3RhdGUuZW5kZWQ9ITAscG5hLm5leHRUaWNrKGVuZFJlYWRhYmxlTlQsc3RhdGUsc3RyZWFtKSl9ZnVuY3Rpb24gZW5kUmVhZGFibGVOVChzdGF0ZSxzdHJlYW0pe3N0YXRlLmVuZEVtaXR0ZWR8fDAhPT1zdGF0ZS5sZW5ndGh8fChzdGF0ZS5lbmRFbWl0dGVkPSEwLHN0cmVhbS5yZWFkYWJsZT0hMSxzdHJlYW0uZW1pdChcImVuZFwiKSl9ZnVuY3Rpb24gaW5kZXhPZih4cyx4KXtmb3IodmFyIGk9MCxsPXhzLmxlbmd0aDtpPGw7aSsrKWlmKHhzW2ldPT09eClyZXR1cm4gaTtyZXR1cm4tMX1SZWFkYWJsZS5wcm90b3R5cGUucmVhZD1mdW5jdGlvbihuKXtkZWJ1ZyhcInJlYWRcIixuKSxuPXBhcnNlSW50KG4sMTApO3ZhciBzdGF0ZT10aGlzLl9yZWFkYWJsZVN0YXRlLG5PcmlnPW47aWYoMCE9PW4mJihzdGF0ZS5lbWl0dGVkUmVhZGFibGU9ITEpLDA9PT1uJiZzdGF0ZS5uZWVkUmVhZGFibGUmJihzdGF0ZS5sZW5ndGg+PXN0YXRlLmhpZ2hXYXRlck1hcmt8fHN0YXRlLmVuZGVkKSlyZXR1cm4gZGVidWcoXCJyZWFkOiBlbWl0UmVhZGFibGVcIixzdGF0ZS5sZW5ndGgsc3RhdGUuZW5kZWQpLDA9PT1zdGF0ZS5sZW5ndGgmJnN0YXRlLmVuZGVkP2VuZFJlYWRhYmxlKHRoaXMpOmVtaXRSZWFkYWJsZSh0aGlzKSxudWxsO2lmKDA9PT0obj1ob3dNdWNoVG9SZWFkKG4sc3RhdGUpKSYmc3RhdGUuZW5kZWQpcmV0dXJuIDA9PT1zdGF0ZS5sZW5ndGgmJmVuZFJlYWRhYmxlKHRoaXMpLG51bGw7dmFyIHJldCxkb1JlYWQ9c3RhdGUubmVlZFJlYWRhYmxlO3JldHVybiBkZWJ1ZyhcIm5lZWQgcmVhZGFibGVcIixkb1JlYWQpLCgwPT09c3RhdGUubGVuZ3RofHxzdGF0ZS5sZW5ndGgtbjxzdGF0ZS5oaWdoV2F0ZXJNYXJrKSYmZGVidWcoXCJsZW5ndGggbGVzcyB0aGFuIHdhdGVybWFya1wiLGRvUmVhZD0hMCksc3RhdGUuZW5kZWR8fHN0YXRlLnJlYWRpbmc/ZGVidWcoXCJyZWFkaW5nIG9yIGVuZGVkXCIsZG9SZWFkPSExKTpkb1JlYWQmJihkZWJ1ZyhcImRvIHJlYWRcIiksc3RhdGUucmVhZGluZz0hMCxzdGF0ZS5zeW5jPSEwLDA9PT1zdGF0ZS5sZW5ndGgmJihzdGF0ZS5uZWVkUmVhZGFibGU9ITApLHRoaXMuX3JlYWQoc3RhdGUuaGlnaFdhdGVyTWFyayksc3RhdGUuc3luYz0hMSxzdGF0ZS5yZWFkaW5nfHwobj1ob3dNdWNoVG9SZWFkKG5PcmlnLHN0YXRlKSkpLG51bGw9PT0ocmV0PW4+MD9mcm9tTGlzdChuLHN0YXRlKTpudWxsKT8oc3RhdGUubmVlZFJlYWRhYmxlPSEwLG49MCk6c3RhdGUubGVuZ3RoLT1uLDA9PT1zdGF0ZS5sZW5ndGgmJihzdGF0ZS5lbmRlZHx8KHN0YXRlLm5lZWRSZWFkYWJsZT0hMCksbk9yaWchPT1uJiZzdGF0ZS5lbmRlZCYmZW5kUmVhZGFibGUodGhpcykpLG51bGwhPT1yZXQmJnRoaXMuZW1pdChcImRhdGFcIixyZXQpLHJldH0sUmVhZGFibGUucHJvdG90eXBlLl9yZWFkPWZ1bmN0aW9uKG4pe3RoaXMuZW1pdChcImVycm9yXCIsbmV3IEVycm9yKFwiX3JlYWQoKSBpcyBub3QgaW1wbGVtZW50ZWRcIikpfSxSZWFkYWJsZS5wcm90b3R5cGUucGlwZT1mdW5jdGlvbihkZXN0LHBpcGVPcHRzKXt2YXIgc3JjPXRoaXMsc3RhdGU9dGhpcy5fcmVhZGFibGVTdGF0ZTtzd2l0Y2goc3RhdGUucGlwZXNDb3VudCl7Y2FzZSAwOnN0YXRlLnBpcGVzPWRlc3Q7YnJlYWs7Y2FzZSAxOnN0YXRlLnBpcGVzPVtzdGF0ZS5waXBlcyxkZXN0XTticmVhaztkZWZhdWx0OnN0YXRlLnBpcGVzLnB1c2goZGVzdCl9c3RhdGUucGlwZXNDb3VudCs9MSxkZWJ1ZyhcInBpcGUgY291bnQ9JWQgb3B0cz0lalwiLHN0YXRlLnBpcGVzQ291bnQscGlwZU9wdHMpO3ZhciBlbmRGbj0oIXBpcGVPcHRzfHwhMSE9PXBpcGVPcHRzLmVuZCkmJmRlc3QhPT1wcm9jZXNzLnN0ZG91dCYmZGVzdCE9PXByb2Nlc3Muc3RkZXJyP29uZW5kOnVucGlwZTtmdW5jdGlvbiBvbnVucGlwZShyZWFkYWJsZSx1bnBpcGVJbmZvKXtkZWJ1ZyhcIm9udW5waXBlXCIpLHJlYWRhYmxlPT09c3JjJiZ1bnBpcGVJbmZvJiYhMT09PXVucGlwZUluZm8uaGFzVW5waXBlZCYmKHVucGlwZUluZm8uaGFzVW5waXBlZD0hMCxkZWJ1ZyhcImNsZWFudXBcIiksZGVzdC5yZW1vdmVMaXN0ZW5lcihcImNsb3NlXCIsb25jbG9zZSksZGVzdC5yZW1vdmVMaXN0ZW5lcihcImZpbmlzaFwiLG9uZmluaXNoKSxkZXN0LnJlbW92ZUxpc3RlbmVyKFwiZHJhaW5cIixvbmRyYWluKSxkZXN0LnJlbW92ZUxpc3RlbmVyKFwiZXJyb3JcIixvbmVycm9yKSxkZXN0LnJlbW92ZUxpc3RlbmVyKFwidW5waXBlXCIsb251bnBpcGUpLHNyYy5yZW1vdmVMaXN0ZW5lcihcImVuZFwiLG9uZW5kKSxzcmMucmVtb3ZlTGlzdGVuZXIoXCJlbmRcIix1bnBpcGUpLHNyYy5yZW1vdmVMaXN0ZW5lcihcImRhdGFcIixvbmRhdGEpLGNsZWFuZWRVcD0hMCwhc3RhdGUuYXdhaXREcmFpbnx8ZGVzdC5fd3JpdGFibGVTdGF0ZSYmIWRlc3QuX3dyaXRhYmxlU3RhdGUubmVlZERyYWlufHxvbmRyYWluKCkpfWZ1bmN0aW9uIG9uZW5kKCl7ZGVidWcoXCJvbmVuZFwiKSxkZXN0LmVuZCgpfXN0YXRlLmVuZEVtaXR0ZWQ/cG5hLm5leHRUaWNrKGVuZEZuKTpzcmMub25jZShcImVuZFwiLGVuZEZuKSxkZXN0Lm9uKFwidW5waXBlXCIsb251bnBpcGUpO3ZhciBvbmRyYWluPWZ1bmN0aW9uKHNyYyl7cmV0dXJuIGZ1bmN0aW9uKCl7dmFyIHN0YXRlPXNyYy5fcmVhZGFibGVTdGF0ZTtkZWJ1ZyhcInBpcGVPbkRyYWluXCIsc3RhdGUuYXdhaXREcmFpbiksc3RhdGUuYXdhaXREcmFpbiYmc3RhdGUuYXdhaXREcmFpbi0tLDA9PT1zdGF0ZS5hd2FpdERyYWluJiZFRWxpc3RlbmVyQ291bnQoc3JjLFwiZGF0YVwiKSYmKHN0YXRlLmZsb3dpbmc9ITAsZmxvdyhzcmMpKX19KHNyYyk7ZGVzdC5vbihcImRyYWluXCIsb25kcmFpbik7dmFyIGNsZWFuZWRVcD0hMTt2YXIgaW5jcmVhc2VkQXdhaXREcmFpbj0hMTtmdW5jdGlvbiBvbmRhdGEoY2h1bmspe2RlYnVnKFwib25kYXRhXCIpLGluY3JlYXNlZEF3YWl0RHJhaW49ITEsITEhPT1kZXN0LndyaXRlKGNodW5rKXx8aW5jcmVhc2VkQXdhaXREcmFpbnx8KCgxPT09c3RhdGUucGlwZXNDb3VudCYmc3RhdGUucGlwZXM9PT1kZXN0fHxzdGF0ZS5waXBlc0NvdW50PjEmJi0xIT09aW5kZXhPZihzdGF0ZS5waXBlcyxkZXN0KSkmJiFjbGVhbmVkVXAmJihkZWJ1ZyhcImZhbHNlIHdyaXRlIHJlc3BvbnNlLCBwYXVzZVwiLHNyYy5fcmVhZGFibGVTdGF0ZS5hd2FpdERyYWluKSxzcmMuX3JlYWRhYmxlU3RhdGUuYXdhaXREcmFpbisrLGluY3JlYXNlZEF3YWl0RHJhaW49ITApLHNyYy5wYXVzZSgpKX1mdW5jdGlvbiBvbmVycm9yKGVyKXtkZWJ1ZyhcIm9uZXJyb3JcIixlciksdW5waXBlKCksZGVzdC5yZW1vdmVMaXN0ZW5lcihcImVycm9yXCIsb25lcnJvciksMD09PUVFbGlzdGVuZXJDb3VudChkZXN0LFwiZXJyb3JcIikmJmRlc3QuZW1pdChcImVycm9yXCIsZXIpfWZ1bmN0aW9uIG9uY2xvc2UoKXtkZXN0LnJlbW92ZUxpc3RlbmVyKFwiZmluaXNoXCIsb25maW5pc2gpLHVucGlwZSgpfWZ1bmN0aW9uIG9uZmluaXNoKCl7ZGVidWcoXCJvbmZpbmlzaFwiKSxkZXN0LnJlbW92ZUxpc3RlbmVyKFwiY2xvc2VcIixvbmNsb3NlKSx1bnBpcGUoKX1mdW5jdGlvbiB1bnBpcGUoKXtkZWJ1ZyhcInVucGlwZVwiKSxzcmMudW5waXBlKGRlc3QpfXJldHVybiBzcmMub24oXCJkYXRhXCIsb25kYXRhKSxmdW5jdGlvbihlbWl0dGVyLGV2ZW50LGZuKXtpZihcImZ1bmN0aW9uXCI9PXR5cGVvZiBlbWl0dGVyLnByZXBlbmRMaXN0ZW5lcilyZXR1cm4gZW1pdHRlci5wcmVwZW5kTGlzdGVuZXIoZXZlbnQsZm4pO2VtaXR0ZXIuX2V2ZW50cyYmZW1pdHRlci5fZXZlbnRzW2V2ZW50XT9pc0FycmF5KGVtaXR0ZXIuX2V2ZW50c1tldmVudF0pP2VtaXR0ZXIuX2V2ZW50c1tldmVudF0udW5zaGlmdChmbik6ZW1pdHRlci5fZXZlbnRzW2V2ZW50XT1bZm4sZW1pdHRlci5fZXZlbnRzW2V2ZW50XV06ZW1pdHRlci5vbihldmVudCxmbil9KGRlc3QsXCJlcnJvclwiLG9uZXJyb3IpLGRlc3Qub25jZShcImNsb3NlXCIsb25jbG9zZSksZGVzdC5vbmNlKFwiZmluaXNoXCIsb25maW5pc2gpLGRlc3QuZW1pdChcInBpcGVcIixzcmMpLHN0YXRlLmZsb3dpbmd8fChkZWJ1ZyhcInBpcGUgcmVzdW1lXCIpLHNyYy5yZXN1bWUoKSksZGVzdH0sUmVhZGFibGUucHJvdG90eXBlLnVucGlwZT1mdW5jdGlvbihkZXN0KXt2YXIgc3RhdGU9dGhpcy5fcmVhZGFibGVTdGF0ZSx1bnBpcGVJbmZvPXtoYXNVbnBpcGVkOiExfTtpZigwPT09c3RhdGUucGlwZXNDb3VudClyZXR1cm4gdGhpcztpZigxPT09c3RhdGUucGlwZXNDb3VudClyZXR1cm4gZGVzdCYmZGVzdCE9PXN0YXRlLnBpcGVzP3RoaXM6KGRlc3R8fChkZXN0PXN0YXRlLnBpcGVzKSxzdGF0ZS5waXBlcz1udWxsLHN0YXRlLnBpcGVzQ291bnQ9MCxzdGF0ZS5mbG93aW5nPSExLGRlc3QmJmRlc3QuZW1pdChcInVucGlwZVwiLHRoaXMsdW5waXBlSW5mbyksdGhpcyk7aWYoIWRlc3Qpe3ZhciBkZXN0cz1zdGF0ZS5waXBlcyxsZW49c3RhdGUucGlwZXNDb3VudDtzdGF0ZS5waXBlcz1udWxsLHN0YXRlLnBpcGVzQ291bnQ9MCxzdGF0ZS5mbG93aW5nPSExO2Zvcih2YXIgaT0wO2k8bGVuO2krKylkZXN0c1tpXS5lbWl0KFwidW5waXBlXCIsdGhpcyx1bnBpcGVJbmZvKTtyZXR1cm4gdGhpc312YXIgaW5kZXg9aW5kZXhPZihzdGF0ZS5waXBlcyxkZXN0KTtyZXR1cm4tMT09PWluZGV4P3RoaXM6KHN0YXRlLnBpcGVzLnNwbGljZShpbmRleCwxKSxzdGF0ZS5waXBlc0NvdW50LT0xLDE9PT1zdGF0ZS5waXBlc0NvdW50JiYoc3RhdGUucGlwZXM9c3RhdGUucGlwZXNbMF0pLGRlc3QuZW1pdChcInVucGlwZVwiLHRoaXMsdW5waXBlSW5mbyksdGhpcyl9LFJlYWRhYmxlLnByb3RvdHlwZS5vbj1mdW5jdGlvbihldixmbil7dmFyIHJlcz1TdHJlYW0ucHJvdG90eXBlLm9uLmNhbGwodGhpcyxldixmbik7aWYoXCJkYXRhXCI9PT1ldikhMSE9PXRoaXMuX3JlYWRhYmxlU3RhdGUuZmxvd2luZyYmdGhpcy5yZXN1bWUoKTtlbHNlIGlmKFwicmVhZGFibGVcIj09PWV2KXt2YXIgc3RhdGU9dGhpcy5fcmVhZGFibGVTdGF0ZTtzdGF0ZS5lbmRFbWl0dGVkfHxzdGF0ZS5yZWFkYWJsZUxpc3RlbmluZ3x8KHN0YXRlLnJlYWRhYmxlTGlzdGVuaW5nPXN0YXRlLm5lZWRSZWFkYWJsZT0hMCxzdGF0ZS5lbWl0dGVkUmVhZGFibGU9ITEsc3RhdGUucmVhZGluZz9zdGF0ZS5sZW5ndGgmJmVtaXRSZWFkYWJsZSh0aGlzKTpwbmEubmV4dFRpY2soblJlYWRpbmdOZXh0VGljayx0aGlzKSl9cmV0dXJuIHJlc30sUmVhZGFibGUucHJvdG90eXBlLmFkZExpc3RlbmVyPVJlYWRhYmxlLnByb3RvdHlwZS5vbixSZWFkYWJsZS5wcm90b3R5cGUucmVzdW1lPWZ1bmN0aW9uKCl7dmFyIHN0YXRlPXRoaXMuX3JlYWRhYmxlU3RhdGU7cmV0dXJuIHN0YXRlLmZsb3dpbmd8fChkZWJ1ZyhcInJlc3VtZVwiKSxzdGF0ZS5mbG93aW5nPSEwLGZ1bmN0aW9uKHN0cmVhbSxzdGF0ZSl7c3RhdGUucmVzdW1lU2NoZWR1bGVkfHwoc3RhdGUucmVzdW1lU2NoZWR1bGVkPSEwLHBuYS5uZXh0VGljayhyZXN1bWVfLHN0cmVhbSxzdGF0ZSkpfSh0aGlzLHN0YXRlKSksdGhpc30sUmVhZGFibGUucHJvdG90eXBlLnBhdXNlPWZ1bmN0aW9uKCl7cmV0dXJuIGRlYnVnKFwiY2FsbCBwYXVzZSBmbG93aW5nPSVqXCIsdGhpcy5fcmVhZGFibGVTdGF0ZS5mbG93aW5nKSwhMSE9PXRoaXMuX3JlYWRhYmxlU3RhdGUuZmxvd2luZyYmKGRlYnVnKFwicGF1c2VcIiksdGhpcy5fcmVhZGFibGVTdGF0ZS5mbG93aW5nPSExLHRoaXMuZW1pdChcInBhdXNlXCIpKSx0aGlzfSxSZWFkYWJsZS5wcm90b3R5cGUud3JhcD1mdW5jdGlvbihzdHJlYW0pe3ZhciBfdGhpcz10aGlzLHN0YXRlPXRoaXMuX3JlYWRhYmxlU3RhdGUscGF1c2VkPSExO2Zvcih2YXIgaSBpbiBzdHJlYW0ub24oXCJlbmRcIixmdW5jdGlvbigpe2lmKGRlYnVnKFwid3JhcHBlZCBlbmRcIiksc3RhdGUuZGVjb2RlciYmIXN0YXRlLmVuZGVkKXt2YXIgY2h1bms9c3RhdGUuZGVjb2Rlci5lbmQoKTtjaHVuayYmY2h1bmsubGVuZ3RoJiZfdGhpcy5wdXNoKGNodW5rKX1fdGhpcy5wdXNoKG51bGwpfSksc3RyZWFtLm9uKFwiZGF0YVwiLGZ1bmN0aW9uKGNodW5rKXsoZGVidWcoXCJ3cmFwcGVkIGRhdGFcIiksc3RhdGUuZGVjb2RlciYmKGNodW5rPXN0YXRlLmRlY29kZXIud3JpdGUoY2h1bmspKSwhc3RhdGUub2JqZWN0TW9kZXx8bnVsbCE9PWNodW5rJiZ2b2lkIDAhPT1jaHVuaykmJigoc3RhdGUub2JqZWN0TW9kZXx8Y2h1bmsmJmNodW5rLmxlbmd0aCkmJihfdGhpcy5wdXNoKGNodW5rKXx8KHBhdXNlZD0hMCxzdHJlYW0ucGF1c2UoKSkpKX0pLHN0cmVhbSl2b2lkIDA9PT10aGlzW2ldJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBzdHJlYW1baV0mJih0aGlzW2ldPWZ1bmN0aW9uKG1ldGhvZCl7cmV0dXJuIGZ1bmN0aW9uKCl7cmV0dXJuIHN0cmVhbVttZXRob2RdLmFwcGx5KHN0cmVhbSxhcmd1bWVudHMpfX0oaSkpO2Zvcih2YXIgbj0wO248a1Byb3h5RXZlbnRzLmxlbmd0aDtuKyspc3RyZWFtLm9uKGtQcm94eUV2ZW50c1tuXSx0aGlzLmVtaXQuYmluZCh0aGlzLGtQcm94eUV2ZW50c1tuXSkpO3JldHVybiB0aGlzLl9yZWFkPWZ1bmN0aW9uKG4pe2RlYnVnKFwid3JhcHBlZCBfcmVhZFwiLG4pLHBhdXNlZCYmKHBhdXNlZD0hMSxzdHJlYW0ucmVzdW1lKCkpfSx0aGlzfSxPYmplY3QuZGVmaW5lUHJvcGVydHkoUmVhZGFibGUucHJvdG90eXBlLFwicmVhZGFibGVIaWdoV2F0ZXJNYXJrXCIse2VudW1lcmFibGU6ITEsZ2V0OmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3JlYWRhYmxlU3RhdGUuaGlnaFdhdGVyTWFya319KSxSZWFkYWJsZS5fZnJvbUxpc3Q9ZnJvbUxpc3R9KS5jYWxsKHRoaXMsX193ZWJwYWNrX3JlcXVpcmVfXygxNCksX193ZWJwYWNrX3JlcXVpcmVfXygyNykpfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXttb2R1bGUuZXhwb3J0cz1fX3dlYnBhY2tfcmVxdWlyZV9fKDQwKS5FdmVudEVtaXR0ZXJ9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO3ZhciBwbmE9X193ZWJwYWNrX3JlcXVpcmVfXygzMyk7ZnVuY3Rpb24gZW1pdEVycm9yTlQoc2VsZixlcnIpe3NlbGYuZW1pdChcImVycm9yXCIsZXJyKX1tb2R1bGUuZXhwb3J0cz17ZGVzdHJveTpmdW5jdGlvbihlcnIsY2Ipe3ZhciBfdGhpcz10aGlzLHJlYWRhYmxlRGVzdHJveWVkPXRoaXMuX3JlYWRhYmxlU3RhdGUmJnRoaXMuX3JlYWRhYmxlU3RhdGUuZGVzdHJveWVkLHdyaXRhYmxlRGVzdHJveWVkPXRoaXMuX3dyaXRhYmxlU3RhdGUmJnRoaXMuX3dyaXRhYmxlU3RhdGUuZGVzdHJveWVkO3JldHVybiByZWFkYWJsZURlc3Ryb3llZHx8d3JpdGFibGVEZXN0cm95ZWQ/KGNiP2NiKGVycik6IWVycnx8dGhpcy5fd3JpdGFibGVTdGF0ZSYmdGhpcy5fd3JpdGFibGVTdGF0ZS5lcnJvckVtaXR0ZWR8fHBuYS5uZXh0VGljayhlbWl0RXJyb3JOVCx0aGlzLGVyciksdGhpcyk6KHRoaXMuX3JlYWRhYmxlU3RhdGUmJih0aGlzLl9yZWFkYWJsZVN0YXRlLmRlc3Ryb3llZD0hMCksdGhpcy5fd3JpdGFibGVTdGF0ZSYmKHRoaXMuX3dyaXRhYmxlU3RhdGUuZGVzdHJveWVkPSEwKSx0aGlzLl9kZXN0cm95KGVycnx8bnVsbCxmdW5jdGlvbihlcnIpeyFjYiYmZXJyPyhwbmEubmV4dFRpY2soZW1pdEVycm9yTlQsX3RoaXMsZXJyKSxfdGhpcy5fd3JpdGFibGVTdGF0ZSYmKF90aGlzLl93cml0YWJsZVN0YXRlLmVycm9yRW1pdHRlZD0hMCkpOmNiJiZjYihlcnIpfSksdGhpcyl9LHVuZGVzdHJveTpmdW5jdGlvbigpe3RoaXMuX3JlYWRhYmxlU3RhdGUmJih0aGlzLl9yZWFkYWJsZVN0YXRlLmRlc3Ryb3llZD0hMSx0aGlzLl9yZWFkYWJsZVN0YXRlLnJlYWRpbmc9ITEsdGhpcy5fcmVhZGFibGVTdGF0ZS5lbmRlZD0hMSx0aGlzLl9yZWFkYWJsZVN0YXRlLmVuZEVtaXR0ZWQ9ITEpLHRoaXMuX3dyaXRhYmxlU3RhdGUmJih0aGlzLl93cml0YWJsZVN0YXRlLmRlc3Ryb3llZD0hMSx0aGlzLl93cml0YWJsZVN0YXRlLmVuZGVkPSExLHRoaXMuX3dyaXRhYmxlU3RhdGUuZW5kaW5nPSExLHRoaXMuX3dyaXRhYmxlU3RhdGUuZmluaXNoZWQ9ITEsdGhpcy5fd3JpdGFibGVTdGF0ZS5lcnJvckVtaXR0ZWQ9ITEpfX19LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18peyhmdW5jdGlvbihnbG9iYWwpe3ZhciBzY29wZT12b2lkIDAhPT1nbG9iYWwmJmdsb2JhbHx8XCJ1bmRlZmluZWRcIiE9dHlwZW9mIHNlbGYmJnNlbGZ8fHdpbmRvdyxhcHBseT1GdW5jdGlvbi5wcm90b3R5cGUuYXBwbHk7ZnVuY3Rpb24gVGltZW91dChpZCxjbGVhckZuKXt0aGlzLl9pZD1pZCx0aGlzLl9jbGVhckZuPWNsZWFyRm59ZXhwb3J0cy5zZXRUaW1lb3V0PWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBUaW1lb3V0KGFwcGx5LmNhbGwoc2V0VGltZW91dCxzY29wZSxhcmd1bWVudHMpLGNsZWFyVGltZW91dCl9LGV4cG9ydHMuc2V0SW50ZXJ2YWw9ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IFRpbWVvdXQoYXBwbHkuY2FsbChzZXRJbnRlcnZhbCxzY29wZSxhcmd1bWVudHMpLGNsZWFySW50ZXJ2YWwpfSxleHBvcnRzLmNsZWFyVGltZW91dD1leHBvcnRzLmNsZWFySW50ZXJ2YWw9ZnVuY3Rpb24odGltZW91dCl7dGltZW91dCYmdGltZW91dC5jbG9zZSgpfSxUaW1lb3V0LnByb3RvdHlwZS51bnJlZj1UaW1lb3V0LnByb3RvdHlwZS5yZWY9ZnVuY3Rpb24oKXt9LFRpbWVvdXQucHJvdG90eXBlLmNsb3NlPWZ1bmN0aW9uKCl7dGhpcy5fY2xlYXJGbi5jYWxsKHNjb3BlLHRoaXMuX2lkKX0sZXhwb3J0cy5lbnJvbGw9ZnVuY3Rpb24oaXRlbSxtc2Vjcyl7Y2xlYXJUaW1lb3V0KGl0ZW0uX2lkbGVUaW1lb3V0SWQpLGl0ZW0uX2lkbGVUaW1lb3V0PW1zZWNzfSxleHBvcnRzLnVuZW5yb2xsPWZ1bmN0aW9uKGl0ZW0pe2NsZWFyVGltZW91dChpdGVtLl9pZGxlVGltZW91dElkKSxpdGVtLl9pZGxlVGltZW91dD0tMX0sZXhwb3J0cy5fdW5yZWZBY3RpdmU9ZXhwb3J0cy5hY3RpdmU9ZnVuY3Rpb24oaXRlbSl7Y2xlYXJUaW1lb3V0KGl0ZW0uX2lkbGVUaW1lb3V0SWQpO3ZhciBtc2Vjcz1pdGVtLl9pZGxlVGltZW91dDttc2Vjcz49MCYmKGl0ZW0uX2lkbGVUaW1lb3V0SWQ9c2V0VGltZW91dChmdW5jdGlvbigpe2l0ZW0uX29uVGltZW91dCYmaXRlbS5fb25UaW1lb3V0KCl9LG1zZWNzKSl9LF9fd2VicGFja19yZXF1aXJlX18oOTUpLGV4cG9ydHMuc2V0SW1tZWRpYXRlPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmJiZzZWxmLnNldEltbWVkaWF0ZXx8dm9pZCAwIT09Z2xvYmFsJiZnbG9iYWwuc2V0SW1tZWRpYXRlfHx0aGlzJiZ0aGlzLnNldEltbWVkaWF0ZSxleHBvcnRzLmNsZWFySW1tZWRpYXRlPVwidW5kZWZpbmVkXCIhPXR5cGVvZiBzZWxmJiZzZWxmLmNsZWFySW1tZWRpYXRlfHx2b2lkIDAhPT1nbG9iYWwmJmdsb2JhbC5jbGVhckltbWVkaWF0ZXx8dGhpcyYmdGhpcy5jbGVhckltbWVkaWF0ZX0pLmNhbGwodGhpcyxfX3dlYnBhY2tfcmVxdWlyZV9fKDE0KSl9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO3ZhciBCdWZmZXI9X193ZWJwYWNrX3JlcXVpcmVfXygzNCkuQnVmZmVyLGlzRW5jb2Rpbmc9QnVmZmVyLmlzRW5jb2Rpbmd8fGZ1bmN0aW9uKGVuY29kaW5nKXtzd2l0Y2goKGVuY29kaW5nPVwiXCIrZW5jb2RpbmcpJiZlbmNvZGluZy50b0xvd2VyQ2FzZSgpKXtjYXNlXCJoZXhcIjpjYXNlXCJ1dGY4XCI6Y2FzZVwidXRmLThcIjpjYXNlXCJhc2NpaVwiOmNhc2VcImJpbmFyeVwiOmNhc2VcImJhc2U2NFwiOmNhc2VcInVjczJcIjpjYXNlXCJ1Y3MtMlwiOmNhc2VcInV0ZjE2bGVcIjpjYXNlXCJ1dGYtMTZsZVwiOmNhc2VcInJhd1wiOnJldHVybiEwO2RlZmF1bHQ6cmV0dXJuITF9fTtmdW5jdGlvbiBTdHJpbmdEZWNvZGVyKGVuY29kaW5nKXt2YXIgbmI7c3dpdGNoKHRoaXMuZW5jb2Rpbmc9ZnVuY3Rpb24oZW5jKXt2YXIgbmVuYz1mdW5jdGlvbihlbmMpe2lmKCFlbmMpcmV0dXJuXCJ1dGY4XCI7Zm9yKHZhciByZXRyaWVkOzspc3dpdGNoKGVuYyl7Y2FzZVwidXRmOFwiOmNhc2VcInV0Zi04XCI6cmV0dXJuXCJ1dGY4XCI7Y2FzZVwidWNzMlwiOmNhc2VcInVjcy0yXCI6Y2FzZVwidXRmMTZsZVwiOmNhc2VcInV0Zi0xNmxlXCI6cmV0dXJuXCJ1dGYxNmxlXCI7Y2FzZVwibGF0aW4xXCI6Y2FzZVwiYmluYXJ5XCI6cmV0dXJuXCJsYXRpbjFcIjtjYXNlXCJiYXNlNjRcIjpjYXNlXCJhc2NpaVwiOmNhc2VcImhleFwiOnJldHVybiBlbmM7ZGVmYXVsdDppZihyZXRyaWVkKXJldHVybjtlbmM9KFwiXCIrZW5jKS50b0xvd2VyQ2FzZSgpLHJldHJpZWQ9ITB9fShlbmMpO2lmKFwic3RyaW5nXCIhPXR5cGVvZiBuZW5jJiYoQnVmZmVyLmlzRW5jb2Rpbmc9PT1pc0VuY29kaW5nfHwhaXNFbmNvZGluZyhlbmMpKSl0aHJvdyBuZXcgRXJyb3IoXCJVbmtub3duIGVuY29kaW5nOiBcIitlbmMpO3JldHVybiBuZW5jfHxlbmN9KGVuY29kaW5nKSx0aGlzLmVuY29kaW5nKXtjYXNlXCJ1dGYxNmxlXCI6dGhpcy50ZXh0PXV0ZjE2VGV4dCx0aGlzLmVuZD11dGYxNkVuZCxuYj00O2JyZWFrO2Nhc2VcInV0ZjhcIjp0aGlzLmZpbGxMYXN0PXV0ZjhGaWxsTGFzdCxuYj00O2JyZWFrO2Nhc2VcImJhc2U2NFwiOnRoaXMudGV4dD1iYXNlNjRUZXh0LHRoaXMuZW5kPWJhc2U2NEVuZCxuYj0zO2JyZWFrO2RlZmF1bHQ6cmV0dXJuIHRoaXMud3JpdGU9c2ltcGxlV3JpdGUsdm9pZCh0aGlzLmVuZD1zaW1wbGVFbmQpfXRoaXMubGFzdE5lZWQ9MCx0aGlzLmxhc3RUb3RhbD0wLHRoaXMubGFzdENoYXI9QnVmZmVyLmFsbG9jVW5zYWZlKG5iKX1mdW5jdGlvbiB1dGY4Q2hlY2tCeXRlKGJ5dGUpe3JldHVybiBieXRlPD0xMjc/MDpieXRlPj41PT02PzI6Ynl0ZT4+ND09MTQ/MzpieXRlPj4zPT0zMD80OmJ5dGU+PjY9PTI/LTE6LTJ9ZnVuY3Rpb24gdXRmOEZpbGxMYXN0KGJ1Zil7dmFyIHA9dGhpcy5sYXN0VG90YWwtdGhpcy5sYXN0TmVlZCxyPWZ1bmN0aW9uKHNlbGYsYnVmLHApe2lmKDEyOCE9KDE5MiZidWZbMF0pKXJldHVybiBzZWxmLmxhc3ROZWVkPTAsXCLvv71cIjtpZihzZWxmLmxhc3ROZWVkPjEmJmJ1Zi5sZW5ndGg+MSl7aWYoMTI4IT0oMTkyJmJ1ZlsxXSkpcmV0dXJuIHNlbGYubGFzdE5lZWQ9MSxcIu+/vVwiO2lmKHNlbGYubGFzdE5lZWQ+MiYmYnVmLmxlbmd0aD4yJiYxMjghPSgxOTImYnVmWzJdKSlyZXR1cm4gc2VsZi5sYXN0TmVlZD0yLFwi77+9XCJ9fSh0aGlzLGJ1Zik7cmV0dXJuIHZvaWQgMCE9PXI/cjp0aGlzLmxhc3ROZWVkPD1idWYubGVuZ3RoPyhidWYuY29weSh0aGlzLmxhc3RDaGFyLHAsMCx0aGlzLmxhc3ROZWVkKSx0aGlzLmxhc3RDaGFyLnRvU3RyaW5nKHRoaXMuZW5jb2RpbmcsMCx0aGlzLmxhc3RUb3RhbCkpOihidWYuY29weSh0aGlzLmxhc3RDaGFyLHAsMCxidWYubGVuZ3RoKSx2b2lkKHRoaXMubGFzdE5lZWQtPWJ1Zi5sZW5ndGgpKX1mdW5jdGlvbiB1dGYxNlRleHQoYnVmLGkpe2lmKChidWYubGVuZ3RoLWkpJTI9PTApe3ZhciByPWJ1Zi50b1N0cmluZyhcInV0ZjE2bGVcIixpKTtpZihyKXt2YXIgYz1yLmNoYXJDb2RlQXQoci5sZW5ndGgtMSk7aWYoYz49NTUyOTYmJmM8PTU2MzE5KXJldHVybiB0aGlzLmxhc3ROZWVkPTIsdGhpcy5sYXN0VG90YWw9NCx0aGlzLmxhc3RDaGFyWzBdPWJ1ZltidWYubGVuZ3RoLTJdLHRoaXMubGFzdENoYXJbMV09YnVmW2J1Zi5sZW5ndGgtMV0sci5zbGljZSgwLC0xKX1yZXR1cm4gcn1yZXR1cm4gdGhpcy5sYXN0TmVlZD0xLHRoaXMubGFzdFRvdGFsPTIsdGhpcy5sYXN0Q2hhclswXT1idWZbYnVmLmxlbmd0aC0xXSxidWYudG9TdHJpbmcoXCJ1dGYxNmxlXCIsaSxidWYubGVuZ3RoLTEpfWZ1bmN0aW9uIHV0ZjE2RW5kKGJ1Zil7dmFyIHI9YnVmJiZidWYubGVuZ3RoP3RoaXMud3JpdGUoYnVmKTpcIlwiO2lmKHRoaXMubGFzdE5lZWQpe3ZhciBlbmQ9dGhpcy5sYXN0VG90YWwtdGhpcy5sYXN0TmVlZDtyZXR1cm4gcit0aGlzLmxhc3RDaGFyLnRvU3RyaW5nKFwidXRmMTZsZVwiLDAsZW5kKX1yZXR1cm4gcn1mdW5jdGlvbiBiYXNlNjRUZXh0KGJ1ZixpKXt2YXIgbj0oYnVmLmxlbmd0aC1pKSUzO3JldHVybiAwPT09bj9idWYudG9TdHJpbmcoXCJiYXNlNjRcIixpKToodGhpcy5sYXN0TmVlZD0zLW4sdGhpcy5sYXN0VG90YWw9MywxPT09bj90aGlzLmxhc3RDaGFyWzBdPWJ1ZltidWYubGVuZ3RoLTFdOih0aGlzLmxhc3RDaGFyWzBdPWJ1ZltidWYubGVuZ3RoLTJdLHRoaXMubGFzdENoYXJbMV09YnVmW2J1Zi5sZW5ndGgtMV0pLGJ1Zi50b1N0cmluZyhcImJhc2U2NFwiLGksYnVmLmxlbmd0aC1uKSl9ZnVuY3Rpb24gYmFzZTY0RW5kKGJ1Zil7dmFyIHI9YnVmJiZidWYubGVuZ3RoP3RoaXMud3JpdGUoYnVmKTpcIlwiO3JldHVybiB0aGlzLmxhc3ROZWVkP3IrdGhpcy5sYXN0Q2hhci50b1N0cmluZyhcImJhc2U2NFwiLDAsMy10aGlzLmxhc3ROZWVkKTpyfWZ1bmN0aW9uIHNpbXBsZVdyaXRlKGJ1Zil7cmV0dXJuIGJ1Zi50b1N0cmluZyh0aGlzLmVuY29kaW5nKX1mdW5jdGlvbiBzaW1wbGVFbmQoYnVmKXtyZXR1cm4gYnVmJiZidWYubGVuZ3RoP3RoaXMud3JpdGUoYnVmKTpcIlwifWV4cG9ydHMuU3RyaW5nRGVjb2Rlcj1TdHJpbmdEZWNvZGVyLFN0cmluZ0RlY29kZXIucHJvdG90eXBlLndyaXRlPWZ1bmN0aW9uKGJ1Zil7aWYoMD09PWJ1Zi5sZW5ndGgpcmV0dXJuXCJcIjt2YXIgcixpO2lmKHRoaXMubGFzdE5lZWQpe2lmKHZvaWQgMD09PShyPXRoaXMuZmlsbExhc3QoYnVmKSkpcmV0dXJuXCJcIjtpPXRoaXMubGFzdE5lZWQsdGhpcy5sYXN0TmVlZD0wfWVsc2UgaT0wO3JldHVybiBpPGJ1Zi5sZW5ndGg/cj9yK3RoaXMudGV4dChidWYsaSk6dGhpcy50ZXh0KGJ1ZixpKTpyfHxcIlwifSxTdHJpbmdEZWNvZGVyLnByb3RvdHlwZS5lbmQ9ZnVuY3Rpb24oYnVmKXt2YXIgcj1idWYmJmJ1Zi5sZW5ndGg/dGhpcy53cml0ZShidWYpOlwiXCI7cmV0dXJuIHRoaXMubGFzdE5lZWQ/citcIu+/vVwiOnJ9LFN0cmluZ0RlY29kZXIucHJvdG90eXBlLnRleHQ9ZnVuY3Rpb24oYnVmLGkpe3ZhciB0b3RhbD1mdW5jdGlvbihzZWxmLGJ1ZixpKXt2YXIgaj1idWYubGVuZ3RoLTE7aWYoajxpKXJldHVybiAwO3ZhciBuYj11dGY4Q2hlY2tCeXRlKGJ1ZltqXSk7aWYobmI+PTApcmV0dXJuIG5iPjAmJihzZWxmLmxhc3ROZWVkPW5iLTEpLG5iO2lmKC0tajxpfHwtMj09PW5iKXJldHVybiAwO2lmKChuYj11dGY4Q2hlY2tCeXRlKGJ1ZltqXSkpPj0wKXJldHVybiBuYj4wJiYoc2VsZi5sYXN0TmVlZD1uYi0yKSxuYjtpZigtLWo8aXx8LTI9PT1uYilyZXR1cm4gMDtpZigobmI9dXRmOENoZWNrQnl0ZShidWZbal0pKT49MClyZXR1cm4gbmI+MCYmKDI9PT1uYj9uYj0wOnNlbGYubGFzdE5lZWQ9bmItMyksbmI7cmV0dXJuIDB9KHRoaXMsYnVmLGkpO2lmKCF0aGlzLmxhc3ROZWVkKXJldHVybiBidWYudG9TdHJpbmcoXCJ1dGY4XCIsaSk7dGhpcy5sYXN0VG90YWw9dG90YWw7dmFyIGVuZD1idWYubGVuZ3RoLSh0b3RhbC10aGlzLmxhc3ROZWVkKTtyZXR1cm4gYnVmLmNvcHkodGhpcy5sYXN0Q2hhciwwLGVuZCksYnVmLnRvU3RyaW5nKFwidXRmOFwiLGksZW5kKX0sU3RyaW5nRGVjb2Rlci5wcm90b3R5cGUuZmlsbExhc3Q9ZnVuY3Rpb24oYnVmKXtpZih0aGlzLmxhc3ROZWVkPD1idWYubGVuZ3RoKXJldHVybiBidWYuY29weSh0aGlzLmxhc3RDaGFyLHRoaXMubGFzdFRvdGFsLXRoaXMubGFzdE5lZWQsMCx0aGlzLmxhc3ROZWVkKSx0aGlzLmxhc3RDaGFyLnRvU3RyaW5nKHRoaXMuZW5jb2RpbmcsMCx0aGlzLmxhc3RUb3RhbCk7YnVmLmNvcHkodGhpcy5sYXN0Q2hhcix0aGlzLmxhc3RUb3RhbC10aGlzLmxhc3ROZWVkLDAsYnVmLmxlbmd0aCksdGhpcy5sYXN0TmVlZC09YnVmLmxlbmd0aH19LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO21vZHVsZS5leHBvcnRzPVRyYW5zZm9ybTt2YXIgRHVwbGV4PV9fd2VicGFja19yZXF1aXJlX18oMTUpLHV0aWw9T2JqZWN0LmNyZWF0ZShfX3dlYnBhY2tfcmVxdWlyZV9fKDI4KSk7ZnVuY3Rpb24gVHJhbnNmb3JtKG9wdGlvbnMpe2lmKCEodGhpcyBpbnN0YW5jZW9mIFRyYW5zZm9ybSkpcmV0dXJuIG5ldyBUcmFuc2Zvcm0ob3B0aW9ucyk7RHVwbGV4LmNhbGwodGhpcyxvcHRpb25zKSx0aGlzLl90cmFuc2Zvcm1TdGF0ZT17YWZ0ZXJUcmFuc2Zvcm06ZnVuY3Rpb24oZXIsZGF0YSl7dmFyIHRzPXRoaXMuX3RyYW5zZm9ybVN0YXRlO3RzLnRyYW5zZm9ybWluZz0hMTt2YXIgY2I9dHMud3JpdGVjYjtpZighY2IpcmV0dXJuIHRoaXMuZW1pdChcImVycm9yXCIsbmV3IEVycm9yKFwid3JpdGUgY2FsbGJhY2sgY2FsbGVkIG11bHRpcGxlIHRpbWVzXCIpKTt0cy53cml0ZWNodW5rPW51bGwsdHMud3JpdGVjYj1udWxsLG51bGwhPWRhdGEmJnRoaXMucHVzaChkYXRhKSxjYihlcik7dmFyIHJzPXRoaXMuX3JlYWRhYmxlU3RhdGU7cnMucmVhZGluZz0hMSwocnMubmVlZFJlYWRhYmxlfHxycy5sZW5ndGg8cnMuaGlnaFdhdGVyTWFyaykmJnRoaXMuX3JlYWQocnMuaGlnaFdhdGVyTWFyayl9LmJpbmQodGhpcyksbmVlZFRyYW5zZm9ybTohMSx0cmFuc2Zvcm1pbmc6ITEsd3JpdGVjYjpudWxsLHdyaXRlY2h1bms6bnVsbCx3cml0ZWVuY29kaW5nOm51bGx9LHRoaXMuX3JlYWRhYmxlU3RhdGUubmVlZFJlYWRhYmxlPSEwLHRoaXMuX3JlYWRhYmxlU3RhdGUuc3luYz0hMSxvcHRpb25zJiYoXCJmdW5jdGlvblwiPT10eXBlb2Ygb3B0aW9ucy50cmFuc2Zvcm0mJih0aGlzLl90cmFuc2Zvcm09b3B0aW9ucy50cmFuc2Zvcm0pLFwiZnVuY3Rpb25cIj09dHlwZW9mIG9wdGlvbnMuZmx1c2gmJih0aGlzLl9mbHVzaD1vcHRpb25zLmZsdXNoKSksdGhpcy5vbihcInByZWZpbmlzaFwiLHByZWZpbmlzaCl9ZnVuY3Rpb24gcHJlZmluaXNoKCl7dmFyIF90aGlzPXRoaXM7XCJmdW5jdGlvblwiPT10eXBlb2YgdGhpcy5fZmx1c2g/dGhpcy5fZmx1c2goZnVuY3Rpb24oZXIsZGF0YSl7ZG9uZShfdGhpcyxlcixkYXRhKX0pOmRvbmUodGhpcyxudWxsLG51bGwpfWZ1bmN0aW9uIGRvbmUoc3RyZWFtLGVyLGRhdGEpe2lmKGVyKXJldHVybiBzdHJlYW0uZW1pdChcImVycm9yXCIsZXIpO2lmKG51bGwhPWRhdGEmJnN0cmVhbS5wdXNoKGRhdGEpLHN0cmVhbS5fd3JpdGFibGVTdGF0ZS5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwiQ2FsbGluZyB0cmFuc2Zvcm0gZG9uZSB3aGVuIHdzLmxlbmd0aCAhPSAwXCIpO2lmKHN0cmVhbS5fdHJhbnNmb3JtU3RhdGUudHJhbnNmb3JtaW5nKXRocm93IG5ldyBFcnJvcihcIkNhbGxpbmcgdHJhbnNmb3JtIGRvbmUgd2hlbiBzdGlsbCB0cmFuc2Zvcm1pbmdcIik7cmV0dXJuIHN0cmVhbS5wdXNoKG51bGwpfXV0aWwuaW5oZXJpdHM9X193ZWJwYWNrX3JlcXVpcmVfXygxNyksdXRpbC5pbmhlcml0cyhUcmFuc2Zvcm0sRHVwbGV4KSxUcmFuc2Zvcm0ucHJvdG90eXBlLnB1c2g9ZnVuY3Rpb24oY2h1bmssZW5jb2Rpbmcpe3JldHVybiB0aGlzLl90cmFuc2Zvcm1TdGF0ZS5uZWVkVHJhbnNmb3JtPSExLER1cGxleC5wcm90b3R5cGUucHVzaC5jYWxsKHRoaXMsY2h1bmssZW5jb2RpbmcpfSxUcmFuc2Zvcm0ucHJvdG90eXBlLl90cmFuc2Zvcm09ZnVuY3Rpb24oY2h1bmssZW5jb2RpbmcsY2Ipe3Rocm93IG5ldyBFcnJvcihcIl90cmFuc2Zvcm0oKSBpcyBub3QgaW1wbGVtZW50ZWRcIil9LFRyYW5zZm9ybS5wcm90b3R5cGUuX3dyaXRlPWZ1bmN0aW9uKGNodW5rLGVuY29kaW5nLGNiKXt2YXIgdHM9dGhpcy5fdHJhbnNmb3JtU3RhdGU7aWYodHMud3JpdGVjYj1jYix0cy53cml0ZWNodW5rPWNodW5rLHRzLndyaXRlZW5jb2Rpbmc9ZW5jb2RpbmcsIXRzLnRyYW5zZm9ybWluZyl7dmFyIHJzPXRoaXMuX3JlYWRhYmxlU3RhdGU7KHRzLm5lZWRUcmFuc2Zvcm18fHJzLm5lZWRSZWFkYWJsZXx8cnMubGVuZ3RoPHJzLmhpZ2hXYXRlck1hcmspJiZ0aGlzLl9yZWFkKHJzLmhpZ2hXYXRlck1hcmspfX0sVHJhbnNmb3JtLnByb3RvdHlwZS5fcmVhZD1mdW5jdGlvbihuKXt2YXIgdHM9dGhpcy5fdHJhbnNmb3JtU3RhdGU7bnVsbCE9PXRzLndyaXRlY2h1bmsmJnRzLndyaXRlY2ImJiF0cy50cmFuc2Zvcm1pbmc/KHRzLnRyYW5zZm9ybWluZz0hMCx0aGlzLl90cmFuc2Zvcm0odHMud3JpdGVjaHVuayx0cy53cml0ZWVuY29kaW5nLHRzLmFmdGVyVHJhbnNmb3JtKSk6dHMubmVlZFRyYW5zZm9ybT0hMH0sVHJhbnNmb3JtLnByb3RvdHlwZS5fZGVzdHJveT1mdW5jdGlvbihlcnIsY2Ipe3ZhciBfdGhpczI9dGhpcztEdXBsZXgucHJvdG90eXBlLl9kZXN0cm95LmNhbGwodGhpcyxlcnIsZnVuY3Rpb24oZXJyMil7Y2IoZXJyMiksX3RoaXMyLmVtaXQoXCJjbG9zZVwiKX0pfX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7dmFyIHV0aWxzPV9fd2VicGFja19yZXF1aXJlX18oMCksc3VwcG9ydD1fX3dlYnBhY2tfcmVxdWlyZV9fKDcpLF9rZXlTdHI9XCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvPVwiO2V4cG9ydHMuZW5jb2RlPWZ1bmN0aW9uKGlucHV0KXtmb3IodmFyIGNocjEsY2hyMixjaHIzLGVuYzEsZW5jMixlbmMzLGVuYzQsb3V0cHV0PVtdLGk9MCxsZW49aW5wdXQubGVuZ3RoLHJlbWFpbmluZ0J5dGVzPWxlbixpc0FycmF5PVwic3RyaW5nXCIhPT11dGlscy5nZXRUeXBlT2YoaW5wdXQpO2k8aW5wdXQubGVuZ3RoOylyZW1haW5pbmdCeXRlcz1sZW4taSxpc0FycmF5PyhjaHIxPWlucHV0W2krK10sY2hyMj1pPGxlbj9pbnB1dFtpKytdOjAsY2hyMz1pPGxlbj9pbnB1dFtpKytdOjApOihjaHIxPWlucHV0LmNoYXJDb2RlQXQoaSsrKSxjaHIyPWk8bGVuP2lucHV0LmNoYXJDb2RlQXQoaSsrKTowLGNocjM9aTxsZW4/aW5wdXQuY2hhckNvZGVBdChpKyspOjApLGVuYzE9Y2hyMT4+MixlbmMyPSgzJmNocjEpPDw0fGNocjI+PjQsZW5jMz1yZW1haW5pbmdCeXRlcz4xPygxNSZjaHIyKTw8MnxjaHIzPj42OjY0LGVuYzQ9cmVtYWluaW5nQnl0ZXM+Mj82MyZjaHIzOjY0LG91dHB1dC5wdXNoKF9rZXlTdHIuY2hhckF0KGVuYzEpK19rZXlTdHIuY2hhckF0KGVuYzIpK19rZXlTdHIuY2hhckF0KGVuYzMpK19rZXlTdHIuY2hhckF0KGVuYzQpKTtyZXR1cm4gb3V0cHV0LmpvaW4oXCJcIil9LGV4cG9ydHMuZGVjb2RlPWZ1bmN0aW9uKGlucHV0KXt2YXIgY2hyMSxjaHIyLGNocjMsZW5jMixlbmMzLGVuYzQsaT0wLHJlc3VsdEluZGV4PTA7aWYoXCJkYXRhOlwiPT09aW5wdXQuc3Vic3RyKDAsXCJkYXRhOlwiLmxlbmd0aCkpdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBiYXNlNjQgaW5wdXQsIGl0IGxvb2tzIGxpa2UgYSBkYXRhIHVybC5cIik7dmFyIG91dHB1dCx0b3RhbExlbmd0aD0zKihpbnB1dD1pbnB1dC5yZXBsYWNlKC9bXkEtWmEtejAtOVxcK1xcL1xcPV0vZyxcIlwiKSkubGVuZ3RoLzQ7aWYoaW5wdXQuY2hhckF0KGlucHV0Lmxlbmd0aC0xKT09PV9rZXlTdHIuY2hhckF0KDY0KSYmdG90YWxMZW5ndGgtLSxpbnB1dC5jaGFyQXQoaW5wdXQubGVuZ3RoLTIpPT09X2tleVN0ci5jaGFyQXQoNjQpJiZ0b3RhbExlbmd0aC0tLHRvdGFsTGVuZ3RoJTEhPTApdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBiYXNlNjQgaW5wdXQsIGJhZCBjb250ZW50IGxlbmd0aC5cIik7Zm9yKG91dHB1dD1zdXBwb3J0LnVpbnQ4YXJyYXk/bmV3IFVpbnQ4QXJyYXkoMHx0b3RhbExlbmd0aCk6bmV3IEFycmF5KDB8dG90YWxMZW5ndGgpO2k8aW5wdXQubGVuZ3RoOyljaHIxPV9rZXlTdHIuaW5kZXhPZihpbnB1dC5jaGFyQXQoaSsrKSk8PDJ8KGVuYzI9X2tleVN0ci5pbmRleE9mKGlucHV0LmNoYXJBdChpKyspKSk+PjQsY2hyMj0oMTUmZW5jMik8PDR8KGVuYzM9X2tleVN0ci5pbmRleE9mKGlucHV0LmNoYXJBdChpKyspKSk+PjIsY2hyMz0oMyZlbmMzKTw8NnwoZW5jND1fa2V5U3RyLmluZGV4T2YoaW5wdXQuY2hhckF0KGkrKykpKSxvdXRwdXRbcmVzdWx0SW5kZXgrK109Y2hyMSw2NCE9PWVuYzMmJihvdXRwdXRbcmVzdWx0SW5kZXgrK109Y2hyMiksNjQhPT1lbmM0JiYob3V0cHV0W3Jlc3VsdEluZGV4KytdPWNocjMpO3JldHVybiBvdXRwdXR9fSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjsoZnVuY3Rpb24oQnVmZmVyKXt2YXIgdXRpbHM9X193ZWJwYWNrX3JlcXVpcmVfXygwKSxDb252ZXJ0V29ya2VyPV9fd2VicGFja19yZXF1aXJlX18oMTA1KSxHZW5lcmljV29ya2VyPV9fd2VicGFja19yZXF1aXJlX18oMyksYmFzZTY0PV9fd2VicGFja19yZXF1aXJlX18oNTkpLHN1cHBvcnQ9X193ZWJwYWNrX3JlcXVpcmVfXyg3KSxleHRlcm5hbD1fX3dlYnBhY2tfcmVxdWlyZV9fKDI5KSxOb2RlanNTdHJlYW1PdXRwdXRBZGFwdGVyPW51bGw7aWYoc3VwcG9ydC5ub2Rlc3RyZWFtKXRyeXtOb2RlanNTdHJlYW1PdXRwdXRBZGFwdGVyPV9fd2VicGFja19yZXF1aXJlX18oMTA2KX1jYXRjaChlKXt9ZnVuY3Rpb24gYWNjdW11bGF0ZShoZWxwZXIsdXBkYXRlQ2FsbGJhY2spe3JldHVybiBuZXcgZXh0ZXJuYWwuUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlLHJlamVjdCl7dmFyIGRhdGFBcnJheT1bXSxjaHVua1R5cGU9aGVscGVyLl9pbnRlcm5hbFR5cGUscmVzdWx0VHlwZT1oZWxwZXIuX291dHB1dFR5cGUsbWltZVR5cGU9aGVscGVyLl9taW1lVHlwZTtoZWxwZXIub24oXCJkYXRhXCIsZnVuY3Rpb24oZGF0YSxtZXRhKXtkYXRhQXJyYXkucHVzaChkYXRhKSx1cGRhdGVDYWxsYmFjayYmdXBkYXRlQ2FsbGJhY2sobWV0YSl9KS5vbihcImVycm9yXCIsZnVuY3Rpb24oZXJyKXtkYXRhQXJyYXk9W10scmVqZWN0KGVycil9KS5vbihcImVuZFwiLGZ1bmN0aW9uKCl7dHJ5e3ZhciByZXN1bHQ9ZnVuY3Rpb24odHlwZSxjb250ZW50LG1pbWVUeXBlKXtzd2l0Y2godHlwZSl7Y2FzZVwiYmxvYlwiOnJldHVybiB1dGlscy5uZXdCbG9iKHV0aWxzLnRyYW5zZm9ybVRvKFwiYXJyYXlidWZmZXJcIixjb250ZW50KSxtaW1lVHlwZSk7Y2FzZVwiYmFzZTY0XCI6cmV0dXJuIGJhc2U2NC5lbmNvZGUoY29udGVudCk7ZGVmYXVsdDpyZXR1cm4gdXRpbHMudHJhbnNmb3JtVG8odHlwZSxjb250ZW50KX19KHJlc3VsdFR5cGUsZnVuY3Rpb24odHlwZSxkYXRhQXJyYXkpe3ZhciBpLGluZGV4PTAscmVzPW51bGwsdG90YWxMZW5ndGg9MDtmb3IoaT0wO2k8ZGF0YUFycmF5Lmxlbmd0aDtpKyspdG90YWxMZW5ndGgrPWRhdGFBcnJheVtpXS5sZW5ndGg7c3dpdGNoKHR5cGUpe2Nhc2VcInN0cmluZ1wiOnJldHVybiBkYXRhQXJyYXkuam9pbihcIlwiKTtjYXNlXCJhcnJheVwiOnJldHVybiBBcnJheS5wcm90b3R5cGUuY29uY2F0LmFwcGx5KFtdLGRhdGFBcnJheSk7Y2FzZVwidWludDhhcnJheVwiOmZvcihyZXM9bmV3IFVpbnQ4QXJyYXkodG90YWxMZW5ndGgpLGk9MDtpPGRhdGFBcnJheS5sZW5ndGg7aSsrKXJlcy5zZXQoZGF0YUFycmF5W2ldLGluZGV4KSxpbmRleCs9ZGF0YUFycmF5W2ldLmxlbmd0aDtyZXR1cm4gcmVzO2Nhc2VcIm5vZGVidWZmZXJcIjpyZXR1cm4gQnVmZmVyLmNvbmNhdChkYXRhQXJyYXkpO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKFwiY29uY2F0IDogdW5zdXBwb3J0ZWQgdHlwZSAnXCIrdHlwZStcIidcIil9fShjaHVua1R5cGUsZGF0YUFycmF5KSxtaW1lVHlwZSk7cmVzb2x2ZShyZXN1bHQpfWNhdGNoKGUpe3JlamVjdChlKX1kYXRhQXJyYXk9W119KS5yZXN1bWUoKX0pfWZ1bmN0aW9uIFN0cmVhbUhlbHBlcih3b3JrZXIsb3V0cHV0VHlwZSxtaW1lVHlwZSl7dmFyIGludGVybmFsVHlwZT1vdXRwdXRUeXBlO3N3aXRjaChvdXRwdXRUeXBlKXtjYXNlXCJibG9iXCI6Y2FzZVwiYXJyYXlidWZmZXJcIjppbnRlcm5hbFR5cGU9XCJ1aW50OGFycmF5XCI7YnJlYWs7Y2FzZVwiYmFzZTY0XCI6aW50ZXJuYWxUeXBlPVwic3RyaW5nXCJ9dHJ5e3RoaXMuX2ludGVybmFsVHlwZT1pbnRlcm5hbFR5cGUsdGhpcy5fb3V0cHV0VHlwZT1vdXRwdXRUeXBlLHRoaXMuX21pbWVUeXBlPW1pbWVUeXBlLHV0aWxzLmNoZWNrU3VwcG9ydChpbnRlcm5hbFR5cGUpLHRoaXMuX3dvcmtlcj13b3JrZXIucGlwZShuZXcgQ29udmVydFdvcmtlcihpbnRlcm5hbFR5cGUpKSx3b3JrZXIubG9jaygpfWNhdGNoKGUpe3RoaXMuX3dvcmtlcj1uZXcgR2VuZXJpY1dvcmtlcihcImVycm9yXCIpLHRoaXMuX3dvcmtlci5lcnJvcihlKX19U3RyZWFtSGVscGVyLnByb3RvdHlwZT17YWNjdW11bGF0ZTpmdW5jdGlvbih1cGRhdGVDYil7cmV0dXJuIGFjY3VtdWxhdGUodGhpcyx1cGRhdGVDYil9LG9uOmZ1bmN0aW9uKGV2dCxmbil7dmFyIHNlbGY9dGhpcztyZXR1cm5cImRhdGFcIj09PWV2dD90aGlzLl93b3JrZXIub24oZXZ0LGZ1bmN0aW9uKGNodW5rKXtmbi5jYWxsKHNlbGYsY2h1bmsuZGF0YSxjaHVuay5tZXRhKX0pOnRoaXMuX3dvcmtlci5vbihldnQsZnVuY3Rpb24oKXt1dGlscy5kZWxheShmbixhcmd1bWVudHMsc2VsZil9KSx0aGlzfSxyZXN1bWU6ZnVuY3Rpb24oKXtyZXR1cm4gdXRpbHMuZGVsYXkodGhpcy5fd29ya2VyLnJlc3VtZSxbXSx0aGlzLl93b3JrZXIpLHRoaXN9LHBhdXNlOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX3dvcmtlci5wYXVzZSgpLHRoaXN9LHRvTm9kZWpzU3RyZWFtOmZ1bmN0aW9uKHVwZGF0ZUNiKXtpZih1dGlscy5jaGVja1N1cHBvcnQoXCJub2Rlc3RyZWFtXCIpLFwibm9kZWJ1ZmZlclwiIT09dGhpcy5fb3V0cHV0VHlwZSl0aHJvdyBuZXcgRXJyb3IodGhpcy5fb3V0cHV0VHlwZStcIiBpcyBub3Qgc3VwcG9ydGVkIGJ5IHRoaXMgbWV0aG9kXCIpO3JldHVybiBuZXcgTm9kZWpzU3RyZWFtT3V0cHV0QWRhcHRlcih0aGlzLHtvYmplY3RNb2RlOlwibm9kZWJ1ZmZlclwiIT09dGhpcy5fb3V0cHV0VHlwZX0sdXBkYXRlQ2IpfX0sbW9kdWxlLmV4cG9ydHM9U3RyZWFtSGVscGVyfSkuY2FsbCh0aGlzLF9fd2VicGFja19yZXF1aXJlX18oMjYpLkJ1ZmZlcil9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO2V4cG9ydHMuYmFzZTY0PSExLGV4cG9ydHMuYmluYXJ5PSExLGV4cG9ydHMuZGlyPSExLGV4cG9ydHMuY3JlYXRlRm9sZGVycz0hMCxleHBvcnRzLmRhdGU9bnVsbCxleHBvcnRzLmNvbXByZXNzaW9uPW51bGwsZXhwb3J0cy5jb21wcmVzc2lvbk9wdGlvbnM9bnVsbCxleHBvcnRzLmNvbW1lbnQ9bnVsbCxleHBvcnRzLnVuaXhQZXJtaXNzaW9ucz1udWxsLGV4cG9ydHMuZG9zUGVybWlzc2lvbnM9bnVsbH0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7dmFyIHV0aWxzPV9fd2VicGFja19yZXF1aXJlX18oMCksR2VuZXJpY1dvcmtlcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDMpO2Z1bmN0aW9uIERhdGFXb3JrZXIoZGF0YVApe0dlbmVyaWNXb3JrZXIuY2FsbCh0aGlzLFwiRGF0YVdvcmtlclwiKTt2YXIgc2VsZj10aGlzO3RoaXMuZGF0YUlzUmVhZHk9ITEsdGhpcy5pbmRleD0wLHRoaXMubWF4PTAsdGhpcy5kYXRhPW51bGwsdGhpcy50eXBlPVwiXCIsdGhpcy5fdGlja1NjaGVkdWxlZD0hMSxkYXRhUC50aGVuKGZ1bmN0aW9uKGRhdGEpe3NlbGYuZGF0YUlzUmVhZHk9ITAsc2VsZi5kYXRhPWRhdGEsc2VsZi5tYXg9ZGF0YSYmZGF0YS5sZW5ndGh8fDAsc2VsZi50eXBlPXV0aWxzLmdldFR5cGVPZihkYXRhKSxzZWxmLmlzUGF1c2VkfHxzZWxmLl90aWNrQW5kUmVwZWF0KCl9LGZ1bmN0aW9uKGUpe3NlbGYuZXJyb3IoZSl9KX11dGlscy5pbmhlcml0cyhEYXRhV29ya2VyLEdlbmVyaWNXb3JrZXIpLERhdGFXb3JrZXIucHJvdG90eXBlLmNsZWFuVXA9ZnVuY3Rpb24oKXtHZW5lcmljV29ya2VyLnByb3RvdHlwZS5jbGVhblVwLmNhbGwodGhpcyksdGhpcy5kYXRhPW51bGx9LERhdGFXb3JrZXIucHJvdG90eXBlLnJlc3VtZT1mdW5jdGlvbigpe3JldHVybiEhR2VuZXJpY1dvcmtlci5wcm90b3R5cGUucmVzdW1lLmNhbGwodGhpcykmJighdGhpcy5fdGlja1NjaGVkdWxlZCYmdGhpcy5kYXRhSXNSZWFkeSYmKHRoaXMuX3RpY2tTY2hlZHVsZWQ9ITAsdXRpbHMuZGVsYXkodGhpcy5fdGlja0FuZFJlcGVhdCxbXSx0aGlzKSksITApfSxEYXRhV29ya2VyLnByb3RvdHlwZS5fdGlja0FuZFJlcGVhdD1mdW5jdGlvbigpe3RoaXMuX3RpY2tTY2hlZHVsZWQ9ITEsdGhpcy5pc1BhdXNlZHx8dGhpcy5pc0ZpbmlzaGVkfHwodGhpcy5fdGljaygpLHRoaXMuaXNGaW5pc2hlZHx8KHV0aWxzLmRlbGF5KHRoaXMuX3RpY2tBbmRSZXBlYXQsW10sdGhpcyksdGhpcy5fdGlja1NjaGVkdWxlZD0hMCkpfSxEYXRhV29ya2VyLnByb3RvdHlwZS5fdGljaz1mdW5jdGlvbigpe2lmKHRoaXMuaXNQYXVzZWR8fHRoaXMuaXNGaW5pc2hlZClyZXR1cm4hMTt2YXIgZGF0YT1udWxsLG5leHRJbmRleD1NYXRoLm1pbih0aGlzLm1heCx0aGlzLmluZGV4KzE2Mzg0KTtpZih0aGlzLmluZGV4Pj10aGlzLm1heClyZXR1cm4gdGhpcy5lbmQoKTtzd2l0Y2godGhpcy50eXBlKXtjYXNlXCJzdHJpbmdcIjpkYXRhPXRoaXMuZGF0YS5zdWJzdHJpbmcodGhpcy5pbmRleCxuZXh0SW5kZXgpO2JyZWFrO2Nhc2VcInVpbnQ4YXJyYXlcIjpkYXRhPXRoaXMuZGF0YS5zdWJhcnJheSh0aGlzLmluZGV4LG5leHRJbmRleCk7YnJlYWs7Y2FzZVwiYXJyYXlcIjpjYXNlXCJub2RlYnVmZmVyXCI6ZGF0YT10aGlzLmRhdGEuc2xpY2UodGhpcy5pbmRleCxuZXh0SW5kZXgpfXJldHVybiB0aGlzLmluZGV4PW5leHRJbmRleCx0aGlzLnB1c2goe2RhdGE6ZGF0YSxtZXRhOntwZXJjZW50OnRoaXMubWF4P3RoaXMuaW5kZXgvdGhpcy5tYXgqMTAwOjB9fSl9LG1vZHVsZS5leHBvcnRzPURhdGFXb3JrZXJ9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO3ZhciB1dGlscz1fX3dlYnBhY2tfcmVxdWlyZV9fKDApLEdlbmVyaWNXb3JrZXI9X193ZWJwYWNrX3JlcXVpcmVfXygzKTtmdW5jdGlvbiBEYXRhTGVuZ3RoUHJvYmUocHJvcE5hbWUpe0dlbmVyaWNXb3JrZXIuY2FsbCh0aGlzLFwiRGF0YUxlbmd0aFByb2JlIGZvciBcIitwcm9wTmFtZSksdGhpcy5wcm9wTmFtZT1wcm9wTmFtZSx0aGlzLndpdGhTdHJlYW1JbmZvKHByb3BOYW1lLDApfXV0aWxzLmluaGVyaXRzKERhdGFMZW5ndGhQcm9iZSxHZW5lcmljV29ya2VyKSxEYXRhTGVuZ3RoUHJvYmUucHJvdG90eXBlLnByb2Nlc3NDaHVuaz1mdW5jdGlvbihjaHVuayl7aWYoY2h1bmspe3ZhciBsZW5ndGg9dGhpcy5zdHJlYW1JbmZvW3RoaXMucHJvcE5hbWVdfHwwO3RoaXMuc3RyZWFtSW5mb1t0aGlzLnByb3BOYW1lXT1sZW5ndGgrY2h1bmsuZGF0YS5sZW5ndGh9R2VuZXJpY1dvcmtlci5wcm90b3R5cGUucHJvY2Vzc0NodW5rLmNhbGwodGhpcyxjaHVuayl9LG1vZHVsZS5leHBvcnRzPURhdGFMZW5ndGhQcm9iZX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7dmFyIEdlbmVyaWNXb3JrZXI9X193ZWJwYWNrX3JlcXVpcmVfXygzKSxjcmMzMj1fX3dlYnBhY2tfcmVxdWlyZV9fKDQ0KTtmdW5jdGlvbiBDcmMzMlByb2JlKCl7R2VuZXJpY1dvcmtlci5jYWxsKHRoaXMsXCJDcmMzMlByb2JlXCIpLHRoaXMud2l0aFN0cmVhbUluZm8oXCJjcmMzMlwiLDApfV9fd2VicGFja19yZXF1aXJlX18oMCkuaW5oZXJpdHMoQ3JjMzJQcm9iZSxHZW5lcmljV29ya2VyKSxDcmMzMlByb2JlLnByb3RvdHlwZS5wcm9jZXNzQ2h1bms9ZnVuY3Rpb24oY2h1bmspe3RoaXMuc3RyZWFtSW5mby5jcmMzMj1jcmMzMihjaHVuay5kYXRhLHRoaXMuc3RyZWFtSW5mby5jcmMzMnx8MCksdGhpcy5wdXNoKGNodW5rKX0sbW9kdWxlLmV4cG9ydHM9Q3JjMzJQcm9iZX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7dmFyIEdlbmVyaWNXb3JrZXI9X193ZWJwYWNrX3JlcXVpcmVfXygzKTtleHBvcnRzLlNUT1JFPXttYWdpYzpcIlxcMFxcMFwiLGNvbXByZXNzV29ya2VyOmZ1bmN0aW9uKGNvbXByZXNzaW9uT3B0aW9ucyl7cmV0dXJuIG5ldyBHZW5lcmljV29ya2VyKFwiU1RPUkUgY29tcHJlc3Npb25cIil9LHVuY29tcHJlc3NXb3JrZXI6ZnVuY3Rpb24oKXtyZXR1cm4gbmV3IEdlbmVyaWNXb3JrZXIoXCJTVE9SRSBkZWNvbXByZXNzaW9uXCIpfX0sZXhwb3J0cy5ERUZMQVRFPV9fd2VicGFja19yZXF1aXJlX18oMTA5KX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7bW9kdWxlLmV4cG9ydHM9ZnVuY3Rpb24oYWRsZXIsYnVmLGxlbixwb3Mpe2Zvcih2YXIgczE9NjU1MzUmYWRsZXJ8MCxzMj1hZGxlcj4+PjE2JjY1NTM1fDAsbj0wOzAhPT1sZW47KXtsZW4tPW49bGVuPjJlMz8yZTM6bGVuO2Rve3MyPXMyKyhzMT1zMStidWZbcG9zKytdfDApfDB9d2hpbGUoLS1uKTtzMSU9NjU1MjEsczIlPTY1NTIxfXJldHVybiBzMXxzMjw8MTZ8MH19LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO3ZhciBjcmNUYWJsZT1mdW5jdGlvbigpe2Zvcih2YXIgYyx0YWJsZT1bXSxuPTA7bjwyNTY7bisrKXtjPW47Zm9yKHZhciBrPTA7azw4O2srKyljPTEmYz8zOTg4MjkyMzg0XmM+Pj4xOmM+Pj4xO3RhYmxlW25dPWN9cmV0dXJuIHRhYmxlfSgpO21vZHVsZS5leHBvcnRzPWZ1bmN0aW9uKGNyYyxidWYsbGVuLHBvcyl7dmFyIHQ9Y3JjVGFibGUsZW5kPXBvcytsZW47Y3JjXj0tMTtmb3IodmFyIGk9cG9zO2k8ZW5kO2krKyljcmM9Y3JjPj4+OF50WzI1NSYoY3JjXmJ1ZltpXSldO3JldHVybi0xXmNyY319LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO3ZhciB1dGlscz1fX3dlYnBhY2tfcmVxdWlyZV9fKDgpLFNUUl9BUFBMWV9PSz0hMCxTVFJfQVBQTFlfVUlBX09LPSEwO3RyeXtTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsWzBdKX1jYXRjaChfXyl7U1RSX0FQUExZX09LPSExfXRyeXtTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsbmV3IFVpbnQ4QXJyYXkoMSkpfWNhdGNoKF9fKXtTVFJfQVBQTFlfVUlBX09LPSExfWZvcih2YXIgX3V0ZjhsZW49bmV3IHV0aWxzLkJ1ZjgoMjU2KSxxPTA7cTwyNTY7cSsrKV91dGY4bGVuW3FdPXE+PTI1Mj82OnE+PTI0OD81OnE+PTI0MD80OnE+PTIyND8zOnE+PTE5Mj8yOjE7ZnVuY3Rpb24gYnVmMmJpbnN0cmluZyhidWYsbGVuKXtpZihsZW48NjU1MzQmJihidWYuc3ViYXJyYXkmJlNUUl9BUFBMWV9VSUFfT0t8fCFidWYuc3ViYXJyYXkmJlNUUl9BUFBMWV9PSykpcmV0dXJuIFN0cmluZy5mcm9tQ2hhckNvZGUuYXBwbHkobnVsbCx1dGlscy5zaHJpbmtCdWYoYnVmLGxlbikpO2Zvcih2YXIgcmVzdWx0PVwiXCIsaT0wO2k8bGVuO2krKylyZXN1bHQrPVN0cmluZy5mcm9tQ2hhckNvZGUoYnVmW2ldKTtyZXR1cm4gcmVzdWx0fV91dGY4bGVuWzI1NF09X3V0ZjhsZW5bMjU0XT0xLGV4cG9ydHMuc3RyaW5nMmJ1Zj1mdW5jdGlvbihzdHIpe3ZhciBidWYsYyxjMixtX3BvcyxpLHN0cl9sZW49c3RyLmxlbmd0aCxidWZfbGVuPTA7Zm9yKG1fcG9zPTA7bV9wb3M8c3RyX2xlbjttX3BvcysrKTU1Mjk2PT0oNjQ1MTImKGM9c3RyLmNoYXJDb2RlQXQobV9wb3MpKSkmJm1fcG9zKzE8c3RyX2xlbiYmNTYzMjA9PSg2NDUxMiYoYzI9c3RyLmNoYXJDb2RlQXQobV9wb3MrMSkpKSYmKGM9NjU1MzYrKGMtNTUyOTY8PDEwKSsoYzItNTYzMjApLG1fcG9zKyspLGJ1Zl9sZW4rPWM8MTI4PzE6YzwyMDQ4PzI6Yzw2NTUzNj8zOjQ7Zm9yKGJ1Zj1uZXcgdXRpbHMuQnVmOChidWZfbGVuKSxpPTAsbV9wb3M9MDtpPGJ1Zl9sZW47bV9wb3MrKyk1NTI5Nj09KDY0NTEyJihjPXN0ci5jaGFyQ29kZUF0KG1fcG9zKSkpJiZtX3BvcysxPHN0cl9sZW4mJjU2MzIwPT0oNjQ1MTImKGMyPXN0ci5jaGFyQ29kZUF0KG1fcG9zKzEpKSkmJihjPTY1NTM2KyhjLTU1Mjk2PDwxMCkrKGMyLTU2MzIwKSxtX3BvcysrKSxjPDEyOD9idWZbaSsrXT1jOmM8MjA0OD8oYnVmW2krK109MTkyfGM+Pj42LGJ1ZltpKytdPTEyOHw2MyZjKTpjPDY1NTM2PyhidWZbaSsrXT0yMjR8Yz4+PjEyLGJ1ZltpKytdPTEyOHxjPj4+NiY2MyxidWZbaSsrXT0xMjh8NjMmYyk6KGJ1ZltpKytdPTI0MHxjPj4+MTgsYnVmW2krK109MTI4fGM+Pj4xMiY2MyxidWZbaSsrXT0xMjh8Yz4+PjYmNjMsYnVmW2krK109MTI4fDYzJmMpO3JldHVybiBidWZ9LGV4cG9ydHMuYnVmMmJpbnN0cmluZz1mdW5jdGlvbihidWYpe3JldHVybiBidWYyYmluc3RyaW5nKGJ1ZixidWYubGVuZ3RoKX0sZXhwb3J0cy5iaW5zdHJpbmcyYnVmPWZ1bmN0aW9uKHN0cil7Zm9yKHZhciBidWY9bmV3IHV0aWxzLkJ1Zjgoc3RyLmxlbmd0aCksaT0wLGxlbj1idWYubGVuZ3RoO2k8bGVuO2krKylidWZbaV09c3RyLmNoYXJDb2RlQXQoaSk7cmV0dXJuIGJ1Zn0sZXhwb3J0cy5idWYyc3RyaW5nPWZ1bmN0aW9uKGJ1ZixtYXgpe3ZhciBpLG91dCxjLGNfbGVuLGxlbj1tYXh8fGJ1Zi5sZW5ndGgsdXRmMTZidWY9bmV3IEFycmF5KDIqbGVuKTtmb3Iob3V0PTAsaT0wO2k8bGVuOylpZigoYz1idWZbaSsrXSk8MTI4KXV0ZjE2YnVmW291dCsrXT1jO2Vsc2UgaWYoKGNfbGVuPV91dGY4bGVuW2NdKT40KXV0ZjE2YnVmW291dCsrXT02NTUzMyxpKz1jX2xlbi0xO2Vsc2V7Zm9yKGMmPTI9PT1jX2xlbj8zMTozPT09Y19sZW4/MTU6NztjX2xlbj4xJiZpPGxlbjspYz1jPDw2fDYzJmJ1ZltpKytdLGNfbGVuLS07Y19sZW4+MT91dGYxNmJ1ZltvdXQrK109NjU1MzM6Yzw2NTUzNj91dGYxNmJ1ZltvdXQrK109YzooYy09NjU1MzYsdXRmMTZidWZbb3V0KytdPTU1Mjk2fGM+PjEwJjEwMjMsdXRmMTZidWZbb3V0KytdPTU2MzIwfDEwMjMmYyl9cmV0dXJuIGJ1ZjJiaW5zdHJpbmcodXRmMTZidWYsb3V0KX0sZXhwb3J0cy51dGY4Ym9yZGVyPWZ1bmN0aW9uKGJ1ZixtYXgpe3ZhciBwb3M7Zm9yKChtYXg9bWF4fHxidWYubGVuZ3RoKT5idWYubGVuZ3RoJiYobWF4PWJ1Zi5sZW5ndGgpLHBvcz1tYXgtMTtwb3M+PTAmJjEyOD09KDE5MiZidWZbcG9zXSk7KXBvcy0tO3JldHVybiBwb3M8MD9tYXg6MD09PXBvcz9tYXg6cG9zK191dGY4bGVuW2J1Zltwb3NdXT5tYXg/cG9zOm1heH19LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO21vZHVsZS5leHBvcnRzPWZ1bmN0aW9uKCl7dGhpcy5pbnB1dD1udWxsLHRoaXMubmV4dF9pbj0wLHRoaXMuYXZhaWxfaW49MCx0aGlzLnRvdGFsX2luPTAsdGhpcy5vdXRwdXQ9bnVsbCx0aGlzLm5leHRfb3V0PTAsdGhpcy5hdmFpbF9vdXQ9MCx0aGlzLnRvdGFsX291dD0wLHRoaXMubXNnPVwiXCIsdGhpcy5zdGF0ZT1udWxsLHRoaXMuZGF0YV90eXBlPTIsdGhpcy5hZGxlcj0wfX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7bW9kdWxlLmV4cG9ydHM9e1pfTk9fRkxVU0g6MCxaX1BBUlRJQUxfRkxVU0g6MSxaX1NZTkNfRkxVU0g6MixaX0ZVTExfRkxVU0g6MyxaX0ZJTklTSDo0LFpfQkxPQ0s6NSxaX1RSRUVTOjYsWl9PSzowLFpfU1RSRUFNX0VORDoxLFpfTkVFRF9ESUNUOjIsWl9FUlJOTzotMSxaX1NUUkVBTV9FUlJPUjotMixaX0RBVEFfRVJST1I6LTMsWl9CVUZfRVJST1I6LTUsWl9OT19DT01QUkVTU0lPTjowLFpfQkVTVF9TUEVFRDoxLFpfQkVTVF9DT01QUkVTU0lPTjo5LFpfREVGQVVMVF9DT01QUkVTU0lPTjotMSxaX0ZJTFRFUkVEOjEsWl9IVUZGTUFOX09OTFk6MixaX1JMRTozLFpfRklYRUQ6NCxaX0RFRkFVTFRfU1RSQVRFR1k6MCxaX0JJTkFSWTowLFpfVEVYVDoxLFpfVU5LTk9XTjoyLFpfREVGTEFURUQ6OH19LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO2V4cG9ydHMuTE9DQUxfRklMRV9IRUFERVI9XCJQS1x1MDAwM1x1MDAwNFwiLGV4cG9ydHMuQ0VOVFJBTF9GSUxFX0hFQURFUj1cIlBLXHUwMDAxXHUwMDAyXCIsZXhwb3J0cy5DRU5UUkFMX0RJUkVDVE9SWV9FTkQ9XCJQS1x1MDAwNVx1MDAwNlwiLGV4cG9ydHMuWklQNjRfQ0VOVFJBTF9ESVJFQ1RPUllfTE9DQVRPUj1cIlBLXHUwMDA2XHUwMDA3XCIsZXhwb3J0cy5aSVA2NF9DRU5UUkFMX0RJUkVDVE9SWV9FTkQ9XCJQS1x1MDAwNlx1MDAwNlwiLGV4cG9ydHMuREFUQV9ERVNDUklQVE9SPVwiUEtcdTAwMDdcXGJcIn0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7dmFyIHV0aWxzPV9fd2VicGFja19yZXF1aXJlX18oMCksc3VwcG9ydD1fX3dlYnBhY2tfcmVxdWlyZV9fKDcpLEFycmF5UmVhZGVyPV9fd2VicGFja19yZXF1aXJlX18oNzMpLFN0cmluZ1JlYWRlcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDEyMyksTm9kZUJ1ZmZlclJlYWRlcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDEyNCksVWludDhBcnJheVJlYWRlcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDc1KTttb2R1bGUuZXhwb3J0cz1mdW5jdGlvbihkYXRhKXt2YXIgdHlwZT11dGlscy5nZXRUeXBlT2YoZGF0YSk7cmV0dXJuIHV0aWxzLmNoZWNrU3VwcG9ydCh0eXBlKSxcInN0cmluZ1wiIT09dHlwZXx8c3VwcG9ydC51aW50OGFycmF5P1wibm9kZWJ1ZmZlclwiPT09dHlwZT9uZXcgTm9kZUJ1ZmZlclJlYWRlcihkYXRhKTpzdXBwb3J0LnVpbnQ4YXJyYXk/bmV3IFVpbnQ4QXJyYXlSZWFkZXIodXRpbHMudHJhbnNmb3JtVG8oXCJ1aW50OGFycmF5XCIsZGF0YSkpOm5ldyBBcnJheVJlYWRlcih1dGlscy50cmFuc2Zvcm1UbyhcImFycmF5XCIsZGF0YSkpOm5ldyBTdHJpbmdSZWFkZXIoZGF0YSl9fSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjt2YXIgRGF0YVJlYWRlcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDc0KTtmdW5jdGlvbiBBcnJheVJlYWRlcihkYXRhKXtEYXRhUmVhZGVyLmNhbGwodGhpcyxkYXRhKTtmb3IodmFyIGk9MDtpPHRoaXMuZGF0YS5sZW5ndGg7aSsrKWRhdGFbaV09MjU1JmRhdGFbaV19X193ZWJwYWNrX3JlcXVpcmVfXygwKS5pbmhlcml0cyhBcnJheVJlYWRlcixEYXRhUmVhZGVyKSxBcnJheVJlYWRlci5wcm90b3R5cGUuYnl0ZUF0PWZ1bmN0aW9uKGkpe3JldHVybiB0aGlzLmRhdGFbdGhpcy56ZXJvK2ldfSxBcnJheVJlYWRlci5wcm90b3R5cGUubGFzdEluZGV4T2ZTaWduYXR1cmU9ZnVuY3Rpb24oc2lnKXtmb3IodmFyIHNpZzA9c2lnLmNoYXJDb2RlQXQoMCksc2lnMT1zaWcuY2hhckNvZGVBdCgxKSxzaWcyPXNpZy5jaGFyQ29kZUF0KDIpLHNpZzM9c2lnLmNoYXJDb2RlQXQoMyksaT10aGlzLmxlbmd0aC00O2k+PTA7LS1pKWlmKHRoaXMuZGF0YVtpXT09PXNpZzAmJnRoaXMuZGF0YVtpKzFdPT09c2lnMSYmdGhpcy5kYXRhW2krMl09PT1zaWcyJiZ0aGlzLmRhdGFbaSszXT09PXNpZzMpcmV0dXJuIGktdGhpcy56ZXJvO3JldHVybi0xfSxBcnJheVJlYWRlci5wcm90b3R5cGUucmVhZEFuZENoZWNrU2lnbmF0dXJlPWZ1bmN0aW9uKHNpZyl7dmFyIHNpZzA9c2lnLmNoYXJDb2RlQXQoMCksc2lnMT1zaWcuY2hhckNvZGVBdCgxKSxzaWcyPXNpZy5jaGFyQ29kZUF0KDIpLHNpZzM9c2lnLmNoYXJDb2RlQXQoMyksZGF0YT10aGlzLnJlYWREYXRhKDQpO3JldHVybiBzaWcwPT09ZGF0YVswXSYmc2lnMT09PWRhdGFbMV0mJnNpZzI9PT1kYXRhWzJdJiZzaWczPT09ZGF0YVszXX0sQXJyYXlSZWFkZXIucHJvdG90eXBlLnJlYWREYXRhPWZ1bmN0aW9uKHNpemUpe2lmKHRoaXMuY2hlY2tPZmZzZXQoc2l6ZSksMD09PXNpemUpcmV0dXJuW107dmFyIHJlc3VsdD10aGlzLmRhdGEuc2xpY2UodGhpcy56ZXJvK3RoaXMuaW5kZXgsdGhpcy56ZXJvK3RoaXMuaW5kZXgrc2l6ZSk7cmV0dXJuIHRoaXMuaW5kZXgrPXNpemUscmVzdWx0fSxtb2R1bGUuZXhwb3J0cz1BcnJheVJlYWRlcn0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7dmFyIHV0aWxzPV9fd2VicGFja19yZXF1aXJlX18oMCk7ZnVuY3Rpb24gRGF0YVJlYWRlcihkYXRhKXt0aGlzLmRhdGE9ZGF0YSx0aGlzLmxlbmd0aD1kYXRhLmxlbmd0aCx0aGlzLmluZGV4PTAsdGhpcy56ZXJvPTB9RGF0YVJlYWRlci5wcm90b3R5cGU9e2NoZWNrT2Zmc2V0OmZ1bmN0aW9uKG9mZnNldCl7dGhpcy5jaGVja0luZGV4KHRoaXMuaW5kZXgrb2Zmc2V0KX0sY2hlY2tJbmRleDpmdW5jdGlvbihuZXdJbmRleCl7aWYodGhpcy5sZW5ndGg8dGhpcy56ZXJvK25ld0luZGV4fHxuZXdJbmRleDwwKXRocm93IG5ldyBFcnJvcihcIkVuZCBvZiBkYXRhIHJlYWNoZWQgKGRhdGEgbGVuZ3RoID0gXCIrdGhpcy5sZW5ndGgrXCIsIGFza2VkIGluZGV4ID0gXCIrbmV3SW5kZXgrXCIpLiBDb3JydXB0ZWQgemlwID9cIil9LHNldEluZGV4OmZ1bmN0aW9uKG5ld0luZGV4KXt0aGlzLmNoZWNrSW5kZXgobmV3SW5kZXgpLHRoaXMuaW5kZXg9bmV3SW5kZXh9LHNraXA6ZnVuY3Rpb24obil7dGhpcy5zZXRJbmRleCh0aGlzLmluZGV4K24pfSxieXRlQXQ6ZnVuY3Rpb24oaSl7fSxyZWFkSW50OmZ1bmN0aW9uKHNpemUpe3ZhciBpLHJlc3VsdD0wO2Zvcih0aGlzLmNoZWNrT2Zmc2V0KHNpemUpLGk9dGhpcy5pbmRleCtzaXplLTE7aT49dGhpcy5pbmRleDtpLS0pcmVzdWx0PShyZXN1bHQ8PDgpK3RoaXMuYnl0ZUF0KGkpO3JldHVybiB0aGlzLmluZGV4Kz1zaXplLHJlc3VsdH0scmVhZFN0cmluZzpmdW5jdGlvbihzaXplKXtyZXR1cm4gdXRpbHMudHJhbnNmb3JtVG8oXCJzdHJpbmdcIix0aGlzLnJlYWREYXRhKHNpemUpKX0scmVhZERhdGE6ZnVuY3Rpb24oc2l6ZSl7fSxsYXN0SW5kZXhPZlNpZ25hdHVyZTpmdW5jdGlvbihzaWcpe30scmVhZEFuZENoZWNrU2lnbmF0dXJlOmZ1bmN0aW9uKHNpZyl7fSxyZWFkRGF0ZTpmdW5jdGlvbigpe3ZhciBkb3N0aW1lPXRoaXMucmVhZEludCg0KTtyZXR1cm4gbmV3IERhdGUoRGF0ZS5VVEMoMTk4MCsoZG9zdGltZT4+MjUmMTI3KSwoZG9zdGltZT4+MjEmMTUpLTEsZG9zdGltZT4+MTYmMzEsZG9zdGltZT4+MTEmMzEsZG9zdGltZT4+NSY2MywoMzEmZG9zdGltZSk8PDEpKX19LG1vZHVsZS5leHBvcnRzPURhdGFSZWFkZXJ9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO3ZhciBBcnJheVJlYWRlcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDczKTtmdW5jdGlvbiBVaW50OEFycmF5UmVhZGVyKGRhdGEpe0FycmF5UmVhZGVyLmNhbGwodGhpcyxkYXRhKX1fX3dlYnBhY2tfcmVxdWlyZV9fKDApLmluaGVyaXRzKFVpbnQ4QXJyYXlSZWFkZXIsQXJyYXlSZWFkZXIpLFVpbnQ4QXJyYXlSZWFkZXIucHJvdG90eXBlLnJlYWREYXRhPWZ1bmN0aW9uKHNpemUpe2lmKHRoaXMuY2hlY2tPZmZzZXQoc2l6ZSksMD09PXNpemUpcmV0dXJuIG5ldyBVaW50OEFycmF5KDApO3ZhciByZXN1bHQ9dGhpcy5kYXRhLnN1YmFycmF5KHRoaXMuemVybyt0aGlzLmluZGV4LHRoaXMuemVybyt0aGlzLmluZGV4K3NpemUpO3JldHVybiB0aGlzLmluZGV4Kz1zaXplLHJlc3VsdH0sbW9kdWxlLmV4cG9ydHM9VWludDhBcnJheVJlYWRlcn0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZXhwb3J0cy5TVUJTQ1JJUFRJT05fUFJPTVBUX1dJREdFVF9OQU1FU1BBQ0U9XCJwdXNod29vc2gtc3Vic2NyaXB0aW9uLXdpZGdldFwifSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxleHBvcnRzLkJFTExfUE9TSVRJT05fQk9UVE9NX1JJR0hUPVwiYm90dG9tUmlnaHRcIixleHBvcnRzLkJFTExfUE9TSVRJT05fQk9UVE9NX0xFRlQ9XCJib3R0b21MZWZ0XCIsZXhwb3J0cy5CRUxMX1BPU0lUSU9OX1RPUF9SSUdIVD1cInRvcFJpZ2h0XCIsZXhwb3J0cy5CRUxMX1BPU0lUSU9OX1RPUF9MRUZUPVwidG9wTGVmdFwiLGV4cG9ydHMuV0lER0VUX0NPTlRBSU5FUl9JRD1cInB1c2h3b29zaEJlbGxXaWRnZXRcIixleHBvcnRzLlNVQlNDUklCRV9XSURHRVRfREVGQVVMVF9DT05GSUc9e3Bvc2l0aW9uOmV4cG9ydHMuQkVMTF9QT1NJVElPTl9CT1RUT01fTEVGVCxiZ0NvbG9yOlwiIzEyQUU3RVwiLGJlbGxDb2xvcjpcIndoaXRlXCIsYmVsbFN0cm9rZUNvbG9yOlwiIzA4NzU0ZlwiLGJlbGxCdXR0b25Cb3JkZXI6XCIxcHggc29saWQgIzM3OTY3NlwiLHNoYWRvdzpcIjBweCAwcHggNnB4IHJnYmEoMCwgMCwgMCwgMC43NSlcIixzaXplOlwiNDhweFwiLGluZGVudDpcIjIwcHhcIix6SW5kZXg6XCI5OTk5OTlcIix0b29sdGlwVGV4dDp7c3VjY2Vzc1N1YnNjcmliZTpcIllvdSBhcmUgc3VjY2Vzc2Z1bGx5IHN1YnNjcmliZWQhXCIsbmVlZFN1YnNjcmliZTpcIkdldCBub3RpZmljYXRpb25zIGFib3V0IGltcG9ydGFudCBuZXdzIVwiLGJsb2NrU3Vic2NyaWJlOlwiQ2xpY2sgdG8gc2VlIGhvdyB0byBnZXQgbm90aWZpY2F0aW9uc1wiLGFscmVhZHlTdWJzY3JpYmVkOlwiWW91IGFyZSBhbHJlYWR5IHN1YnNjcmliZWRcIn19fSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgUHVzaHdvb3NoXzE9X193ZWJwYWNrX3JlcXVpcmVfXyg3OSk7ZXhwb3J0cy5QdXNod29vc2g9UHVzaHdvb3NoXzEuZGVmYXVsdCxfX3dlYnBhY2tfcmVxdWlyZV9fKDE0OSksX193ZWJwYWNrX3JlcXVpcmVfXygxNTUpLF9fd2VicGFja19yZXF1aXJlX18oMTU3KX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7dmFyIF9fYXNzaWduPXRoaXMmJnRoaXMuX19hc3NpZ258fGZ1bmN0aW9uKCl7cmV0dXJuKF9fYXNzaWduPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKHQpe2Zvcih2YXIgcyxpPTEsbj1hcmd1bWVudHMubGVuZ3RoO2k8bjtpKyspZm9yKHZhciBwIGluIHM9YXJndW1lbnRzW2ldKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLHApJiYodFtwXT1zW3BdKTtyZXR1cm4gdH0pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sX19hd2FpdGVyPXRoaXMmJnRoaXMuX19hd2FpdGVyfHxmdW5jdGlvbih0aGlzQXJnLF9hcmd1bWVudHMsUCxnZW5lcmF0b3Ipe3JldHVybiBuZXcoUHx8KFA9UHJvbWlzZSkpKGZ1bmN0aW9uKHJlc29sdmUscmVqZWN0KXtmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpe3RyeXtzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSl9Y2F0Y2goZSl7cmVqZWN0KGUpfX1mdW5jdGlvbiByZWplY3RlZCh2YWx1ZSl7dHJ5e3N0ZXAoZ2VuZXJhdG9yLnRocm93KHZhbHVlKSl9Y2F0Y2goZSl7cmVqZWN0KGUpfX1mdW5jdGlvbiBzdGVwKHJlc3VsdCl7cmVzdWx0LmRvbmU/cmVzb2x2ZShyZXN1bHQudmFsdWUpOmZ1bmN0aW9uKHZhbHVlKXtyZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQP3ZhbHVlOm5ldyBQKGZ1bmN0aW9uKHJlc29sdmUpe3Jlc29sdmUodmFsdWUpfSl9KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQscmVqZWN0ZWQpfXN0ZXAoKGdlbmVyYXRvcj1nZW5lcmF0b3IuYXBwbHkodGhpc0FyZyxfYXJndW1lbnRzfHxbXSkpLm5leHQoKSl9KX0sX19nZW5lcmF0b3I9dGhpcyYmdGhpcy5fX2dlbmVyYXRvcnx8ZnVuY3Rpb24odGhpc0FyZyxib2R5KXt2YXIgZix5LHQsZyxfPXtsYWJlbDowLHNlbnQ6ZnVuY3Rpb24oKXtpZigxJnRbMF0pdGhyb3cgdFsxXTtyZXR1cm4gdFsxXX0sdHJ5czpbXSxvcHM6W119O3JldHVybiBnPXtuZXh0OnZlcmIoMCksdGhyb3c6dmVyYigxKSxyZXR1cm46dmVyYigyKX0sXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiYoZ1tTeW1ib2wuaXRlcmF0b3JdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSxnO2Z1bmN0aW9uIHZlcmIobil7cmV0dXJuIGZ1bmN0aW9uKHYpe3JldHVybiBmdW5jdGlvbihvcCl7aWYoZil0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtmb3IoO187KXRyeXtpZihmPTEseSYmKHQ9MiZvcFswXT95LnJldHVybjpvcFswXT95LnRocm93fHwoKHQ9eS5yZXR1cm4pJiZ0LmNhbGwoeSksMCk6eS5uZXh0KSYmISh0PXQuY2FsbCh5LG9wWzFdKSkuZG9uZSlyZXR1cm4gdDtzd2l0Y2goeT0wLHQmJihvcD1bMiZvcFswXSx0LnZhbHVlXSksb3BbMF0pe2Nhc2UgMDpjYXNlIDE6dD1vcDticmVhaztjYXNlIDQ6cmV0dXJuIF8ubGFiZWwrKyx7dmFsdWU6b3BbMV0sZG9uZTohMX07Y2FzZSA1Ol8ubGFiZWwrKyx5PW9wWzFdLG9wPVswXTtjb250aW51ZTtjYXNlIDc6b3A9Xy5vcHMucG9wKCksXy50cnlzLnBvcCgpO2NvbnRpbnVlO2RlZmF1bHQ6aWYoISh0PSh0PV8udHJ5cykubGVuZ3RoPjAmJnRbdC5sZW5ndGgtMV0pJiYoNj09PW9wWzBdfHwyPT09b3BbMF0pKXtfPTA7Y29udGludWV9aWYoMz09PW9wWzBdJiYoIXR8fG9wWzFdPnRbMF0mJm9wWzFdPHRbM10pKXtfLmxhYmVsPW9wWzFdO2JyZWFrfWlmKDY9PT1vcFswXSYmXy5sYWJlbDx0WzFdKXtfLmxhYmVsPXRbMV0sdD1vcDticmVha31pZih0JiZfLmxhYmVsPHRbMl0pe18ubGFiZWw9dFsyXSxfLm9wcy5wdXNoKG9wKTticmVha310WzJdJiZfLm9wcy5wb3AoKSxfLnRyeXMucG9wKCk7Y29udGludWV9b3A9Ym9keS5jYWxsKHRoaXNBcmcsXyl9Y2F0Y2goZSl7b3A9WzYsZV0seT0wfWZpbmFsbHl7Zj10PTB9aWYoNSZvcFswXSl0aHJvdyBvcFsxXTtyZXR1cm57dmFsdWU6b3BbMF0/b3BbMV06dm9pZCAwLGRvbmU6ITB9fShbbix2XSl9fX07T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIHV1aWRfMT1fX3dlYnBhY2tfcmVxdWlyZV9fKDQ5KSxBcGlfMT1fX3dlYnBhY2tfcmVxdWlyZV9fKDM2KSxEYXRhXzE9X193ZWJwYWNrX3JlcXVpcmVfXyg0KSxBcGlDbGllbnRfMT1fX3dlYnBhY2tfcmVxdWlyZV9fKDIxKSxQdXNoU2VydmljZV8xPV9fd2VicGFja19yZXF1aXJlX18oODEpLFBvcHVwXzE9X193ZWJwYWNrX3JlcXVpcmVfXyg4NCksU3Vic2NyaXB0aW9uU2VnbWVudHNXaWRnZXRfMT1fX3dlYnBhY2tfcmVxdWlyZV9fKDg2KSxTdWJzY3JpcHRpb25Qcm9tcHRXaWRnZXRfMT1fX3dlYnBhY2tfcmVxdWlyZV9fKDEyNyksQ09OU1RBTlRTPV9fd2VicGFja19yZXF1aXJlX18oMSksRXZlbnRFbWl0dGVyXzE9X193ZWJwYWNrX3JlcXVpcmVfXygxMjkpLGZ1bmN0aW9uc18xPV9fd2VicGFja19yZXF1aXJlX18oMTEpLFBsYXRmb3JtQ2hlY2tlcl8xPV9fd2VicGFja19yZXF1aXJlX18oMjIpLGxvZ2dlcl8xPV9fd2VicGFja19yZXF1aXJlX18oNSksRmFjZWJvb2tNb2R1bGVfMT1fX3dlYnBhY2tfcmVxdWlyZV9fKDEzMCksSW5BcHBzXzE9X193ZWJwYWNrX3JlcXVpcmVfXygxMzEpLHN0b3JhZ2VfMT1fX3dlYnBhY2tfcmVxdWlyZV9fKDIpLEluYm94TWVzc2FnZXNfMT1fX3dlYnBhY2tfcmVxdWlyZV9fKDQ2KSxJbmJveE1lc3NhZ2VzUHVibGljXzE9X193ZWJwYWNrX3JlcXVpcmVfXygzMCksRXZlbnRCdXNfMT1fX3dlYnBhY2tfcmVxdWlyZV9fKDEzKSxDb21tYW5kQnVzXzE9X193ZWJwYWNrX3JlcXVpcmVfXygxMiksUHVzaHdvb3NoPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gUHVzaHdvb3NoKHBsYXRmb3JtQ2hlY2tlcil7dmFyIF9hLF90aGlzPXRoaXM7dm9pZCAwPT09cGxhdGZvcm1DaGVja2VyJiYocGxhdGZvcm1DaGVja2VyPW5ldyBQbGF0Zm9ybUNoZWNrZXJfMS5QbGF0Zm9ybUNoZWNrZXIpLHRoaXMuX2VlPW5ldyBFdmVudEVtaXR0ZXJfMS5kZWZhdWx0LHRoaXMucmVhZHk9ITEsdGhpcy5kZWJ1Zz17c2hvd0xvZzpmdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGl0ZW1zO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCxzdG9yYWdlXzEubG9nLmdldEFsbCgpXTtjYXNlIDE6cmV0dXJuIGl0ZW1zPV9hLnNlbnQoKSxjb25zb2xlLmxvZyhpdGVtcyksWzJdfX0pfSl9LHNob3dLZXlWYWx1ZXM6ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBpdGVtcztyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsc3RvcmFnZV8xLmtleVZhbHVlLmdldEFsbCgpXTtjYXNlIDE6cmV0dXJuIGl0ZW1zPV9hLnNlbnQoKSxjb25zb2xlLmxvZyhpdGVtcyksWzJdfX0pfSl9LHNob3dNZXNzYWdlczpmdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHN0b3JhZ2VfMS5tZXNzYWdlLmdldEFsbCgpXTtjYXNlIDE6cmV0dXJuIF9hLnNlbnQoKS5mb3JFYWNoKGZ1bmN0aW9uKGkpe3JldHVybiBjb25zb2xlLmxvZyhpKX0pLFsyXX19KX0pfX0sdGhpcy5kYXRhPW5ldyBEYXRhXzEuRGF0YSx0aGlzLmNvbW1hbmRCdXM9Q29tbWFuZEJ1c18xLkNvbW1hbmRCdXMuZ2V0SW5zdGFuY2UoKSx0aGlzLmV2ZW50QnVzPUV2ZW50QnVzXzEuRXZlbnRCdXMuZ2V0SW5zdGFuY2UoKSx0aGlzLmFwaUNsaWVudD1uZXcgQXBpQ2xpZW50XzEuQXBpQ2xpZW50KHRoaXMuZGF0YSksdGhpcy5hcGk9bmV3IEFwaV8xLkFwaSh0aGlzLmRhdGEsdGhpcy5hcGlDbGllbnQsdGhpcy5jb21tYW5kQnVzLHRoaXMuZXZlbnRCdXMsdGhpcy5fZWUpLHRoaXMuaW5ib3hNb2RlbD1uZXcgSW5ib3hNZXNzYWdlc18xLmRlZmF1bHQodGhpcy5kYXRhLHRoaXMuYXBpKSx0aGlzLnB3aW5ib3g9bmV3IEluYm94TWVzc2FnZXNQdWJsaWNfMS5kZWZhdWx0KHRoaXMuZGF0YSx0aGlzLmFwaSx0aGlzLmluYm94TW9kZWwpLHRoaXMucGxhdGZvcm1DaGVja2VyPXBsYXRmb3JtQ2hlY2tlcix0aGlzLl9vblByb21pc2VzPXt9LHRoaXMucGxhdGZvcm1DaGVja2VyLmlzQXZhaWxhYmxlUHJvbWlzZSYmKHRoaXMuX29uUHJvbWlzZXM9KChfYT17fSlbQ09OU1RBTlRTLkVWRU5UX09OX1BFUk1JU1NJT05fREVOSUVEXT1uZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlKXtyZXR1cm4gX3RoaXMuX2VlLm9uY2UoQ09OU1RBTlRTLkVWRU5UX09OX1BFUk1JU1NJT05fREVOSUVELHJlc29sdmUpfSksX2FbQ09OU1RBTlRTLkVWRU5UX09OX1BFUk1JU1NJT05fUFJPTVBUXT1uZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlKXtyZXR1cm4gX3RoaXMuX2VlLm9uY2UoQ09OU1RBTlRTLkVWRU5UX09OX1BFUk1JU1NJT05fUFJPTVBULHJlc29sdmUpfSksX2FbQ09OU1RBTlRTLkVWRU5UX09OX1BFUk1JU1NJT05fR1JBTlRFRF09bmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSl7cmV0dXJuIF90aGlzLl9lZS5vbmNlKENPTlNUQU5UUy5FVkVOVF9PTl9QRVJNSVNTSU9OX0dSQU5URUQscmVzb2x2ZSl9KSxfYSkpLHRoaXMub25TZXJ2aWNlV29ya2VyTWVzc2FnZT10aGlzLm9uU2VydmljZVdvcmtlck1lc3NhZ2UuYmluZCh0aGlzKSx0aGlzLmNvbW1hbmRCdXMub24oQ29tbWFuZEJ1c18xLlRDb21tYW5kcy5TVUJTQ1JJQkUsZnVuY3Rpb24oX2Epe3ZhciBjb21tYW5kSWQ9X2EuY29tbWFuZElkO190aGlzLnN1YnNjcmliZSgpLnRoZW4oZnVuY3Rpb24oKXtfdGhpcy5ldmVudEJ1cy5lbWl0KEV2ZW50QnVzXzEuVEV2ZW50cy5TVUJTQ1JJQkUsY29tbWFuZElkKX0pfSksdGhpcy5jb21tYW5kQnVzLm9uKENvbW1hbmRCdXNfMS5UQ29tbWFuZHMuVU5TVUJTQ1JJQkUsZnVuY3Rpb24oX2Epe3ZhciBjb21tYW5kSWQ9X2EuY29tbWFuZElkO190aGlzLnVuc3Vic2NyaWJlKCkudGhlbihmdW5jdGlvbigpe190aGlzLmV2ZW50QnVzLmVtaXQoRXZlbnRCdXNfMS5URXZlbnRzLlVOU1VCU0NSSUJFLGNvbW1hbmRJZCl9KX0pLHRoaXMuY29tbWFuZEJ1cy5vbihDb21tYW5kQnVzXzEuVENvbW1hbmRzLkNIRUNLX0lTX1NVQlNDUklCRUQsZnVuY3Rpb24oX2Epe3ZhciBjb21tYW5kSWQ9X2EuY29tbWFuZElkO190aGlzLmFwaS5jaGVja0RldmljZVN1YnNjcmliZUZvclB1c2hOb3RpZmljYXRpb25zKCExKS50aGVuKGZ1bmN0aW9uKHN0YXRlKXtfdGhpcy5ldmVudEJ1cy5lbWl0KEV2ZW50QnVzXzEuVEV2ZW50cy5DSEVDS19JU19TVUJTQ1JJQkVELHtzdGF0ZTpzdGF0ZX0sY29tbWFuZElkKX0pfSksdGhpcy5jb21tYW5kQnVzLm9uKENvbW1hbmRCdXNfMS5UQ29tbWFuZHMuQ0hFQ0tfSVNfTUFOVUFMX1VOU1VCU0NSSUJFRCxmdW5jdGlvbihfYSl7dmFyIGNvbW1hbmRJZD1fYS5jb21tYW5kSWQ7X3RoaXMuZGF0YS5nZXRTdGF0dXNNYW51YWxVbnN1YnNjcmliZWQoKS50aGVuKGZ1bmN0aW9uKHN0YXRlKXtfdGhpcy5ldmVudEJ1cy5lbWl0KEV2ZW50QnVzXzEuVEV2ZW50cy5DSEVDS19JU19NQU5VQUxfVU5TVUJTQ1JJQkVELHtzdGF0ZTpzdGF0ZX0sY29tbWFuZElkKX0pfSk7dmFyIHBvcHVwPW5ldyBQb3B1cF8xLlBvcHVwKFwic3Vic2NyaXB0aW9uLXNlZ21lbnRzXCIsZnVuY3Rpb24oKXtfdGhpcy5fZWUuZW1pdChDT05TVEFOVFMuRVZFTlRfT05fSElERV9TVUJTQ1JJUFRJT05fV0lER0VUKX0se3Bvc2l0aW9uOlwidG9wXCJ9KTt0aGlzLnN1YnNjcmlwdGlvblNlZ21lbnRXaWRnZXQ9bmV3IFN1YnNjcmlwdGlvblNlZ21lbnRzV2lkZ2V0XzEuU3Vic2NyaXB0aW9uU2VnbWVudHNXaWRnZXQodGhpcy5kYXRhLHRoaXMuYXBpQ2xpZW50LHRoaXMuYXBpLHBvcHVwLHRoaXMpLHRoaXMuc3Vic2NyaXB0aW9uUHJvbXB0V2lkZ2V0PW5ldyBTdWJzY3JpcHRpb25Qcm9tcHRXaWRnZXRfMS5TdWJzY3JpcHRpb25Qcm9tcHRXaWRnZXQodGhpcyl9cmV0dXJuIFB1c2h3b29zaC5wcm90b3R5cGUucHVzaD1mdW5jdGlvbihjb21tYW5kKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiBjb21tYW5kKXtpZighQXJyYXkuaXNBcnJheShjb21tYW5kKSl0aHJvdyBuZXcgRXJyb3IoXCJJbnZhbGlkIGNvbW1hbmQhXCIpO3N3aXRjaChjb21tYW5kWzBdKXtjYXNlXCJpbml0XCI6dGhpcy5pbml0aWFsaXplKGNvbW1hbmRbMV0pO2JyZWFrO2Nhc2UgQ09OU1RBTlRTLkVWRU5UX09OX1JFQURZOnRoaXMuaGFuZGxlT25SZWFkeUNhbGxiYWNrKGNvbW1hbmRbMV0pO2JyZWFrO2Nhc2UgQ09OU1RBTlRTLkVWRU5UX09OX1JFR0lTVEVSOmNhc2UgQ09OU1RBTlRTLkVWRU5UX09OX1NVQlNDUklCRTpjYXNlIENPTlNUQU5UUy5FVkVOVF9PTl9VTlNVQlNDUklCRTpjYXNlIENPTlNUQU5UUy5FVkVOVF9PTl9TV19JTklUX0VSUk9SOmNhc2UgQ09OU1RBTlRTLkVWRU5UX09OX1BVU0hfREVMSVZFUlk6Y2FzZSBDT05TVEFOVFMuRVZFTlRfT05fTk9USUZJQ0FUSU9OX0NMSUNLOmNhc2UgQ09OU1RBTlRTLkVWRU5UX09OX05PVElGSUNBVElPTl9DTE9TRTpjYXNlIENPTlNUQU5UUy5FVkVOVF9PTl9DSEFOR0VfQ09NTVVOSUNBVElPTl9FTkFCTEVEOmNhc2UgQ09OU1RBTlRTLkVWRU5UX09OX1BVVF9ORVdfTUVTU0FHRV9UT19JTkJPWF9TVE9SRTpjYXNlIENPTlNUQU5UUy5FVkVOVF9PTl9VUERBVEVfSU5CT1hfTUVTU0FHRVM6Y2FzZSBDT05TVEFOVFMuRVZFTlRfT05fU0hPV19OT1RJRklDQVRJT05fUEVSTUlTU0lPTl9ESUFMT0c6Y2FzZSBDT05TVEFOVFMuRVZFTlRfT05fSElERV9OT1RJRklDQVRJT05fUEVSTUlTU0lPTl9ESUFMT0c6Y2FzZSBDT05TVEFOVFMuRVZFTlRfT05fU0hPV19TVUJTQ1JJUFRJT05fV0lER0VUOmNhc2UgQ09OU1RBTlRTLkVWRU5UX09OX0hJREVfU1VCU0NSSVBUSU9OX1dJREdFVDp0aGlzLmhhbmRsZUV2ZW50Q2FsbGJhY2soY29tbWFuZFswXSxjb21tYW5kWzFdKTticmVhaztjYXNlIENPTlNUQU5UUy5FVkVOVF9PTl9QRVJNSVNTSU9OX0RFTklFRDpjYXNlIENPTlNUQU5UUy5FVkVOVF9PTl9QRVJNSVNTSU9OX1BST01QVDpjYXNlIENPTlNUQU5UUy5FVkVOVF9PTl9QRVJNSVNTSU9OX0dSQU5URUQ6dGhpcy5oYW5kbGVPbkNoYW5nZVBlcm1pc3Npb25DYWxsYmFjayhjb21tYW5kWzBdLGNvbW1hbmRbMV0pO2JyZWFrO2RlZmF1bHQ6dGhyb3cgbmV3IEVycm9yKFwiVW5rbm93biBjb21tYW5kIVwiKX19ZWxzZSB0aGlzLmhhbmRsZU9uUmVhZHlDYWxsYmFjayhjb21tYW5kKX0sUHVzaHdvb3NoLnByb3RvdHlwZS5zdWJzY3JpYmU9ZnVuY3Rpb24oaXNGb3JjZVN1YnNjcmliZSl7cmV0dXJuIHZvaWQgMD09PWlzRm9yY2VTdWJzY3JpYmUmJihpc0ZvcmNlU3Vic2NyaWJlPSEwKSxfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIHBlcm1pc3Npb25fMSxwZXJtaXNzaW9uLGlzTWFudWFsVW5zdWJzY3JpYmVkLGlzRGV2aWNlUmVnaXN0ZXI7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybiB0aGlzLmlzQ29tbXVuaWNhdGlvbkRpc2FibGVkJiZsb2dnZXJfMS5Mb2dnZXIuZXJyb3IoXCJDb21tdW5pY2F0aW9uIGlzIGRpc2FibGVkIVwiKSx0aGlzLmRyaXZlci5jaGVja0lzUGVybWlzc2lvbkRlZmF1bHQoKT8odGhpcy5fZWUuZW1pdChDT05TVEFOVFMuRVZFTlRfT05fU0hPV19OT1RJRklDQVRJT05fUEVSTUlTU0lPTl9ESUFMT0cpLHRoaXMuZXZlbnRCdXMuZW1pdChFdmVudEJ1c18xLlRFdmVudHMuU0hPV19OT1RJRklDQVRJT05fUEVSTUlTU0lPTl9ESUFMT0cpLFs0LHRoaXMuZHJpdmVyLmFza1Blcm1pc3Npb24oKV0pOlszLDJdO2Nhc2UgMTpfYS5zZW50KCkscGVybWlzc2lvbl8xPXRoaXMuZHJpdmVyLmdldFBlcm1pc3Npb24oKSx0aGlzLl9lZS5lbWl0KENPTlNUQU5UUy5FVkVOVF9PTl9ISURFX05PVElGSUNBVElPTl9QRVJNSVNTSU9OX0RJQUxPRyxwZXJtaXNzaW9uXzEpLHRoaXMuZXZlbnRCdXMuZW1pdChFdmVudEJ1c18xLlRFdmVudHMuSElERV9OT1RJRklDQVRJT05fUEVSTUlTU0lPTl9ESUFMT0cpLF9hLmxhYmVsPTI7Y2FzZSAyOnJldHVybiBwZXJtaXNzaW9uPXRoaXMuZHJpdmVyLmdldFBlcm1pc3Npb24oKSxbNCx0aGlzLmRhdGEuZ2V0U3RhdHVzTWFudWFsVW5zdWJzY3JpYmVkKCldO2Nhc2UgMzpyZXR1cm4gaXNNYW51YWxVbnN1YnNjcmliZWQ9X2Euc2VudCgpLFs0LHRoaXMuYXBpLmNoZWNrRGV2aWNlU3Vic2NyaWJlRm9yUHVzaE5vdGlmaWNhdGlvbnMoITEpXTtjYXNlIDQ6cmV0dXJuIGlzRGV2aWNlUmVnaXN0ZXI9X2Euc2VudCgpLHBlcm1pc3Npb24hPT1DT05TVEFOVFMuUEVSTUlTU0lPTl9HUkFOVEVEP1szLDddOih0aGlzLl9lZS5lbWl0KENPTlNUQU5UUy5FVkVOVF9PTl9QRVJNSVNTSU9OX0dSQU5URUQpLCEoaXNGb3JjZVN1YnNjcmliZXx8IWlzTWFudWFsVW5zdWJzY3JpYmVkKXx8aXNEZXZpY2VSZWdpc3Rlcj9bMyw2XTpbNCx0aGlzLmRyaXZlci5zdWJzY3JpYmUoKV0pO2Nhc2UgNTpfYS5zZW50KCksX2EubGFiZWw9NjtjYXNlIDY6cmV0dXJuIHRoaXMuX2VlLmVtaXQoQ09OU1RBTlRTLkVWRU5UX09OX1NVQlNDUklCRSksWzJdO2Nhc2UgNzpyZXR1cm4gcGVybWlzc2lvbiE9PUNPTlNUQU5UUy5QRVJNSVNTSU9OX0RFTklFRD9bMywxMF06KHRoaXMuX2VlLmVtaXQoQ09OU1RBTlRTLkVWRU5UX09OX1BFUk1JU1NJT05fREVOSUVEKSxpc0RldmljZVJlZ2lzdGVyP1s0LHRoaXMuZHJpdmVyLnVuc3Vic2NyaWJlKCldOlszLDldKTtjYXNlIDg6X2Euc2VudCgpLF9hLmxhYmVsPTk7Y2FzZSA5OmNhc2UgMTA6cmV0dXJuWzJdfX0pfSl9LFB1c2h3b29zaC5wcm90b3R5cGUudW5zdWJzY3JpYmU9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBlcnJvcl8xO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm4gX2EudHJ5cy5wdXNoKFswLDIsLDNdKSxbNCx0aGlzLmRyaXZlci51bnN1YnNjcmliZSgpXTtjYXNlIDE6cmV0dXJuIF9hLnNlbnQoKSxbMywzXTtjYXNlIDI6cmV0dXJuIGVycm9yXzE9X2Euc2VudCgpLGxvZ2dlcl8xLkxvZ2dlci5lcnJvcihlcnJvcl8xLFwiRXJyb3Igb2NjdXJyZWQgZHVyaW5nIHRoZSB1bnN1YnNjcmliZVwiKSxbMywzXTtjYXNlIDM6cmV0dXJuWzJdfX0pfSl9LFB1c2h3b29zaC5wcm90b3R5cGUuZm9yY2VTdWJzY3JpYmU9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLnN1YnNjcmliZSghMCldO2Nhc2UgMTpyZXR1cm4gX2Euc2VudCgpLFsyXX19KX0pfSxQdXNod29vc2gucHJvdG90eXBlLmlzRGV2aWNlUmVnaXN0ZXJlZD1mdW5jdGlvbigpe3JldHVybiBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShDT05TVEFOVFMuS0VZX0RFVklDRV9SRUdJU1RSQVRJT05fU1RBVFVTKT09PUNPTlNUQU5UUy5ERVZJQ0VfUkVHSVNUUkFUSU9OX1NUQVRVU19SRUdJU1RFUkVEfSxQdXNod29vc2gucHJvdG90eXBlLmlzRGV2aWNlVW5yZWdpc3RlcmVkPWZ1bmN0aW9uKCl7cmV0dXJuIGxvY2FsU3RvcmFnZS5nZXRJdGVtKENPTlNUQU5UUy5LRVlfREVWSUNFX1JFR0lTVFJBVElPTl9TVEFUVVMpPT09Q09OU1RBTlRTLkRFVklDRV9SRUdJU1RSQVRJT05fU1RBVFVTX1VOUkVHSVNURVJFRH0sUHVzaHdvb3NoLnByb3RvdHlwZS5pc1N1YnNjcmliZWQ9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtyZXR1cm5bMix0aGlzLmFwaS5jaGVja0RldmljZVN1YnNjcmliZUZvclB1c2hOb3RpZmljYXRpb25zKCldfSl9KX0sUHVzaHdvb3NoLnByb3RvdHlwZS5pc0NvbW11bmljYXRpb25FbmFibGVkPWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5kYXRhLmdldFN0YXR1c0NvbW11bmljYXRpb25EaXNhYmxlZCgpXTtjYXNlIDE6cmV0dXJuWzIsIV9hLnNlbnQoKV19fSl9KX0sUHVzaHdvb3NoLnByb3RvdHlwZS5zZXRDb21tdW5pY2F0aW9uRW5hYmxlZD1mdW5jdGlvbihpc0VuYWJsZWQpe3JldHVybiB2b2lkIDA9PT1pc0VuYWJsZWQmJihpc0VuYWJsZWQ9ITApLF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgZGV2aWNlVHlwZSxpc1Blcm1pc3Npb25HcmFudGVkO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLmRhdGEuZ2V0RGV2aWNlVHlwZSgpXTtjYXNlIDE6cmV0dXJuIGRldmljZVR5cGU9X2Euc2VudCgpLGlzUGVybWlzc2lvbkdyYW50ZWQ9dGhpcy5kcml2ZXIuY2hlY2tJc1Blcm1pc3Npb25HcmFudGVkKCksWzQsdGhpcy5kYXRhLnNldFN0YXR1c0NvbW11bmljYXRpb25EaXNhYmxlZCghaXNFbmFibGVkKV07Y2FzZSAyOnJldHVybiBfYS5zZW50KCksaXNFbmFibGVkP1s0LHRoaXMuZGF0YS5zZXRTdGF0dXNEcm9wQWxsRGF0YSghMSldOlszLDZdO2Nhc2UgMzpyZXR1cm4gX2Euc2VudCgpLGlzUGVybWlzc2lvbkdyYW50ZWQ/WzQsdGhpcy5hcGkucmVnaXN0ZXJEZXZpY2UoKV06WzMsNV07Y2FzZSA0Ol9hLnNlbnQoKSxfYS5sYWJlbD01O2Nhc2UgNTpyZXR1cm5bMyw4XTtjYXNlIDY6cmV0dXJuWzQsdGhpcy5hcGkudW5yZWdpc3RlckRldmljZSgpXTtjYXNlIDc6X2Euc2VudCgpLF9hLmxhYmVsPTg7Y2FzZSA4OnJldHVybiB0aGlzLl9lZS5lbWl0KENPTlNUQU5UUy5FVkVOVF9PTl9DSEFOR0VfQ09NTVVOSUNBVElPTl9FTkFCTEVELGlzRW5hYmxlZCksWzQsdGhpcy5hcGkucG9zdEV2ZW50KENPTlNUQU5UUy5FVkVOVF9HRFBSX0NPTlNFTlQse2NoYW5uZWw6aXNFbmFibGVkLGRldmljZV90eXBlOmRldmljZVR5cGV9KV07Y2FzZSA5OnJldHVybiBfYS5zZW50KCksWzJdfX0pfSl9LFB1c2h3b29zaC5wcm90b3R5cGUucmVtb3ZlQWxsRGV2aWNlRGF0YT1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGRldmljZVR5cGU7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuZGF0YS5nZXREZXZpY2VUeXBlKCldO2Nhc2UgMTpyZXR1cm4gZGV2aWNlVHlwZT1fYS5zZW50KCksWzQsdGhpcy5hcGkucG9zdEV2ZW50KENPTlNUQU5UUy5FVkVOVF9HRFBSX0RFTEVURSx7c3RhdHVzOiEwLGRldmljZV90eXBlOmRldmljZVR5cGV9KV07Y2FzZSAyOnJldHVybiBfYS5zZW50KCksWzQsdGhpcy5hcGkuZGVsZXRlRGV2aWNlKCldO2Nhc2UgMzpyZXR1cm4gX2Euc2VudCgpLFs0LHRoaXMuZGF0YS5jbGVhckFsbCgpXTtjYXNlIDQ6cmV0dXJuIF9hLnNlbnQoKSxbNCx0aGlzLmRhdGEuc2V0U3RhdHVzRHJvcEFsbERhdGEoITApXTtjYXNlIDU6cmV0dXJuIF9hLnNlbnQoKSxbMl19fSl9KX0sUHVzaHdvb3NoLnByb3RvdHlwZS5nZXRIV0lEPWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5kYXRhLmdldEh3aWQoKV07Y2FzZSAxOnJldHVyblsyLF9hLnNlbnQoKV19fSl9KX0sUHVzaHdvb3NoLnByb3RvdHlwZS5nZXRQdXNoVG9rZW49ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLmRhdGEuZ2V0VG9rZW5zKCldO2Nhc2UgMTpyZXR1cm5bMixfYS5zZW50KCkucHVzaFRva2VuXX19KX0pfSxQdXNod29vc2gucHJvdG90eXBlLmdldFVzZXJJZD1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuZGF0YS5nZXRVc2VySWQoKV07Y2FzZSAxOnJldHVyblsyLF9hLnNlbnQoKV19fSl9KX0sUHVzaHdvb3NoLnByb3RvdHlwZS5nZXRQYXJhbXM9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLmFwaS5nZXRQYXJhbXMoKV07Y2FzZSAxOnJldHVyblsyLF9hLnNlbnQoKV19fSl9KX0sUHVzaHdvb3NoLnByb3RvdHlwZS5pc0F2YWlsYWJsZU5vdGlmaWNhdGlvbnM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5wbGF0Zm9ybUNoZWNrZXIuaXNBdmFpbGFibGVOb3RpZmljYXRpb25zfSxQdXNod29vc2gucHJvdG90eXBlLnNlbmRTdGF0aXN0aWNzVmlzaXRlZFBhZ2U9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciB0aXRsZSxfYSxvcmlnaW4scGF0aG5hbWUsaHJlZjtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYil7c3dpdGNoKF9iLmxhYmVsKXtjYXNlIDA6cmV0dXJuIHRpdGxlPXdpbmRvdy5kb2N1bWVudC50aXRsZSxfYT13aW5kb3cubG9jYXRpb24sb3JpZ2luPV9hLm9yaWdpbixwYXRobmFtZT1fYS5wYXRobmFtZSxocmVmPV9hLmhyZWYsWzQsdGhpcy5hcGkucGFnZVZpc2l0KHt0aXRsZTp0aXRsZSx1cmxfcGF0aDpcIlwiK29yaWdpbitwYXRobmFtZSx1cmw6aHJlZn0pXTtjYXNlIDE6cmV0dXJuIF9iLnNlbnQoKSxbMl19fSl9KX0sUHVzaHdvb3NoLnByb3RvdHlwZS5pc0VuYWJsZUNoYW5uZWxzPWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgZmVhdHVyZXMsY2hhbm5lbHM7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuZGF0YS5nZXRGZWF0dXJlcygpXTtjYXNlIDE6cmV0dXJuIGZlYXR1cmVzPV9hLnNlbnQoKSxjaGFubmVscz1mZWF0dXJlcyYmZmVhdHVyZXMuY2hhbm5lbHMsWzIsQXJyYXkuaXNBcnJheShjaGFubmVscykmJiEhY2hhbm5lbHMubGVuZ3RoXX19KX0pfSxQdXNod29vc2gucHJvdG90eXBlLmluaXRpYWxpemU9ZnVuY3Rpb24ocGFyYW1zKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBtYW51YWxEZWJ1ZyxhcHBsaWNhdGlvbkNvZGUsbm90U2F2ZWRBcHBsaWNhdGlvbkNvZGUsaXNDaGFuZ2VBcHBsaWNhdGlvbkNvZGUsaWQsY29uZmlnLF9hLHVzZXJJZFdhc0NoYW5nZSxpbkFwcHNDb25maWcsZXJyb3JfMixlcnJvcl8zLGRlbGF5ZWRFdmVudCx0eXBlLHBheWxvYWQsaGFzaFJlZyxoYXNoO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9iKXtzd2l0Y2goX2IubGFiZWwpe2Nhc2UgMDpyZXR1cm4gbWFudWFsRGVidWc9bG9jYWxTdG9yYWdlLmdldEl0ZW0oQ09OU1RBTlRTLk1BTlVBTF9TRVRfTE9HR0VSX0xFVkVMKSxsb2dnZXJfMS5Mb2dnZXIuc2V0TGV2ZWwobWFudWFsRGVidWd8fHBhcmFtcy5sb2dMZXZlbHx8XCJlcnJvclwiKSx0aGlzLnBsYXRmb3JtQ2hlY2tlci5pc0F2YWlsYWJsZU5vdGlmaWNhdGlvbnM/WzQsdGhpcy5kYXRhLmdldEFwcGxpY2F0aW9uQ29kZSgpXTpbMl07Y2FzZSAxOmlmKGFwcGxpY2F0aW9uQ29kZT1fYi5zZW50KCksIXBhcmFtcy5hcHBsaWNhdGlvbkNvZGUpdGhyb3cgbmV3IEVycm9yKFwiQ2FuJ3QgZmluZCBhcHBsaWNhdGlvbiBjb2RlIVwiKTtyZXR1cm4gbm90U2F2ZWRBcHBsaWNhdGlvbkNvZGU9IWFwcGxpY2F0aW9uQ29kZSxpc0NoYW5nZUFwcGxpY2F0aW9uQ29kZT1hcHBsaWNhdGlvbkNvZGUmJmFwcGxpY2F0aW9uQ29kZSE9PXBhcmFtcy5hcHBsaWNhdGlvbkNvZGUsbm90U2F2ZWRBcHBsaWNhdGlvbkNvZGV8fGlzQ2hhbmdlQXBwbGljYXRpb25Db2RlP1s0LHRoaXMuZGF0YS5jbGVhckFsbCgpXTpbMyw0XTtjYXNlIDI6cmV0dXJuIF9iLnNlbnQoKSxbNCx0aGlzLmRhdGEuc2V0QXBwbGljYXRpb25Db2RlKHBhcmFtcy5hcHBsaWNhdGlvbkNvZGUpXTtjYXNlIDM6X2Iuc2VudCgpLF9iLmxhYmVsPTQ7Y2FzZSA0OnJldHVybls0LHRoaXMuZGF0YS5nZXRId2lkKCldO2Nhc2UgNTpyZXR1cm4gX2Iuc2VudCgpP1szLDddOihpZD1wYXJhbXMuYXBwbGljYXRpb25Db2RlK1wiX1wiK3V1aWRfMS52NCgpLFs0LHRoaXMuZGF0YS5zZXRId2lkKGlkKV0pO2Nhc2UgNjpyZXR1cm4gX2Iuc2VudCgpLFszLDldO2Nhc2UgNzpyZXR1cm5bNCx0aGlzLmFwaS5jaGVja0RldmljZSgpXTtjYXNlIDg6X2Iuc2VudCgpLF9iLmxhYmVsPTk7Y2FzZSA5OnJldHVybls0LHRoaXMuZGF0YS5zZXREZXZpY2VUeXBlKHRoaXMucGxhdGZvcm1DaGVja2VyLmdldFBsYXRmb3JtVHlwZSgpKV07Y2FzZSAxMDpyZXR1cm4gX2Iuc2VudCgpLFs0LHRoaXMuZGF0YS5zZXREZXZpY2VNb2RlbCh0aGlzLnBsYXRmb3JtQ2hlY2tlci5nZXRCcm93c2VyVmVyc2lvbigpKV07Y2FzZSAxMTpyZXR1cm4gX2Iuc2VudCgpLFs0LHRoaXMuZGF0YS5zZXRMYW5ndWFnZShwYXJhbXMudGFncyYmcGFyYW1zLnRhZ3MuTGFuZ3VhZ2V8fG5hdmlnYXRvci5sYW5ndWFnZSldO2Nhc2UgMTI6cmV0dXJuIF9iLnNlbnQoKSxwYXJhbXMucHVzaHdvb3NoVXJsP1s0LHRoaXMuZGF0YS5zZXRBcGlFbnRyeXBvaW50KHBhcmFtcy5wdXNod29vc2hVcmwpXTpbMywxNF07Y2FzZSAxMzpfYi5zZW50KCksX2IubGFiZWw9MTQ7Y2FzZSAxNDpyZXR1cm5bNCx0aGlzLmRhdGEuc2V0U2RrVmVyc2lvbihcIjMuMTguMlwiKV07Y2FzZSAxNTpyZXR1cm4gX2Iuc2VudCgpLFs0LHRoaXMuYXBpLmdldENvbmZpZyhbXCJwYWdlX3Zpc2l0XCIsXCJ2YXBpZF9rZXlcIixcIndlYl9pbl9hcHBzXCIsXCJldmVudHNcIixcInN1YnNjcmlwdGlvbl9wcm9tcHRcIl0pXTtjYXNlIDE2OnJldHVybiBjb25maWc9X2Iuc2VudCgpLHRoaXMub25HZXRDb25maWcoY29uZmlnJiZjb25maWcuZmVhdHVyZXMpLHRoaXMuc3Vic2NyaWJlV2lkZ2V0Q29uZmlnPV9fYXNzaWduKHtlbmFibGU6ITF9LHBhcmFtcy5zdWJzY3JpYmVXaWRnZXQpLHRoaXMuaW5ib3hXaWRnZXRDb25maWc9X19hc3NpZ24oe2VuYWJsZTohMX0scGFyYW1zLmluYm94V2lkZ2V0KSx0aGlzLnN1YnNjcmliZVBvcHVwQ29uZmlnPV9fYXNzaWduKHtlbmFibGU6ITF9LHBhcmFtcy5zdWJzY3JpYmVQb3B1cCksX2E9dGhpcyxbNCx0aGlzLmRhdGEuZ2V0U3RhdHVzQ29tbXVuaWNhdGlvbkRpc2FibGVkKCldO2Nhc2UgMTc6cmV0dXJuIF9hLmlzQ29tbXVuaWNhdGlvbkRpc2FibGVkPV9iLnNlbnQoKSxbNCx0aGlzLm9wZW4oKV07Y2FzZSAxODpyZXR1cm4gX2Iuc2VudCgpLFs0LHRoaXMuZGF0YS5nZXRTdGF0dXNVc2VySWRXYXNDaGFuZ2VkKCldO2Nhc2UgMTk6cmV0dXJuIHVzZXJJZFdhc0NoYW5nZT1fYi5zZW50KCksIXBhcmFtcy51c2VySWR8fFwidXNlcl9pZFwiPT09cGFyYW1zLnVzZXJJZHx8dXNlcklkV2FzQ2hhbmdlP1szLDIxXTpbNCx0aGlzLmFwaS5yZWdpc3RlclVzZXIocGFyYW1zLnVzZXJJZCldO2Nhc2UgMjA6X2Iuc2VudCgpLF9iLmxhYmVsPTIxO2Nhc2UgMjE6cmV0dXJuIHBhcmFtcy50YWdzJiZ0aGlzLmFwaS5zZXRUYWdzKHBhcmFtcy50YWdzKSxpbkFwcHNDb25maWc9X19hc3NpZ24oe2VuYWJsZTpjb25maWcuZmVhdHVyZXMud2ViX2luX2FwcHMmJmNvbmZpZy5mZWF0dXJlcy53ZWJfaW5fYXBwcy5lbmFibGVkfSxwYXJhbXMuaW5BcHBzKSxbNCx0aGlzLmluaXRJbkFwcChpbkFwcHNDb25maWcpXTtjYXNlIDIyOnJldHVybiBfYi5zZW50KCksdGhpcy5wbGF0Zm9ybUNoZWNrZXIuaXNBdmFpbGFibGVOb3RpZmljYXRpb25zP1s0LHRoaXMuaW5pdFB1c2hOb3RpZmljYXRpb25zKHBhcmFtcyldOlszLDI0XTtjYXNlIDIzOl9iLnNlbnQoKSxfYi5sYWJlbD0yNDtjYXNlIDI0OnJldHVybiBfYi50cnlzLnB1c2goWzI0LDI2LCwyN10pLFs0LHRoaXMuaW5ib3hNb2RlbC51cGRhdGVNZXNzYWdlcyh0aGlzLl9lZSldO2Nhc2UgMjU6cmV0dXJuIF9iLnNlbnQoKSxbMywyN107Y2FzZSAyNjpyZXR1cm4gZXJyb3JfMj1fYi5zZW50KCksbG9nZ2VyXzEuTG9nZ2VyLndyaXRlKFwiZXJyb3JcIixlcnJvcl8yKSxbMywyN107Y2FzZSAyNzpyZXR1cm4gX2IudHJ5cy5wdXNoKFsyNywyOSwsMzBdKSxbNCx0aGlzLmluaXRGYWNlYm9vayhwYXJhbXMpXTtjYXNlIDI4OnJldHVybiBfYi5zZW50KCksWzMsMzBdO2Nhc2UgMjk6cmV0dXJuIGVycm9yXzM9X2Iuc2VudCgpLGxvZ2dlcl8xLkxvZ2dlci53cml0ZShcImVycm9yXCIsZXJyb3JfMyksWzMsMzBdO2Nhc2UgMzA6cmV0dXJuIHRoaXMuX2VlLmVtaXQoQ09OU1RBTlRTLkVWRU5UX09OX1JFQURZKSx0aGlzLnJlYWR5PSEwLFs0LHRoaXMuZGF0YS5nZXREZWxheWVkRXZlbnQoKV07Y2FzZSAzMTpyZXR1cm4oZGVsYXllZEV2ZW50PV9iLnNlbnQoKSk/KHR5cGU9ZGVsYXllZEV2ZW50LnR5cGUscGF5bG9hZD1kZWxheWVkRXZlbnQucGF5bG9hZCxbNCx0aGlzLl9lZS5lbWl0KHR5cGUscGF5bG9hZCldKTpbMywzNF07Y2FzZSAzMjpyZXR1cm4gX2Iuc2VudCgpLFs0LHRoaXMuZGF0YS5zZXREZWxheWVkRXZlbnQobnVsbCldO2Nhc2UgMzM6X2Iuc2VudCgpLF9iLmxhYmVsPTM0O2Nhc2UgMzQ6cmV0dXJuXCJzZXJ2aWNlV29ya2VyXCJpbiBuYXZpZ2F0b3ImJihuYXZpZ2F0b3Iuc2VydmljZVdvcmtlci5vbm1lc3NhZ2U9dGhpcy5vblNlcnZpY2VXb3JrZXJNZXNzYWdlKSxsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcInB1c2h3b29zaC13ZWJzZGstc3RhdHVzXCIsXCJpbml0XCIpLGRvY3VtZW50LmRpc3BhdGNoRXZlbnQobmV3IEN1c3RvbUV2ZW50KFwicHVzaHdvb3NoLmluaXRpYWxpemVkXCIse2RldGFpbDp7cHc6dGhpc319KSksdGhpcy5wbGF0Zm9ybUNoZWNrZXIuaXNTYWZhcmkmJihoYXNoUmVnPS8jUCguKikvLGhhc2g9ZGVjb2RlVVJJQ29tcG9uZW50KGRvY3VtZW50LmxvY2F0aW9uLmhhc2gpLGhhc2hSZWcudGVzdChoYXNoKSYmdGhpcy5hcGkucHVzaFN0YXQoaGFzaFJlZy5leGVjKGhhc2gpWzFdKS50aGVuKGZ1bmN0aW9uc18xLmNsZWFyTG9jYXRpb25IYXNoKSksWzJdfX0pfSl9LFB1c2h3b29zaC5wcm90b3R5cGUuZGVmYXVsdFByb2Nlc3M9ZnVuY3Rpb24oaW5pdFBhcmFtcyl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgcGVybWlzc2lvbixpc0NvbW11bmljYXRpb25EaXNhYmxlZCxpc0Ryb3BBbGxEYXRhLGlzTmVlZFJlc3Vic2NyaWJlLGZlYXR1cmVzLGN1cnJlbnRQcm9tcHRVc2VDYXNlLGF1dG9TdWJzY3JpYmUsaXNNYW51YWxVbnN1YnNjcmliZWQsaXNSZWdpc3Rlcix3aWRnZXRDb25maWcsaXNEZWZhdWx0VXNlQ2FzZSxpc05vdFNldFVzZUNhc2UscmVzdWx0O3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9iKXtzd2l0Y2goX2IubGFiZWwpe2Nhc2UgMDpyZXR1cm5cImdyYW50ZWRcIiE9PShwZXJtaXNzaW9uPXRoaXMuZHJpdmVyLmdldFBlcm1pc3Npb24oKSk/WzMsMl06WzQsdGhpcy5kYXRhLnNldExhc3RQZXJtaXNzaW9uU3RhdHVzKHBlcm1pc3Npb24pXTtjYXNlIDE6X2Iuc2VudCgpLF9iLmxhYmVsPTI7Y2FzZSAyOnJldHVybls0LHRoaXMuZGF0YS5nZXRTdGF0dXNDb21tdW5pY2F0aW9uRGlzYWJsZWQoKV07Y2FzZSAzOnJldHVybiBpc0NvbW11bmljYXRpb25EaXNhYmxlZD1fYi5zZW50KCksWzQsdGhpcy5kYXRhLmdldFN0YXR1c0Ryb3BBbGxEYXRhKCldO2Nhc2UgNDpyZXR1cm4gaXNEcm9wQWxsRGF0YT1fYi5zZW50KCksWzQsdGhpcy5kcml2ZXIuY2hlY2tJc05lZWRSZXN1YnNjcmliZSgpXTtjYXNlIDU6cmV0dXJuIGlzTmVlZFJlc3Vic2NyaWJlPV9iLnNlbnQoKSxbNCx0aGlzLmRhdGEuZ2V0RmVhdHVyZXMoKV07Y2FzZSA2OnJldHVybiBmZWF0dXJlcz1fYi5zZW50KCksY3VycmVudFByb21wdFVzZUNhc2U9ZmVhdHVyZXMuc3Vic2NyaXB0aW9uX3Byb21wdCYmZmVhdHVyZXMuc3Vic2NyaXB0aW9uX3Byb21wdC51c2VfY2FzZSxpc0NvbW11bmljYXRpb25EaXNhYmxlZHx8aXNEcm9wQWxsRGF0YT9bNCx0aGlzLnVuc3Vic2NyaWJlKCldOlszLDhdO2Nhc2UgNzpyZXR1cm4gX2Iuc2VudCgpLFsyXTtjYXNlIDg6cmV0dXJuIGlzTmVlZFJlc3Vic2NyaWJlP1s0LHRoaXMudW5zdWJzY3JpYmUoKV06WzMsMTFdO2Nhc2UgOTpyZXR1cm4gX2Iuc2VudCgpLFs0LHRoaXMuZGF0YS5zZXRTdGF0dXNNYW51YWxVbnN1YnNjcmliZWQoITEpXTtjYXNlIDEwOl9iLnNlbnQoKSxfYi5sYWJlbD0xMTtjYXNlIDExOnJldHVybiBhdXRvU3Vic2NyaWJlPWluaXRQYXJhbXMuYXV0b1N1YnNjcmliZSxbNCx0aGlzLmRhdGEuZ2V0U3RhdHVzTWFudWFsVW5zdWJzY3JpYmVkKCldO2Nhc2UgMTI6cmV0dXJuIGlzTWFudWFsVW5zdWJzY3JpYmVkPV9iLnNlbnQoKSxbNCx0aGlzLmFwaS5jaGVja0RldmljZVN1YnNjcmliZUZvclB1c2hOb3RpZmljYXRpb25zKCExKV07Y2FzZSAxMzpzd2l0Y2goaXNSZWdpc3Rlcj1fYi5zZW50KCkscGVybWlzc2lvbil7Y2FzZSBDT05TVEFOVFMuUEVSTUlTU0lPTl9QUk9NUFQ6cmV0dXJuWzMsMTRdO2Nhc2UgQ09OU1RBTlRTLlBFUk1JU1NJT05fREVOSUVEOnJldHVyblszLDIyXTtjYXNlIENPTlNUQU5UUy5QRVJNSVNTSU9OX0dSQU5URUQ6cmV0dXJuWzMsMjVdfXJldHVyblszLDMxXTtjYXNlIDE0OnJldHVybiB0aGlzLl9lZS5lbWl0KENPTlNUQU5UUy5FVkVOVF9PTl9QRVJNSVNTSU9OX1BST01QVCksaXNSZWdpc3Rlcj9bNCx0aGlzLnVuc3Vic2NyaWJlKCldOlszLDE2XTtjYXNlIDE1Ol9iLnNlbnQoKSxfYi5sYWJlbD0xNjtjYXNlIDE2OnJldHVybls0LHRoaXMuZ2V0V2lkZ2V0Q29uZmlnKCldO2Nhc2UgMTc6cmV0dXJuIHdpZGdldENvbmZpZz1fYi5zZW50KCksWzQsdGhpcy5jaGVja0NhblNob3dCeUNhcHBpbmcod2lkZ2V0Q29uZmlnKV07Y2FzZSAxODpyZXR1cm4gX2Iuc2VudCgpP2N1cnJlbnRQcm9tcHRVc2VDYXNlPT09Q09OU1RBTlRTLlNVQlNDUklQVElPTl9XSURHRVRfVVNFX0NBU0VfVE9QSUNfQkFTRUQ/WzQsdGhpcy5zdWJzY3JpcHRpb25TZWdtZW50V2lkZ2V0LmluaXQoKV06WzMsMjBdOlszLDMxXTtjYXNlIDE5Ol9iLnNlbnQoKSxfYi5sYWJlbD0yMDtjYXNlIDIwOnJldHVybiBpc0RlZmF1bHRVc2VDYXNlPWN1cnJlbnRQcm9tcHRVc2VDYXNlPT09Q09OU1RBTlRTLlNVQlNDUklQVElPTl9XSURHRVRfVVNFX0NBU0VfREVGQVVMVCxpc05vdFNldFVzZUNhc2U9Y3VycmVudFByb21wdFVzZUNhc2U9PT1DT05TVEFOVFMuU1VCU0NSSVBUSU9OX1dJREdFVF9VU0VfQ0FTRV9OT1RfU0VUJiZhdXRvU3Vic2NyaWJlLChpc0RlZmF1bHRVc2VDYXNlfHxpc05vdFNldFVzZUNhc2UpJiYodGhpcy5zdWJzY3JpcHRpb25Qcm9tcHRXaWRnZXQuaW5pdCh3aWRnZXRDb25maWcpLHRoaXMuc3Vic2NyaXB0aW9uUHJvbXB0V2lkZ2V0LnNob3coKSksWzQsdGhpcy51cGRhdGVDYXBwaW5nUGFyYW1zKCldO2Nhc2UgMjE6cmV0dXJuIF9iLnNlbnQoKSxbMywzMV07Y2FzZSAyMjpyZXR1cm4gdGhpcy5fZWUuZW1pdChDT05TVEFOVFMuRVZFTlRfT05fUEVSTUlTU0lPTl9ERU5JRUQpLGlzUmVnaXN0ZXI/WzQsdGhpcy51bnN1YnNjcmliZSgpXTpbMywyNF07Y2FzZSAyMzpfYi5zZW50KCksX2IubGFiZWw9MjQ7Y2FzZSAyNDpyZXR1cm5bMywzMV07Y2FzZSAyNTpyZXR1cm4gdGhpcy5fZWUuZW1pdChDT05TVEFOVFMuRVZFTlRfT05fUEVSTUlTU0lPTl9HUkFOVEVEKSxpc01hbnVhbFVuc3Vic2NyaWJlZCYmaXNSZWdpc3Rlcj9bNCx0aGlzLnVuc3Vic2NyaWJlKCldOlszLDI3XTtjYXNlIDI2Ol9iLnNlbnQoKSxfYi5sYWJlbD0yNztjYXNlIDI3OnJldHVybiFpc1JlZ2lzdGVyJiYhaXNNYW51YWxVbnN1YnNjcmliZWR8fGlzTmVlZFJlc3Vic2NyaWJlP1s0LHRoaXMuc3Vic2NyaWJlKCEwKV06WzMsMzBdO2Nhc2UgMjg6cmV0dXJuIF9iLnNlbnQoKSxjdXJyZW50UHJvbXB0VXNlQ2FzZT09PUNPTlNUQU5UUy5TVUJTQ1JJUFRJT05fV0lER0VUX1VTRV9DQVNFX1RPUElDX0JBU0VEPyhyZXN1bHQ9ZmVhdHVyZXMuY2hhbm5lbHMubWFwKGZ1bmN0aW9uKGNoYW5uZWwpe3JldHVybiBjaGFubmVsLmNvZGV9KSxbNCx0aGlzLmFwaS5zZXRUYWdzKHtcIlN1YnNjcmlwdGlvbiBTZWdtZW50c1wiOnJlc3VsdH0pXSk6WzMsMzBdO2Nhc2UgMjk6X2Iuc2VudCgpLF9iLmxhYmVsPTMwO2Nhc2UgMzA6cmV0dXJuWzMsMzFdO2Nhc2UgMzE6cmV0dXJuWzJdfX0pfSl9LFB1c2h3b29zaC5wcm90b3R5cGUuZ2V0V2lkZ2V0Q29uZmlnPWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgZmVhdHVyZXMsY3VycmVudENvbmZpZyxjb25maWdXaXRoRGVmYXVsdENhcHBpbmc7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuZGF0YS5nZXRGZWF0dXJlcygpXTtjYXNlIDE6cmV0dXJuIGZlYXR1cmVzPV9hLnNlbnQoKSxjdXJyZW50Q29uZmlnPWZlYXR1cmVzLnN1YnNjcmlwdGlvbl9wcm9tcHRfd2lkZ2V0JiZmZWF0dXJlcy5zdWJzY3JpcHRpb25fcHJvbXB0X3dpZGdldC5wYXJhbXMsY29uZmlnV2l0aERlZmF1bHRDYXBwaW5nPV9fYXNzaWduKHtjYXBwaW5nQ291bnQ6Q09OU1RBTlRTLlNVQlNDUklQVElPTl9QUk9NUFRfV0lER0VUX0RFRkFVTFRfQ09ORklHLmNhcHBpbmdDb3VudCxjYXBwaW5nRGVsYXk6Q09OU1RBTlRTLlNVQlNDUklQVElPTl9QUk9NUFRfV0lER0VUX0RFRkFVTFRfQ09ORklHLmNhcHBpbmdEZWxheX0sY3VycmVudENvbmZpZyksWzIsY3VycmVudENvbmZpZz9jb25maWdXaXRoRGVmYXVsdENhcHBpbmc6Q09OU1RBTlRTLlNVQlNDUklQVElPTl9QUk9NUFRfV0lER0VUX0RFRkFVTFRfQ09ORklHXX19KX0pfSxQdXNod29vc2gucHJvdG90eXBlLmNoZWNrQ2FuU2hvd0J5Q2FwcGluZz1mdW5jdGlvbih3aWRnZXRDb25maWcpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGN1cnJlbnRUaW1lLGRpc3BsYXlDb3VudCxsYXN0U2VlblRpbWUsY2FuU2hvd0J5Q2FwcGluZyxjYW5TaG93QnlMYXN0VGltZTtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuIGN1cnJlbnRUaW1lPShuZXcgRGF0ZSkuZ2V0VGltZSgpLFs0LHRoaXMuZGF0YS5nZXRQcm9tcHREaXNwbGF5Q291bnQoKV07Y2FzZSAxOnJldHVybiBkaXNwbGF5Q291bnQ9X2Euc2VudCgpLFs0LHRoaXMuZGF0YS5nZXRQcm9tcHRMYXN0U2VlblRpbWUoKV07Y2FzZSAyOnJldHVybiBsYXN0U2VlblRpbWU9X2Euc2VudCgpLGNhblNob3dCeUNhcHBpbmc9d2lkZ2V0Q29uZmlnLmNhcHBpbmdDb3VudD5kaXNwbGF5Q291bnQsY2FuU2hvd0J5TGFzdFRpbWU9Y3VycmVudFRpbWUtbGFzdFNlZW5UaW1lPndpZGdldENvbmZpZy5jYXBwaW5nRGVsYXksWzIsY2FuU2hvd0J5Q2FwcGluZyYmY2FuU2hvd0J5TGFzdFRpbWVdfX0pfSl9LFB1c2h3b29zaC5wcm90b3R5cGUudXBkYXRlQ2FwcGluZ1BhcmFtcz1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGRpc3BsYXlDb3VudCxjdXJyZW50VGltZTtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5kYXRhLmdldFByb21wdERpc3BsYXlDb3VudCgpXTtjYXNlIDE6cmV0dXJuIGRpc3BsYXlDb3VudD1fYS5zZW50KCksY3VycmVudFRpbWU9KG5ldyBEYXRlKS5nZXRUaW1lKCksWzQsdGhpcy5kYXRhLnNldFByb21wdERpc3BsYXlDb3VudChkaXNwbGF5Q291bnQrMSldO2Nhc2UgMjpyZXR1cm4gX2Euc2VudCgpLFs0LHRoaXMuZGF0YS5zZXRQcm9tcHRMYXN0U2VlblRpbWUoY3VycmVudFRpbWUpXTtjYXNlIDM6cmV0dXJuIF9hLnNlbnQoKSxbMl19fSl9KX0sUHVzaHdvb3NoLnByb3RvdHlwZS5vblJlYWR5SGFuZGxlcj1mdW5jdGlvbihjbWQpe3ZhciBfdGhpcz10aGlzO3RoaXMucmVhZHk/Y21kKHRoaXMuYXBpKTp0aGlzLl9lZS5vbihDT05TVEFOVFMuRVZFTlRfT05fUkVBRFksZnVuY3Rpb24ocGFyYW1zKXtyZXR1cm4gY21kKF90aGlzLmFwaSxwYXJhbXMpfSl9LFB1c2h3b29zaC5wcm90b3R5cGUuaGFuZGxlT25SZWFkeUNhbGxiYWNrPWZ1bmN0aW9uKGNhbGxiYWNrKXt0aGlzLm9uUmVhZHlIYW5kbGVyKGNhbGxiYWNrKX0sUHVzaHdvb3NoLnByb3RvdHlwZS5oYW5kbGVPbkNoYW5nZVBlcm1pc3Npb25DYWxsYmFjaz1mdW5jdGlvbihuYW1lLGNhbGxiYWNrKXt2YXIgX3RoaXM9dGhpcyxjdXJyZW50UHJvbWlzZT10aGlzLl9vblByb21pc2VzW25hbWVdO2N1cnJlbnRQcm9taXNlJiZjdXJyZW50UHJvbWlzZS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIGNhbGxiYWNrKF90aGlzLmFwaSl9KX0sUHVzaHdvb3NoLnByb3RvdHlwZS5oYW5kbGVFdmVudENhbGxiYWNrPWZ1bmN0aW9uKG5hbWUsY2FsbGJhY2spe3ZhciBfdGhpcz10aGlzO3RoaXMuX2VlLm9uKG5hbWUsZnVuY3Rpb24ocGFyYW1zKXtyZXR1cm4gY2FsbGJhY2soX3RoaXMuYXBpLHBhcmFtcyl9KX0sUHVzaHdvb3NoLnByb3RvdHlwZS5pbml0RmFjZWJvb2s9ZnVuY3Rpb24oaW5pdFBhcmFtcyl7dmFyIGZhY2Vib29rPV9fYXNzaWduKHtlbmFibGU6ITEscGFnZUlkOlwiXCIsY29udGFpbmVyQ2xhc3M6XCJcIn0saW5pdFBhcmFtcy5mYWNlYm9vayk7aWYoZmFjZWJvb2smJmZhY2Vib29rLmVuYWJsZSl0cnl7bmV3IEZhY2Vib29rTW9kdWxlXzEuZGVmYXVsdCh7cGFnZUlkOmZhY2Vib29rLnBhZ2VJZCxjb250YWluZXJDbGFzczpmYWNlYm9vay5jb250YWluZXJDbGFzcyxhcHBsaWNhdGlvbkNvZGU6aW5pdFBhcmFtcy5hcHBsaWNhdGlvbkNvZGUsdXNlcklkOmluaXRQYXJhbXMudXNlcklkfHxcIlwifSl9Y2F0Y2goZXJyb3Ipe2xvZ2dlcl8xLkxvZ2dlci5lcnJvcihlcnJvcixcImZhY2Vib29rIG1vZHVsZSBpbml0aWFsaXphdGlvbiBmYWlsZWRcIil9fSxQdXNod29vc2gucHJvdG90eXBlLmluaXRJbkFwcD1mdW5jdGlvbihwYXJhbXMpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGVycm9yXzQsX3RoaXM9dGhpcztyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6aWYoIXBhcmFtc3x8IXBhcmFtcy5lbmFibGUpcmV0dXJuWzMsNF07X2EubGFiZWw9MTtjYXNlIDE6cmV0dXJuIF9hLnRyeXMucHVzaChbMSwzLCw0XSksdGhpcy5JbkFwcHM9bmV3IEluQXBwc18xLkluQXBwcyhwYXJhbXMsdGhpcy5hcGkpLFs0LHRoaXMuSW5BcHBzLmluaXQoKS50aGVuKGZ1bmN0aW9uKCl7bG9nZ2VyXzEuTG9nZ2VyLmluZm8oXCJJbkFwcHMgbW9kdWxlIGhhcyBiZWVuIGluaXRpYWxpemVkXCIpLF90aGlzLmV2ZW50QnVzLmVtaXQoRXZlbnRCdXNfMS5URXZlbnRzLklOSVRfSU5fQVBQU19NT0RVTEUpfSkuY2F0Y2goZnVuY3Rpb24oZXJyb3Ipe2xvZ2dlcl8xLkxvZ2dlci5lcnJvcihlcnJvcixcIkluQXBwcyBtb2R1bGUgaW5pdGlhbGl6YXRpb24gaGFzIGJlZW4gZmFpbGVkXCIpfSldO2Nhc2UgMjpyZXR1cm4gX2Euc2VudCgpLFszLDRdO2Nhc2UgMzpyZXR1cm4gZXJyb3JfND1fYS5zZW50KCksbG9nZ2VyXzEuTG9nZ2VyLmVycm9yKGVycm9yXzQsXCJJbkFwcCBtb2R1bGUgaW5pdGlhbGl6YXRpb24gaGFzIGJlZW4gZmFpbGVkXCIpLFszLDRdO2Nhc2UgNDpyZXR1cm5bMl19fSl9KX0sUHVzaHdvb3NoLnByb3RvdHlwZS5vblNlcnZpY2VXb3JrZXJNZXNzYWdlPWZ1bmN0aW9uKGV2ZW50KXt2YXIgX2E9KGV2ZW50fHx7fSkuZGF0YSxfYj0odm9pZCAwPT09X2E/e306X2EpfHx7fSxfYz1fYi50eXBlLHR5cGU9dm9pZCAwPT09X2M/XCJcIjpfYyxfZD1fYi5wYXlsb2FkLHBheWxvYWQ9dm9pZCAwPT09X2Q/e306X2Q7dGhpcy5fZWUuZW1pdCh0eXBlLHBheWxvYWQpfSxQdXNod29vc2gucHJvdG90eXBlLm9wZW49ZnVuY3Rpb24oaXNGb3JjZSl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgbGFzdEFwcGxpY2F0aW9uT3BlblRpbWUsY3VycmVudFRpbWUsaXNTZW5kaW5nUGVyaW9kRXhjZWVkZWQ7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuZGF0YS5nZXRMYXN0T3BlbkFwcGxpY2F0aW9uVGltZSgpXTtjYXNlIDE6cmV0dXJuIGxhc3RBcHBsaWNhdGlvbk9wZW5UaW1lPV9hLnNlbnQoKSxjdXJyZW50VGltZT1EYXRlLm5vdygpLGxhc3RBcHBsaWNhdGlvbk9wZW5UaW1lfHwobGFzdEFwcGxpY2F0aW9uT3BlblRpbWU9MCksaXNTZW5kaW5nUGVyaW9kRXhjZWVkZWQ9Y3VycmVudFRpbWUtbGFzdEFwcGxpY2F0aW9uT3BlblRpbWU8Q09OU1RBTlRTLlBFUklPRF9TRU5EX0FQUF9PUEVOLGlzRm9yY2V8fCFpc1NlbmRpbmdQZXJpb2RFeGNlZWRlZD9bNCx0aGlzLmRhdGEuc2V0TGFzdE9wZW5BcHBsaWNhdGlvblRpbWUoY3VycmVudFRpbWUpXTpbMl07Y2FzZSAyOnJldHVybiBfYS5zZW50KCksWzQsdGhpcy5hcGkuYXBwbGljYXRpb25PcGVuKCldO2Nhc2UgMzpyZXR1cm4gX2Euc2VudCgpLFsyXX19KX0pfSxQdXNod29vc2gucHJvdG90eXBlLm9uR2V0Q29uZmlnPWZ1bmN0aW9uKGZlYXR1cmVzKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLmRhdGEuc2V0RmVhdHVyZXMoZmVhdHVyZXMpXTtjYXNlIDE6cmV0dXJuIF9hLnNlbnQoKSxmZWF0dXJlcz9mZWF0dXJlcy5wYWdlX3Zpc2l0JiZmZWF0dXJlcy5wYWdlX3Zpc2l0LmVuYWJsZWQ/WzQsc3RvcmFnZV8xLmtleVZhbHVlLnNldChDT05TVEFOVFMuUEFHRV9WSVNJVEVEX1VSTCxmZWF0dXJlcy5wYWdlX3Zpc2l0LmVudHJ5cG9pbnQpXTpbMywzXTpbMyw1XTtjYXNlIDI6X2Euc2VudCgpLHRoaXMuc2VuZFN0YXRpc3RpY3NWaXNpdGVkUGFnZSgpLF9hLmxhYmVsPTM7Y2FzZSAzOnJldHVybiBmZWF0dXJlcy5ldmVudHMmJmZlYXR1cmVzLmV2ZW50cy5sZW5ndGgmJmZlYXR1cmVzLmV2ZW50cy5zb21lKGZ1bmN0aW9uKGV2ZW50KXtyZXR1cm4gZXZlbnQ9PT1DT05TVEFOVFMuRVZFTlRfUFdfU0lURV9PUEVORUR9KSYmdGhpcy5zZW5kUG9zdEV2ZW50VmlzaXRlZFBhZ2UoKSxmZWF0dXJlcy52YXBpZF9rZXk/WzQsdGhpcy5kYXRhLnNldEFwcGxpY2F0aW9uU2VydmVyS2V5KGZlYXR1cmVzLnZhcGlkX2tleSldOlszLDVdO2Nhc2UgNDpfYS5zZW50KCksX2EubGFiZWw9NTtjYXNlIDU6cmV0dXJuWzJdfX0pfSl9LFB1c2h3b29zaC5wcm90b3R5cGUuaW5pdFB1c2hOb3RpZmljYXRpb25zPWZ1bmN0aW9uKHBhcmFtcyl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgZXJyb3JfNTtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5kYXRhLnNldERlZmF1bHROb3RpZmljYXRpb25JbWFnZShwYXJhbXMuZGVmYXVsdE5vdGlmaWNhdGlvbkltYWdlKV07Y2FzZSAxOnJldHVybiBfYS5zZW50KCksWzQsdGhpcy5kYXRhLnNldERlZmF1bHROb3RpZmljYXRpb25UaXRsZShwYXJhbXMuZGVmYXVsdE5vdGlmaWNhdGlvblRpdGxlKV07Y2FzZSAyOnJldHVybiBfYS5zZW50KCksWzQsdGhpcy5kYXRhLnNldFNlcnZpY2VXb3JrZXJVcmwocGFyYW1zLnNlcnZpY2VXb3JrZXJVcmwpXTtjYXNlIDM6cmV0dXJuIF9hLnNlbnQoKSxbNCx0aGlzLmRhdGEuc2V0U2VydmljZVdvcmtlclNjb3BlKHBhcmFtcy5zY29wZSldO2Nhc2UgNDpyZXR1cm4gX2Euc2VudCgpLFs0LHRoaXMuZGF0YS5zZXRJbml0UGFyYW1zKF9fYXNzaWduKHthdXRvU3Vic2NyaWJlOiEwfSxwYXJhbXMpKV07Y2FzZSA1OnJldHVybiBfYS5zZW50KCksWzQsdGhpcy5pbml0RHJpdmVyKCldO2Nhc2UgNjpfYS5zZW50KCksX2EubGFiZWw9NztjYXNlIDc6cmV0dXJuIF9hLnRyeXMucHVzaChbNyw5LCwxMF0pLFs0LHRoaXMuZGVmYXVsdFByb2Nlc3MocGFyYW1zKV07Y2FzZSA4OnJldHVybiBfYS5zZW50KCksWzMsMTBdO2Nhc2UgOTpyZXR1cm4gZXJyb3JfNT1fYS5zZW50KCksbG9nZ2VyXzEuTG9nZ2VyLmVycm9yKGVycm9yXzUsXCJJbnRlcm5hbCBlcnJvcjogZGVmYXVsdFByb2Nlc3MgZmFpbFwiKSxbMywxMF07Y2FzZSAxMDpyZXR1cm5bMl19fSl9KX0sUHVzaHdvb3NoLnByb3RvdHlwZS5pbml0RHJpdmVyPWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgd2ViU2l0ZVB1c2hJZDtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuIHRoaXMucGxhdGZvcm1DaGVja2VyLmlzU2FmYXJpP1s0LHRoaXMuZGF0YS5nZXRJbml0UGFyYW1zKCldOlszLDJdO2Nhc2UgMTppZighKHdlYlNpdGVQdXNoSWQ9X2Euc2VudCgpLnNhZmFyaVdlYnNpdGVQdXNoSUQpKXRocm93IG5ldyBFcnJvcihcIkZvciB3b3JrIHdpdGggU2FmYXJpIFB1c2ggTm90aWZpY2F0aW9uIGFkZCBzYWZhcmlXZWJzaXRlUHVzaElEIHRvIGluaXRQYXJhbXMhXCIpO3JldHVybiB0aGlzLmRyaXZlcj1uZXcgUHVzaFNlcnZpY2VfMS5QdXNoU2VydmljZVNhZmFyaSh0aGlzLmFwaSx0aGlzLmRhdGEse3dlYlNpdGVQdXNoSWQ6d2ViU2l0ZVB1c2hJZH0pLFsyXTtjYXNlIDI6cmV0dXJuIHRoaXMucGxhdGZvcm1DaGVja2VyLmlzQXZhaWxhYmxlU2VydmljZVdvcmtlcj8odGhpcy5kcml2ZXI9bmV3IFB1c2hTZXJ2aWNlXzEuUHVzaFNlcnZpY2VEZWZhdWx0KHRoaXMuYXBpLHRoaXMuZGF0YSx7fSksWzJdKTpbMl19fSl9KX0sUHVzaHdvb3NoLnByb3RvdHlwZS5zZW5kUG9zdEV2ZW50VmlzaXRlZFBhZ2U9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciB0aXRsZSxocmVmO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtyZXR1cm4gdGl0bGU9d2luZG93LmRvY3VtZW50LnRpdGxlLGhyZWY9d2luZG93LmxvY2F0aW9uLmhyZWYsdGhpcy5hcGkucG9zdEV2ZW50KENPTlNUQU5UUy5FVkVOVF9QV19TSVRFX09QRU5FRCx7dXJsOmhyZWYsdGl0bGU6dGl0bGUsZGV2aWNlX3R5cGU6dGhpcy5wbGF0Zm9ybUNoZWNrZXIucGxhdGZvcm19KSxbMl19KX0pfSxQdXNod29vc2h9KCk7ZXhwb3J0cy5kZWZhdWx0PVB1c2h3b29zaH0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7dmFyIF9ub2RlSWQsX2Nsb2Nrc2VxLHJuZz1fX3dlYnBhY2tfcmVxdWlyZV9fKDMxKSxieXRlc1RvVXVpZD1fX3dlYnBhY2tfcmVxdWlyZV9fKDMyKSxfbGFzdE1TZWNzPTAsX2xhc3ROU2Vjcz0wO21vZHVsZS5leHBvcnRzPWZ1bmN0aW9uKG9wdGlvbnMsYnVmLG9mZnNldCl7dmFyIGk9YnVmJiZvZmZzZXR8fDAsYj1idWZ8fFtdLG5vZGU9KG9wdGlvbnM9b3B0aW9uc3x8e30pLm5vZGV8fF9ub2RlSWQsY2xvY2tzZXE9dm9pZCAwIT09b3B0aW9ucy5jbG9ja3NlcT9vcHRpb25zLmNsb2Nrc2VxOl9jbG9ja3NlcTtpZihudWxsPT1ub2RlfHxudWxsPT1jbG9ja3NlcSl7dmFyIHNlZWRCeXRlcz1ybmcoKTtudWxsPT1ub2RlJiYobm9kZT1fbm9kZUlkPVsxfHNlZWRCeXRlc1swXSxzZWVkQnl0ZXNbMV0sc2VlZEJ5dGVzWzJdLHNlZWRCeXRlc1szXSxzZWVkQnl0ZXNbNF0sc2VlZEJ5dGVzWzVdXSksbnVsbD09Y2xvY2tzZXEmJihjbG9ja3NlcT1fY2xvY2tzZXE9MTYzODMmKHNlZWRCeXRlc1s2XTw8OHxzZWVkQnl0ZXNbN10pKX12YXIgbXNlY3M9dm9pZCAwIT09b3B0aW9ucy5tc2Vjcz9vcHRpb25zLm1zZWNzOihuZXcgRGF0ZSkuZ2V0VGltZSgpLG5zZWNzPXZvaWQgMCE9PW9wdGlvbnMubnNlY3M/b3B0aW9ucy5uc2VjczpfbGFzdE5TZWNzKzEsZHQ9bXNlY3MtX2xhc3RNU2VjcysobnNlY3MtX2xhc3ROU2VjcykvMWU0O2lmKGR0PDAmJnZvaWQgMD09PW9wdGlvbnMuY2xvY2tzZXEmJihjbG9ja3NlcT1jbG9ja3NlcSsxJjE2MzgzKSwoZHQ8MHx8bXNlY3M+X2xhc3RNU2VjcykmJnZvaWQgMD09PW9wdGlvbnMubnNlY3MmJihuc2Vjcz0wKSxuc2Vjcz49MWU0KXRocm93IG5ldyBFcnJvcihcInV1aWQudjEoKTogQ2FuJ3QgY3JlYXRlIG1vcmUgdGhhbiAxME0gdXVpZHMvc2VjXCIpO19sYXN0TVNlY3M9bXNlY3MsX2xhc3ROU2Vjcz1uc2VjcyxfY2xvY2tzZXE9Y2xvY2tzZXE7dmFyIHRsPSgxZTQqKDI2ODQzNTQ1NSYobXNlY3MrPTEyMjE5MjkyOGU1KSkrbnNlY3MpJTQyOTQ5NjcyOTY7YltpKytdPXRsPj4+MjQmMjU1LGJbaSsrXT10bD4+PjE2JjI1NSxiW2krK109dGw+Pj44JjI1NSxiW2krK109MjU1JnRsO3ZhciB0bWg9bXNlY3MvNDI5NDk2NzI5NioxZTQmMjY4NDM1NDU1O2JbaSsrXT10bWg+Pj44JjI1NSxiW2krK109MjU1JnRtaCxiW2krK109dG1oPj4+MjQmMTV8MTYsYltpKytdPXRtaD4+PjE2JjI1NSxiW2krK109Y2xvY2tzZXE+Pj44fDEyOCxiW2krK109MjU1JmNsb2Nrc2VxO2Zvcih2YXIgbj0wO248NjsrK24pYltpK25dPW5vZGVbbl07cmV0dXJuIGJ1Znx8Ynl0ZXNUb1V1aWQoYil9fSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgUHVzaFNlcnZpY2VEZWZhdWx0XzE9X193ZWJwYWNrX3JlcXVpcmVfXyg4Mik7ZXhwb3J0cy5QdXNoU2VydmljZURlZmF1bHQ9UHVzaFNlcnZpY2VEZWZhdWx0XzEuUHVzaFNlcnZpY2VEZWZhdWx0O3ZhciBQdXNoU2VydmljZVNhZmFyaV8xPV9fd2VicGFja19yZXF1aXJlX18oODMpO2V4cG9ydHMuUHVzaFNlcnZpY2VTYWZhcmk9UHVzaFNlcnZpY2VTYWZhcmlfMS5QdXNoU2VydmljZVNhZmFyaX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7dmFyIF9fYXdhaXRlcj10aGlzJiZ0aGlzLl9fYXdhaXRlcnx8ZnVuY3Rpb24odGhpc0FyZyxfYXJndW1lbnRzLFAsZ2VuZXJhdG9yKXtyZXR1cm4gbmV3KFB8fChQPVByb21pc2UpKShmdW5jdGlvbihyZXNvbHZlLHJlamVjdCl7ZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKXt0cnl7c3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpfWNhdGNoKGUpe3JlamVjdChlKX19ZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpe3RyeXtzdGVwKGdlbmVyYXRvci50aHJvdyh2YWx1ZSkpfWNhdGNoKGUpe3JlamVjdChlKX19ZnVuY3Rpb24gc3RlcChyZXN1bHQpe3Jlc3VsdC5kb25lP3Jlc29sdmUocmVzdWx0LnZhbHVlKTpmdW5jdGlvbih2YWx1ZSl7cmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUD92YWx1ZTpuZXcgUChmdW5jdGlvbihyZXNvbHZlKXtyZXNvbHZlKHZhbHVlKX0pfShyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLHJlamVjdGVkKX1zdGVwKChnZW5lcmF0b3I9Z2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsX2FyZ3VtZW50c3x8W10pKS5uZXh0KCkpfSl9LF9fZ2VuZXJhdG9yPXRoaXMmJnRoaXMuX19nZW5lcmF0b3J8fGZ1bmN0aW9uKHRoaXNBcmcsYm9keSl7dmFyIGYseSx0LGcsXz17bGFiZWw6MCxzZW50OmZ1bmN0aW9uKCl7aWYoMSZ0WzBdKXRocm93IHRbMV07cmV0dXJuIHRbMV19LHRyeXM6W10sb3BzOltdfTtyZXR1cm4gZz17bmV4dDp2ZXJiKDApLHRocm93OnZlcmIoMSkscmV0dXJuOnZlcmIoMil9LFwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmKGdbU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSksZztmdW5jdGlvbiB2ZXJiKG4pe3JldHVybiBmdW5jdGlvbih2KXtyZXR1cm4gZnVuY3Rpb24ob3Ape2lmKGYpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7Zm9yKDtfOyl0cnl7aWYoZj0xLHkmJih0PTImb3BbMF0/eS5yZXR1cm46b3BbMF0/eS50aHJvd3x8KCh0PXkucmV0dXJuKSYmdC5jYWxsKHkpLDApOnkubmV4dCkmJiEodD10LmNhbGwoeSxvcFsxXSkpLmRvbmUpcmV0dXJuIHQ7c3dpdGNoKHk9MCx0JiYob3A9WzImb3BbMF0sdC52YWx1ZV0pLG9wWzBdKXtjYXNlIDA6Y2FzZSAxOnQ9b3A7YnJlYWs7Y2FzZSA0OnJldHVybiBfLmxhYmVsKysse3ZhbHVlOm9wWzFdLGRvbmU6ITF9O2Nhc2UgNTpfLmxhYmVsKysseT1vcFsxXSxvcD1bMF07Y29udGludWU7Y2FzZSA3Om9wPV8ub3BzLnBvcCgpLF8udHJ5cy5wb3AoKTtjb250aW51ZTtkZWZhdWx0OmlmKCEodD0odD1fLnRyeXMpLmxlbmd0aD4wJiZ0W3QubGVuZ3RoLTFdKSYmKDY9PT1vcFswXXx8Mj09PW9wWzBdKSl7Xz0wO2NvbnRpbnVlfWlmKDM9PT1vcFswXSYmKCF0fHxvcFsxXT50WzBdJiZvcFsxXTx0WzNdKSl7Xy5sYWJlbD1vcFsxXTticmVha31pZig2PT09b3BbMF0mJl8ubGFiZWw8dFsxXSl7Xy5sYWJlbD10WzFdLHQ9b3A7YnJlYWt9aWYodCYmXy5sYWJlbDx0WzJdKXtfLmxhYmVsPXRbMl0sXy5vcHMucHVzaChvcCk7YnJlYWt9dFsyXSYmXy5vcHMucG9wKCksXy50cnlzLnBvcCgpO2NvbnRpbnVlfW9wPWJvZHkuY2FsbCh0aGlzQXJnLF8pfWNhdGNoKGUpe29wPVs2LGVdLHk9MH1maW5hbGx5e2Y9dD0wfWlmKDUmb3BbMF0pdGhyb3cgb3BbMV07cmV0dXJue3ZhbHVlOm9wWzBdP29wWzFdOnZvaWQgMCxkb25lOiEwfX0oW24sdl0pfX19O09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciB1dWlkXzE9X193ZWJwYWNrX3JlcXVpcmVfXyg0OSksbG9nZ2VyXzE9X193ZWJwYWNrX3JlcXVpcmVfXyg1KSxDT05TVEFOVFM9X193ZWJwYWNrX3JlcXVpcmVfXygxKSxQdXNoU2VydmljZURlZmF1bHQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBQdXNoU2VydmljZURlZmF1bHQoYXBpLGRhdGEsY29uZmlnKXt0aGlzLmFwaT1hcGksdGhpcy5kYXRhPWRhdGEsdGhpcy5jb25maWc9Y29uZmlnfXJldHVybiBQdXNoU2VydmljZURlZmF1bHQucHJvdG90eXBlLmdldFBlcm1pc3Npb249ZnVuY3Rpb24oKXtyZXR1cm4gTm90aWZpY2F0aW9uLnBlcm1pc3Npb259LFB1c2hTZXJ2aWNlRGVmYXVsdC5wcm90b3R5cGUuY2hlY2tJc1Blcm1pc3Npb25HcmFudGVkPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ2V0UGVybWlzc2lvbigpPT09Q09OU1RBTlRTLlBFUk1JU1NJT05fR1JBTlRFRH0sUHVzaFNlcnZpY2VEZWZhdWx0LnByb3RvdHlwZS5jaGVja0lzUGVybWlzc2lvbkRlZmF1bHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRQZXJtaXNzaW9uKCk9PT1DT05TVEFOVFMuUEVSTUlTU0lPTl9QUk9NUFR9LFB1c2hTZXJ2aWNlRGVmYXVsdC5wcm90b3R5cGUuY2hlY2tJc01hbnVhbFVuc3Vic2NyaWJlZD1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3JldHVyblsyLHRoaXMuZGF0YS5nZXRTdGF0dXNNYW51YWxVbnN1YnNjcmliZWQoKV19KX0pfSxQdXNoU2VydmljZURlZmF1bHQucHJvdG90eXBlLmFza1Blcm1pc3Npb249ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCxOb3RpZmljYXRpb24ucmVxdWVzdFBlcm1pc3Npb24oKV07Y2FzZSAxOnJldHVybiBfYS5zZW50KCksWzJdfX0pfSl9LFB1c2hTZXJ2aWNlRGVmYXVsdC5wcm90b3R5cGUuZ2V0VG9rZW5zPWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7cmV0dXJuWzIsdGhpcy5kYXRhLmdldFRva2VucygpXX0pfSl9LFB1c2hTZXJ2aWNlRGVmYXVsdC5wcm90b3R5cGUuc3Vic2NyaWJlPWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgc3Vic2NyaXB0aW9uLGFwcGxpY2F0aW9uU2VydmVyS2V5LHNlbmRlcklkLHB1c2hUb2tlbixfcDI1NmRuLF9hdXRoLHAyNTZkaCxhdXRoLF9hLHRva2VuLHB1c2hTZXQ7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Ipe3N3aXRjaChfYi5sYWJlbCl7Y2FzZSAwOnJldHVybiB0aGlzLmNoZWNrSXNQZXJtaXNzaW9uR3JhbnRlZCgpP1s0LHRoaXMudHJ5U3Vic2NyaWJlKCldOihsb2dnZXJfMS5Mb2dnZXIuZXJyb3IoXCJZb3UgbXVzdCBoYXZlIHBlcm1pc3Npb24gZ3JhbnRlZCBiZWZvcmUgc3Vic2NyaWJlIVwiKSxbMl0pO2Nhc2UgMTpyZXR1cm4gc3Vic2NyaXB0aW9uPV9iLnNlbnQoKSxbNCx0aGlzLmdldEFwcGxpY2F0aW9uU2VydmVyS2V5KCldO2Nhc2UgMjpyZXR1cm4gYXBwbGljYXRpb25TZXJ2ZXJLZXk9X2Iuc2VudCgpLFs0LHRoaXMuZ2V0U2VuZGVySWRGcm9tTWFuaWZlc3QoKV07Y2FzZSAzOnJldHVybiBzZW5kZXJJZD1fYi5zZW50KCksWzQsdGhpcy5jaGVja0lzQ2hhbmdlU2VuZGVySWQoc2VuZGVySWQpXTtjYXNlIDQ6cmV0dXJuIF9iLnNlbnQoKT9bNCx0aGlzLnVuc3Vic2NyaWJlKCldOlszLDddO2Nhc2UgNTpyZXR1cm4gX2Iuc2VudCgpLFs0LHRoaXMuZGF0YS5zZXRTZW5kZXJJZChzZW5kZXJJZCldO2Nhc2UgNjpfYi5zZW50KCksX2IubGFiZWw9NztjYXNlIDc6cmV0dXJuWzQsdGhpcy5nZXRQdXNoVG9rZW4oc3Vic2NyaXB0aW9uKV07Y2FzZSA4OmlmKHB1c2hUb2tlbj1fYi5zZW50KCksX3AyNTZkbj1zdWJzY3JpcHRpb24uZ2V0S2V5KFwicDI1NmRoXCIpLF9hdXRoPXN1YnNjcmlwdGlvbi5nZXRLZXkoXCJhdXRoXCIpLCFfcDI1NmRufHwhX2F1dGgpdGhyb3cgbmV3IEVycm9yKFwiQ2FuJ3QgZ2V0IHN1YnNjcmlwdGlvbiBrZXlzIVwiKTtyZXR1cm4gcDI1NmRoPWJ0b2EoU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcsbmV3IFVpbnQ4QXJyYXkoX3AyNTZkbikpKSxhdXRoPWJ0b2EoU3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShTdHJpbmcsbmV3IFVpbnQ4QXJyYXkoX2F1dGgpKSksWzQsdGhpcy5nZXRGY21LZXlzKHtlbmRwb2ludDpzdWJzY3JpcHRpb24uZW5kcG9pbnQsYXBwbGljYXRpb25fcHViX2tleTphcHBsaWNhdGlvblNlcnZlcktleSxlbmNyeXB0aW9uX2tleTpwMjU2ZGgsZW5jcnlwdGlvbl9hdXRoOmF1dGgsYXV0aG9yaXplZF9lbnRpdHk6c2VuZGVySWR9KV07Y2FzZSA5OnJldHVybiBfYT1fYi5zZW50KCksdG9rZW49X2EudG9rZW4scHVzaFNldD1fYS5wdXNoU2V0LFs0LHRoaXMuZGF0YS5zZXRUb2tlbnMoe3B1YmxpY0tleTpwMjU2ZGgscHVzaFRva2VuOnB1c2hUb2tlbixhdXRoVG9rZW46YXV0aCxmY21QdXNoU2V0OnB1c2hTZXQsZmNtVG9rZW46dG9rZW4sZW5kcG9pbnQ6c3Vic2NyaXB0aW9uLmVuZHBvaW50fSldO2Nhc2UgMTA6cmV0dXJuIF9iLnNlbnQoKSxbNCx0aGlzLmFwaS5yZWdpc3RlckRldmljZSgpXTtjYXNlIDExOnJldHVybiBfYi5zZW50KCksWzJdfX0pfSl9LFB1c2hTZXJ2aWNlRGVmYXVsdC5wcm90b3R5cGUudW5zdWJzY3JpYmU9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBzdWJzY3JpcHRpb247cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuZ2V0U2VydmljZVdvcmtlclJlZ2lzdHJhdGlvbigpXTtjYXNlIDE6cmV0dXJuWzQsX2Euc2VudCgpLnB1c2hNYW5hZ2VyLmdldFN1YnNjcmlwdGlvbigpXTtjYXNlIDI6cmV0dXJuIHN1YnNjcmlwdGlvbj1fYS5zZW50KCksWzQsdGhpcy5kYXRhLnNldFRva2Vucyh7fSldO2Nhc2UgMzpyZXR1cm4gX2Euc2VudCgpLFs0LHRoaXMuZGF0YS5zZXRTdGF0dXNNYW51YWxVbnN1YnNjcmliZWQoITApXTtjYXNlIDQ6cmV0dXJuIF9hLnNlbnQoKSxbNCx0aGlzLmFwaS51bnJlZ2lzdGVyRGV2aWNlKCldO2Nhc2UgNTpyZXR1cm4gX2Euc2VudCgpLHN1YnNjcmlwdGlvbj9bNCxzdWJzY3JpcHRpb24udW5zdWJzY3JpYmUoKV06WzJdO2Nhc2UgNjpyZXR1cm4gX2Euc2VudCgpLFsyXX19KX0pfSxQdXNoU2VydmljZURlZmF1bHQucHJvdG90eXBlLmNoZWNrSXNSZWdpc3Rlcj1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3JldHVyblsyLHRoaXMuYXBpLmNoZWNrRGV2aWNlU3Vic2NyaWJlRm9yUHVzaE5vdGlmaWNhdGlvbnMoKV19KX0pfSxQdXNoU2VydmljZURlZmF1bHQucHJvdG90eXBlLmNoZWNrSXNOZWVkUmVzdWJzY3JpYmU9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBzYXZlZFNlbmRlcklkLGlzRXhpc3RTYXZlZFNlbmRlcklkLG1hbmlmZXN0U2VuZGVySWQsaXNDaGFuZ2VTZW5kZXJJRCxsYXN0UGVybWlzc2lvbixwZXJtaXNzaW9uLGNyZWRlbnRpYWxzLHB1c2hUb2tlbkZyb21TdWJzY3JpcHRpb24scHVzaFRva2VuRnJvbVN0b3JlLGlzRXF1YWxQdXNoVG9rZW5zO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLmRhdGEuZ2V0U2VuZGVySWQoKV07Y2FzZSAxOnJldHVybiBzYXZlZFNlbmRlcklkPV9hLnNlbnQoKSxpc0V4aXN0U2F2ZWRTZW5kZXJJZD12b2lkIDAhPT1zYXZlZFNlbmRlcklkLFs0LHRoaXMuZ2V0U2VuZGVySWRGcm9tTWFuaWZlc3QoKV07Y2FzZSAyOnJldHVybiBtYW5pZmVzdFNlbmRlcklkPV9hLnNlbnQoKSxpc0NoYW5nZVNlbmRlcklEPWlzRXhpc3RTYXZlZFNlbmRlcklkJiZtYW5pZmVzdFNlbmRlcklkIT09c2F2ZWRTZW5kZXJJZCxbNCx0aGlzLmRhdGEuc2V0U2VuZGVySWQobWFuaWZlc3RTZW5kZXJJZCldO2Nhc2UgMzpyZXR1cm4gX2Euc2VudCgpLFs0LHRoaXMuZGF0YS5nZXRMYXN0UGVybWlzc2lvblN0YXR1cygpXTtjYXNlIDQ6cmV0dXJuIGxhc3RQZXJtaXNzaW9uPV9hLnNlbnQoKSxwZXJtaXNzaW9uPXRoaXMuZ2V0UGVybWlzc2lvbigpLGlzRXhpc3RTYXZlZFNlbmRlcklkJiZsYXN0UGVybWlzc2lvbiE9PXBlcm1pc3Npb24/WzQsdGhpcy5kYXRhLnNldExhc3RQZXJtaXNzaW9uU3RhdHVzKHBlcm1pc3Npb24pXTpbMyw2XTtjYXNlIDU6cmV0dXJuIF9hLnNlbnQoKSxbMiwhMF07Y2FzZSA2OnJldHVybls0LHRoaXMuZ2V0Q3JlZGVudGlhbHMoKV07Y2FzZSA3OnJldHVybiBjcmVkZW50aWFscz1fYS5zZW50KCksWzQsdGhpcy5nZXRQdXNoVG9rZW4oY3JlZGVudGlhbHMpXTtjYXNlIDg6cmV0dXJuIHB1c2hUb2tlbkZyb21TdWJzY3JpcHRpb249X2Euc2VudCgpLFs0LHRoaXMuZGF0YS5nZXRUb2tlbnMoKV07Y2FzZSA5OnJldHVybiBwdXNoVG9rZW5Gcm9tU3RvcmU9X2Euc2VudCgpLGlzRXF1YWxQdXNoVG9rZW5zPXB1c2hUb2tlbkZyb21TdWJzY3JpcHRpb249PT0ocHVzaFRva2VuRnJvbVN0b3JlJiZwdXNoVG9rZW5Gcm9tU3RvcmUucHVzaFRva2VuKSxbMixpc0NoYW5nZVNlbmRlcklEfHwhaXNFcXVhbFB1c2hUb2tlbnNdfX0pfSl9LFB1c2hTZXJ2aWNlRGVmYXVsdC5wcm90b3R5cGUuZ2V0U2VydmljZVdvcmtlclJlZ2lzdHJhdGlvbj1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIF9hO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9iKXtzd2l0Y2goX2IubGFiZWwpe2Nhc2UgMDpyZXR1cm4gdGhpcy5yZWdpc3RyYXRpb24/WzMsNF06WzQsdGhpcy5yZWdpc3RlclNlcnZpY2VXb3JrZXIoKV07Y2FzZSAxOnJldHVybiBfYi5zZW50KCksX2E9dGhpcyxbNCxuYXZpZ2F0b3Iuc2VydmljZVdvcmtlci5nZXRSZWdpc3RyYXRpb24oKV07Y2FzZSAyOnJldHVybiBfYS5yZWdpc3RyYXRpb249X2Iuc2VudCgpLFs0LHRoaXMucmVnaXN0cmF0aW9uLnVwZGF0ZSgpXTtjYXNlIDM6X2Iuc2VudCgpLF9iLmxhYmVsPTQ7Y2FzZSA0OmlmKCF0aGlzLnJlZ2lzdHJhdGlvbil0aHJvdyBuZXcgRXJyb3IoXCJJbnRlcm5hbCBFcnJvcjogQ2FuJ3QgcmVnaXN0ZXIgc2VydmljZSB3b3JrZXIhXCIpO3JldHVyblsyLHRoaXMucmVnaXN0cmF0aW9uXX19KX0pfSxQdXNoU2VydmljZURlZmF1bHQucHJvdG90eXBlLnJlZ2lzdGVyU2VydmljZVdvcmtlcj1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIHVybCxzY29wZSxzZGtWZXJzaW9uLHNlcnZpY2VXb3JrZXJWZXJzaW9uLGNsZWFuQ2FjaGU7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuZGF0YS5nZXRTZXJ2aWNlV29ya2VyVXJsKCldO2Nhc2UgMTpyZXR1cm4gdXJsPV9hLnNlbnQoKSxbNCx0aGlzLmRhdGEuZ2V0U2VydmljZVdvcmtlclNjb3BlKCldO2Nhc2UgMjpyZXR1cm4gc2NvcGU9X2Euc2VudCgpLFs0LHRoaXMuZGF0YS5nZXRTZGtWZXJzaW9uKCldO2Nhc2UgMzpyZXR1cm4gc2RrVmVyc2lvbj1fYS5zZW50KCksWzQsdGhpcy5kYXRhLmdldFNlcnZpY2VXb3JrZXJWZXJzaW9uKCldO2Nhc2UgNDpyZXR1cm4gc2VydmljZVdvcmtlclZlcnNpb249X2Euc2VudCgpLGNsZWFuQ2FjaGU9XCJcIixzZGtWZXJzaW9uIT09c2VydmljZVdvcmtlclZlcnNpb24mJihjbGVhbkNhY2hlPVwiP2NhY2hlX2NsZWFuPVwiK3V1aWRfMS52NCgpKSxbNCxuYXZpZ2F0b3Iuc2VydmljZVdvcmtlci5yZWdpc3RlcihcIlwiK3VybCtjbGVhbkNhY2hlLHtzY29wZTpzY29wZX0pXTtjYXNlIDU6cmV0dXJuIF9hLnNlbnQoKSxbMl19fSl9KX0sUHVzaFNlcnZpY2VEZWZhdWx0LnByb3RvdHlwZS50cnlTdWJzY3JpYmU9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBlcnJvcl8xO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm4gX2EudHJ5cy5wdXNoKFswLDIsLDRdKSxbNCx0aGlzLnN1YnNjcmliZVB1c2hNYW5hZ2VyKCldO2Nhc2UgMTpyZXR1cm5bMixfYS5zZW50KCldO2Nhc2UgMjpyZXR1cm4gZXJyb3JfMT1fYS5zZW50KCksY29uc29sZS5lcnJvcihlcnJvcl8xKSxbNCx0aGlzLnVuc3Vic2NyaWJlKCldO2Nhc2UgMzpyZXR1cm4gX2Euc2VudCgpLFsyLHRoaXMuc3Vic2NyaWJlUHVzaE1hbmFnZXIoKV07Y2FzZSA0OnJldHVyblsyXX19KX0pfSxQdXNoU2VydmljZURlZmF1bHQucHJvdG90eXBlLnN1YnNjcmliZVB1c2hNYW5hZ2VyPWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgcmVnaXN0cmF0aW9uLGFwcGxpY2F0aW9uU2VydmVyS2V5O3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLmdldFNlcnZpY2VXb3JrZXJSZWdpc3RyYXRpb24oKV07Y2FzZSAxOnJldHVybiByZWdpc3RyYXRpb249X2Euc2VudCgpLFs0LHRoaXMuZ2V0QXBwbGljYXRpb25TZXJ2ZXJLZXkoKV07Y2FzZSAyOnJldHVybiBhcHBsaWNhdGlvblNlcnZlcktleT1fYS5zZW50KCksWzIscmVnaXN0cmF0aW9uLnB1c2hNYW5hZ2VyLnN1YnNjcmliZSh7dXNlclZpc2libGVPbmx5OiEwLGFwcGxpY2F0aW9uU2VydmVyS2V5OmFwcGxpY2F0aW9uU2VydmVyS2V5fSldfX0pfSl9LFB1c2hTZXJ2aWNlRGVmYXVsdC5wcm90b3R5cGUuZ2V0Q3JlZGVudGlhbHM9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLmdldFNlcnZpY2VXb3JrZXJSZWdpc3RyYXRpb24oKV07Y2FzZSAxOnJldHVybls0LF9hLnNlbnQoKS5wdXNoTWFuYWdlci5nZXRTdWJzY3JpcHRpb24oKV07Y2FzZSAyOnJldHVyblsyLF9hLnNlbnQoKV19fSl9KX0sUHVzaFNlcnZpY2VEZWZhdWx0LnByb3RvdHlwZS5nZXRGY21LZXlzPWZ1bmN0aW9uKGNvbmZpZyl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgcmVzcG9uc2U7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LGZldGNoKHRoaXMuY29uZmlnLmVudHJ5cG9pbnR8fFwiaHR0cHM6Ly9mY20uZ29vZ2xlYXBpcy5jb20vZmNtL2Nvbm5lY3Qvc3Vic2NyaWJlXCIse21ldGhvZDpcIlBPU1RcIixoZWFkZXJzOntcIkNvbnRlbnQtVHlwZVwiOlwidGV4dC9wbGFpbjtjaGFyc2V0PVVURi04XCJ9LGJvZHk6SlNPTi5zdHJpbmdpZnkoY29uZmlnKX0pXTtjYXNlIDE6cmV0dXJuIDIwMCE9PShyZXNwb25zZT1fYS5zZW50KCkpLnN0YXR1cz9bMywzXTpbNCxyZXNwb25zZS5qc29uKCldO2Nhc2UgMjpyZXR1cm5bMixfYS5zZW50KCldO2Nhc2UgMzp0aHJvdyBuZXcgRXJyb3IoXCJJbnRlcm5hbCBlcnJvcjogQ2FuJ3QgcmVnaXN0ZXIgZGV2aWNlIGluIGZjbS4gU3RhdHVzOiBcIityZXNwb25zZS5zdGF0dXMrXCIuIE1lc3NhZ2U6IFwiK3Jlc3BvbnNlLnN0YXR1c1RleHQpfX0pfSl9LFB1c2hTZXJ2aWNlRGVmYXVsdC5wcm90b3R5cGUuZ2V0UHVzaFRva2VuPWZ1bmN0aW9uKHN1YnNjcmlwdGlvbil7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgZGV2aWNlVHlwZTtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5kYXRhLmdldERldmljZVR5cGUoKV07Y2FzZSAxOnJldHVybiBkZXZpY2VUeXBlPV9hLnNlbnQoKSxzdWJzY3JpcHRpb24/MTI9PT1kZXZpY2VUeXBlP1syLHN1YnNjcmlwdGlvbi5lbmRwb2ludF06WzIsc3Vic2NyaXB0aW9uLmVuZHBvaW50LnNwbGl0KFwiL1wiKS5wb3AoKXx8XCJcIl06WzIsXCJcIl19fSl9KX0sUHVzaFNlcnZpY2VEZWZhdWx0LnByb3RvdHlwZS5nZXRBcHBsaWNhdGlvblNlcnZlcktleT1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuZGF0YS5nZXREZXZpY2VUeXBlKCldO2Nhc2UgMTpyZXR1cm4gMTEhPT1fYS5zZW50KCk/WzJdOls0LHRoaXMuZGF0YS5nZXRBcHBsaWNhdGlvblNlcnZlcktleSgpXTtjYXNlIDI6cmV0dXJuWzIsX2Euc2VudCgpXX19KX0pfSxQdXNoU2VydmljZURlZmF1bHQucHJvdG90eXBlLmdldFNlbmRlcklkRnJvbU1hbmlmZXN0PWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgbWFuaWZlc3QsdXJsLHJlc3BvbnNlLGRhdGEsbWF0Y2g7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOmlmKCEobWFuaWZlc3Q9ZG9jdW1lbnQucXVlcnlTZWxlY3RvcignbGlua1tyZWw9XCJtYW5pZmVzdFwiXScpKSl0aHJvdyBuZXcgRXJyb3IoXCJFcnJvcjogbWFuaWZlc3QuanNvbiBub3QgZm91bmQhXCIpO2lmKCEodXJsPW1hbmlmZXN0LmdldEF0dHJpYnV0ZShcImhyZWZcIikpKXRocm93IG5ldyBFcnJvcihcIkVycm9yOiBtYW5pZmVzdC5qc29uIHVybCBub3QgZm91bmQhXCIpO3JldHVybls0LGZldGNoKHVybCx7bWV0aG9kOlwiR0VUXCIsaGVhZGVyczp7XCJDb250ZW50LVR5cGVcIjpcImFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD1VVEYtOFwifX0pXTtjYXNlIDE6aWYoMjAwIT09KHJlc3BvbnNlPV9hLnNlbnQoKSkuc3RhdHVzKXRocm93IG5ldyBFcnJvcihcIkVycm9yOiBDYW4ndCBsb2FkIG1hbmlmZXN0Lmpzb24hIFwiK3Jlc3BvbnNlLnN0YXR1c1RleHQpO3JldHVybls0LHJlc3BvbnNlLnRleHQoKV07Y2FzZSAyOmlmKGRhdGE9X2Euc2VudCgpLCEobWF0Y2g9ZGF0YS5tYXRjaCgvKFwifCcpP2djbV9zZW5kZXJfaWQoXCJ8Jyk/OlxccyooXCJ8Jyk/KFxcZCspKFwifCcpPy8pKXx8XCJzdHJpbmdcIiE9dHlwZW9mIG1hdGNoWzRdKXRocm93IG5ldyBFcnJvcihcIkVycm9yOiBDYW4ndCBmaW5kIGdjbV9zZW5kZXJfaWQgaW4gbWFuaWZlc3QuanNvbiFcIik7cmV0dXJuWzIsbWF0Y2hbNF1dfX0pfSl9LFB1c2hTZXJ2aWNlRGVmYXVsdC5wcm90b3R5cGUuY2hlY2tJc0NoYW5nZVNlbmRlcklkPWZ1bmN0aW9uKGN1cnJlbnRTZW5kZXJJZCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgc2VuZGVySWRGcm9tSW5kZXhlZERCO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLmRhdGEuZ2V0U2VuZGVySWQoKV07Y2FzZSAxOnJldHVybiBzZW5kZXJJZEZyb21JbmRleGVkREI9X2Euc2VudCgpLFsyLGN1cnJlbnRTZW5kZXJJZCE9PXNlbmRlcklkRnJvbUluZGV4ZWREQl19fSl9KX0sUHVzaFNlcnZpY2VEZWZhdWx0fSgpO2V4cG9ydHMuUHVzaFNlcnZpY2VEZWZhdWx0PVB1c2hTZXJ2aWNlRGVmYXVsdH0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7dmFyIF9fYXdhaXRlcj10aGlzJiZ0aGlzLl9fYXdhaXRlcnx8ZnVuY3Rpb24odGhpc0FyZyxfYXJndW1lbnRzLFAsZ2VuZXJhdG9yKXtyZXR1cm4gbmV3KFB8fChQPVByb21pc2UpKShmdW5jdGlvbihyZXNvbHZlLHJlamVjdCl7ZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKXt0cnl7c3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpfWNhdGNoKGUpe3JlamVjdChlKX19ZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpe3RyeXtzdGVwKGdlbmVyYXRvci50aHJvdyh2YWx1ZSkpfWNhdGNoKGUpe3JlamVjdChlKX19ZnVuY3Rpb24gc3RlcChyZXN1bHQpe3Jlc3VsdC5kb25lP3Jlc29sdmUocmVzdWx0LnZhbHVlKTpmdW5jdGlvbih2YWx1ZSl7cmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUD92YWx1ZTpuZXcgUChmdW5jdGlvbihyZXNvbHZlKXtyZXNvbHZlKHZhbHVlKX0pfShyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLHJlamVjdGVkKX1zdGVwKChnZW5lcmF0b3I9Z2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsX2FyZ3VtZW50c3x8W10pKS5uZXh0KCkpfSl9LF9fZ2VuZXJhdG9yPXRoaXMmJnRoaXMuX19nZW5lcmF0b3J8fGZ1bmN0aW9uKHRoaXNBcmcsYm9keSl7dmFyIGYseSx0LGcsXz17bGFiZWw6MCxzZW50OmZ1bmN0aW9uKCl7aWYoMSZ0WzBdKXRocm93IHRbMV07cmV0dXJuIHRbMV19LHRyeXM6W10sb3BzOltdfTtyZXR1cm4gZz17bmV4dDp2ZXJiKDApLHRocm93OnZlcmIoMSkscmV0dXJuOnZlcmIoMil9LFwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmKGdbU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSksZztmdW5jdGlvbiB2ZXJiKG4pe3JldHVybiBmdW5jdGlvbih2KXtyZXR1cm4gZnVuY3Rpb24ob3Ape2lmKGYpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7Zm9yKDtfOyl0cnl7aWYoZj0xLHkmJih0PTImb3BbMF0/eS5yZXR1cm46b3BbMF0/eS50aHJvd3x8KCh0PXkucmV0dXJuKSYmdC5jYWxsKHkpLDApOnkubmV4dCkmJiEodD10LmNhbGwoeSxvcFsxXSkpLmRvbmUpcmV0dXJuIHQ7c3dpdGNoKHk9MCx0JiYob3A9WzImb3BbMF0sdC52YWx1ZV0pLG9wWzBdKXtjYXNlIDA6Y2FzZSAxOnQ9b3A7YnJlYWs7Y2FzZSA0OnJldHVybiBfLmxhYmVsKysse3ZhbHVlOm9wWzFdLGRvbmU6ITF9O2Nhc2UgNTpfLmxhYmVsKysseT1vcFsxXSxvcD1bMF07Y29udGludWU7Y2FzZSA3Om9wPV8ub3BzLnBvcCgpLF8udHJ5cy5wb3AoKTtjb250aW51ZTtkZWZhdWx0OmlmKCEodD0odD1fLnRyeXMpLmxlbmd0aD4wJiZ0W3QubGVuZ3RoLTFdKSYmKDY9PT1vcFswXXx8Mj09PW9wWzBdKSl7Xz0wO2NvbnRpbnVlfWlmKDM9PT1vcFswXSYmKCF0fHxvcFsxXT50WzBdJiZvcFsxXTx0WzNdKSl7Xy5sYWJlbD1vcFsxXTticmVha31pZig2PT09b3BbMF0mJl8ubGFiZWw8dFsxXSl7Xy5sYWJlbD10WzFdLHQ9b3A7YnJlYWt9aWYodCYmXy5sYWJlbDx0WzJdKXtfLmxhYmVsPXRbMl0sXy5vcHMucHVzaChvcCk7YnJlYWt9dFsyXSYmXy5vcHMucG9wKCksXy50cnlzLnBvcCgpO2NvbnRpbnVlfW9wPWJvZHkuY2FsbCh0aGlzQXJnLF8pfWNhdGNoKGUpe29wPVs2LGVdLHk9MH1maW5hbGx5e2Y9dD0wfWlmKDUmb3BbMF0pdGhyb3cgb3BbMV07cmV0dXJue3ZhbHVlOm9wWzBdP29wWzFdOnZvaWQgMCxkb25lOiEwfX0oW24sdl0pfX19O09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBsb2dnZXJfMT1fX3dlYnBhY2tfcmVxdWlyZV9fKDUpLENPTlNUQU5UUz1fX3dlYnBhY2tfcmVxdWlyZV9fKDEpLFB1c2hTZXJ2aWNlU2FmYXJpPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gUHVzaFNlcnZpY2VTYWZhcmkoYXBpLGRhdGEsY29uZmlnKXt0aGlzLmFwaT1hcGksdGhpcy5jb25maWc9Y29uZmlnLHRoaXMuZGF0YT1kYXRhfXJldHVybiBQdXNoU2VydmljZVNhZmFyaS5wcm90b3R5cGUuZ2V0UGVybWlzc2lvbj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFBlcm1pc3Npb25JbmZvKCkucGVybWlzc2lvbn0sUHVzaFNlcnZpY2VTYWZhcmkucHJvdG90eXBlLmNoZWNrSXNQZXJtaXNzaW9uR3JhbnRlZD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmdldFBlcm1pc3Npb24oKT09PUNPTlNUQU5UUy5QRVJNSVNTSU9OX0dSQU5URUR9LFB1c2hTZXJ2aWNlU2FmYXJpLnByb3RvdHlwZS5jaGVja0lzUGVybWlzc2lvbkRlZmF1bHQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5nZXRQZXJtaXNzaW9uKCk9PT1DT05TVEFOVFMuUEVSTUlTU0lPTl9QUk9NUFR9LFB1c2hTZXJ2aWNlU2FmYXJpLnByb3RvdHlwZS5jaGVja0lzTWFudWFsVW5zdWJzY3JpYmVkPWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5kYXRhLmdldFN0YXR1c01hbnVhbFVuc3Vic2NyaWJlZCgpXTtjYXNlIDE6cmV0dXJuWzIsX2Euc2VudCgpXX19KX0pfSxQdXNoU2VydmljZVNhZmFyaS5wcm90b3R5cGUuYXNrUGVybWlzc2lvbj1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGFwcGxpY2F0aW9uLGh3aWQscGF5bG9hZCxfdGhpcz10aGlzO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLmRhdGEuZ2V0QXBwbGljYXRpb25Db2RlKCldO2Nhc2UgMTpyZXR1cm4gYXBwbGljYXRpb249X2Euc2VudCgpLFs0LHRoaXMuZGF0YS5nZXRId2lkKCldO2Nhc2UgMjpyZXR1cm4gaHdpZD1fYS5zZW50KCkscGF5bG9hZD17YXBwbGljYXRpb246YXBwbGljYXRpb24saHdpZDpod2lkfSxbMixuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlKXtzYWZhcmkucHVzaE5vdGlmaWNhdGlvbi5yZXF1ZXN0UGVybWlzc2lvbihfdGhpcy5jb25maWcuZW50cnlwb2ludHx8XCJodHRwczovL2NwLnB1c2h3b29zaC5jb20vanNvbi8xLjMvc2FmYXJpXCIsX3RoaXMuY29uZmlnLndlYlNpdGVQdXNoSWQscGF5bG9hZCxmdW5jdGlvbigpe3JldHVybiByZXNvbHZlKCl9KX0pXX19KX0pfSxQdXNoU2VydmljZVNhZmFyaS5wcm90b3R5cGUuZ2V0VG9rZW5zPWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7cmV0dXJuWzIsdGhpcy5kYXRhLmdldFRva2VucygpXX0pfSl9LFB1c2hTZXJ2aWNlU2FmYXJpLnByb3RvdHlwZS5zdWJzY3JpYmU9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBkZXZpY2VUb2tlbjtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuIHRoaXMuY2hlY2tJc1Blcm1pc3Npb25HcmFudGVkKCk/WzQsdGhpcy5nZXRQZXJtaXNzaW9uSW5mbygpXToobG9nZ2VyXzEuTG9nZ2VyLmVycm9yKFwiWW91IG11c3QgaGF2ZSBwZXJtaXNzaW9uIGdyYW50ZWQgYmVmb3JlIHN1YnNjcmliZSFcIiksWzJdKTtjYXNlIDE6cmV0dXJuIGRldmljZVRva2VuPV9hLnNlbnQoKS5kZXZpY2VUb2tlbixbNCx0aGlzLmRhdGEuc2V0VG9rZW5zKHtwdXNoVG9rZW46ZGV2aWNlVG9rZW59KV07Y2FzZSAyOnJldHVybiBfYS5zZW50KCksWzQsdGhpcy5hcGkucmVnaXN0ZXJEZXZpY2UoKV07Y2FzZSAzOnJldHVybiBfYS5zZW50KCksWzJdfX0pfSl9LFB1c2hTZXJ2aWNlU2FmYXJpLnByb3RvdHlwZS51bnN1YnNjcmliZT1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMuZGF0YS5zZXRUb2tlbnMoe30pXTtjYXNlIDE6cmV0dXJuIF9hLnNlbnQoKSxbNCx0aGlzLmRhdGEuc2V0U3RhdHVzTWFudWFsVW5zdWJzY3JpYmVkKCEwKV07Y2FzZSAyOnJldHVybiBfYS5zZW50KCksWzQsdGhpcy5hcGkudW5yZWdpc3RlckRldmljZSgpXTtjYXNlIDM6cmV0dXJuIF9hLnNlbnQoKSxbMl19fSl9KX0sUHVzaFNlcnZpY2VTYWZhcmkucHJvdG90eXBlLmNoZWNrSXNSZWdpc3Rlcj1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3JldHVyblsyLHRoaXMuYXBpLmNoZWNrRGV2aWNlU3Vic2NyaWJlRm9yUHVzaE5vdGlmaWNhdGlvbnMoKV19KX0pfSxQdXNoU2VydmljZVNhZmFyaS5wcm90b3R5cGUuY2hlY2tJc05lZWRSZXN1YnNjcmliZT1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIHNhdmVkV2ViU2l0ZVB1c2hJZCxpc0NoYW5nZVdlYlNpdGVQdXNoSWQsbGFzdFBlcm1pc3Npb24scGVybWlzc2lvbjtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5kYXRhLmdldFdlYlNpdGVQdXNoSWQoKV07Y2FzZSAxOnJldHVybiBzYXZlZFdlYlNpdGVQdXNoSWQ9X2Euc2VudCgpLGlzQ2hhbmdlV2ViU2l0ZVB1c2hJZD12b2lkIDAhPT1zYXZlZFdlYlNpdGVQdXNoSWQmJnRoaXMuY29uZmlnLndlYlNpdGVQdXNoSWQhPT1zYXZlZFdlYlNpdGVQdXNoSWQsWzQsdGhpcy5kYXRhLnNldFdlYlNpdGVQdXNoSWQodGhpcy5jb25maWcud2ViU2l0ZVB1c2hJZCldO2Nhc2UgMjpyZXR1cm4gX2Euc2VudCgpLFs0LHRoaXMuZGF0YS5nZXRMYXN0UGVybWlzc2lvblN0YXR1cygpXTtjYXNlIDM6cmV0dXJuIGxhc3RQZXJtaXNzaW9uPV9hLnNlbnQoKSxwZXJtaXNzaW9uPXRoaXMuZ2V0UGVybWlzc2lvbigpLGxhc3RQZXJtaXNzaW9uPT09cGVybWlzc2lvbj9bMyw1XTpbNCx0aGlzLmRhdGEuc2V0TGFzdFBlcm1pc3Npb25TdGF0dXMocGVybWlzc2lvbildO2Nhc2UgNDpyZXR1cm4gX2Euc2VudCgpLFsyLCEwXTtjYXNlIDU6cmV0dXJuWzIsaXNDaGFuZ2VXZWJTaXRlUHVzaElkXX19KX0pfSxQdXNoU2VydmljZVNhZmFyaS5wcm90b3R5cGUuZ2V0UGVybWlzc2lvbkluZm89ZnVuY3Rpb24oKXtyZXR1cm4gc2FmYXJpLnB1c2hOb3RpZmljYXRpb24ucGVybWlzc2lvbih0aGlzLmNvbmZpZy53ZWJTaXRlUHVzaElkKX0sUHVzaFNlcnZpY2VTYWZhcml9KCk7ZXhwb3J0cy5QdXNoU2VydmljZVNhZmFyaT1QdXNoU2VydmljZVNhZmFyaX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7dmFyIF9fYXNzaWduPXRoaXMmJnRoaXMuX19hc3NpZ258fGZ1bmN0aW9uKCl7cmV0dXJuKF9fYXNzaWduPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKHQpe2Zvcih2YXIgcyxpPTEsbj1hcmd1bWVudHMubGVuZ3RoO2k8bjtpKyspZm9yKHZhciBwIGluIHM9YXJndW1lbnRzW2ldKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLHApJiYodFtwXT1zW3BdKTtyZXR1cm4gdH0pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX07T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIFBvcHVwX2hlbHBlcnNfMT1fX3dlYnBhY2tfcmVxdWlyZV9fKDg1KSxQb3B1cD1mdW5jdGlvbigpe2Z1bmN0aW9uIFBvcHVwKG5hbWVzcGFjZSxvbkNsaWNrQ2xvc2UsY29uZmlnKXtpZih0aGlzLm5hbWVzcGFjZT1uYW1lc3BhY2UsdGhpcy5vbkNsaWNrQ2xvc2U9b25DbGlja0Nsb3NlLHRoaXMuY29uZmlnPV9fYXNzaWduKHtwb3NpdGlvbjpcImNlbnRlclwifSxjb25maWcpLCF0aGlzLmdldFJvb3RFbGVtZW50KCkpe3ZhciBodG1sPXRoaXMuY3JlYXRlSFRNTCgpO2RvY3VtZW50LmJvZHkuaW5zZXJ0QWRqYWNlbnRIVE1MKFwiYmVmb3JlZW5kXCIsaHRtbCksdGhpcy5yb290RWxlbWVudD10aGlzLmdldEVsZW1lbnRXaXRoQ2hlY2tFeGlzdChcInJvb3RcIik7dmFyIHN0eWxlcz1Qb3B1cF9oZWxwZXJzXzEuZ2V0U3R5bGVzKHRoaXMubmFtZXNwYWNlKTtkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHN0eWxlcyl9dGhpcy5yb290RWxlbWVudC5jbGFzc0xpc3QuYWRkKFwicHVzaHdvb3NoLVwiK3RoaXMubmFtZXNwYWNlK1wiLXBvcHVwX3Bvc2l0aW9uX1wiK3RoaXMuY29uZmlnLnBvc2l0aW9uKSx0aGlzLndyYXBwZXJFbGVtZW50PXRoaXMuZ2V0RWxlbWVudFdpdGhDaGVja0V4aXN0KFwid3JhcHBlclwiKSx0aGlzLmlubmVyRWxlbWVudD10aGlzLmdldEVsZW1lbnRXaXRoQ2hlY2tFeGlzdChcImlubmVyXCIpLHRoaXMuYm9keUVsZW1lbnQ9dGhpcy5nZXRFbGVtZW50V2l0aENoZWNrRXhpc3QoXCJib2R5XCIpLHRoaXMuY2xvc2VFbGVtZW50PXRoaXMuZ2V0RWxlbWVudFdpdGhDaGVja0V4aXN0KFwiY2xvc2VcIiksdGhpcy5hZGRFdmVudExpc3RlbmVycygpfXJldHVybiBQb3B1cC5wcm90b3R5cGUudXBkYXRlQ29udGVudD1mdW5jdGlvbihodG1sKXt0aGlzLmJvZHlFbGVtZW50LmlubmVySFRNTD1odG1sfSxQb3B1cC5wcm90b3R5cGUucmVtb3ZlQ29udGVudD1mdW5jdGlvbigpe3RoaXMuYm9keUVsZW1lbnQuaW5uZXJIVE1MPVwiXCJ9LFBvcHVwLnByb3RvdHlwZS5zaG93PWZ1bmN0aW9uKCl7ZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdz1cImhpZGRlblwiLHRoaXMucm9vdEVsZW1lbnQuY2xhc3NMaXN0LmFkZChcInB1c2h3b29zaC1cIit0aGlzLm5hbWVzcGFjZStcIi1wb3B1cF9zaG93XCIpfSxQb3B1cC5wcm90b3R5cGUuaGlkZT1mdW5jdGlvbigpe2RvY3VtZW50LmJvZHkuc3R5bGUub3ZlcmZsb3c9XCJhdXRvXCIsdGhpcy5yb290RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKFwicHVzaHdvb3NoLVwiK3RoaXMubmFtZXNwYWNlK1wiLXBvcHVwX3Nob3dcIiksdGhpcy5vbkNsaWNrQ2xvc2UoKX0sUG9wdXAucHJvdG90eXBlLmdldFJvb3RFbGVtZW50PWZ1bmN0aW9uKCl7cmV0dXJuIGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicHVzaHdvb3NoLVwiK3RoaXMubmFtZXNwYWNlK1wiLXBvcHVwLXJvb3RcIil9LFBvcHVwLnByb3RvdHlwZS5jcmVhdGVIVE1MPWZ1bmN0aW9uKCl7cmV0dXJuJ1xcbiAgICAgIDxkaXZcXG4gICAgICAgIGlkPVwicHVzaHdvb3NoLScrdGhpcy5uYW1lc3BhY2UrJy1wb3B1cC1yb290XCJcXG4gICAgICAgIGNsYXNzPVwicHVzaHdvb3NoLScrdGhpcy5uYW1lc3BhY2UrJy1wb3B1cFwiXFxuICAgICAgPlxcbiAgICAgICAgPGRpdlxcbiAgICAgICAgICBpZD1cInB1c2h3b29zaC0nK3RoaXMubmFtZXNwYWNlKyctcG9wdXAtd3JhcHBlclwiXFxuICAgICAgICAgIGNsYXNzPVwicHVzaHdvb3NoLScrdGhpcy5uYW1lc3BhY2UrJy1wb3B1cF9fd3JhcHBlclwiXFxuICAgICAgICA+XFxuICAgICAgICAgIDxkaXZcXG4gICAgICAgICAgICBpZD1cInB1c2h3b29zaC0nK3RoaXMubmFtZXNwYWNlKyctcG9wdXAtaW5uZXJcIlxcbiAgICAgICAgICAgIGNsYXNzPVwicHVzaHdvb3NoLScrdGhpcy5uYW1lc3BhY2UrJy1wb3B1cF9faW5uZXJcIlxcbiAgICAgICAgICA+XFxuICAgICAgICAgICAgPGRpdlxcbiAgICAgICAgICAgICAgaWQ9XCJwdXNod29vc2gtJyt0aGlzLm5hbWVzcGFjZSsnLXBvcHVwLWJvZHlcIlxcbiAgICAgICAgICAgICAgY2xhc3M9XCJwdXNod29vc2gtJyt0aGlzLm5hbWVzcGFjZSsnLXBvcHVwX19ib2R5XCJcXG4gICAgICAgICAgICA+XFxuICAgICAgICAgICAgPC9kaXY+XFxuICAgICAgICAgIDwvZGl2PlxcbiAgICAgICAgICA8YnV0dG9uXFxuICAgICAgICAgICAgaWQ9XCJwdXNod29vc2gtJyt0aGlzLm5hbWVzcGFjZSsnLXBvcHVwLWNsb3NlXCJcXG4gICAgICAgICAgICBjbGFzcz1cInB1c2h3b29zaC0nK3RoaXMubmFtZXNwYWNlKyctcG9wdXBfX2Nsb3NlXCJcXG4gICAgICAgICAgICB0eXBlPVwiYnV0dG9uXCJcXG4gICAgICAgICAgPlxcbiAgICAgICAgICA8L2J1dHRvbj5cXG4gICAgICAgIDwvZGl2PlxcbiAgICAgIDwvZGl2PlxcbiAgICAnfSxQb3B1cC5wcm90b3R5cGUuZ2V0RWxlbWVudFdpdGhDaGVja0V4aXN0PWZ1bmN0aW9uKHR5cGUpe3ZhciBlbGVtZW50PWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicHVzaHdvb3NoLVwiK3RoaXMubmFtZXNwYWNlK1wiLXBvcHVwLVwiK3R5cGUpO2lmKCFlbGVtZW50KXRocm93IG5ldyBFcnJvcihcIkNhbid0IGZpbmQgZWxlbWVudCBieSBpZCBcXFwicHVzaHdvb3NoLVwiK3RoaXMubmFtZXNwYWNlK1wiLXBvcHVwLVwiK3R5cGUrJ1wiJyk7cmV0dXJuIGVsZW1lbnR9LFBvcHVwLnByb3RvdHlwZS5hZGRFdmVudExpc3RlbmVycz1mdW5jdGlvbigpe3ZhciBfdGhpcz10aGlzO3RoaXMuY2xvc2VFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLGZ1bmN0aW9uKCl7X3RoaXMuaGlkZSgpfSksZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsZnVuY3Rpb24oZXZlbnQpe3ZhciBjbGlja0luSW5uZXI9X3RoaXMuaW5uZXJFbGVtZW50LmNvbnRhaW5zKGV2ZW50LnRhcmdldCksY2xpY2tJbldyYXBwZXI9X3RoaXMud3JhcHBlckVsZW1lbnQuY29udGFpbnMoZXZlbnQudGFyZ2V0KTshY2xpY2tJbklubmVyJiZjbGlja0luV3JhcHBlciYmX3RoaXMuaGlkZSgpfSl9LFBvcHVwfSgpO2V4cG9ydHMuUG9wdXA9UG9wdXB9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pLGV4cG9ydHMuZ2V0U3R5bGVzPWZ1bmN0aW9uKG5hbWVzcGFjZSl7dmFyIHN0eWxlcz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7cmV0dXJuIHN0eWxlcy5pbm5lckhUTUw9XCJcXG4gICAgLnB1c2h3b29zaC1cIituYW1lc3BhY2UrXCItcG9wdXAge1xcbiAgICAgIHBvc2l0aW9uOiBmaXhlZDtcXG4gICAgICB0b3A6IDA7XFxuICAgICAgbGVmdDogMDtcXG4gICAgICB3aWR0aDogMTAwJTtcXG4gICAgICBoZWlnaHQ6IDEwMCU7XFxuICAgICAgZGlzcGxheTogbm9uZTtcXG4gICAgICB6LWluZGV4OiAyMTQ3NDgzNjQ4O1xcbiAgICAgIG9wYWNpdHk6IDAuOTk7XFxuICAgIH1cXG4gICAgXFxuICAgIC5wdXNod29vc2gtXCIrbmFtZXNwYWNlK1wiLXBvcHVwX3Nob3cge1xcbiAgICAgIGRpc3BsYXk6IGJsb2NrO1xcbiAgICB9XFxuICAgIFxcbiAgICAucHVzaHdvb3NoLVwiK25hbWVzcGFjZStcIi1wb3B1cF9fd3JhcHBlciB7XFxuICAgICAgd2lkdGg6IDEwMCU7XFxuICAgICAgaGVpZ2h0OiAxMDAlO1xcbiAgICAgIGJhY2tncm91bmQ6IHJnYmEoMCwgMCwgMCwgLjIpO1xcbiAgICB9XFxuICAgIFxcbiAgICAucHVzaHdvb3NoLVwiK25hbWVzcGFjZStcIi1wb3B1cF9wb3NpdGlvbl9jZW50ZXIgLnB1c2h3b29zaC1cIituYW1lc3BhY2UrXCItcG9wdXBfX3dyYXBwZXIge1xcbiAgICAgIHRleHQtYWxpZ246IGNlbnRlcjtcXG4gICAgfVxcbiAgICBcXG4gICAgLnB1c2h3b29zaC1cIituYW1lc3BhY2UrXCItcG9wdXBfcG9zaXRpb25fY2VudGVyIC5wdXNod29vc2gtXCIrbmFtZXNwYWNlK1wiLXBvcHVwX193cmFwcGVyOmFmdGVyIHtcXG4gICAgICBjb250ZW50OiAnJztcXG4gICAgICBkaXNwbGF5OiBpbmxpbmUtYmxvY2s7XFxuICAgICAgd2lkdGg6IDFweDtcXG4gICAgICBoZWlnaHQ6IDEwMCU7XFxuICAgICAgdmVydGljYWwtYWxpZ246IG1pZGRsZTtcXG4gICAgfVxcbiAgICBcXG4gICAgLnB1c2h3b29zaC1cIituYW1lc3BhY2UrXCItcG9wdXBfX2lubmVyIHtcXG4gICAgICBtaW4td2lkdGg6IDMyMHB4O1xcbiAgICAgIG1heC13aWR0aDogMzgwcHg7XFxuICAgICAgd2lkdGg6IDEwMCU7XFxuICAgICAgbWFyZ2luOiAwIGF1dG87XFxuICAgIH1cXG4gICAgXFxuICAgIC5wdXNod29vc2gtXCIrbmFtZXNwYWNlK1wiLXBvcHVwX3Bvc2l0aW9uX2NlbnRlciAucHVzaHdvb3NoLVwiK25hbWVzcGFjZStcIi1wb3B1cF9faW5uZXIge1xcbiAgICAgIGRpc3BsYXk6IGlubGluZS1ibG9jaztcXG4gICAgICB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO1xcbiAgICB9XFxuICAgIFxcbiAgICAucHVzaHdvb3NoLVwiK25hbWVzcGFjZStcIi1wb3B1cF9fYm9keSB7XFxuICAgICAgYmFja2dyb3VuZDogI2ZmZjtcXG4gICAgICB0ZXh0LWFsaWduOiBsZWZ0O1xcbiAgICAgIHZlcnRpY2FsLWFsaWduOiBiYXNlbGluZTtcXG4gICAgICBib3gtc2hhZG93OiAwcHggMTBweCAxNnB4IHJnYmEoMCwgMCwgMCwgMC4xKSwgMHB4IDBweCA2cHggcmdiYSgwLCAwLCAwLCAwLjA2KTtcXG4gICAgICBib3JkZXItcmFkaXVzOiA0cHg7XFxuICAgIH1cXG4gICAgXFxuICAgIC5wdXNod29vc2gtXCIrbmFtZXNwYWNlK1wiLXBvcHVwX19jbG9zZSB7XFxuICAgICAgYXBwZWFyYW5jZTogbm9uZTtcXG4gICAgICBib3JkZXI6IG5vbmU7XFxuICAgICAgYmFja2dyb3VuZC1jb2xvcjogdHJhbnNwYXJlbnQ7XFxuICAgICAgYm94LXNoYWRvdzogbm9uZTtcXG4gICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICAgICAgdG9wOiAyNHB4O1xcbiAgICAgIHJpZ2h0OiAyNHB4O1xcbiAgICAgIHdpZHRoOiA0MHB4O1xcbiAgICAgIGhlaWdodDogNDBweDtcXG4gICAgICBjdXJzb3I6IHBvaW50ZXI7XFxuICAgIH1cXG4gICAgXFxuICAgIC5wdXNod29vc2gtXCIrbmFtZXNwYWNlK1wiLXBvcHVwX19jbG9zZTpiZWZvcmUge1xcbiAgICAgIGNvbnRlbnQ6ICcnO1xcbiAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gICAgICB0b3A6IDUwJTtcXG4gICAgICBsZWZ0OiA1MCU7XFxuICAgICAgd2lkdGg6IDMwcHg7XFxuICAgICAgaGVpZ2h0OiAycHg7XFxuICAgICAgYmFja2dyb3VuZC1jb2xvcjogcmdiYSgyNTUsIDI1NSwgMjU1LCAuOCk7XFxuICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC01MCUpIHRyYW5zbGF0ZVkoLTUwJSkgcm90YXRlKDQ1ZGVnKTtcXG4gICAgfVxcbiAgICBcXG4gICAgLnB1c2h3b29zaC1cIituYW1lc3BhY2UrXCItcG9wdXBfX2Nsb3NlOmFmdGVyIHtcXG4gICAgICBjb250ZW50OiAnJztcXG4gICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICAgICAgdG9wOiA1MCU7XFxuICAgICAgbGVmdDogNTAlO1xcbiAgICAgIHdpZHRoOiAzMHB4O1xcbiAgICAgIGhlaWdodDogMnB4O1xcbiAgICAgIGJhY2tncm91bmQtY29sb3I6IHJnYmEoMjU1LCAyNTUsIDI1NSwgLjgpO1xcbiAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgtNTAlKSB0cmFuc2xhdGVZKC01MCUpIHJvdGF0ZSgtNDVkZWcpO1xcbiAgICB9XFxuICBcIixzdHlsZXN9fSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjt2YXIgX19hd2FpdGVyPXRoaXMmJnRoaXMuX19hd2FpdGVyfHxmdW5jdGlvbih0aGlzQXJnLF9hcmd1bWVudHMsUCxnZW5lcmF0b3Ipe3JldHVybiBuZXcoUHx8KFA9UHJvbWlzZSkpKGZ1bmN0aW9uKHJlc29sdmUscmVqZWN0KXtmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpe3RyeXtzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSl9Y2F0Y2goZSl7cmVqZWN0KGUpfX1mdW5jdGlvbiByZWplY3RlZCh2YWx1ZSl7dHJ5e3N0ZXAoZ2VuZXJhdG9yLnRocm93KHZhbHVlKSl9Y2F0Y2goZSl7cmVqZWN0KGUpfX1mdW5jdGlvbiBzdGVwKHJlc3VsdCl7cmVzdWx0LmRvbmU/cmVzb2x2ZShyZXN1bHQudmFsdWUpOmZ1bmN0aW9uKHZhbHVlKXtyZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQP3ZhbHVlOm5ldyBQKGZ1bmN0aW9uKHJlc29sdmUpe3Jlc29sdmUodmFsdWUpfSl9KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQscmVqZWN0ZWQpfXN0ZXAoKGdlbmVyYXRvcj1nZW5lcmF0b3IuYXBwbHkodGhpc0FyZyxfYXJndW1lbnRzfHxbXSkpLm5leHQoKSl9KX0sX19nZW5lcmF0b3I9dGhpcyYmdGhpcy5fX2dlbmVyYXRvcnx8ZnVuY3Rpb24odGhpc0FyZyxib2R5KXt2YXIgZix5LHQsZyxfPXtsYWJlbDowLHNlbnQ6ZnVuY3Rpb24oKXtpZigxJnRbMF0pdGhyb3cgdFsxXTtyZXR1cm4gdFsxXX0sdHJ5czpbXSxvcHM6W119O3JldHVybiBnPXtuZXh0OnZlcmIoMCksdGhyb3c6dmVyYigxKSxyZXR1cm46dmVyYigyKX0sXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiYoZ1tTeW1ib2wuaXRlcmF0b3JdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSxnO2Z1bmN0aW9uIHZlcmIobil7cmV0dXJuIGZ1bmN0aW9uKHYpe3JldHVybiBmdW5jdGlvbihvcCl7aWYoZil0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtmb3IoO187KXRyeXtpZihmPTEseSYmKHQ9MiZvcFswXT95LnJldHVybjpvcFswXT95LnRocm93fHwoKHQ9eS5yZXR1cm4pJiZ0LmNhbGwoeSksMCk6eS5uZXh0KSYmISh0PXQuY2FsbCh5LG9wWzFdKSkuZG9uZSlyZXR1cm4gdDtzd2l0Y2goeT0wLHQmJihvcD1bMiZvcFswXSx0LnZhbHVlXSksb3BbMF0pe2Nhc2UgMDpjYXNlIDE6dD1vcDticmVhaztjYXNlIDQ6cmV0dXJuIF8ubGFiZWwrKyx7dmFsdWU6b3BbMV0sZG9uZTohMX07Y2FzZSA1Ol8ubGFiZWwrKyx5PW9wWzFdLG9wPVswXTtjb250aW51ZTtjYXNlIDc6b3A9Xy5vcHMucG9wKCksXy50cnlzLnBvcCgpO2NvbnRpbnVlO2RlZmF1bHQ6aWYoISh0PSh0PV8udHJ5cykubGVuZ3RoPjAmJnRbdC5sZW5ndGgtMV0pJiYoNj09PW9wWzBdfHwyPT09b3BbMF0pKXtfPTA7Y29udGludWV9aWYoMz09PW9wWzBdJiYoIXR8fG9wWzFdPnRbMF0mJm9wWzFdPHRbM10pKXtfLmxhYmVsPW9wWzFdO2JyZWFrfWlmKDY9PT1vcFswXSYmXy5sYWJlbDx0WzFdKXtfLmxhYmVsPXRbMV0sdD1vcDticmVha31pZih0JiZfLmxhYmVsPHRbMl0pe18ubGFiZWw9dFsyXSxfLm9wcy5wdXNoKG9wKTticmVha310WzJdJiZfLm9wcy5wb3AoKSxfLnRyeXMucG9wKCk7Y29udGludWV9b3A9Ym9keS5jYWxsKHRoaXNBcmcsXyl9Y2F0Y2goZSl7b3A9WzYsZV0seT0wfWZpbmFsbHl7Zj10PTB9aWYoNSZvcFswXSl0aHJvdyBvcFsxXTtyZXR1cm57dmFsdWU6b3BbMF0/b3BbMV06dm9pZCAwLGRvbmU6ITB9fShbbix2XSl9fX07T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGdldFppcF8xPV9fd2VicGFja19yZXF1aXJlX18oNTApLGNvbnN0YW50c18xPV9fd2VicGFja19yZXF1aXJlX18oMSksbG9nZ2VyXzE9X193ZWJwYWNrX3JlcXVpcmVfXyg1KSxTdWJzY3JpcHRpb25TZWdtZW50c1dpZGdldF9oZWxwZXJzXzE9X193ZWJwYWNrX3JlcXVpcmVfXygxMjYpLFN1YnNjcmlwdGlvblNlZ21lbnRzV2lkZ2V0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gU3Vic2NyaXB0aW9uU2VnbWVudHNXaWRnZXQoZGF0YSxhcGlDbGllbnQsYXBpLHBvcHVwLHB3KXt0aGlzLmRhdGE9ZGF0YSx0aGlzLmFwaUNsaWVudD1hcGlDbGllbnQsdGhpcy5hcGk9YXBpLHRoaXMucG9wdXA9cG9wdXAsdGhpcy5wdz1wd31yZXR1cm4gU3Vic2NyaXB0aW9uU2VnbWVudHNXaWRnZXQucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBpbkFwcENvZGUscmljaE1lZGlhVXJsLGNvbnRlbnQsc2VnbWVudHMsc29ydGVkU2VnbWVudHMsaHRtbCxzdHlsZXMsZGVueUVsZW1lbnQsYWNjZXB0RWxlbWVudCxfdGhpcz10aGlzO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLmdldEluQXBwQ29kZSgpXTtjYXNlIDE6cmV0dXJuKGluQXBwQ29kZT1fYS5zZW50KCkpP1s0LHRoaXMuZ2V0UmljaE1lZGlhVXJsQnlJbkFwcENvZGUoaW5BcHBDb2RlKV06KGxvZ2dlcl8xLkxvZ2dlci5lcnJvcihcIkludGVybmFsIGVycm9yOiBDYW4ndCBmaW5kIGluLWFwcCBjb2RlIGZvciBidWlsZCBzdWJzY3JpcHRpb24gc2VnbWVudCB3aWRnZXQhXCIpLFsyXSk7Y2FzZSAyOnJldHVybihyaWNoTWVkaWFVcmw9X2Euc2VudCgpKT9bNCx0aGlzLmdldER5bmFtaWNDb250ZW50KHJpY2hNZWRpYVVybCldOihsb2dnZXJfMS5Mb2dnZXIuZXJyb3IoXCJJbnRlcm5hbCBlcnJvcjogQ2FuJ3QgZmluZCByaWNoIG1lZGlhIHVybCBmb3IgYnVpbGQgc3Vic2NyaXB0aW9uIHNlZ21lbnQgd2lkZ2V0IVwiKSxbMl0pO2Nhc2UgMzpyZXR1cm4gY29udGVudD1fYS5zZW50KCksWzQsdGhpcy5nZXRTZWdtZW50cygpXTtjYXNlIDQ6cmV0dXJuIHNlZ21lbnRzPV9hLnNlbnQoKSxjb250ZW50JiZzZWdtZW50cz8oc29ydGVkU2VnbWVudHM9c2VnbWVudHMuc29ydChmdW5jdGlvbihzZWdtZW50MSxzZWdtZW50Mil7cmV0dXJuIHNlZ21lbnQxLnBvc2l0aW9uLXNlZ21lbnQyLnBvc2l0aW9ufSksaHRtbD1TdWJzY3JpcHRpb25TZWdtZW50c1dpZGdldF9oZWxwZXJzXzEuZ2V0SFRNTChjb250ZW50LHNvcnRlZFNlZ21lbnRzKSxzdHlsZXM9U3Vic2NyaXB0aW9uU2VnbWVudHNXaWRnZXRfaGVscGVyc18xLmdldFN0eWxlcyhjb250ZW50KSxkb2N1bWVudC5oZWFkLmFwcGVuZENoaWxkKHN0eWxlcyksdGhpcy5wb3B1cC51cGRhdGVDb250ZW50KGh0bWwpLGRlbnlFbGVtZW50PWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFwicHVzaHdvb3NoLXN1YnNjcmlwdGlvbi1zZWdtZW50cy1kZW55XCIpLGFjY2VwdEVsZW1lbnQ9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoXCJwdXNod29vc2gtc3Vic2NyaXB0aW9uLXNlZ21lbnRzLWFjY2VwdFwiKSxkZW55RWxlbWVudCYmZGVueUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsZnVuY3Rpb24oKXtfdGhpcy5oaWRlUG9wdXAoKX0pLGFjY2VwdEVsZW1lbnQmJmFjY2VwdEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsZnVuY3Rpb24oKXt2YXIgcmVzdWx0PVtdLHNlZ21lbnRzPWRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXCJwdXNod29vc2gtc3Vic2NyaXB0aW9uLXNlZ21lbnRzX19maWVsZFwiKTtpZihfdGhpcy5oaWRlUG9wdXAoKSxzZWdtZW50cyl7Zm9yKHZhciBpbmRleD0wO2luZGV4PHNlZ21lbnRzLmxlbmd0aDtpbmRleCsrKXt2YXIgZmllbGQ9c2VnbWVudHNbaW5kZXhdO2ZpZWxkLmNoZWNrZWQmJnJlc3VsdC5wdXNoKGZpZWxkLnZhbHVlKX1fdGhpcy5hcGkuc2V0VGFncyh7XCJTdWJzY3JpcHRpb24gU2VnbWVudHNcIjpyZXN1bHR9KSxfdGhpcy5wdy5zdWJzY3JpYmUoKX19KSx0aGlzLnNob3dQb3B1cCgpLFsyXSk6KGxvZ2dlcl8xLkxvZ2dlci5lcnJvcihcIkludGVybmFsIGVycm9yOiBDYW4ndCBnZXQgY29udGVudCBvciBzZWdtZW50cyBmb3IgYnVpbGQgc3Vic2NyaXB0aW9uIHNlZ21lbnQgd2lkZ2V0IVwiKSxbMl0pfX0pfSl9LFN1YnNjcmlwdGlvblNlZ21lbnRzV2lkZ2V0LnByb3RvdHlwZS5zaG93UG9wdXA9ZnVuY3Rpb24oKXt0aGlzLnB3Ll9lZS5lbWl0KGNvbnN0YW50c18xLkVWRU5UX09OX1NIT1dfU1VCU0NSSVBUSU9OX1dJREdFVCksdGhpcy5wb3B1cC5zaG93KCl9LFN1YnNjcmlwdGlvblNlZ21lbnRzV2lkZ2V0LnByb3RvdHlwZS5oaWRlUG9wdXA9ZnVuY3Rpb24oKXt0aGlzLnBvcHVwLmhpZGUoKX0sU3Vic2NyaXB0aW9uU2VnbWVudHNXaWRnZXQucHJvdG90eXBlLmdldFJpY2hNZWRpYVVybEJ5SW5BcHBDb2RlPWZ1bmN0aW9uKGNvZGUpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGluQXBwcyxpbkFwcDtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5kYXRhLmdldEluQXBwcygpXTtjYXNlIDE6cmV0dXJuKGluQXBwcz1fYS5zZW50KCkpJiYoaW5BcHA9aW5BcHBzLmZpbmQoZnVuY3Rpb24oaW5BcHApe3JldHVybiBpbkFwcC5jb2RlPT09Y29kZX0pKT9bMixpbkFwcC51cmxdOlsyXX19KX0pfSxTdWJzY3JpcHRpb25TZWdtZW50c1dpZGdldC5wcm90b3R5cGUuZ2V0SW5BcHBDb2RlPWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgYXBwbGljYXRpb24saHdpZCx1c2VySWQsZGV2aWNlVHlwZSxkZXZpY2VNb2RlbCxsYW5ndWFnZSx2ZXJzaW9uLHRpbWV6b25lLGRhdGUsdGltZSx0aW1lc3RhbXBVVEMsdGltZXN0YW1wQ3VycmVudCxyZXNwb25zZTtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5kYXRhLmdldEFwcGxpY2F0aW9uQ29kZSgpXTtjYXNlIDE6cmV0dXJuIGFwcGxpY2F0aW9uPV9hLnNlbnQoKSxbNCx0aGlzLmRhdGEuZ2V0SHdpZCgpXTtjYXNlIDI6cmV0dXJuIGh3aWQ9X2Euc2VudCgpLFs0LHRoaXMuZGF0YS5nZXRVc2VySWQoKV07Y2FzZSAzOnJldHVybiB1c2VySWQ9X2Euc2VudCgpLFs0LHRoaXMuZGF0YS5nZXREZXZpY2VUeXBlKCldO2Nhc2UgNDpyZXR1cm4gZGV2aWNlVHlwZT1fYS5zZW50KCksWzQsdGhpcy5kYXRhLmdldERldmljZU1vZGVsKCldO2Nhc2UgNTpyZXR1cm4gZGV2aWNlTW9kZWw9X2Euc2VudCgpLFs0LHRoaXMuZGF0YS5nZXRMYW5ndWFnZSgpXTtjYXNlIDY6cmV0dXJuIGxhbmd1YWdlPV9hLnNlbnQoKSxbNCx0aGlzLmRhdGEuZ2V0U2RrVmVyc2lvbigpXTtjYXNlIDc6cmV0dXJuIHZlcnNpb249X2Euc2VudCgpLHRpbWV6b25lPTYwKi0obmV3IERhdGUpLmdldFRpbWV6b25lT2Zmc2V0KCksZGF0ZT1uZXcgRGF0ZSx0aW1lPWRhdGUuZ2V0VGltZSgpLHRpbWVzdGFtcFVUQz1NYXRoLmZsb29yKHRpbWUvMWUzKSx0aW1lc3RhbXBDdXJyZW50PXRpbWVzdGFtcFVUQy1kYXRlLmdldFRpbWV6b25lT2Zmc2V0KCkvNjAqMzYwMCxbNCx0aGlzLmFwaUNsaWVudC5wb3N0RXZlbnQoe2FwcGxpY2F0aW9uOmFwcGxpY2F0aW9uLGh3aWQ6aHdpZCx1c2VySWQ6dXNlcklkfHxod2lkLGRldmljZV90eXBlOmRldmljZVR5cGUsZGV2aWNlX21vZGVsOmRldmljZU1vZGVsLGxhbmd1YWdlOmxhbmd1YWdlLHY6dmVyc2lvbix0aW1lem9uZTp0aW1lem9uZSx0aW1lc3RhbXBVVEM6dGltZXN0YW1wVVRDLHRpbWVzdGFtcEN1cnJlbnQ6dGltZXN0YW1wQ3VycmVudCxldmVudDpcIlN1YnNjcmlwdGlvbiBTZWdtZW50c1wiLGF0dHJpYnV0ZXM6e319KV07Y2FzZSA4OnJldHVyblsyLChyZXNwb25zZT1fYS5zZW50KCkpJiZyZXNwb25zZS5jb2RlXX19KX0pfSxTdWJzY3JpcHRpb25TZWdtZW50c1dpZGdldC5wcm90b3R5cGUuZ2V0U2VnbWVudHM9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBmZWF0dXJlcztyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5kYXRhLmdldEZlYXR1cmVzKCldO2Nhc2UgMTpyZXR1cm5bMiwoZmVhdHVyZXM9X2Euc2VudCgpKSYmZmVhdHVyZXMuY2hhbm5lbHNdfX0pfSl9LFN1YnNjcmlwdGlvblNlZ21lbnRzV2lkZ2V0LnByb3RvdHlwZS5nZXREeW5hbWljQ29udGVudD1mdW5jdGlvbih1cmwpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGpzemlwLGRhdGEsX2EsX2I7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Mpe3N3aXRjaChfYy5sYWJlbCl7Y2FzZSAwOnJldHVybls0LGdldFppcF8xLmdldFppcCh1cmwpXTtjYXNlIDE6cmV0dXJuIGpzemlwPV9jLnNlbnQoKSxfYj0oX2E9SlNPTikucGFyc2UsWzQsanN6aXAuZmlsZShcInB1c2h3b29zaC5qc29uXCIpLmFzeW5jKFwidGV4dFwiKV07Y2FzZSAyOnJldHVyblsyLChkYXRhPV9iLmFwcGx5KF9hLFtfYy5zZW50KCldKSkmJmRhdGEubG9jYWxpemF0aW9uJiZkYXRhLmRlZmF1bHRfbGFuZ3VhZ2UmJmRhdGEubG9jYWxpemF0aW9uW2RhdGEuZGVmYXVsdF9sYW5ndWFnZV1dfX0pfSl9LFN1YnNjcmlwdGlvblNlZ21lbnRzV2lkZ2V0fSgpO2V4cG9ydHMuU3Vic2NyaXB0aW9uU2VnbWVudHNXaWRnZXQ9U3Vic2NyaXB0aW9uU2VnbWVudHNXaWRnZXR9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO2Z1bmN0aW9uIEpTWmlwKCl7aWYoISh0aGlzIGluc3RhbmNlb2YgSlNaaXApKXJldHVybiBuZXcgSlNaaXA7aWYoYXJndW1lbnRzLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJUaGUgY29uc3RydWN0b3Igd2l0aCBwYXJhbWV0ZXJzIGhhcyBiZWVuIHJlbW92ZWQgaW4gSlNaaXAgMy4wLCBwbGVhc2UgY2hlY2sgdGhlIHVwZ3JhZGUgZ3VpZGUuXCIpO3RoaXMuZmlsZXM9e30sdGhpcy5jb21tZW50PW51bGwsdGhpcy5yb290PVwiXCIsdGhpcy5jbG9uZT1mdW5jdGlvbigpe3ZhciBuZXdPYmo9bmV3IEpTWmlwO2Zvcih2YXIgaSBpbiB0aGlzKVwiZnVuY3Rpb25cIiE9dHlwZW9mIHRoaXNbaV0mJihuZXdPYmpbaV09dGhpc1tpXSk7cmV0dXJuIG5ld09ian19SlNaaXAucHJvdG90eXBlPV9fd2VicGFja19yZXF1aXJlX18oODgpLEpTWmlwLnByb3RvdHlwZS5sb2FkQXN5bmM9X193ZWJwYWNrX3JlcXVpcmVfXygxMjEpLEpTWmlwLnN1cHBvcnQ9X193ZWJwYWNrX3JlcXVpcmVfXyg3KSxKU1ppcC5kZWZhdWx0cz1fX3dlYnBhY2tfcmVxdWlyZV9fKDYxKSxKU1ppcC52ZXJzaW9uPVwiMy4yLjBcIixKU1ppcC5sb2FkQXN5bmM9ZnVuY3Rpb24oY29udGVudCxvcHRpb25zKXtyZXR1cm4obmV3IEpTWmlwKS5sb2FkQXN5bmMoY29udGVudCxvcHRpb25zKX0sSlNaaXAuZXh0ZXJuYWw9X193ZWJwYWNrX3JlcXVpcmVfXygyOSksbW9kdWxlLmV4cG9ydHM9SlNaaXB9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO3ZhciB1dGY4PV9fd2VicGFja19yZXF1aXJlX18oMTYpLHV0aWxzPV9fd2VicGFja19yZXF1aXJlX18oMCksR2VuZXJpY1dvcmtlcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDMpLFN0cmVhbUhlbHBlcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDYwKSxkZWZhdWx0cz1fX3dlYnBhY2tfcmVxdWlyZV9fKDYxKSxDb21wcmVzc2VkT2JqZWN0PV9fd2VicGFja19yZXF1aXJlX18oNDMpLFppcE9iamVjdD1fX3dlYnBhY2tfcmVxdWlyZV9fKDEwNyksZ2VuZXJhdGU9X193ZWJwYWNrX3JlcXVpcmVfXygxMDgpLG5vZGVqc1V0aWxzPV9fd2VicGFja19yZXF1aXJlX18oMzUpLE5vZGVqc1N0cmVhbUlucHV0QWRhcHRlcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDEyMCksZmlsZUFkZD1mdW5jdGlvbihuYW1lLGRhdGEsb3JpZ2luYWxPcHRpb25zKXt2YXIgcGFyZW50LGRhdGFUeXBlPXV0aWxzLmdldFR5cGVPZihkYXRhKSxvPXV0aWxzLmV4dGVuZChvcmlnaW5hbE9wdGlvbnN8fHt9LGRlZmF1bHRzKTtvLmRhdGU9by5kYXRlfHxuZXcgRGF0ZSxudWxsIT09by5jb21wcmVzc2lvbiYmKG8uY29tcHJlc3Npb249by5jb21wcmVzc2lvbi50b1VwcGVyQ2FzZSgpKSxcInN0cmluZ1wiPT10eXBlb2Ygby51bml4UGVybWlzc2lvbnMmJihvLnVuaXhQZXJtaXNzaW9ucz1wYXJzZUludChvLnVuaXhQZXJtaXNzaW9ucyw4KSksby51bml4UGVybWlzc2lvbnMmJjE2Mzg0Jm8udW5peFBlcm1pc3Npb25zJiYoby5kaXI9ITApLG8uZG9zUGVybWlzc2lvbnMmJjE2Jm8uZG9zUGVybWlzc2lvbnMmJihvLmRpcj0hMCksby5kaXImJihuYW1lPWZvcmNlVHJhaWxpbmdTbGFzaChuYW1lKSksby5jcmVhdGVGb2xkZXJzJiYocGFyZW50PXBhcmVudEZvbGRlcihuYW1lKSkmJmZvbGRlckFkZC5jYWxsKHRoaXMscGFyZW50LCEwKTt2YXIgaXNVbmljb2RlU3RyaW5nPVwic3RyaW5nXCI9PT1kYXRhVHlwZSYmITE9PT1vLmJpbmFyeSYmITE9PT1vLmJhc2U2NDtvcmlnaW5hbE9wdGlvbnMmJnZvaWQgMCE9PW9yaWdpbmFsT3B0aW9ucy5iaW5hcnl8fChvLmJpbmFyeT0haXNVbmljb2RlU3RyaW5nKSwoZGF0YSBpbnN0YW5jZW9mIENvbXByZXNzZWRPYmplY3QmJjA9PT1kYXRhLnVuY29tcHJlc3NlZFNpemV8fG8uZGlyfHwhZGF0YXx8MD09PWRhdGEubGVuZ3RoKSYmKG8uYmFzZTY0PSExLG8uYmluYXJ5PSEwLGRhdGE9XCJcIixvLmNvbXByZXNzaW9uPVwiU1RPUkVcIixkYXRhVHlwZT1cInN0cmluZ1wiKTt2YXIgemlwT2JqZWN0Q29udGVudD1udWxsO3ppcE9iamVjdENvbnRlbnQ9ZGF0YSBpbnN0YW5jZW9mIENvbXByZXNzZWRPYmplY3R8fGRhdGEgaW5zdGFuY2VvZiBHZW5lcmljV29ya2VyP2RhdGE6bm9kZWpzVXRpbHMuaXNOb2RlJiZub2RlanNVdGlscy5pc1N0cmVhbShkYXRhKT9uZXcgTm9kZWpzU3RyZWFtSW5wdXRBZGFwdGVyKG5hbWUsZGF0YSk6dXRpbHMucHJlcGFyZUNvbnRlbnQobmFtZSxkYXRhLG8uYmluYXJ5LG8ub3B0aW1pemVkQmluYXJ5U3RyaW5nLG8uYmFzZTY0KTt2YXIgb2JqZWN0PW5ldyBaaXBPYmplY3QobmFtZSx6aXBPYmplY3RDb250ZW50LG8pO3RoaXMuZmlsZXNbbmFtZV09b2JqZWN0fSxwYXJlbnRGb2xkZXI9ZnVuY3Rpb24ocGF0aCl7XCIvXCI9PT1wYXRoLnNsaWNlKC0xKSYmKHBhdGg9cGF0aC5zdWJzdHJpbmcoMCxwYXRoLmxlbmd0aC0xKSk7dmFyIGxhc3RTbGFzaD1wYXRoLmxhc3RJbmRleE9mKFwiL1wiKTtyZXR1cm4gbGFzdFNsYXNoPjA/cGF0aC5zdWJzdHJpbmcoMCxsYXN0U2xhc2gpOlwiXCJ9LGZvcmNlVHJhaWxpbmdTbGFzaD1mdW5jdGlvbihwYXRoKXtyZXR1cm5cIi9cIiE9PXBhdGguc2xpY2UoLTEpJiYocGF0aCs9XCIvXCIpLHBhdGh9LGZvbGRlckFkZD1mdW5jdGlvbihuYW1lLGNyZWF0ZUZvbGRlcnMpe3JldHVybiBjcmVhdGVGb2xkZXJzPXZvaWQgMCE9PWNyZWF0ZUZvbGRlcnM/Y3JlYXRlRm9sZGVyczpkZWZhdWx0cy5jcmVhdGVGb2xkZXJzLG5hbWU9Zm9yY2VUcmFpbGluZ1NsYXNoKG5hbWUpLHRoaXMuZmlsZXNbbmFtZV18fGZpbGVBZGQuY2FsbCh0aGlzLG5hbWUsbnVsbCx7ZGlyOiEwLGNyZWF0ZUZvbGRlcnM6Y3JlYXRlRm9sZGVyc30pLHRoaXMuZmlsZXNbbmFtZV19O2Z1bmN0aW9uIGlzUmVnRXhwKG9iamVjdCl7cmV0dXJuXCJbb2JqZWN0IFJlZ0V4cF1cIj09PU9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbChvYmplY3QpfXZhciBvdXQ9e2xvYWQ6ZnVuY3Rpb24oKXt0aHJvdyBuZXcgRXJyb3IoXCJUaGlzIG1ldGhvZCBoYXMgYmVlbiByZW1vdmVkIGluIEpTWmlwIDMuMCwgcGxlYXNlIGNoZWNrIHRoZSB1cGdyYWRlIGd1aWRlLlwiKX0sZm9yRWFjaDpmdW5jdGlvbihjYil7dmFyIGZpbGVuYW1lLHJlbGF0aXZlUGF0aCxmaWxlO2ZvcihmaWxlbmFtZSBpbiB0aGlzLmZpbGVzKXRoaXMuZmlsZXMuaGFzT3duUHJvcGVydHkoZmlsZW5hbWUpJiYoZmlsZT10aGlzLmZpbGVzW2ZpbGVuYW1lXSwocmVsYXRpdmVQYXRoPWZpbGVuYW1lLnNsaWNlKHRoaXMucm9vdC5sZW5ndGgsZmlsZW5hbWUubGVuZ3RoKSkmJmZpbGVuYW1lLnNsaWNlKDAsdGhpcy5yb290Lmxlbmd0aCk9PT10aGlzLnJvb3QmJmNiKHJlbGF0aXZlUGF0aCxmaWxlKSl9LGZpbHRlcjpmdW5jdGlvbihzZWFyY2gpe3ZhciByZXN1bHQ9W107cmV0dXJuIHRoaXMuZm9yRWFjaChmdW5jdGlvbihyZWxhdGl2ZVBhdGgsZW50cnkpe3NlYXJjaChyZWxhdGl2ZVBhdGgsZW50cnkpJiZyZXN1bHQucHVzaChlbnRyeSl9KSxyZXN1bHR9LGZpbGU6ZnVuY3Rpb24obmFtZSxkYXRhLG8pe2lmKDE9PT1hcmd1bWVudHMubGVuZ3RoKXtpZihpc1JlZ0V4cChuYW1lKSl7dmFyIHJlZ2V4cD1uYW1lO3JldHVybiB0aGlzLmZpbHRlcihmdW5jdGlvbihyZWxhdGl2ZVBhdGgsZmlsZSl7cmV0dXJuIWZpbGUuZGlyJiZyZWdleHAudGVzdChyZWxhdGl2ZVBhdGgpfSl9dmFyIG9iaj10aGlzLmZpbGVzW3RoaXMucm9vdCtuYW1lXTtyZXR1cm4gb2JqJiYhb2JqLmRpcj9vYmo6bnVsbH1yZXR1cm4gbmFtZT10aGlzLnJvb3QrbmFtZSxmaWxlQWRkLmNhbGwodGhpcyxuYW1lLGRhdGEsbyksdGhpc30sZm9sZGVyOmZ1bmN0aW9uKGFyZyl7aWYoIWFyZylyZXR1cm4gdGhpcztpZihpc1JlZ0V4cChhcmcpKXJldHVybiB0aGlzLmZpbHRlcihmdW5jdGlvbihyZWxhdGl2ZVBhdGgsZmlsZSl7cmV0dXJuIGZpbGUuZGlyJiZhcmcudGVzdChyZWxhdGl2ZVBhdGgpfSk7dmFyIG5hbWU9dGhpcy5yb290K2FyZyxuZXdGb2xkZXI9Zm9sZGVyQWRkLmNhbGwodGhpcyxuYW1lKSxyZXQ9dGhpcy5jbG9uZSgpO3JldHVybiByZXQucm9vdD1uZXdGb2xkZXIubmFtZSxyZXR9LHJlbW92ZTpmdW5jdGlvbihuYW1lKXtuYW1lPXRoaXMucm9vdCtuYW1lO3ZhciBmaWxlPXRoaXMuZmlsZXNbbmFtZV07aWYoZmlsZXx8KFwiL1wiIT09bmFtZS5zbGljZSgtMSkmJihuYW1lKz1cIi9cIiksZmlsZT10aGlzLmZpbGVzW25hbWVdKSxmaWxlJiYhZmlsZS5kaXIpZGVsZXRlIHRoaXMuZmlsZXNbbmFtZV07ZWxzZSBmb3IodmFyIGtpZHM9dGhpcy5maWx0ZXIoZnVuY3Rpb24ocmVsYXRpdmVQYXRoLGZpbGUpe3JldHVybiBmaWxlLm5hbWUuc2xpY2UoMCxuYW1lLmxlbmd0aCk9PT1uYW1lfSksaT0wO2k8a2lkcy5sZW5ndGg7aSsrKWRlbGV0ZSB0aGlzLmZpbGVzW2tpZHNbaV0ubmFtZV07cmV0dXJuIHRoaXN9LGdlbmVyYXRlOmZ1bmN0aW9uKG9wdGlvbnMpe3Rocm93IG5ldyBFcnJvcihcIlRoaXMgbWV0aG9kIGhhcyBiZWVuIHJlbW92ZWQgaW4gSlNaaXAgMy4wLCBwbGVhc2UgY2hlY2sgdGhlIHVwZ3JhZGUgZ3VpZGUuXCIpfSxnZW5lcmF0ZUludGVybmFsU3RyZWFtOmZ1bmN0aW9uKG9wdGlvbnMpe3ZhciB3b3JrZXIsb3B0cz17fTt0cnl7aWYoKG9wdHM9dXRpbHMuZXh0ZW5kKG9wdGlvbnN8fHt9LHtzdHJlYW1GaWxlczohMSxjb21wcmVzc2lvbjpcIlNUT1JFXCIsY29tcHJlc3Npb25PcHRpb25zOm51bGwsdHlwZTpcIlwiLHBsYXRmb3JtOlwiRE9TXCIsY29tbWVudDpudWxsLG1pbWVUeXBlOlwiYXBwbGljYXRpb24vemlwXCIsZW5jb2RlRmlsZU5hbWU6dXRmOC51dGY4ZW5jb2RlfSkpLnR5cGU9b3B0cy50eXBlLnRvTG93ZXJDYXNlKCksb3B0cy5jb21wcmVzc2lvbj1vcHRzLmNvbXByZXNzaW9uLnRvVXBwZXJDYXNlKCksXCJiaW5hcnlzdHJpbmdcIj09PW9wdHMudHlwZSYmKG9wdHMudHlwZT1cInN0cmluZ1wiKSwhb3B0cy50eXBlKXRocm93IG5ldyBFcnJvcihcIk5vIG91dHB1dCB0eXBlIHNwZWNpZmllZC5cIik7dXRpbHMuY2hlY2tTdXBwb3J0KG9wdHMudHlwZSksXCJkYXJ3aW5cIiE9PW9wdHMucGxhdGZvcm0mJlwiZnJlZWJzZFwiIT09b3B0cy5wbGF0Zm9ybSYmXCJsaW51eFwiIT09b3B0cy5wbGF0Zm9ybSYmXCJzdW5vc1wiIT09b3B0cy5wbGF0Zm9ybXx8KG9wdHMucGxhdGZvcm09XCJVTklYXCIpLFwid2luMzJcIj09PW9wdHMucGxhdGZvcm0mJihvcHRzLnBsYXRmb3JtPVwiRE9TXCIpO3ZhciBjb21tZW50PW9wdHMuY29tbWVudHx8dGhpcy5jb21tZW50fHxcIlwiO3dvcmtlcj1nZW5lcmF0ZS5nZW5lcmF0ZVdvcmtlcih0aGlzLG9wdHMsY29tbWVudCl9Y2F0Y2goZSl7KHdvcmtlcj1uZXcgR2VuZXJpY1dvcmtlcihcImVycm9yXCIpKS5lcnJvcihlKX1yZXR1cm4gbmV3IFN0cmVhbUhlbHBlcih3b3JrZXIsb3B0cy50eXBlfHxcInN0cmluZ1wiLG9wdHMubWltZVR5cGUpfSxnZW5lcmF0ZUFzeW5jOmZ1bmN0aW9uKG9wdGlvbnMsb25VcGRhdGUpe3JldHVybiB0aGlzLmdlbmVyYXRlSW50ZXJuYWxTdHJlYW0ob3B0aW9ucykuYWNjdW11bGF0ZShvblVwZGF0ZSl9LGdlbmVyYXRlTm9kZVN0cmVhbTpmdW5jdGlvbihvcHRpb25zLG9uVXBkYXRlKXtyZXR1cm4ob3B0aW9ucz1vcHRpb25zfHx7fSkudHlwZXx8KG9wdGlvbnMudHlwZT1cIm5vZGVidWZmZXJcIiksdGhpcy5nZW5lcmF0ZUludGVybmFsU3RyZWFtKG9wdGlvbnMpLnRvTm9kZWpzU3RyZWFtKG9uVXBkYXRlKX19O21vZHVsZS5leHBvcnRzPW91dH0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7ZXhwb3J0cy5ieXRlTGVuZ3RoPWZ1bmN0aW9uKGI2NCl7dmFyIGxlbnM9Z2V0TGVucyhiNjQpLHZhbGlkTGVuPWxlbnNbMF0scGxhY2VIb2xkZXJzTGVuPWxlbnNbMV07cmV0dXJuIDMqKHZhbGlkTGVuK3BsYWNlSG9sZGVyc0xlbikvNC1wbGFjZUhvbGRlcnNMZW59LGV4cG9ydHMudG9CeXRlQXJyYXk9ZnVuY3Rpb24oYjY0KXt2YXIgdG1wLGksbGVucz1nZXRMZW5zKGI2NCksdmFsaWRMZW49bGVuc1swXSxwbGFjZUhvbGRlcnNMZW49bGVuc1sxXSxhcnI9bmV3IEFycihmdW5jdGlvbihiNjQsdmFsaWRMZW4scGxhY2VIb2xkZXJzTGVuKXtyZXR1cm4gMyoodmFsaWRMZW4rcGxhY2VIb2xkZXJzTGVuKS80LXBsYWNlSG9sZGVyc0xlbn0oMCx2YWxpZExlbixwbGFjZUhvbGRlcnNMZW4pKSxjdXJCeXRlPTAsbGVuPXBsYWNlSG9sZGVyc0xlbj4wP3ZhbGlkTGVuLTQ6dmFsaWRMZW47Zm9yKGk9MDtpPGxlbjtpKz00KXRtcD1yZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSldPDwxOHxyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSsxKV08PDEyfHJldkxvb2t1cFtiNjQuY2hhckNvZGVBdChpKzIpXTw8NnxyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSszKV0sYXJyW2N1ckJ5dGUrK109dG1wPj4xNiYyNTUsYXJyW2N1ckJ5dGUrK109dG1wPj44JjI1NSxhcnJbY3VyQnl0ZSsrXT0yNTUmdG1wOzI9PT1wbGFjZUhvbGRlcnNMZW4mJih0bXA9cmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkpXTw8MnxyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSsxKV0+PjQsYXJyW2N1ckJ5dGUrK109MjU1JnRtcCk7MT09PXBsYWNlSG9sZGVyc0xlbiYmKHRtcD1yZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSldPDwxMHxyZXZMb29rdXBbYjY0LmNoYXJDb2RlQXQoaSsxKV08PDR8cmV2TG9va3VwW2I2NC5jaGFyQ29kZUF0KGkrMildPj4yLGFycltjdXJCeXRlKytdPXRtcD4+OCYyNTUsYXJyW2N1ckJ5dGUrK109MjU1JnRtcCk7cmV0dXJuIGFycn0sZXhwb3J0cy5mcm9tQnl0ZUFycmF5PWZ1bmN0aW9uKHVpbnQ4KXtmb3IodmFyIHRtcCxsZW49dWludDgubGVuZ3RoLGV4dHJhQnl0ZXM9bGVuJTMscGFydHM9W10saT0wLGxlbjI9bGVuLWV4dHJhQnl0ZXM7aTxsZW4yO2krPTE2MzgzKXBhcnRzLnB1c2goZW5jb2RlQ2h1bmsodWludDgsaSxpKzE2MzgzPmxlbjI/bGVuMjppKzE2MzgzKSk7MT09PWV4dHJhQnl0ZXM/KHRtcD11aW50OFtsZW4tMV0scGFydHMucHVzaChsb29rdXBbdG1wPj4yXStsb29rdXBbdG1wPDw0JjYzXStcIj09XCIpKToyPT09ZXh0cmFCeXRlcyYmKHRtcD0odWludDhbbGVuLTJdPDw4KSt1aW50OFtsZW4tMV0scGFydHMucHVzaChsb29rdXBbdG1wPj4xMF0rbG9va3VwW3RtcD4+NCY2M10rbG9va3VwW3RtcDw8MiY2M10rXCI9XCIpKTtyZXR1cm4gcGFydHMuam9pbihcIlwiKX07Zm9yKHZhciBsb29rdXA9W10scmV2TG9va3VwPVtdLEFycj1cInVuZGVmaW5lZFwiIT10eXBlb2YgVWludDhBcnJheT9VaW50OEFycmF5OkFycmF5LGNvZGU9XCJBQkNERUZHSElKS0xNTk9QUVJTVFVWV1hZWmFiY2RlZmdoaWprbG1ub3BxcnN0dXZ3eHl6MDEyMzQ1Njc4OSsvXCIsaT0wLGxlbj1jb2RlLmxlbmd0aDtpPGxlbjsrK2kpbG9va3VwW2ldPWNvZGVbaV0scmV2TG9va3VwW2NvZGUuY2hhckNvZGVBdChpKV09aTtmdW5jdGlvbiBnZXRMZW5zKGI2NCl7dmFyIGxlbj1iNjQubGVuZ3RoO2lmKGxlbiU0PjApdGhyb3cgbmV3IEVycm9yKFwiSW52YWxpZCBzdHJpbmcuIExlbmd0aCBtdXN0IGJlIGEgbXVsdGlwbGUgb2YgNFwiKTt2YXIgdmFsaWRMZW49YjY0LmluZGV4T2YoXCI9XCIpO3JldHVybi0xPT09dmFsaWRMZW4mJih2YWxpZExlbj1sZW4pLFt2YWxpZExlbix2YWxpZExlbj09PWxlbj8wOjQtdmFsaWRMZW4lNF19ZnVuY3Rpb24gdHJpcGxldFRvQmFzZTY0KG51bSl7cmV0dXJuIGxvb2t1cFtudW0+PjE4JjYzXStsb29rdXBbbnVtPj4xMiY2M10rbG9va3VwW251bT4+NiY2M10rbG9va3VwWzYzJm51bV19ZnVuY3Rpb24gZW5jb2RlQ2h1bmsodWludDgsc3RhcnQsZW5kKXtmb3IodmFyIHRtcCxvdXRwdXQ9W10saT1zdGFydDtpPGVuZDtpKz0zKXRtcD0odWludDhbaV08PDE2JjE2NzExNjgwKSsodWludDhbaSsxXTw8OCY2NTI4MCkrKDI1NSZ1aW50OFtpKzJdKSxvdXRwdXQucHVzaCh0cmlwbGV0VG9CYXNlNjQodG1wKSk7cmV0dXJuIG91dHB1dC5qb2luKFwiXCIpfXJldkxvb2t1cFtcIi1cIi5jaGFyQ29kZUF0KDApXT02MixyZXZMb29rdXBbXCJfXCIuY2hhckNvZGVBdCgwKV09NjN9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXtcbi8qISBpZWVlNzU0LiBCU0QtMy1DbGF1c2UgTGljZW5zZS4gRmVyb3NzIEFib3VraGFkaWplaCA8aHR0cHM6Ly9mZXJvc3Mub3JnL29wZW5zb3VyY2U+ICovXG5leHBvcnRzLnJlYWQ9ZnVuY3Rpb24oYnVmZmVyLG9mZnNldCxpc0xFLG1MZW4sbkJ5dGVzKXt2YXIgZSxtLGVMZW49OCpuQnl0ZXMtbUxlbi0xLGVNYXg9KDE8PGVMZW4pLTEsZUJpYXM9ZU1heD4+MSxuQml0cz0tNyxpPWlzTEU/bkJ5dGVzLTE6MCxkPWlzTEU/LTE6MSxzPWJ1ZmZlcltvZmZzZXQraV07Zm9yKGkrPWQsZT1zJigxPDwtbkJpdHMpLTEscz4+PS1uQml0cyxuQml0cys9ZUxlbjtuQml0cz4wO2U9MjU2KmUrYnVmZmVyW29mZnNldCtpXSxpKz1kLG5CaXRzLT04KTtmb3IobT1lJigxPDwtbkJpdHMpLTEsZT4+PS1uQml0cyxuQml0cys9bUxlbjtuQml0cz4wO209MjU2Km0rYnVmZmVyW29mZnNldCtpXSxpKz1kLG5CaXRzLT04KTtpZigwPT09ZSllPTEtZUJpYXM7ZWxzZXtpZihlPT09ZU1heClyZXR1cm4gbT9OYU46MS8wKihzPy0xOjEpO20rPU1hdGgucG93KDIsbUxlbiksZS09ZUJpYXN9cmV0dXJuKHM/LTE6MSkqbSpNYXRoLnBvdygyLGUtbUxlbil9LGV4cG9ydHMud3JpdGU9ZnVuY3Rpb24oYnVmZmVyLHZhbHVlLG9mZnNldCxpc0xFLG1MZW4sbkJ5dGVzKXt2YXIgZSxtLGMsZUxlbj04Km5CeXRlcy1tTGVuLTEsZU1heD0oMTw8ZUxlbiktMSxlQmlhcz1lTWF4Pj4xLHJ0PTIzPT09bUxlbj9NYXRoLnBvdygyLC0yNCktTWF0aC5wb3coMiwtNzcpOjAsaT1pc0xFPzA6bkJ5dGVzLTEsZD1pc0xFPzE6LTEscz12YWx1ZTwwfHwwPT09dmFsdWUmJjEvdmFsdWU8MD8xOjA7Zm9yKHZhbHVlPU1hdGguYWJzKHZhbHVlKSxpc05hTih2YWx1ZSl8fHZhbHVlPT09MS8wPyhtPWlzTmFOKHZhbHVlKT8xOjAsZT1lTWF4KTooZT1NYXRoLmZsb29yKE1hdGgubG9nKHZhbHVlKS9NYXRoLkxOMiksdmFsdWUqKGM9TWF0aC5wb3coMiwtZSkpPDEmJihlLS0sYyo9MiksKHZhbHVlKz1lK2VCaWFzPj0xP3J0L2M6cnQqTWF0aC5wb3coMiwxLWVCaWFzKSkqYz49MiYmKGUrKyxjLz0yKSxlK2VCaWFzPj1lTWF4PyhtPTAsZT1lTWF4KTplK2VCaWFzPj0xPyhtPSh2YWx1ZSpjLTEpKk1hdGgucG93KDIsbUxlbiksZSs9ZUJpYXMpOihtPXZhbHVlKk1hdGgucG93KDIsZUJpYXMtMSkqTWF0aC5wb3coMixtTGVuKSxlPTApKTttTGVuPj04O2J1ZmZlcltvZmZzZXQraV09MjU1Jm0saSs9ZCxtLz0yNTYsbUxlbi09OCk7Zm9yKGU9ZTw8bUxlbnxtLGVMZW4rPW1MZW47ZUxlbj4wO2J1ZmZlcltvZmZzZXQraV09MjU1JmUsaSs9ZCxlLz0yNTYsZUxlbi09OCk7YnVmZmVyW29mZnNldCtpLWRdfD0xMjgqc319LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe21vZHVsZS5leHBvcnRzPVN0cmVhbTt2YXIgRUU9X193ZWJwYWNrX3JlcXVpcmVfXyg0MCkuRXZlbnRFbWl0dGVyO2Z1bmN0aW9uIFN0cmVhbSgpe0VFLmNhbGwodGhpcyl9X193ZWJwYWNrX3JlcXVpcmVfXygxNykoU3RyZWFtLEVFKSxTdHJlYW0uUmVhZGFibGU9X193ZWJwYWNrX3JlcXVpcmVfXyg0MSksU3RyZWFtLldyaXRhYmxlPV9fd2VicGFja19yZXF1aXJlX18oOTgpLFN0cmVhbS5EdXBsZXg9X193ZWJwYWNrX3JlcXVpcmVfXyg5OSksU3RyZWFtLlRyYW5zZm9ybT1fX3dlYnBhY2tfcmVxdWlyZV9fKDEwMCksU3RyZWFtLlBhc3NUaHJvdWdoPV9fd2VicGFja19yZXF1aXJlX18oMTAxKSxTdHJlYW0uU3RyZWFtPVN0cmVhbSxTdHJlYW0ucHJvdG90eXBlLnBpcGU9ZnVuY3Rpb24oZGVzdCxvcHRpb25zKXt2YXIgc291cmNlPXRoaXM7ZnVuY3Rpb24gb25kYXRhKGNodW5rKXtkZXN0LndyaXRhYmxlJiYhMT09PWRlc3Qud3JpdGUoY2h1bmspJiZzb3VyY2UucGF1c2UmJnNvdXJjZS5wYXVzZSgpfWZ1bmN0aW9uIG9uZHJhaW4oKXtzb3VyY2UucmVhZGFibGUmJnNvdXJjZS5yZXN1bWUmJnNvdXJjZS5yZXN1bWUoKX1zb3VyY2Uub24oXCJkYXRhXCIsb25kYXRhKSxkZXN0Lm9uKFwiZHJhaW5cIixvbmRyYWluKSxkZXN0Ll9pc1N0ZGlvfHxvcHRpb25zJiYhMT09PW9wdGlvbnMuZW5kfHwoc291cmNlLm9uKFwiZW5kXCIsb25lbmQpLHNvdXJjZS5vbihcImNsb3NlXCIsb25jbG9zZSkpO3ZhciBkaWRPbkVuZD0hMTtmdW5jdGlvbiBvbmVuZCgpe2RpZE9uRW5kfHwoZGlkT25FbmQ9ITAsZGVzdC5lbmQoKSl9ZnVuY3Rpb24gb25jbG9zZSgpe2RpZE9uRW5kfHwoZGlkT25FbmQ9ITAsXCJmdW5jdGlvblwiPT10eXBlb2YgZGVzdC5kZXN0cm95JiZkZXN0LmRlc3Ryb3koKSl9ZnVuY3Rpb24gb25lcnJvcihlcil7aWYoY2xlYW51cCgpLDA9PT1FRS5saXN0ZW5lckNvdW50KHRoaXMsXCJlcnJvclwiKSl0aHJvdyBlcn1mdW5jdGlvbiBjbGVhbnVwKCl7c291cmNlLnJlbW92ZUxpc3RlbmVyKFwiZGF0YVwiLG9uZGF0YSksZGVzdC5yZW1vdmVMaXN0ZW5lcihcImRyYWluXCIsb25kcmFpbiksc291cmNlLnJlbW92ZUxpc3RlbmVyKFwiZW5kXCIsb25lbmQpLHNvdXJjZS5yZW1vdmVMaXN0ZW5lcihcImNsb3NlXCIsb25jbG9zZSksc291cmNlLnJlbW92ZUxpc3RlbmVyKFwiZXJyb3JcIixvbmVycm9yKSxkZXN0LnJlbW92ZUxpc3RlbmVyKFwiZXJyb3JcIixvbmVycm9yKSxzb3VyY2UucmVtb3ZlTGlzdGVuZXIoXCJlbmRcIixjbGVhbnVwKSxzb3VyY2UucmVtb3ZlTGlzdGVuZXIoXCJjbG9zZVwiLGNsZWFudXApLGRlc3QucmVtb3ZlTGlzdGVuZXIoXCJjbG9zZVwiLGNsZWFudXApfXJldHVybiBzb3VyY2Uub24oXCJlcnJvclwiLG9uZXJyb3IpLGRlc3Qub24oXCJlcnJvclwiLG9uZXJyb3IpLHNvdXJjZS5vbihcImVuZFwiLGNsZWFudXApLHNvdXJjZS5vbihcImNsb3NlXCIsY2xlYW51cCksZGVzdC5vbihcImNsb3NlXCIsY2xlYW51cCksZGVzdC5lbWl0KFwicGlwZVwiLHNvdXJjZSksZGVzdH19LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXt9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO3ZhciBCdWZmZXI9X193ZWJwYWNrX3JlcXVpcmVfXygzNCkuQnVmZmVyLHV0aWw9X193ZWJwYWNrX3JlcXVpcmVfXyg5NCk7ZnVuY3Rpb24gY29weUJ1ZmZlcihzcmMsdGFyZ2V0LG9mZnNldCl7c3JjLmNvcHkodGFyZ2V0LG9mZnNldCl9bW9kdWxlLmV4cG9ydHM9ZnVuY3Rpb24oKXtmdW5jdGlvbiBCdWZmZXJMaXN0KCl7IWZ1bmN0aW9uKGluc3RhbmNlLENvbnN0cnVjdG9yKXtpZighKGluc3RhbmNlIGluc3RhbmNlb2YgQ29uc3RydWN0b3IpKXRocm93IG5ldyBUeXBlRXJyb3IoXCJDYW5ub3QgY2FsbCBhIGNsYXNzIGFzIGEgZnVuY3Rpb25cIil9KHRoaXMsQnVmZmVyTGlzdCksdGhpcy5oZWFkPW51bGwsdGhpcy50YWlsPW51bGwsdGhpcy5sZW5ndGg9MH1yZXR1cm4gQnVmZmVyTGlzdC5wcm90b3R5cGUucHVzaD1mdW5jdGlvbih2KXt2YXIgZW50cnk9e2RhdGE6dixuZXh0Om51bGx9O3RoaXMubGVuZ3RoPjA/dGhpcy50YWlsLm5leHQ9ZW50cnk6dGhpcy5oZWFkPWVudHJ5LHRoaXMudGFpbD1lbnRyeSwrK3RoaXMubGVuZ3RofSxCdWZmZXJMaXN0LnByb3RvdHlwZS51bnNoaWZ0PWZ1bmN0aW9uKHYpe3ZhciBlbnRyeT17ZGF0YTp2LG5leHQ6dGhpcy5oZWFkfTswPT09dGhpcy5sZW5ndGgmJih0aGlzLnRhaWw9ZW50cnkpLHRoaXMuaGVhZD1lbnRyeSwrK3RoaXMubGVuZ3RofSxCdWZmZXJMaXN0LnByb3RvdHlwZS5zaGlmdD1mdW5jdGlvbigpe2lmKDAhPT10aGlzLmxlbmd0aCl7dmFyIHJldD10aGlzLmhlYWQuZGF0YTtyZXR1cm4gMT09PXRoaXMubGVuZ3RoP3RoaXMuaGVhZD10aGlzLnRhaWw9bnVsbDp0aGlzLmhlYWQ9dGhpcy5oZWFkLm5leHQsLS10aGlzLmxlbmd0aCxyZXR9fSxCdWZmZXJMaXN0LnByb3RvdHlwZS5jbGVhcj1mdW5jdGlvbigpe3RoaXMuaGVhZD10aGlzLnRhaWw9bnVsbCx0aGlzLmxlbmd0aD0wfSxCdWZmZXJMaXN0LnByb3RvdHlwZS5qb2luPWZ1bmN0aW9uKHMpe2lmKDA9PT10aGlzLmxlbmd0aClyZXR1cm5cIlwiO2Zvcih2YXIgcD10aGlzLmhlYWQscmV0PVwiXCIrcC5kYXRhO3A9cC5uZXh0OylyZXQrPXMrcC5kYXRhO3JldHVybiByZXR9LEJ1ZmZlckxpc3QucHJvdG90eXBlLmNvbmNhdD1mdW5jdGlvbihuKXtpZigwPT09dGhpcy5sZW5ndGgpcmV0dXJuIEJ1ZmZlci5hbGxvYygwKTtpZigxPT09dGhpcy5sZW5ndGgpcmV0dXJuIHRoaXMuaGVhZC5kYXRhO2Zvcih2YXIgcmV0PUJ1ZmZlci5hbGxvY1Vuc2FmZShuPj4+MCkscD10aGlzLmhlYWQsaT0wO3A7KWNvcHlCdWZmZXIocC5kYXRhLHJldCxpKSxpKz1wLmRhdGEubGVuZ3RoLHA9cC5uZXh0O3JldHVybiByZXR9LEJ1ZmZlckxpc3R9KCksdXRpbCYmdXRpbC5pbnNwZWN0JiZ1dGlsLmluc3BlY3QuY3VzdG9tJiYobW9kdWxlLmV4cG9ydHMucHJvdG90eXBlW3V0aWwuaW5zcGVjdC5jdXN0b21dPWZ1bmN0aW9uKCl7dmFyIG9iaj11dGlsLmluc3BlY3Qoe2xlbmd0aDp0aGlzLmxlbmd0aH0pO3JldHVybiB0aGlzLmNvbnN0cnVjdG9yLm5hbWUrXCIgXCIrb2JqfSl9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXt9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18peyhmdW5jdGlvbihnbG9iYWwscHJvY2Vzcyl7IWZ1bmN0aW9uKGdsb2JhbCx1bmRlZmluZWQpe1widXNlIHN0cmljdFwiO2lmKCFnbG9iYWwuc2V0SW1tZWRpYXRlKXt2YXIgcmVnaXN0ZXJJbW1lZGlhdGUsbmV4dEhhbmRsZT0xLHRhc2tzQnlIYW5kbGU9e30sY3VycmVudGx5UnVubmluZ0FUYXNrPSExLGRvYz1nbG9iYWwuZG9jdW1lbnQsYXR0YWNoVG89T2JqZWN0LmdldFByb3RvdHlwZU9mJiZPYmplY3QuZ2V0UHJvdG90eXBlT2YoZ2xvYmFsKTthdHRhY2hUbz1hdHRhY2hUbyYmYXR0YWNoVG8uc2V0VGltZW91dD9hdHRhY2hUbzpnbG9iYWwsXCJbb2JqZWN0IHByb2Nlc3NdXCI9PT17fS50b1N0cmluZy5jYWxsKGdsb2JhbC5wcm9jZXNzKT9yZWdpc3RlckltbWVkaWF0ZT1mdW5jdGlvbihoYW5kbGUpe3Byb2Nlc3MubmV4dFRpY2soZnVuY3Rpb24oKXtydW5JZlByZXNlbnQoaGFuZGxlKX0pfTpmdW5jdGlvbigpe2lmKGdsb2JhbC5wb3N0TWVzc2FnZSYmIWdsb2JhbC5pbXBvcnRTY3JpcHRzKXt2YXIgcG9zdE1lc3NhZ2VJc0FzeW5jaHJvbm91cz0hMCxvbGRPbk1lc3NhZ2U9Z2xvYmFsLm9ubWVzc2FnZTtyZXR1cm4gZ2xvYmFsLm9ubWVzc2FnZT1mdW5jdGlvbigpe3Bvc3RNZXNzYWdlSXNBc3luY2hyb25vdXM9ITF9LGdsb2JhbC5wb3N0TWVzc2FnZShcIlwiLFwiKlwiKSxnbG9iYWwub25tZXNzYWdlPW9sZE9uTWVzc2FnZSxwb3N0TWVzc2FnZUlzQXN5bmNocm9ub3VzfX0oKT9mdW5jdGlvbigpe3ZhciBtZXNzYWdlUHJlZml4PVwic2V0SW1tZWRpYXRlJFwiK01hdGgucmFuZG9tKCkrXCIkXCIsb25HbG9iYWxNZXNzYWdlPWZ1bmN0aW9uKGV2ZW50KXtldmVudC5zb3VyY2U9PT1nbG9iYWwmJlwic3RyaW5nXCI9PXR5cGVvZiBldmVudC5kYXRhJiYwPT09ZXZlbnQuZGF0YS5pbmRleE9mKG1lc3NhZ2VQcmVmaXgpJiZydW5JZlByZXNlbnQoK2V2ZW50LmRhdGEuc2xpY2UobWVzc2FnZVByZWZpeC5sZW5ndGgpKX07Z2xvYmFsLmFkZEV2ZW50TGlzdGVuZXI/Z2xvYmFsLmFkZEV2ZW50TGlzdGVuZXIoXCJtZXNzYWdlXCIsb25HbG9iYWxNZXNzYWdlLCExKTpnbG9iYWwuYXR0YWNoRXZlbnQoXCJvbm1lc3NhZ2VcIixvbkdsb2JhbE1lc3NhZ2UpLHJlZ2lzdGVySW1tZWRpYXRlPWZ1bmN0aW9uKGhhbmRsZSl7Z2xvYmFsLnBvc3RNZXNzYWdlKG1lc3NhZ2VQcmVmaXgraGFuZGxlLFwiKlwiKX19KCk6Z2xvYmFsLk1lc3NhZ2VDaGFubmVsP2Z1bmN0aW9uKCl7dmFyIGNoYW5uZWw9bmV3IE1lc3NhZ2VDaGFubmVsO2NoYW5uZWwucG9ydDEub25tZXNzYWdlPWZ1bmN0aW9uKGV2ZW50KXtydW5JZlByZXNlbnQoZXZlbnQuZGF0YSl9LHJlZ2lzdGVySW1tZWRpYXRlPWZ1bmN0aW9uKGhhbmRsZSl7Y2hhbm5lbC5wb3J0Mi5wb3N0TWVzc2FnZShoYW5kbGUpfX0oKTpkb2MmJlwib25yZWFkeXN0YXRlY2hhbmdlXCJpbiBkb2MuY3JlYXRlRWxlbWVudChcInNjcmlwdFwiKT9mdW5jdGlvbigpe3ZhciBodG1sPWRvYy5kb2N1bWVudEVsZW1lbnQ7cmVnaXN0ZXJJbW1lZGlhdGU9ZnVuY3Rpb24oaGFuZGxlKXt2YXIgc2NyaXB0PWRvYy5jcmVhdGVFbGVtZW50KFwic2NyaXB0XCIpO3NjcmlwdC5vbnJlYWR5c3RhdGVjaGFuZ2U9ZnVuY3Rpb24oKXtydW5JZlByZXNlbnQoaGFuZGxlKSxzY3JpcHQub25yZWFkeXN0YXRlY2hhbmdlPW51bGwsaHRtbC5yZW1vdmVDaGlsZChzY3JpcHQpLHNjcmlwdD1udWxsfSxodG1sLmFwcGVuZENoaWxkKHNjcmlwdCl9fSgpOnJlZ2lzdGVySW1tZWRpYXRlPWZ1bmN0aW9uKGhhbmRsZSl7c2V0VGltZW91dChydW5JZlByZXNlbnQsMCxoYW5kbGUpfSxhdHRhY2hUby5zZXRJbW1lZGlhdGU9ZnVuY3Rpb24oY2FsbGJhY2spe1wiZnVuY3Rpb25cIiE9dHlwZW9mIGNhbGxiYWNrJiYoY2FsbGJhY2s9bmV3IEZ1bmN0aW9uKFwiXCIrY2FsbGJhY2spKTtmb3IodmFyIGFyZ3M9bmV3IEFycmF5KGFyZ3VtZW50cy5sZW5ndGgtMSksaT0wO2k8YXJncy5sZW5ndGg7aSsrKWFyZ3NbaV09YXJndW1lbnRzW2krMV07dmFyIHRhc2s9e2NhbGxiYWNrOmNhbGxiYWNrLGFyZ3M6YXJnc307cmV0dXJuIHRhc2tzQnlIYW5kbGVbbmV4dEhhbmRsZV09dGFzayxyZWdpc3RlckltbWVkaWF0ZShuZXh0SGFuZGxlKSxuZXh0SGFuZGxlKyt9LGF0dGFjaFRvLmNsZWFySW1tZWRpYXRlPWNsZWFySW1tZWRpYXRlfWZ1bmN0aW9uIGNsZWFySW1tZWRpYXRlKGhhbmRsZSl7ZGVsZXRlIHRhc2tzQnlIYW5kbGVbaGFuZGxlXX1mdW5jdGlvbiBydW5JZlByZXNlbnQoaGFuZGxlKXtpZihjdXJyZW50bHlSdW5uaW5nQVRhc2spc2V0VGltZW91dChydW5JZlByZXNlbnQsMCxoYW5kbGUpO2Vsc2V7dmFyIHRhc2s9dGFza3NCeUhhbmRsZVtoYW5kbGVdO2lmKHRhc2spe2N1cnJlbnRseVJ1bm5pbmdBVGFzaz0hMDt0cnl7IWZ1bmN0aW9uKHRhc2spe3ZhciBjYWxsYmFjaz10YXNrLmNhbGxiYWNrLGFyZ3M9dGFzay5hcmdzO3N3aXRjaChhcmdzLmxlbmd0aCl7Y2FzZSAwOmNhbGxiYWNrKCk7YnJlYWs7Y2FzZSAxOmNhbGxiYWNrKGFyZ3NbMF0pO2JyZWFrO2Nhc2UgMjpjYWxsYmFjayhhcmdzWzBdLGFyZ3NbMV0pO2JyZWFrO2Nhc2UgMzpjYWxsYmFjayhhcmdzWzBdLGFyZ3NbMV0sYXJnc1syXSk7YnJlYWs7ZGVmYXVsdDpjYWxsYmFjay5hcHBseSh1bmRlZmluZWQsYXJncyl9fSh0YXNrKX1maW5hbGx5e2NsZWFySW1tZWRpYXRlKGhhbmRsZSksY3VycmVudGx5UnVubmluZ0FUYXNrPSExfX19fX0oXCJ1bmRlZmluZWRcIj09dHlwZW9mIHNlbGY/dm9pZCAwPT09Z2xvYmFsP3RoaXM6Z2xvYmFsOnNlbGYpfSkuY2FsbCh0aGlzLF9fd2VicGFja19yZXF1aXJlX18oMTQpLF9fd2VicGFja19yZXF1aXJlX18oMjcpKX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7KGZ1bmN0aW9uKGdsb2JhbCl7ZnVuY3Rpb24gY29uZmlnKG5hbWUpe3RyeXtpZighZ2xvYmFsLmxvY2FsU3RvcmFnZSlyZXR1cm4hMX1jYXRjaChfKXtyZXR1cm4hMX12YXIgdmFsPWdsb2JhbC5sb2NhbFN0b3JhZ2VbbmFtZV07cmV0dXJuIG51bGwhPXZhbCYmXCJ0cnVlXCI9PT1TdHJpbmcodmFsKS50b0xvd2VyQ2FzZSgpfW1vZHVsZS5leHBvcnRzPWZ1bmN0aW9uKGZuLG1zZyl7aWYoY29uZmlnKFwibm9EZXByZWNhdGlvblwiKSlyZXR1cm4gZm47dmFyIHdhcm5lZD0hMTtyZXR1cm4gZnVuY3Rpb24oKXtpZighd2FybmVkKXtpZihjb25maWcoXCJ0aHJvd0RlcHJlY2F0aW9uXCIpKXRocm93IG5ldyBFcnJvcihtc2cpO2NvbmZpZyhcInRyYWNlRGVwcmVjYXRpb25cIik/Y29uc29sZS50cmFjZShtc2cpOmNvbnNvbGUud2Fybihtc2cpLHdhcm5lZD0hMH1yZXR1cm4gZm4uYXBwbHkodGhpcyxhcmd1bWVudHMpfX19KS5jYWxsKHRoaXMsX193ZWJwYWNrX3JlcXVpcmVfXygxNCkpfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjttb2R1bGUuZXhwb3J0cz1QYXNzVGhyb3VnaDt2YXIgVHJhbnNmb3JtPV9fd2VicGFja19yZXF1aXJlX18oNTgpLHV0aWw9T2JqZWN0LmNyZWF0ZShfX3dlYnBhY2tfcmVxdWlyZV9fKDI4KSk7ZnVuY3Rpb24gUGFzc1Rocm91Z2gob3B0aW9ucyl7aWYoISh0aGlzIGluc3RhbmNlb2YgUGFzc1Rocm91Z2gpKXJldHVybiBuZXcgUGFzc1Rocm91Z2gob3B0aW9ucyk7VHJhbnNmb3JtLmNhbGwodGhpcyxvcHRpb25zKX11dGlsLmluaGVyaXRzPV9fd2VicGFja19yZXF1aXJlX18oMTcpLHV0aWwuaW5oZXJpdHMoUGFzc1Rocm91Z2gsVHJhbnNmb3JtKSxQYXNzVGhyb3VnaC5wcm90b3R5cGUuX3RyYW5zZm9ybT1mdW5jdGlvbihjaHVuayxlbmNvZGluZyxjYil7Y2IobnVsbCxjaHVuayl9fSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXttb2R1bGUuZXhwb3J0cz1fX3dlYnBhY2tfcmVxdWlyZV9fKDQyKX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7bW9kdWxlLmV4cG9ydHM9X193ZWJwYWNrX3JlcXVpcmVfXygxNSl9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe21vZHVsZS5leHBvcnRzPV9fd2VicGFja19yZXF1aXJlX18oNDEpLlRyYW5zZm9ybX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7bW9kdWxlLmV4cG9ydHM9X193ZWJwYWNrX3JlcXVpcmVfXyg0MSkuUGFzc1Rocm91Z2h9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiOyhmdW5jdGlvbihzZXRJbW1lZGlhdGUpe21vZHVsZS5leHBvcnRzPVwiZnVuY3Rpb25cIj09dHlwZW9mIHNldEltbWVkaWF0ZT9zZXRJbW1lZGlhdGU6ZnVuY3Rpb24oKXt2YXIgYXJncz1bXS5zbGljZS5hcHBseShhcmd1bWVudHMpO2FyZ3Muc3BsaWNlKDEsMCwwKSxzZXRUaW1lb3V0LmFwcGx5KG51bGwsYXJncyl9fSkuY2FsbCh0aGlzLF9fd2VicGFja19yZXF1aXJlX18oNTYpLnNldEltbWVkaWF0ZSl9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO3ZhciBpbW1lZGlhdGU9X193ZWJwYWNrX3JlcXVpcmVfXygxMDQpO2Z1bmN0aW9uIElOVEVSTkFMKCl7fXZhciBoYW5kbGVycz17fSxSRUpFQ1RFRD1bXCJSRUpFQ1RFRFwiXSxGVUxGSUxMRUQ9W1wiRlVMRklMTEVEXCJdLFBFTkRJTkc9W1wiUEVORElOR1wiXTtmdW5jdGlvbiBQcm9taXNlKHJlc29sdmVyKXtpZihcImZ1bmN0aW9uXCIhPXR5cGVvZiByZXNvbHZlcil0aHJvdyBuZXcgVHlwZUVycm9yKFwicmVzb2x2ZXIgbXVzdCBiZSBhIGZ1bmN0aW9uXCIpO3RoaXMuc3RhdGU9UEVORElORyx0aGlzLnF1ZXVlPVtdLHRoaXMub3V0Y29tZT12b2lkIDAscmVzb2x2ZXIhPT1JTlRFUk5BTCYmc2FmZWx5UmVzb2x2ZVRoZW5hYmxlKHRoaXMscmVzb2x2ZXIpfWZ1bmN0aW9uIFF1ZXVlSXRlbShwcm9taXNlLG9uRnVsZmlsbGVkLG9uUmVqZWN0ZWQpe3RoaXMucHJvbWlzZT1wcm9taXNlLFwiZnVuY3Rpb25cIj09dHlwZW9mIG9uRnVsZmlsbGVkJiYodGhpcy5vbkZ1bGZpbGxlZD1vbkZ1bGZpbGxlZCx0aGlzLmNhbGxGdWxmaWxsZWQ9dGhpcy5vdGhlckNhbGxGdWxmaWxsZWQpLFwiZnVuY3Rpb25cIj09dHlwZW9mIG9uUmVqZWN0ZWQmJih0aGlzLm9uUmVqZWN0ZWQ9b25SZWplY3RlZCx0aGlzLmNhbGxSZWplY3RlZD10aGlzLm90aGVyQ2FsbFJlamVjdGVkKX1mdW5jdGlvbiB1bndyYXAocHJvbWlzZSxmdW5jLHZhbHVlKXtpbW1lZGlhdGUoZnVuY3Rpb24oKXt2YXIgcmV0dXJuVmFsdWU7dHJ5e3JldHVyblZhbHVlPWZ1bmModmFsdWUpfWNhdGNoKGUpe3JldHVybiBoYW5kbGVycy5yZWplY3QocHJvbWlzZSxlKX1yZXR1cm5WYWx1ZT09PXByb21pc2U/aGFuZGxlcnMucmVqZWN0KHByb21pc2UsbmV3IFR5cGVFcnJvcihcIkNhbm5vdCByZXNvbHZlIHByb21pc2Ugd2l0aCBpdHNlbGZcIikpOmhhbmRsZXJzLnJlc29sdmUocHJvbWlzZSxyZXR1cm5WYWx1ZSl9KX1mdW5jdGlvbiBnZXRUaGVuKG9iail7dmFyIHRoZW49b2JqJiZvYmoudGhlbjtpZihvYmomJihcIm9iamVjdFwiPT10eXBlb2Ygb2JqfHxcImZ1bmN0aW9uXCI9PXR5cGVvZiBvYmopJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiB0aGVuKXJldHVybiBmdW5jdGlvbigpe3RoZW4uYXBwbHkob2JqLGFyZ3VtZW50cyl9fWZ1bmN0aW9uIHNhZmVseVJlc29sdmVUaGVuYWJsZShzZWxmLHRoZW5hYmxlKXt2YXIgY2FsbGVkPSExO2Z1bmN0aW9uIG9uRXJyb3IodmFsdWUpe2NhbGxlZHx8KGNhbGxlZD0hMCxoYW5kbGVycy5yZWplY3Qoc2VsZix2YWx1ZSkpfWZ1bmN0aW9uIG9uU3VjY2Vzcyh2YWx1ZSl7Y2FsbGVkfHwoY2FsbGVkPSEwLGhhbmRsZXJzLnJlc29sdmUoc2VsZix2YWx1ZSkpfXZhciByZXN1bHQ9dHJ5Q2F0Y2goZnVuY3Rpb24oKXt0aGVuYWJsZShvblN1Y2Nlc3Msb25FcnJvcil9KTtcImVycm9yXCI9PT1yZXN1bHQuc3RhdHVzJiZvbkVycm9yKHJlc3VsdC52YWx1ZSl9ZnVuY3Rpb24gdHJ5Q2F0Y2goZnVuYyx2YWx1ZSl7dmFyIG91dD17fTt0cnl7b3V0LnZhbHVlPWZ1bmModmFsdWUpLG91dC5zdGF0dXM9XCJzdWNjZXNzXCJ9Y2F0Y2goZSl7b3V0LnN0YXR1cz1cImVycm9yXCIsb3V0LnZhbHVlPWV9cmV0dXJuIG91dH1tb2R1bGUuZXhwb3J0cz1Qcm9taXNlLFByb21pc2UucHJvdG90eXBlLmZpbmFsbHk9ZnVuY3Rpb24oY2FsbGJhY2spe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIGNhbGxiYWNrKXJldHVybiB0aGlzO3ZhciBwPXRoaXMuY29uc3RydWN0b3I7cmV0dXJuIHRoaXMudGhlbihmdW5jdGlvbih2YWx1ZSl7cmV0dXJuIHAucmVzb2x2ZShjYWxsYmFjaygpKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIHZhbHVlfSl9LGZ1bmN0aW9uKHJlYXNvbil7cmV0dXJuIHAucmVzb2x2ZShjYWxsYmFjaygpKS50aGVuKGZ1bmN0aW9uKCl7dGhyb3cgcmVhc29ufSl9KX0sUHJvbWlzZS5wcm90b3R5cGUuY2F0Y2g9ZnVuY3Rpb24ob25SZWplY3RlZCl7cmV0dXJuIHRoaXMudGhlbihudWxsLG9uUmVqZWN0ZWQpfSxQcm9taXNlLnByb3RvdHlwZS50aGVuPWZ1bmN0aW9uKG9uRnVsZmlsbGVkLG9uUmVqZWN0ZWQpe2lmKFwiZnVuY3Rpb25cIiE9dHlwZW9mIG9uRnVsZmlsbGVkJiZ0aGlzLnN0YXRlPT09RlVMRklMTEVEfHxcImZ1bmN0aW9uXCIhPXR5cGVvZiBvblJlamVjdGVkJiZ0aGlzLnN0YXRlPT09UkVKRUNURUQpcmV0dXJuIHRoaXM7dmFyIHByb21pc2U9bmV3IHRoaXMuY29uc3RydWN0b3IoSU5URVJOQUwpO3RoaXMuc3RhdGUhPT1QRU5ESU5HP3Vud3JhcChwcm9taXNlLHRoaXMuc3RhdGU9PT1GVUxGSUxMRUQ/b25GdWxmaWxsZWQ6b25SZWplY3RlZCx0aGlzLm91dGNvbWUpOnRoaXMucXVldWUucHVzaChuZXcgUXVldWVJdGVtKHByb21pc2Usb25GdWxmaWxsZWQsb25SZWplY3RlZCkpO3JldHVybiBwcm9taXNlfSxRdWV1ZUl0ZW0ucHJvdG90eXBlLmNhbGxGdWxmaWxsZWQ9ZnVuY3Rpb24odmFsdWUpe2hhbmRsZXJzLnJlc29sdmUodGhpcy5wcm9taXNlLHZhbHVlKX0sUXVldWVJdGVtLnByb3RvdHlwZS5vdGhlckNhbGxGdWxmaWxsZWQ9ZnVuY3Rpb24odmFsdWUpe3Vud3JhcCh0aGlzLnByb21pc2UsdGhpcy5vbkZ1bGZpbGxlZCx2YWx1ZSl9LFF1ZXVlSXRlbS5wcm90b3R5cGUuY2FsbFJlamVjdGVkPWZ1bmN0aW9uKHZhbHVlKXtoYW5kbGVycy5yZWplY3QodGhpcy5wcm9taXNlLHZhbHVlKX0sUXVldWVJdGVtLnByb3RvdHlwZS5vdGhlckNhbGxSZWplY3RlZD1mdW5jdGlvbih2YWx1ZSl7dW53cmFwKHRoaXMucHJvbWlzZSx0aGlzLm9uUmVqZWN0ZWQsdmFsdWUpfSxoYW5kbGVycy5yZXNvbHZlPWZ1bmN0aW9uKHNlbGYsdmFsdWUpe3ZhciByZXN1bHQ9dHJ5Q2F0Y2goZ2V0VGhlbix2YWx1ZSk7aWYoXCJlcnJvclwiPT09cmVzdWx0LnN0YXR1cylyZXR1cm4gaGFuZGxlcnMucmVqZWN0KHNlbGYscmVzdWx0LnZhbHVlKTt2YXIgdGhlbmFibGU9cmVzdWx0LnZhbHVlO2lmKHRoZW5hYmxlKXNhZmVseVJlc29sdmVUaGVuYWJsZShzZWxmLHRoZW5hYmxlKTtlbHNle3NlbGYuc3RhdGU9RlVMRklMTEVELHNlbGYub3V0Y29tZT12YWx1ZTtmb3IodmFyIGk9LTEsbGVuPXNlbGYucXVldWUubGVuZ3RoOysraTxsZW47KXNlbGYucXVldWVbaV0uY2FsbEZ1bGZpbGxlZCh2YWx1ZSl9cmV0dXJuIHNlbGZ9LGhhbmRsZXJzLnJlamVjdD1mdW5jdGlvbihzZWxmLGVycm9yKXtzZWxmLnN0YXRlPVJFSkVDVEVELHNlbGYub3V0Y29tZT1lcnJvcjtmb3IodmFyIGk9LTEsbGVuPXNlbGYucXVldWUubGVuZ3RoOysraTxsZW47KXNlbGYucXVldWVbaV0uY2FsbFJlamVjdGVkKGVycm9yKTtyZXR1cm4gc2VsZn0sUHJvbWlzZS5yZXNvbHZlPWZ1bmN0aW9uKHZhbHVlKXtpZih2YWx1ZSBpbnN0YW5jZW9mIHRoaXMpcmV0dXJuIHZhbHVlO3JldHVybiBoYW5kbGVycy5yZXNvbHZlKG5ldyB0aGlzKElOVEVSTkFMKSx2YWx1ZSl9LFByb21pc2UucmVqZWN0PWZ1bmN0aW9uKHJlYXNvbil7dmFyIHByb21pc2U9bmV3IHRoaXMoSU5URVJOQUwpO3JldHVybiBoYW5kbGVycy5yZWplY3QocHJvbWlzZSxyZWFzb24pfSxQcm9taXNlLmFsbD1mdW5jdGlvbihpdGVyYWJsZSl7dmFyIHNlbGY9dGhpcztpZihcIltvYmplY3QgQXJyYXldXCIhPT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoaXRlcmFibGUpKXJldHVybiB0aGlzLnJlamVjdChuZXcgVHlwZUVycm9yKFwibXVzdCBiZSBhbiBhcnJheVwiKSk7dmFyIGxlbj1pdGVyYWJsZS5sZW5ndGgsY2FsbGVkPSExO2lmKCFsZW4pcmV0dXJuIHRoaXMucmVzb2x2ZShbXSk7dmFyIHZhbHVlcz1uZXcgQXJyYXkobGVuKSxyZXNvbHZlZD0wLGk9LTEscHJvbWlzZT1uZXcgdGhpcyhJTlRFUk5BTCk7Zm9yKDsrK2k8bGVuOylhbGxSZXNvbHZlcihpdGVyYWJsZVtpXSxpKTtyZXR1cm4gcHJvbWlzZTtmdW5jdGlvbiBhbGxSZXNvbHZlcih2YWx1ZSxpKXtzZWxmLnJlc29sdmUodmFsdWUpLnRoZW4oZnVuY3Rpb24ob3V0VmFsdWUpe3ZhbHVlc1tpXT1vdXRWYWx1ZSwrK3Jlc29sdmVkIT09bGVufHxjYWxsZWR8fChjYWxsZWQ9ITAsaGFuZGxlcnMucmVzb2x2ZShwcm9taXNlLHZhbHVlcykpfSxmdW5jdGlvbihlcnJvcil7Y2FsbGVkfHwoY2FsbGVkPSEwLGhhbmRsZXJzLnJlamVjdChwcm9taXNlLGVycm9yKSl9KX19LFByb21pc2UucmFjZT1mdW5jdGlvbihpdGVyYWJsZSl7dmFyIHNlbGY9dGhpcztpZihcIltvYmplY3QgQXJyYXldXCIhPT1PYmplY3QucHJvdG90eXBlLnRvU3RyaW5nLmNhbGwoaXRlcmFibGUpKXJldHVybiB0aGlzLnJlamVjdChuZXcgVHlwZUVycm9yKFwibXVzdCBiZSBhbiBhcnJheVwiKSk7dmFyIGxlbj1pdGVyYWJsZS5sZW5ndGgsY2FsbGVkPSExO2lmKCFsZW4pcmV0dXJuIHRoaXMucmVzb2x2ZShbXSk7dmFyIGk9LTEscHJvbWlzZT1uZXcgdGhpcyhJTlRFUk5BTCk7Zm9yKDsrK2k8bGVuOylyZXNvbHZlcihpdGVyYWJsZVtpXSk7cmV0dXJuIHByb21pc2U7ZnVuY3Rpb24gcmVzb2x2ZXIodmFsdWUpe3NlbGYucmVzb2x2ZSh2YWx1ZSkudGhlbihmdW5jdGlvbihyZXNwb25zZSl7Y2FsbGVkfHwoY2FsbGVkPSEwLGhhbmRsZXJzLnJlc29sdmUocHJvbWlzZSxyZXNwb25zZSkpfSxmdW5jdGlvbihlcnJvcil7Y2FsbGVkfHwoY2FsbGVkPSEwLGhhbmRsZXJzLnJlamVjdChwcm9taXNlLGVycm9yKSl9KX19fSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjsoZnVuY3Rpb24oZ2xvYmFsKXt2YXIgc2NoZWR1bGVEcmFpbixkcmFpbmluZyxNdXRhdGlvbj1nbG9iYWwuTXV0YXRpb25PYnNlcnZlcnx8Z2xvYmFsLldlYktpdE11dGF0aW9uT2JzZXJ2ZXI7aWYoTXV0YXRpb24pe3ZhciBjYWxsZWQ9MCxvYnNlcnZlcj1uZXcgTXV0YXRpb24obmV4dFRpY2spLGVsZW1lbnQ9Z2xvYmFsLmRvY3VtZW50LmNyZWF0ZVRleHROb2RlKFwiXCIpO29ic2VydmVyLm9ic2VydmUoZWxlbWVudCx7Y2hhcmFjdGVyRGF0YTohMH0pLHNjaGVkdWxlRHJhaW49ZnVuY3Rpb24oKXtlbGVtZW50LmRhdGE9Y2FsbGVkPSsrY2FsbGVkJTJ9fWVsc2UgaWYoZ2xvYmFsLnNldEltbWVkaWF0ZXx8dm9pZCAwPT09Z2xvYmFsLk1lc3NhZ2VDaGFubmVsKXNjaGVkdWxlRHJhaW49XCJkb2N1bWVudFwiaW4gZ2xvYmFsJiZcIm9ucmVhZHlzdGF0ZWNoYW5nZVwiaW4gZ2xvYmFsLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIik/ZnVuY3Rpb24oKXt2YXIgc2NyaXB0RWw9Z2xvYmFsLmRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzY3JpcHRcIik7c2NyaXB0RWwub25yZWFkeXN0YXRlY2hhbmdlPWZ1bmN0aW9uKCl7bmV4dFRpY2soKSxzY3JpcHRFbC5vbnJlYWR5c3RhdGVjaGFuZ2U9bnVsbCxzY3JpcHRFbC5wYXJlbnROb2RlLnJlbW92ZUNoaWxkKHNjcmlwdEVsKSxzY3JpcHRFbD1udWxsfSxnbG9iYWwuZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmFwcGVuZENoaWxkKHNjcmlwdEVsKX06ZnVuY3Rpb24oKXtzZXRUaW1lb3V0KG5leHRUaWNrLDApfTtlbHNle3ZhciBjaGFubmVsPW5ldyBnbG9iYWwuTWVzc2FnZUNoYW5uZWw7Y2hhbm5lbC5wb3J0MS5vbm1lc3NhZ2U9bmV4dFRpY2ssc2NoZWR1bGVEcmFpbj1mdW5jdGlvbigpe2NoYW5uZWwucG9ydDIucG9zdE1lc3NhZ2UoMCl9fXZhciBxdWV1ZT1bXTtmdW5jdGlvbiBuZXh0VGljaygpe3ZhciBpLG9sZFF1ZXVlO2RyYWluaW5nPSEwO2Zvcih2YXIgbGVuPXF1ZXVlLmxlbmd0aDtsZW47KXtmb3Iob2xkUXVldWU9cXVldWUscXVldWU9W10saT0tMTsrK2k8bGVuOylvbGRRdWV1ZVtpXSgpO2xlbj1xdWV1ZS5sZW5ndGh9ZHJhaW5pbmc9ITF9bW9kdWxlLmV4cG9ydHM9ZnVuY3Rpb24odGFzayl7MSE9PXF1ZXVlLnB1c2godGFzayl8fGRyYWluaW5nfHxzY2hlZHVsZURyYWluKCl9fSkuY2FsbCh0aGlzLF9fd2VicGFja19yZXF1aXJlX18oMTQpKX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7dmFyIEdlbmVyaWNXb3JrZXI9X193ZWJwYWNrX3JlcXVpcmVfXygzKSx1dGlscz1fX3dlYnBhY2tfcmVxdWlyZV9fKDApO2Z1bmN0aW9uIENvbnZlcnRXb3JrZXIoZGVzdFR5cGUpe0dlbmVyaWNXb3JrZXIuY2FsbCh0aGlzLFwiQ29udmVydFdvcmtlciB0byBcIitkZXN0VHlwZSksdGhpcy5kZXN0VHlwZT1kZXN0VHlwZX11dGlscy5pbmhlcml0cyhDb252ZXJ0V29ya2VyLEdlbmVyaWNXb3JrZXIpLENvbnZlcnRXb3JrZXIucHJvdG90eXBlLnByb2Nlc3NDaHVuaz1mdW5jdGlvbihjaHVuayl7dGhpcy5wdXNoKHtkYXRhOnV0aWxzLnRyYW5zZm9ybVRvKHRoaXMuZGVzdFR5cGUsY2h1bmsuZGF0YSksbWV0YTpjaHVuay5tZXRhfSl9LG1vZHVsZS5leHBvcnRzPUNvbnZlcnRXb3JrZXJ9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO3ZhciBSZWFkYWJsZT1fX3dlYnBhY2tfcmVxdWlyZV9fKDUyKS5SZWFkYWJsZTtmdW5jdGlvbiBOb2RlanNTdHJlYW1PdXRwdXRBZGFwdGVyKGhlbHBlcixvcHRpb25zLHVwZGF0ZUNiKXtSZWFkYWJsZS5jYWxsKHRoaXMsb3B0aW9ucyksdGhpcy5faGVscGVyPWhlbHBlcjt2YXIgc2VsZj10aGlzO2hlbHBlci5vbihcImRhdGFcIixmdW5jdGlvbihkYXRhLG1ldGEpe3NlbGYucHVzaChkYXRhKXx8c2VsZi5faGVscGVyLnBhdXNlKCksdXBkYXRlQ2ImJnVwZGF0ZUNiKG1ldGEpfSkub24oXCJlcnJvclwiLGZ1bmN0aW9uKGUpe3NlbGYuZW1pdChcImVycm9yXCIsZSl9KS5vbihcImVuZFwiLGZ1bmN0aW9uKCl7c2VsZi5wdXNoKG51bGwpfSl9X193ZWJwYWNrX3JlcXVpcmVfXygwKS5pbmhlcml0cyhOb2RlanNTdHJlYW1PdXRwdXRBZGFwdGVyLFJlYWRhYmxlKSxOb2RlanNTdHJlYW1PdXRwdXRBZGFwdGVyLnByb3RvdHlwZS5fcmVhZD1mdW5jdGlvbigpe3RoaXMuX2hlbHBlci5yZXN1bWUoKX0sbW9kdWxlLmV4cG9ydHM9Tm9kZWpzU3RyZWFtT3V0cHV0QWRhcHRlcn0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7dmFyIFN0cmVhbUhlbHBlcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDYwKSxEYXRhV29ya2VyPV9fd2VicGFja19yZXF1aXJlX18oNjIpLHV0Zjg9X193ZWJwYWNrX3JlcXVpcmVfXygxNiksQ29tcHJlc3NlZE9iamVjdD1fX3dlYnBhY2tfcmVxdWlyZV9fKDQzKSxHZW5lcmljV29ya2VyPV9fd2VicGFja19yZXF1aXJlX18oMyksWmlwT2JqZWN0PWZ1bmN0aW9uKG5hbWUsZGF0YSxvcHRpb25zKXt0aGlzLm5hbWU9bmFtZSx0aGlzLmRpcj1vcHRpb25zLmRpcix0aGlzLmRhdGU9b3B0aW9ucy5kYXRlLHRoaXMuY29tbWVudD1vcHRpb25zLmNvbW1lbnQsdGhpcy51bml4UGVybWlzc2lvbnM9b3B0aW9ucy51bml4UGVybWlzc2lvbnMsdGhpcy5kb3NQZXJtaXNzaW9ucz1vcHRpb25zLmRvc1Blcm1pc3Npb25zLHRoaXMuX2RhdGE9ZGF0YSx0aGlzLl9kYXRhQmluYXJ5PW9wdGlvbnMuYmluYXJ5LHRoaXMub3B0aW9ucz17Y29tcHJlc3Npb246b3B0aW9ucy5jb21wcmVzc2lvbixjb21wcmVzc2lvbk9wdGlvbnM6b3B0aW9ucy5jb21wcmVzc2lvbk9wdGlvbnN9fTtaaXBPYmplY3QucHJvdG90eXBlPXtpbnRlcm5hbFN0cmVhbTpmdW5jdGlvbih0eXBlKXt2YXIgcmVzdWx0PW51bGwsb3V0cHV0VHlwZT1cInN0cmluZ1wiO3RyeXtpZighdHlwZSl0aHJvdyBuZXcgRXJyb3IoXCJObyBvdXRwdXQgdHlwZSBzcGVjaWZpZWQuXCIpO3ZhciBhc2tVbmljb2RlU3RyaW5nPVwic3RyaW5nXCI9PT0ob3V0cHV0VHlwZT10eXBlLnRvTG93ZXJDYXNlKCkpfHxcInRleHRcIj09PW91dHB1dFR5cGU7XCJiaW5hcnlzdHJpbmdcIiE9PW91dHB1dFR5cGUmJlwidGV4dFwiIT09b3V0cHV0VHlwZXx8KG91dHB1dFR5cGU9XCJzdHJpbmdcIikscmVzdWx0PXRoaXMuX2RlY29tcHJlc3NXb3JrZXIoKTt2YXIgaXNVbmljb2RlU3RyaW5nPSF0aGlzLl9kYXRhQmluYXJ5O2lzVW5pY29kZVN0cmluZyYmIWFza1VuaWNvZGVTdHJpbmcmJihyZXN1bHQ9cmVzdWx0LnBpcGUobmV3IHV0ZjguVXRmOEVuY29kZVdvcmtlcikpLCFpc1VuaWNvZGVTdHJpbmcmJmFza1VuaWNvZGVTdHJpbmcmJihyZXN1bHQ9cmVzdWx0LnBpcGUobmV3IHV0ZjguVXRmOERlY29kZVdvcmtlcikpfWNhdGNoKGUpeyhyZXN1bHQ9bmV3IEdlbmVyaWNXb3JrZXIoXCJlcnJvclwiKSkuZXJyb3IoZSl9cmV0dXJuIG5ldyBTdHJlYW1IZWxwZXIocmVzdWx0LG91dHB1dFR5cGUsXCJcIil9LGFzeW5jOmZ1bmN0aW9uKHR5cGUsb25VcGRhdGUpe3JldHVybiB0aGlzLmludGVybmFsU3RyZWFtKHR5cGUpLmFjY3VtdWxhdGUob25VcGRhdGUpfSxub2RlU3RyZWFtOmZ1bmN0aW9uKHR5cGUsb25VcGRhdGUpe3JldHVybiB0aGlzLmludGVybmFsU3RyZWFtKHR5cGV8fFwibm9kZWJ1ZmZlclwiKS50b05vZGVqc1N0cmVhbShvblVwZGF0ZSl9LF9jb21wcmVzc1dvcmtlcjpmdW5jdGlvbihjb21wcmVzc2lvbixjb21wcmVzc2lvbk9wdGlvbnMpe2lmKHRoaXMuX2RhdGEgaW5zdGFuY2VvZiBDb21wcmVzc2VkT2JqZWN0JiZ0aGlzLl9kYXRhLmNvbXByZXNzaW9uLm1hZ2ljPT09Y29tcHJlc3Npb24ubWFnaWMpcmV0dXJuIHRoaXMuX2RhdGEuZ2V0Q29tcHJlc3NlZFdvcmtlcigpO3ZhciByZXN1bHQ9dGhpcy5fZGVjb21wcmVzc1dvcmtlcigpO3JldHVybiB0aGlzLl9kYXRhQmluYXJ5fHwocmVzdWx0PXJlc3VsdC5waXBlKG5ldyB1dGY4LlV0ZjhFbmNvZGVXb3JrZXIpKSxDb21wcmVzc2VkT2JqZWN0LmNyZWF0ZVdvcmtlckZyb20ocmVzdWx0LGNvbXByZXNzaW9uLGNvbXByZXNzaW9uT3B0aW9ucyl9LF9kZWNvbXByZXNzV29ya2VyOmZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuX2RhdGEgaW5zdGFuY2VvZiBDb21wcmVzc2VkT2JqZWN0P3RoaXMuX2RhdGEuZ2V0Q29udGVudFdvcmtlcigpOnRoaXMuX2RhdGEgaW5zdGFuY2VvZiBHZW5lcmljV29ya2VyP3RoaXMuX2RhdGE6bmV3IERhdGFXb3JrZXIodGhpcy5fZGF0YSl9fTtmb3IodmFyIHJlbW92ZWRNZXRob2RzPVtcImFzVGV4dFwiLFwiYXNCaW5hcnlcIixcImFzTm9kZUJ1ZmZlclwiLFwiYXNVaW50OEFycmF5XCIsXCJhc0FycmF5QnVmZmVyXCJdLHJlbW92ZWRGbj1mdW5jdGlvbigpe3Rocm93IG5ldyBFcnJvcihcIlRoaXMgbWV0aG9kIGhhcyBiZWVuIHJlbW92ZWQgaW4gSlNaaXAgMy4wLCBwbGVhc2UgY2hlY2sgdGhlIHVwZ3JhZGUgZ3VpZGUuXCIpfSxpPTA7aTxyZW1vdmVkTWV0aG9kcy5sZW5ndGg7aSsrKVppcE9iamVjdC5wcm90b3R5cGVbcmVtb3ZlZE1ldGhvZHNbaV1dPXJlbW92ZWRGbjttb2R1bGUuZXhwb3J0cz1aaXBPYmplY3R9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO3ZhciBjb21wcmVzc2lvbnM9X193ZWJwYWNrX3JlcXVpcmVfXyg2NSksWmlwRmlsZVdvcmtlcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDExOSk7ZXhwb3J0cy5nZW5lcmF0ZVdvcmtlcj1mdW5jdGlvbih6aXAsb3B0aW9ucyxjb21tZW50KXt2YXIgemlwRmlsZVdvcmtlcj1uZXcgWmlwRmlsZVdvcmtlcihvcHRpb25zLnN0cmVhbUZpbGVzLGNvbW1lbnQsb3B0aW9ucy5wbGF0Zm9ybSxvcHRpb25zLmVuY29kZUZpbGVOYW1lKSxlbnRyaWVzQ291bnQ9MDt0cnl7emlwLmZvckVhY2goZnVuY3Rpb24ocmVsYXRpdmVQYXRoLGZpbGUpe2VudHJpZXNDb3VudCsrO3ZhciBjb21wcmVzc2lvbj1mdW5jdGlvbihmaWxlQ29tcHJlc3Npb24semlwQ29tcHJlc3Npb24pe3ZhciBjb21wcmVzc2lvbk5hbWU9ZmlsZUNvbXByZXNzaW9ufHx6aXBDb21wcmVzc2lvbixjb21wcmVzc2lvbj1jb21wcmVzc2lvbnNbY29tcHJlc3Npb25OYW1lXTtpZighY29tcHJlc3Npb24pdGhyb3cgbmV3IEVycm9yKGNvbXByZXNzaW9uTmFtZStcIiBpcyBub3QgYSB2YWxpZCBjb21wcmVzc2lvbiBtZXRob2QgIVwiKTtyZXR1cm4gY29tcHJlc3Npb259KGZpbGUub3B0aW9ucy5jb21wcmVzc2lvbixvcHRpb25zLmNvbXByZXNzaW9uKSxjb21wcmVzc2lvbk9wdGlvbnM9ZmlsZS5vcHRpb25zLmNvbXByZXNzaW9uT3B0aW9uc3x8b3B0aW9ucy5jb21wcmVzc2lvbk9wdGlvbnN8fHt9LGRpcj1maWxlLmRpcixkYXRlPWZpbGUuZGF0ZTtmaWxlLl9jb21wcmVzc1dvcmtlcihjb21wcmVzc2lvbixjb21wcmVzc2lvbk9wdGlvbnMpLndpdGhTdHJlYW1JbmZvKFwiZmlsZVwiLHtuYW1lOnJlbGF0aXZlUGF0aCxkaXI6ZGlyLGRhdGU6ZGF0ZSxjb21tZW50OmZpbGUuY29tbWVudHx8XCJcIix1bml4UGVybWlzc2lvbnM6ZmlsZS51bml4UGVybWlzc2lvbnMsZG9zUGVybWlzc2lvbnM6ZmlsZS5kb3NQZXJtaXNzaW9uc30pLnBpcGUoemlwRmlsZVdvcmtlcil9KSx6aXBGaWxlV29ya2VyLmVudHJpZXNDb3VudD1lbnRyaWVzQ291bnR9Y2F0Y2goZSl7emlwRmlsZVdvcmtlci5lcnJvcihlKX1yZXR1cm4gemlwRmlsZVdvcmtlcn19LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO3ZhciBVU0VfVFlQRURBUlJBWT1cInVuZGVmaW5lZFwiIT10eXBlb2YgVWludDhBcnJheSYmXCJ1bmRlZmluZWRcIiE9dHlwZW9mIFVpbnQxNkFycmF5JiZcInVuZGVmaW5lZFwiIT10eXBlb2YgVWludDMyQXJyYXkscGFrbz1fX3dlYnBhY2tfcmVxdWlyZV9fKDExMCksdXRpbHM9X193ZWJwYWNrX3JlcXVpcmVfXygwKSxHZW5lcmljV29ya2VyPV9fd2VicGFja19yZXF1aXJlX18oMyksQVJSQVlfVFlQRT1VU0VfVFlQRURBUlJBWT9cInVpbnQ4YXJyYXlcIjpcImFycmF5XCI7ZnVuY3Rpb24gRmxhdGVXb3JrZXIoYWN0aW9uLG9wdGlvbnMpe0dlbmVyaWNXb3JrZXIuY2FsbCh0aGlzLFwiRmxhdGVXb3JrZXIvXCIrYWN0aW9uKSx0aGlzLl9wYWtvPW51bGwsdGhpcy5fcGFrb0FjdGlvbj1hY3Rpb24sdGhpcy5fcGFrb09wdGlvbnM9b3B0aW9ucyx0aGlzLm1ldGE9e319ZXhwb3J0cy5tYWdpYz1cIlxcYlxcMFwiLHV0aWxzLmluaGVyaXRzKEZsYXRlV29ya2VyLEdlbmVyaWNXb3JrZXIpLEZsYXRlV29ya2VyLnByb3RvdHlwZS5wcm9jZXNzQ2h1bms9ZnVuY3Rpb24oY2h1bmspe3RoaXMubWV0YT1jaHVuay5tZXRhLG51bGw9PT10aGlzLl9wYWtvJiZ0aGlzLl9jcmVhdGVQYWtvKCksdGhpcy5fcGFrby5wdXNoKHV0aWxzLnRyYW5zZm9ybVRvKEFSUkFZX1RZUEUsY2h1bmsuZGF0YSksITEpfSxGbGF0ZVdvcmtlci5wcm90b3R5cGUuZmx1c2g9ZnVuY3Rpb24oKXtHZW5lcmljV29ya2VyLnByb3RvdHlwZS5mbHVzaC5jYWxsKHRoaXMpLG51bGw9PT10aGlzLl9wYWtvJiZ0aGlzLl9jcmVhdGVQYWtvKCksdGhpcy5fcGFrby5wdXNoKFtdLCEwKX0sRmxhdGVXb3JrZXIucHJvdG90eXBlLmNsZWFuVXA9ZnVuY3Rpb24oKXtHZW5lcmljV29ya2VyLnByb3RvdHlwZS5jbGVhblVwLmNhbGwodGhpcyksdGhpcy5fcGFrbz1udWxsfSxGbGF0ZVdvcmtlci5wcm90b3R5cGUuX2NyZWF0ZVBha289ZnVuY3Rpb24oKXt0aGlzLl9wYWtvPW5ldyBwYWtvW3RoaXMuX3Bha29BY3Rpb25dKHtyYXc6ITAsbGV2ZWw6dGhpcy5fcGFrb09wdGlvbnMubGV2ZWx8fC0xfSk7dmFyIHNlbGY9dGhpczt0aGlzLl9wYWtvLm9uRGF0YT1mdW5jdGlvbihkYXRhKXtzZWxmLnB1c2goe2RhdGE6ZGF0YSxtZXRhOnNlbGYubWV0YX0pfX0sZXhwb3J0cy5jb21wcmVzc1dvcmtlcj1mdW5jdGlvbihjb21wcmVzc2lvbk9wdGlvbnMpe3JldHVybiBuZXcgRmxhdGVXb3JrZXIoXCJEZWZsYXRlXCIsY29tcHJlc3Npb25PcHRpb25zKX0sZXhwb3J0cy51bmNvbXByZXNzV29ya2VyPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBGbGF0ZVdvcmtlcihcIkluZmxhdGVcIix7fSl9fSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjt2YXIgcGFrbz17fTsoMCxfX3dlYnBhY2tfcmVxdWlyZV9fKDgpLmFzc2lnbikocGFrbyxfX3dlYnBhY2tfcmVxdWlyZV9fKDExMSksX193ZWJwYWNrX3JlcXVpcmVfXygxMTQpLF9fd2VicGFja19yZXF1aXJlX18oNzApKSxtb2R1bGUuZXhwb3J0cz1wYWtvfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjt2YXIgemxpYl9kZWZsYXRlPV9fd2VicGFja19yZXF1aXJlX18oMTEyKSx1dGlscz1fX3dlYnBhY2tfcmVxdWlyZV9fKDgpLHN0cmluZ3M9X193ZWJwYWNrX3JlcXVpcmVfXyg2OCksbXNnPV9fd2VicGFja19yZXF1aXJlX18oNDUpLFpTdHJlYW09X193ZWJwYWNrX3JlcXVpcmVfXyg2OSksdG9TdHJpbmc9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZyxaX09LPTAsWl9ERUZBVUxUX0NPTVBSRVNTSU9OPS0xLFpfREVGQVVMVF9TVFJBVEVHWT0wLFpfREVGTEFURUQ9ODtmdW5jdGlvbiBEZWZsYXRlKG9wdGlvbnMpe2lmKCEodGhpcyBpbnN0YW5jZW9mIERlZmxhdGUpKXJldHVybiBuZXcgRGVmbGF0ZShvcHRpb25zKTt0aGlzLm9wdGlvbnM9dXRpbHMuYXNzaWduKHtsZXZlbDpaX0RFRkFVTFRfQ09NUFJFU1NJT04sbWV0aG9kOlpfREVGTEFURUQsY2h1bmtTaXplOjE2Mzg0LHdpbmRvd0JpdHM6MTUsbWVtTGV2ZWw6OCxzdHJhdGVneTpaX0RFRkFVTFRfU1RSQVRFR1ksdG86XCJcIn0sb3B0aW9uc3x8e30pO3ZhciBvcHQ9dGhpcy5vcHRpb25zO29wdC5yYXcmJm9wdC53aW5kb3dCaXRzPjA/b3B0LndpbmRvd0JpdHM9LW9wdC53aW5kb3dCaXRzOm9wdC5nemlwJiZvcHQud2luZG93Qml0cz4wJiZvcHQud2luZG93Qml0czwxNiYmKG9wdC53aW5kb3dCaXRzKz0xNiksdGhpcy5lcnI9MCx0aGlzLm1zZz1cIlwiLHRoaXMuZW5kZWQ9ITEsdGhpcy5jaHVua3M9W10sdGhpcy5zdHJtPW5ldyBaU3RyZWFtLHRoaXMuc3RybS5hdmFpbF9vdXQ9MDt2YXIgc3RhdHVzPXpsaWJfZGVmbGF0ZS5kZWZsYXRlSW5pdDIodGhpcy5zdHJtLG9wdC5sZXZlbCxvcHQubWV0aG9kLG9wdC53aW5kb3dCaXRzLG9wdC5tZW1MZXZlbCxvcHQuc3RyYXRlZ3kpO2lmKHN0YXR1cyE9PVpfT0spdGhyb3cgbmV3IEVycm9yKG1zZ1tzdGF0dXNdKTtpZihvcHQuaGVhZGVyJiZ6bGliX2RlZmxhdGUuZGVmbGF0ZVNldEhlYWRlcih0aGlzLnN0cm0sb3B0LmhlYWRlciksb3B0LmRpY3Rpb25hcnkpe3ZhciBkaWN0O2lmKGRpY3Q9XCJzdHJpbmdcIj09dHlwZW9mIG9wdC5kaWN0aW9uYXJ5P3N0cmluZ3Muc3RyaW5nMmJ1ZihvcHQuZGljdGlvbmFyeSk6XCJbb2JqZWN0IEFycmF5QnVmZmVyXVwiPT09dG9TdHJpbmcuY2FsbChvcHQuZGljdGlvbmFyeSk/bmV3IFVpbnQ4QXJyYXkob3B0LmRpY3Rpb25hcnkpOm9wdC5kaWN0aW9uYXJ5LChzdGF0dXM9emxpYl9kZWZsYXRlLmRlZmxhdGVTZXREaWN0aW9uYXJ5KHRoaXMuc3RybSxkaWN0KSkhPT1aX09LKXRocm93IG5ldyBFcnJvcihtc2dbc3RhdHVzXSk7dGhpcy5fZGljdF9zZXQ9ITB9fWZ1bmN0aW9uIGRlZmxhdGUoaW5wdXQsb3B0aW9ucyl7dmFyIGRlZmxhdG9yPW5ldyBEZWZsYXRlKG9wdGlvbnMpO2lmKGRlZmxhdG9yLnB1c2goaW5wdXQsITApLGRlZmxhdG9yLmVycil0aHJvdyBkZWZsYXRvci5tc2d8fG1zZ1tkZWZsYXRvci5lcnJdO3JldHVybiBkZWZsYXRvci5yZXN1bHR9RGVmbGF0ZS5wcm90b3R5cGUucHVzaD1mdW5jdGlvbihkYXRhLG1vZGUpe3ZhciBzdGF0dXMsX21vZGUsc3RybT10aGlzLnN0cm0sY2h1bmtTaXplPXRoaXMub3B0aW9ucy5jaHVua1NpemU7aWYodGhpcy5lbmRlZClyZXR1cm4hMTtfbW9kZT1tb2RlPT09fn5tb2RlP21vZGU6ITA9PT1tb2RlPzQ6MCxcInN0cmluZ1wiPT10eXBlb2YgZGF0YT9zdHJtLmlucHV0PXN0cmluZ3Muc3RyaW5nMmJ1ZihkYXRhKTpcIltvYmplY3QgQXJyYXlCdWZmZXJdXCI9PT10b1N0cmluZy5jYWxsKGRhdGEpP3N0cm0uaW5wdXQ9bmV3IFVpbnQ4QXJyYXkoZGF0YSk6c3RybS5pbnB1dD1kYXRhLHN0cm0ubmV4dF9pbj0wLHN0cm0uYXZhaWxfaW49c3RybS5pbnB1dC5sZW5ndGg7ZG97aWYoMD09PXN0cm0uYXZhaWxfb3V0JiYoc3RybS5vdXRwdXQ9bmV3IHV0aWxzLkJ1ZjgoY2h1bmtTaXplKSxzdHJtLm5leHRfb3V0PTAsc3RybS5hdmFpbF9vdXQ9Y2h1bmtTaXplKSwxIT09KHN0YXR1cz16bGliX2RlZmxhdGUuZGVmbGF0ZShzdHJtLF9tb2RlKSkmJnN0YXR1cyE9PVpfT0spcmV0dXJuIHRoaXMub25FbmQoc3RhdHVzKSx0aGlzLmVuZGVkPSEwLCExOzAhPT1zdHJtLmF2YWlsX291dCYmKDAhPT1zdHJtLmF2YWlsX2lufHw0IT09X21vZGUmJjIhPT1fbW9kZSl8fChcInN0cmluZ1wiPT09dGhpcy5vcHRpb25zLnRvP3RoaXMub25EYXRhKHN0cmluZ3MuYnVmMmJpbnN0cmluZyh1dGlscy5zaHJpbmtCdWYoc3RybS5vdXRwdXQsc3RybS5uZXh0X291dCkpKTp0aGlzLm9uRGF0YSh1dGlscy5zaHJpbmtCdWYoc3RybS5vdXRwdXQsc3RybS5uZXh0X291dCkpKX13aGlsZSgoc3RybS5hdmFpbF9pbj4wfHwwPT09c3RybS5hdmFpbF9vdXQpJiYxIT09c3RhdHVzKTtyZXR1cm4gND09PV9tb2RlPyhzdGF0dXM9emxpYl9kZWZsYXRlLmRlZmxhdGVFbmQodGhpcy5zdHJtKSx0aGlzLm9uRW5kKHN0YXR1cyksdGhpcy5lbmRlZD0hMCxzdGF0dXM9PT1aX09LKToyIT09X21vZGV8fCh0aGlzLm9uRW5kKFpfT0spLHN0cm0uYXZhaWxfb3V0PTAsITApfSxEZWZsYXRlLnByb3RvdHlwZS5vbkRhdGE9ZnVuY3Rpb24oY2h1bmspe3RoaXMuY2h1bmtzLnB1c2goY2h1bmspfSxEZWZsYXRlLnByb3RvdHlwZS5vbkVuZD1mdW5jdGlvbihzdGF0dXMpe3N0YXR1cz09PVpfT0smJihcInN0cmluZ1wiPT09dGhpcy5vcHRpb25zLnRvP3RoaXMucmVzdWx0PXRoaXMuY2h1bmtzLmpvaW4oXCJcIik6dGhpcy5yZXN1bHQ9dXRpbHMuZmxhdHRlbkNodW5rcyh0aGlzLmNodW5rcykpLHRoaXMuY2h1bmtzPVtdLHRoaXMuZXJyPXN0YXR1cyx0aGlzLm1zZz10aGlzLnN0cm0ubXNnfSxleHBvcnRzLkRlZmxhdGU9RGVmbGF0ZSxleHBvcnRzLmRlZmxhdGU9ZGVmbGF0ZSxleHBvcnRzLmRlZmxhdGVSYXc9ZnVuY3Rpb24oaW5wdXQsb3B0aW9ucyl7cmV0dXJuKG9wdGlvbnM9b3B0aW9uc3x8e30pLnJhdz0hMCxkZWZsYXRlKGlucHV0LG9wdGlvbnMpfSxleHBvcnRzLmd6aXA9ZnVuY3Rpb24oaW5wdXQsb3B0aW9ucyl7cmV0dXJuKG9wdGlvbnM9b3B0aW9uc3x8e30pLmd6aXA9ITAsZGVmbGF0ZShpbnB1dCxvcHRpb25zKX19LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO3ZhciBjb25maWd1cmF0aW9uX3RhYmxlLHV0aWxzPV9fd2VicGFja19yZXF1aXJlX18oOCksdHJlZXM9X193ZWJwYWNrX3JlcXVpcmVfXygxMTMpLGFkbGVyMzI9X193ZWJwYWNrX3JlcXVpcmVfXyg2NiksY3JjMzI9X193ZWJwYWNrX3JlcXVpcmVfXyg2NyksbXNnPV9fd2VicGFja19yZXF1aXJlX18oNDUpLFpfTk9fRkxVU0g9MCxaX1BBUlRJQUxfRkxVU0g9MSxaX0ZVTExfRkxVU0g9MyxaX0ZJTklTSD00LFpfQkxPQ0s9NSxaX09LPTAsWl9TVFJFQU1fRU5EPTEsWl9TVFJFQU1fRVJST1I9LTIsWl9EQVRBX0VSUk9SPS0zLFpfQlVGX0VSUk9SPS01LFpfREVGQVVMVF9DT01QUkVTU0lPTj0tMSxaX0ZJTFRFUkVEPTEsWl9IVUZGTUFOX09OTFk9MixaX1JMRT0zLFpfRklYRUQ9NCxaX0RFRkFVTFRfU1RSQVRFR1k9MCxaX1VOS05PV049MixaX0RFRkxBVEVEPTgsTUFYX01FTV9MRVZFTD05LE1BWF9XQklUUz0xNSxERUZfTUVNX0xFVkVMPTgsTF9DT0RFUz0yODYsRF9DT0RFUz0zMCxCTF9DT0RFUz0xOSxIRUFQX1NJWkU9MipMX0NPREVTKzEsTUFYX0JJVFM9MTUsTUlOX01BVENIPTMsTUFYX01BVENIPTI1OCxNSU5fTE9PS0FIRUFEPU1BWF9NQVRDSCtNSU5fTUFUQ0grMSxQUkVTRVRfRElDVD0zMixJTklUX1NUQVRFPTQyLEVYVFJBX1NUQVRFPTY5LE5BTUVfU1RBVEU9NzMsQ09NTUVOVF9TVEFURT05MSxIQ1JDX1NUQVRFPTEwMyxCVVNZX1NUQVRFPTExMyxGSU5JU0hfU1RBVEU9NjY2LEJTX05FRURfTU9SRT0xLEJTX0JMT0NLX0RPTkU9MixCU19GSU5JU0hfU1RBUlRFRD0zLEJTX0ZJTklTSF9ET05FPTQsT1NfQ09ERT0zO2Z1bmN0aW9uIGVycihzdHJtLGVycm9yQ29kZSl7cmV0dXJuIHN0cm0ubXNnPW1zZ1tlcnJvckNvZGVdLGVycm9yQ29kZX1mdW5jdGlvbiByYW5rKGYpe3JldHVybihmPDwxKS0oZj40Pzk6MCl9ZnVuY3Rpb24gemVybyhidWYpe2Zvcih2YXIgbGVuPWJ1Zi5sZW5ndGg7LS1sZW4+PTA7KWJ1ZltsZW5dPTB9ZnVuY3Rpb24gZmx1c2hfcGVuZGluZyhzdHJtKXt2YXIgcz1zdHJtLnN0YXRlLGxlbj1zLnBlbmRpbmc7bGVuPnN0cm0uYXZhaWxfb3V0JiYobGVuPXN0cm0uYXZhaWxfb3V0KSwwIT09bGVuJiYodXRpbHMuYXJyYXlTZXQoc3RybS5vdXRwdXQscy5wZW5kaW5nX2J1ZixzLnBlbmRpbmdfb3V0LGxlbixzdHJtLm5leHRfb3V0KSxzdHJtLm5leHRfb3V0Kz1sZW4scy5wZW5kaW5nX291dCs9bGVuLHN0cm0udG90YWxfb3V0Kz1sZW4sc3RybS5hdmFpbF9vdXQtPWxlbixzLnBlbmRpbmctPWxlbiwwPT09cy5wZW5kaW5nJiYocy5wZW5kaW5nX291dD0wKSl9ZnVuY3Rpb24gZmx1c2hfYmxvY2tfb25seShzLGxhc3Qpe3RyZWVzLl90cl9mbHVzaF9ibG9jayhzLHMuYmxvY2tfc3RhcnQ+PTA/cy5ibG9ja19zdGFydDotMSxzLnN0cnN0YXJ0LXMuYmxvY2tfc3RhcnQsbGFzdCkscy5ibG9ja19zdGFydD1zLnN0cnN0YXJ0LGZsdXNoX3BlbmRpbmcocy5zdHJtKX1mdW5jdGlvbiBwdXRfYnl0ZShzLGIpe3MucGVuZGluZ19idWZbcy5wZW5kaW5nKytdPWJ9ZnVuY3Rpb24gcHV0U2hvcnRNU0IocyxiKXtzLnBlbmRpbmdfYnVmW3MucGVuZGluZysrXT1iPj4+OCYyNTUscy5wZW5kaW5nX2J1ZltzLnBlbmRpbmcrK109MjU1JmJ9ZnVuY3Rpb24gcmVhZF9idWYoc3RybSxidWYsc3RhcnQsc2l6ZSl7dmFyIGxlbj1zdHJtLmF2YWlsX2luO3JldHVybiBsZW4+c2l6ZSYmKGxlbj1zaXplKSwwPT09bGVuPzA6KHN0cm0uYXZhaWxfaW4tPWxlbix1dGlscy5hcnJheVNldChidWYsc3RybS5pbnB1dCxzdHJtLm5leHRfaW4sbGVuLHN0YXJ0KSwxPT09c3RybS5zdGF0ZS53cmFwP3N0cm0uYWRsZXI9YWRsZXIzMihzdHJtLmFkbGVyLGJ1ZixsZW4sc3RhcnQpOjI9PT1zdHJtLnN0YXRlLndyYXAmJihzdHJtLmFkbGVyPWNyYzMyKHN0cm0uYWRsZXIsYnVmLGxlbixzdGFydCkpLHN0cm0ubmV4dF9pbis9bGVuLHN0cm0udG90YWxfaW4rPWxlbixsZW4pfWZ1bmN0aW9uIGxvbmdlc3RfbWF0Y2gocyxjdXJfbWF0Y2gpe3ZhciBtYXRjaCxsZW4sY2hhaW5fbGVuZ3RoPXMubWF4X2NoYWluX2xlbmd0aCxzY2FuPXMuc3Ryc3RhcnQsYmVzdF9sZW49cy5wcmV2X2xlbmd0aCxuaWNlX21hdGNoPXMubmljZV9tYXRjaCxsaW1pdD1zLnN0cnN0YXJ0PnMud19zaXplLU1JTl9MT09LQUhFQUQ/cy5zdHJzdGFydC0ocy53X3NpemUtTUlOX0xPT0tBSEVBRCk6MCxfd2luPXMud2luZG93LHdtYXNrPXMud19tYXNrLHByZXY9cy5wcmV2LHN0cmVuZD1zLnN0cnN0YXJ0K01BWF9NQVRDSCxzY2FuX2VuZDE9X3dpbltzY2FuK2Jlc3RfbGVuLTFdLHNjYW5fZW5kPV93aW5bc2NhbitiZXN0X2xlbl07cy5wcmV2X2xlbmd0aD49cy5nb29kX21hdGNoJiYoY2hhaW5fbGVuZ3RoPj49MiksbmljZV9tYXRjaD5zLmxvb2thaGVhZCYmKG5pY2VfbWF0Y2g9cy5sb29rYWhlYWQpO2Rve2lmKF93aW5bKG1hdGNoPWN1cl9tYXRjaCkrYmVzdF9sZW5dPT09c2Nhbl9lbmQmJl93aW5bbWF0Y2grYmVzdF9sZW4tMV09PT1zY2FuX2VuZDEmJl93aW5bbWF0Y2hdPT09X3dpbltzY2FuXSYmX3dpblsrK21hdGNoXT09PV93aW5bc2NhbisxXSl7c2Nhbis9MixtYXRjaCsrO2Rve313aGlsZShfd2luWysrc2Nhbl09PT1fd2luWysrbWF0Y2hdJiZfd2luWysrc2Nhbl09PT1fd2luWysrbWF0Y2hdJiZfd2luWysrc2Nhbl09PT1fd2luWysrbWF0Y2hdJiZfd2luWysrc2Nhbl09PT1fd2luWysrbWF0Y2hdJiZfd2luWysrc2Nhbl09PT1fd2luWysrbWF0Y2hdJiZfd2luWysrc2Nhbl09PT1fd2luWysrbWF0Y2hdJiZfd2luWysrc2Nhbl09PT1fd2luWysrbWF0Y2hdJiZfd2luWysrc2Nhbl09PT1fd2luWysrbWF0Y2hdJiZzY2FuPHN0cmVuZCk7aWYobGVuPU1BWF9NQVRDSC0oc3RyZW5kLXNjYW4pLHNjYW49c3RyZW5kLU1BWF9NQVRDSCxsZW4+YmVzdF9sZW4pe2lmKHMubWF0Y2hfc3RhcnQ9Y3VyX21hdGNoLGJlc3RfbGVuPWxlbixsZW4+PW5pY2VfbWF0Y2gpYnJlYWs7c2Nhbl9lbmQxPV93aW5bc2NhbitiZXN0X2xlbi0xXSxzY2FuX2VuZD1fd2luW3NjYW4rYmVzdF9sZW5dfX19d2hpbGUoKGN1cl9tYXRjaD1wcmV2W2N1cl9tYXRjaCZ3bWFza10pPmxpbWl0JiYwIT0tLWNoYWluX2xlbmd0aCk7cmV0dXJuIGJlc3RfbGVuPD1zLmxvb2thaGVhZD9iZXN0X2xlbjpzLmxvb2thaGVhZH1mdW5jdGlvbiBmaWxsX3dpbmRvdyhzKXt2YXIgcCxuLG0sbW9yZSxzdHIsX3dfc2l6ZT1zLndfc2l6ZTtkb3tpZihtb3JlPXMud2luZG93X3NpemUtcy5sb29rYWhlYWQtcy5zdHJzdGFydCxzLnN0cnN0YXJ0Pj1fd19zaXplKyhfd19zaXplLU1JTl9MT09LQUhFQUQpKXt1dGlscy5hcnJheVNldChzLndpbmRvdyxzLndpbmRvdyxfd19zaXplLF93X3NpemUsMCkscy5tYXRjaF9zdGFydC09X3dfc2l6ZSxzLnN0cnN0YXJ0LT1fd19zaXplLHMuYmxvY2tfc3RhcnQtPV93X3NpemUscD1uPXMuaGFzaF9zaXplO2Rve209cy5oZWFkWy0tcF0scy5oZWFkW3BdPW0+PV93X3NpemU/bS1fd19zaXplOjB9d2hpbGUoLS1uKTtwPW49X3dfc2l6ZTtkb3ttPXMucHJldlstLXBdLHMucHJldltwXT1tPj1fd19zaXplP20tX3dfc2l6ZTowfXdoaWxlKC0tbik7bW9yZSs9X3dfc2l6ZX1pZigwPT09cy5zdHJtLmF2YWlsX2luKWJyZWFrO2lmKG49cmVhZF9idWYocy5zdHJtLHMud2luZG93LHMuc3Ryc3RhcnQrcy5sb29rYWhlYWQsbW9yZSkscy5sb29rYWhlYWQrPW4scy5sb29rYWhlYWQrcy5pbnNlcnQ+PU1JTl9NQVRDSClmb3Ioc3RyPXMuc3Ryc3RhcnQtcy5pbnNlcnQscy5pbnNfaD1zLndpbmRvd1tzdHJdLHMuaW5zX2g9KHMuaW5zX2g8PHMuaGFzaF9zaGlmdF5zLndpbmRvd1tzdHIrMV0pJnMuaGFzaF9tYXNrO3MuaW5zZXJ0JiYocy5pbnNfaD0ocy5pbnNfaDw8cy5oYXNoX3NoaWZ0XnMud2luZG93W3N0citNSU5fTUFUQ0gtMV0pJnMuaGFzaF9tYXNrLHMucHJldltzdHImcy53X21hc2tdPXMuaGVhZFtzLmluc19oXSxzLmhlYWRbcy5pbnNfaF09c3RyLHN0cisrLHMuaW5zZXJ0LS0sIShzLmxvb2thaGVhZCtzLmluc2VydDxNSU5fTUFUQ0gpKTspO313aGlsZShzLmxvb2thaGVhZDxNSU5fTE9PS0FIRUFEJiYwIT09cy5zdHJtLmF2YWlsX2luKX1mdW5jdGlvbiBkZWZsYXRlX2Zhc3QocyxmbHVzaCl7Zm9yKHZhciBoYXNoX2hlYWQsYmZsdXNoOzspe2lmKHMubG9va2FoZWFkPE1JTl9MT09LQUhFQUQpe2lmKGZpbGxfd2luZG93KHMpLHMubG9va2FoZWFkPE1JTl9MT09LQUhFQUQmJmZsdXNoPT09Wl9OT19GTFVTSClyZXR1cm4gQlNfTkVFRF9NT1JFO2lmKDA9PT1zLmxvb2thaGVhZClicmVha31pZihoYXNoX2hlYWQ9MCxzLmxvb2thaGVhZD49TUlOX01BVENIJiYocy5pbnNfaD0ocy5pbnNfaDw8cy5oYXNoX3NoaWZ0XnMud2luZG93W3Muc3Ryc3RhcnQrTUlOX01BVENILTFdKSZzLmhhc2hfbWFzayxoYXNoX2hlYWQ9cy5wcmV2W3Muc3Ryc3RhcnQmcy53X21hc2tdPXMuaGVhZFtzLmluc19oXSxzLmhlYWRbcy5pbnNfaF09cy5zdHJzdGFydCksMCE9PWhhc2hfaGVhZCYmcy5zdHJzdGFydC1oYXNoX2hlYWQ8PXMud19zaXplLU1JTl9MT09LQUhFQUQmJihzLm1hdGNoX2xlbmd0aD1sb25nZXN0X21hdGNoKHMsaGFzaF9oZWFkKSkscy5tYXRjaF9sZW5ndGg+PU1JTl9NQVRDSClpZihiZmx1c2g9dHJlZXMuX3RyX3RhbGx5KHMscy5zdHJzdGFydC1zLm1hdGNoX3N0YXJ0LHMubWF0Y2hfbGVuZ3RoLU1JTl9NQVRDSCkscy5sb29rYWhlYWQtPXMubWF0Y2hfbGVuZ3RoLHMubWF0Y2hfbGVuZ3RoPD1zLm1heF9sYXp5X21hdGNoJiZzLmxvb2thaGVhZD49TUlOX01BVENIKXtzLm1hdGNoX2xlbmd0aC0tO2Rve3Muc3Ryc3RhcnQrKyxzLmluc19oPShzLmluc19oPDxzLmhhc2hfc2hpZnRecy53aW5kb3dbcy5zdHJzdGFydCtNSU5fTUFUQ0gtMV0pJnMuaGFzaF9tYXNrLGhhc2hfaGVhZD1zLnByZXZbcy5zdHJzdGFydCZzLndfbWFza109cy5oZWFkW3MuaW5zX2hdLHMuaGVhZFtzLmluc19oXT1zLnN0cnN0YXJ0fXdoaWxlKDAhPS0tcy5tYXRjaF9sZW5ndGgpO3Muc3Ryc3RhcnQrK31lbHNlIHMuc3Ryc3RhcnQrPXMubWF0Y2hfbGVuZ3RoLHMubWF0Y2hfbGVuZ3RoPTAscy5pbnNfaD1zLndpbmRvd1tzLnN0cnN0YXJ0XSxzLmluc19oPShzLmluc19oPDxzLmhhc2hfc2hpZnRecy53aW5kb3dbcy5zdHJzdGFydCsxXSkmcy5oYXNoX21hc2s7ZWxzZSBiZmx1c2g9dHJlZXMuX3RyX3RhbGx5KHMsMCxzLndpbmRvd1tzLnN0cnN0YXJ0XSkscy5sb29rYWhlYWQtLSxzLnN0cnN0YXJ0Kys7aWYoYmZsdXNoJiYoZmx1c2hfYmxvY2tfb25seShzLCExKSwwPT09cy5zdHJtLmF2YWlsX291dCkpcmV0dXJuIEJTX05FRURfTU9SRX1yZXR1cm4gcy5pbnNlcnQ9cy5zdHJzdGFydDxNSU5fTUFUQ0gtMT9zLnN0cnN0YXJ0Ok1JTl9NQVRDSC0xLGZsdXNoPT09Wl9GSU5JU0g/KGZsdXNoX2Jsb2NrX29ubHkocywhMCksMD09PXMuc3RybS5hdmFpbF9vdXQ/QlNfRklOSVNIX1NUQVJURUQ6QlNfRklOSVNIX0RPTkUpOnMubGFzdF9saXQmJihmbHVzaF9ibG9ja19vbmx5KHMsITEpLDA9PT1zLnN0cm0uYXZhaWxfb3V0KT9CU19ORUVEX01PUkU6QlNfQkxPQ0tfRE9ORX1mdW5jdGlvbiBkZWZsYXRlX3Nsb3cocyxmbHVzaCl7Zm9yKHZhciBoYXNoX2hlYWQsYmZsdXNoLG1heF9pbnNlcnQ7Oyl7aWYocy5sb29rYWhlYWQ8TUlOX0xPT0tBSEVBRCl7aWYoZmlsbF93aW5kb3cocykscy5sb29rYWhlYWQ8TUlOX0xPT0tBSEVBRCYmZmx1c2g9PT1aX05PX0ZMVVNIKXJldHVybiBCU19ORUVEX01PUkU7aWYoMD09PXMubG9va2FoZWFkKWJyZWFrfWlmKGhhc2hfaGVhZD0wLHMubG9va2FoZWFkPj1NSU5fTUFUQ0gmJihzLmluc19oPShzLmluc19oPDxzLmhhc2hfc2hpZnRecy53aW5kb3dbcy5zdHJzdGFydCtNSU5fTUFUQ0gtMV0pJnMuaGFzaF9tYXNrLGhhc2hfaGVhZD1zLnByZXZbcy5zdHJzdGFydCZzLndfbWFza109cy5oZWFkW3MuaW5zX2hdLHMuaGVhZFtzLmluc19oXT1zLnN0cnN0YXJ0KSxzLnByZXZfbGVuZ3RoPXMubWF0Y2hfbGVuZ3RoLHMucHJldl9tYXRjaD1zLm1hdGNoX3N0YXJ0LHMubWF0Y2hfbGVuZ3RoPU1JTl9NQVRDSC0xLDAhPT1oYXNoX2hlYWQmJnMucHJldl9sZW5ndGg8cy5tYXhfbGF6eV9tYXRjaCYmcy5zdHJzdGFydC1oYXNoX2hlYWQ8PXMud19zaXplLU1JTl9MT09LQUhFQUQmJihzLm1hdGNoX2xlbmd0aD1sb25nZXN0X21hdGNoKHMsaGFzaF9oZWFkKSxzLm1hdGNoX2xlbmd0aDw9NSYmKHMuc3RyYXRlZ3k9PT1aX0ZJTFRFUkVEfHxzLm1hdGNoX2xlbmd0aD09PU1JTl9NQVRDSCYmcy5zdHJzdGFydC1zLm1hdGNoX3N0YXJ0PjQwOTYpJiYocy5tYXRjaF9sZW5ndGg9TUlOX01BVENILTEpKSxzLnByZXZfbGVuZ3RoPj1NSU5fTUFUQ0gmJnMubWF0Y2hfbGVuZ3RoPD1zLnByZXZfbGVuZ3RoKXttYXhfaW5zZXJ0PXMuc3Ryc3RhcnQrcy5sb29rYWhlYWQtTUlOX01BVENILGJmbHVzaD10cmVlcy5fdHJfdGFsbHkocyxzLnN0cnN0YXJ0LTEtcy5wcmV2X21hdGNoLHMucHJldl9sZW5ndGgtTUlOX01BVENIKSxzLmxvb2thaGVhZC09cy5wcmV2X2xlbmd0aC0xLHMucHJldl9sZW5ndGgtPTI7ZG97KytzLnN0cnN0YXJ0PD1tYXhfaW5zZXJ0JiYocy5pbnNfaD0ocy5pbnNfaDw8cy5oYXNoX3NoaWZ0XnMud2luZG93W3Muc3Ryc3RhcnQrTUlOX01BVENILTFdKSZzLmhhc2hfbWFzayxoYXNoX2hlYWQ9cy5wcmV2W3Muc3Ryc3RhcnQmcy53X21hc2tdPXMuaGVhZFtzLmluc19oXSxzLmhlYWRbcy5pbnNfaF09cy5zdHJzdGFydCl9d2hpbGUoMCE9LS1zLnByZXZfbGVuZ3RoKTtpZihzLm1hdGNoX2F2YWlsYWJsZT0wLHMubWF0Y2hfbGVuZ3RoPU1JTl9NQVRDSC0xLHMuc3Ryc3RhcnQrKyxiZmx1c2gmJihmbHVzaF9ibG9ja19vbmx5KHMsITEpLDA9PT1zLnN0cm0uYXZhaWxfb3V0KSlyZXR1cm4gQlNfTkVFRF9NT1JFfWVsc2UgaWYocy5tYXRjaF9hdmFpbGFibGUpe2lmKChiZmx1c2g9dHJlZXMuX3RyX3RhbGx5KHMsMCxzLndpbmRvd1tzLnN0cnN0YXJ0LTFdKSkmJmZsdXNoX2Jsb2NrX29ubHkocywhMSkscy5zdHJzdGFydCsrLHMubG9va2FoZWFkLS0sMD09PXMuc3RybS5hdmFpbF9vdXQpcmV0dXJuIEJTX05FRURfTU9SRX1lbHNlIHMubWF0Y2hfYXZhaWxhYmxlPTEscy5zdHJzdGFydCsrLHMubG9va2FoZWFkLS19cmV0dXJuIHMubWF0Y2hfYXZhaWxhYmxlJiYoYmZsdXNoPXRyZWVzLl90cl90YWxseShzLDAscy53aW5kb3dbcy5zdHJzdGFydC0xXSkscy5tYXRjaF9hdmFpbGFibGU9MCkscy5pbnNlcnQ9cy5zdHJzdGFydDxNSU5fTUFUQ0gtMT9zLnN0cnN0YXJ0Ok1JTl9NQVRDSC0xLGZsdXNoPT09Wl9GSU5JU0g/KGZsdXNoX2Jsb2NrX29ubHkocywhMCksMD09PXMuc3RybS5hdmFpbF9vdXQ/QlNfRklOSVNIX1NUQVJURUQ6QlNfRklOSVNIX0RPTkUpOnMubGFzdF9saXQmJihmbHVzaF9ibG9ja19vbmx5KHMsITEpLDA9PT1zLnN0cm0uYXZhaWxfb3V0KT9CU19ORUVEX01PUkU6QlNfQkxPQ0tfRE9ORX1mdW5jdGlvbiBDb25maWcoZ29vZF9sZW5ndGgsbWF4X2xhenksbmljZV9sZW5ndGgsbWF4X2NoYWluLGZ1bmMpe3RoaXMuZ29vZF9sZW5ndGg9Z29vZF9sZW5ndGgsdGhpcy5tYXhfbGF6eT1tYXhfbGF6eSx0aGlzLm5pY2VfbGVuZ3RoPW5pY2VfbGVuZ3RoLHRoaXMubWF4X2NoYWluPW1heF9jaGFpbix0aGlzLmZ1bmM9ZnVuY31mdW5jdGlvbiBkZWZsYXRlUmVzZXRLZWVwKHN0cm0pe3ZhciBzO3JldHVybiBzdHJtJiZzdHJtLnN0YXRlPyhzdHJtLnRvdGFsX2luPXN0cm0udG90YWxfb3V0PTAsc3RybS5kYXRhX3R5cGU9Wl9VTktOT1dOLChzPXN0cm0uc3RhdGUpLnBlbmRpbmc9MCxzLnBlbmRpbmdfb3V0PTAscy53cmFwPDAmJihzLndyYXA9LXMud3JhcCkscy5zdGF0dXM9cy53cmFwP0lOSVRfU1RBVEU6QlVTWV9TVEFURSxzdHJtLmFkbGVyPTI9PT1zLndyYXA/MDoxLHMubGFzdF9mbHVzaD1aX05PX0ZMVVNILHRyZWVzLl90cl9pbml0KHMpLFpfT0spOmVycihzdHJtLFpfU1RSRUFNX0VSUk9SKX1mdW5jdGlvbiBkZWZsYXRlUmVzZXQoc3RybSl7dmFyIHJldD1kZWZsYXRlUmVzZXRLZWVwKHN0cm0pO3JldHVybiByZXQ9PT1aX09LJiZmdW5jdGlvbihzKXtzLndpbmRvd19zaXplPTIqcy53X3NpemUsemVybyhzLmhlYWQpLHMubWF4X2xhenlfbWF0Y2g9Y29uZmlndXJhdGlvbl90YWJsZVtzLmxldmVsXS5tYXhfbGF6eSxzLmdvb2RfbWF0Y2g9Y29uZmlndXJhdGlvbl90YWJsZVtzLmxldmVsXS5nb29kX2xlbmd0aCxzLm5pY2VfbWF0Y2g9Y29uZmlndXJhdGlvbl90YWJsZVtzLmxldmVsXS5uaWNlX2xlbmd0aCxzLm1heF9jaGFpbl9sZW5ndGg9Y29uZmlndXJhdGlvbl90YWJsZVtzLmxldmVsXS5tYXhfY2hhaW4scy5zdHJzdGFydD0wLHMuYmxvY2tfc3RhcnQ9MCxzLmxvb2thaGVhZD0wLHMuaW5zZXJ0PTAscy5tYXRjaF9sZW5ndGg9cy5wcmV2X2xlbmd0aD1NSU5fTUFUQ0gtMSxzLm1hdGNoX2F2YWlsYWJsZT0wLHMuaW5zX2g9MH0oc3RybS5zdGF0ZSkscmV0fWZ1bmN0aW9uIGRlZmxhdGVJbml0MihzdHJtLGxldmVsLG1ldGhvZCx3aW5kb3dCaXRzLG1lbUxldmVsLHN0cmF0ZWd5KXtpZighc3RybSlyZXR1cm4gWl9TVFJFQU1fRVJST1I7dmFyIHdyYXA9MTtpZihsZXZlbD09PVpfREVGQVVMVF9DT01QUkVTU0lPTiYmKGxldmVsPTYpLHdpbmRvd0JpdHM8MD8od3JhcD0wLHdpbmRvd0JpdHM9LXdpbmRvd0JpdHMpOndpbmRvd0JpdHM+MTUmJih3cmFwPTIsd2luZG93Qml0cy09MTYpLG1lbUxldmVsPDF8fG1lbUxldmVsPk1BWF9NRU1fTEVWRUx8fG1ldGhvZCE9PVpfREVGTEFURUR8fHdpbmRvd0JpdHM8OHx8d2luZG93Qml0cz4xNXx8bGV2ZWw8MHx8bGV2ZWw+OXx8c3RyYXRlZ3k8MHx8c3RyYXRlZ3k+Wl9GSVhFRClyZXR1cm4gZXJyKHN0cm0sWl9TVFJFQU1fRVJST1IpOzg9PT13aW5kb3dCaXRzJiYod2luZG93Qml0cz05KTt2YXIgcz1uZXcgZnVuY3Rpb24oKXt0aGlzLnN0cm09bnVsbCx0aGlzLnN0YXR1cz0wLHRoaXMucGVuZGluZ19idWY9bnVsbCx0aGlzLnBlbmRpbmdfYnVmX3NpemU9MCx0aGlzLnBlbmRpbmdfb3V0PTAsdGhpcy5wZW5kaW5nPTAsdGhpcy53cmFwPTAsdGhpcy5nemhlYWQ9bnVsbCx0aGlzLmd6aW5kZXg9MCx0aGlzLm1ldGhvZD1aX0RFRkxBVEVELHRoaXMubGFzdF9mbHVzaD0tMSx0aGlzLndfc2l6ZT0wLHRoaXMud19iaXRzPTAsdGhpcy53X21hc2s9MCx0aGlzLndpbmRvdz1udWxsLHRoaXMud2luZG93X3NpemU9MCx0aGlzLnByZXY9bnVsbCx0aGlzLmhlYWQ9bnVsbCx0aGlzLmluc19oPTAsdGhpcy5oYXNoX3NpemU9MCx0aGlzLmhhc2hfYml0cz0wLHRoaXMuaGFzaF9tYXNrPTAsdGhpcy5oYXNoX3NoaWZ0PTAsdGhpcy5ibG9ja19zdGFydD0wLHRoaXMubWF0Y2hfbGVuZ3RoPTAsdGhpcy5wcmV2X21hdGNoPTAsdGhpcy5tYXRjaF9hdmFpbGFibGU9MCx0aGlzLnN0cnN0YXJ0PTAsdGhpcy5tYXRjaF9zdGFydD0wLHRoaXMubG9va2FoZWFkPTAsdGhpcy5wcmV2X2xlbmd0aD0wLHRoaXMubWF4X2NoYWluX2xlbmd0aD0wLHRoaXMubWF4X2xhenlfbWF0Y2g9MCx0aGlzLmxldmVsPTAsdGhpcy5zdHJhdGVneT0wLHRoaXMuZ29vZF9tYXRjaD0wLHRoaXMubmljZV9tYXRjaD0wLHRoaXMuZHluX2x0cmVlPW5ldyB1dGlscy5CdWYxNigyKkhFQVBfU0laRSksdGhpcy5keW5fZHRyZWU9bmV3IHV0aWxzLkJ1ZjE2KDIqKDIqRF9DT0RFUysxKSksdGhpcy5ibF90cmVlPW5ldyB1dGlscy5CdWYxNigyKigyKkJMX0NPREVTKzEpKSx6ZXJvKHRoaXMuZHluX2x0cmVlKSx6ZXJvKHRoaXMuZHluX2R0cmVlKSx6ZXJvKHRoaXMuYmxfdHJlZSksdGhpcy5sX2Rlc2M9bnVsbCx0aGlzLmRfZGVzYz1udWxsLHRoaXMuYmxfZGVzYz1udWxsLHRoaXMuYmxfY291bnQ9bmV3IHV0aWxzLkJ1ZjE2KE1BWF9CSVRTKzEpLHRoaXMuaGVhcD1uZXcgdXRpbHMuQnVmMTYoMipMX0NPREVTKzEpLHplcm8odGhpcy5oZWFwKSx0aGlzLmhlYXBfbGVuPTAsdGhpcy5oZWFwX21heD0wLHRoaXMuZGVwdGg9bmV3IHV0aWxzLkJ1ZjE2KDIqTF9DT0RFUysxKSx6ZXJvKHRoaXMuZGVwdGgpLHRoaXMubF9idWY9MCx0aGlzLmxpdF9idWZzaXplPTAsdGhpcy5sYXN0X2xpdD0wLHRoaXMuZF9idWY9MCx0aGlzLm9wdF9sZW49MCx0aGlzLnN0YXRpY19sZW49MCx0aGlzLm1hdGNoZXM9MCx0aGlzLmluc2VydD0wLHRoaXMuYmlfYnVmPTAsdGhpcy5iaV92YWxpZD0wfTtyZXR1cm4gc3RybS5zdGF0ZT1zLHMuc3RybT1zdHJtLHMud3JhcD13cmFwLHMuZ3poZWFkPW51bGwscy53X2JpdHM9d2luZG93Qml0cyxzLndfc2l6ZT0xPDxzLndfYml0cyxzLndfbWFzaz1zLndfc2l6ZS0xLHMuaGFzaF9iaXRzPW1lbUxldmVsKzcscy5oYXNoX3NpemU9MTw8cy5oYXNoX2JpdHMscy5oYXNoX21hc2s9cy5oYXNoX3NpemUtMSxzLmhhc2hfc2hpZnQ9fn4oKHMuaGFzaF9iaXRzK01JTl9NQVRDSC0xKS9NSU5fTUFUQ0gpLHMud2luZG93PW5ldyB1dGlscy5CdWY4KDIqcy53X3NpemUpLHMuaGVhZD1uZXcgdXRpbHMuQnVmMTYocy5oYXNoX3NpemUpLHMucHJldj1uZXcgdXRpbHMuQnVmMTYocy53X3NpemUpLHMubGl0X2J1ZnNpemU9MTw8bWVtTGV2ZWwrNixzLnBlbmRpbmdfYnVmX3NpemU9NCpzLmxpdF9idWZzaXplLHMucGVuZGluZ19idWY9bmV3IHV0aWxzLkJ1Zjgocy5wZW5kaW5nX2J1Zl9zaXplKSxzLmRfYnVmPTEqcy5saXRfYnVmc2l6ZSxzLmxfYnVmPTMqcy5saXRfYnVmc2l6ZSxzLmxldmVsPWxldmVsLHMuc3RyYXRlZ3k9c3RyYXRlZ3kscy5tZXRob2Q9bWV0aG9kLGRlZmxhdGVSZXNldChzdHJtKX1jb25maWd1cmF0aW9uX3RhYmxlPVtuZXcgQ29uZmlnKDAsMCwwLDAsZnVuY3Rpb24ocyxmbHVzaCl7dmFyIG1heF9ibG9ja19zaXplPTY1NTM1O2ZvcihtYXhfYmxvY2tfc2l6ZT5zLnBlbmRpbmdfYnVmX3NpemUtNSYmKG1heF9ibG9ja19zaXplPXMucGVuZGluZ19idWZfc2l6ZS01KTs7KXtpZihzLmxvb2thaGVhZDw9MSl7aWYoZmlsbF93aW5kb3cocyksMD09PXMubG9va2FoZWFkJiZmbHVzaD09PVpfTk9fRkxVU0gpcmV0dXJuIEJTX05FRURfTU9SRTtpZigwPT09cy5sb29rYWhlYWQpYnJlYWt9cy5zdHJzdGFydCs9cy5sb29rYWhlYWQscy5sb29rYWhlYWQ9MDt2YXIgbWF4X3N0YXJ0PXMuYmxvY2tfc3RhcnQrbWF4X2Jsb2NrX3NpemU7aWYoKDA9PT1zLnN0cnN0YXJ0fHxzLnN0cnN0YXJ0Pj1tYXhfc3RhcnQpJiYocy5sb29rYWhlYWQ9cy5zdHJzdGFydC1tYXhfc3RhcnQscy5zdHJzdGFydD1tYXhfc3RhcnQsZmx1c2hfYmxvY2tfb25seShzLCExKSwwPT09cy5zdHJtLmF2YWlsX291dCkpcmV0dXJuIEJTX05FRURfTU9SRTtpZihzLnN0cnN0YXJ0LXMuYmxvY2tfc3RhcnQ+PXMud19zaXplLU1JTl9MT09LQUhFQUQmJihmbHVzaF9ibG9ja19vbmx5KHMsITEpLDA9PT1zLnN0cm0uYXZhaWxfb3V0KSlyZXR1cm4gQlNfTkVFRF9NT1JFfXJldHVybiBzLmluc2VydD0wLGZsdXNoPT09Wl9GSU5JU0g/KGZsdXNoX2Jsb2NrX29ubHkocywhMCksMD09PXMuc3RybS5hdmFpbF9vdXQ/QlNfRklOSVNIX1NUQVJURUQ6QlNfRklOSVNIX0RPTkUpOihzLnN0cnN0YXJ0PnMuYmxvY2tfc3RhcnQmJihmbHVzaF9ibG9ja19vbmx5KHMsITEpLHMuc3RybS5hdmFpbF9vdXQpLEJTX05FRURfTU9SRSl9KSxuZXcgQ29uZmlnKDQsNCw4LDQsZGVmbGF0ZV9mYXN0KSxuZXcgQ29uZmlnKDQsNSwxNiw4LGRlZmxhdGVfZmFzdCksbmV3IENvbmZpZyg0LDYsMzIsMzIsZGVmbGF0ZV9mYXN0KSxuZXcgQ29uZmlnKDQsNCwxNiwxNixkZWZsYXRlX3Nsb3cpLG5ldyBDb25maWcoOCwxNiwzMiwzMixkZWZsYXRlX3Nsb3cpLG5ldyBDb25maWcoOCwxNiwxMjgsMTI4LGRlZmxhdGVfc2xvdyksbmV3IENvbmZpZyg4LDMyLDEyOCwyNTYsZGVmbGF0ZV9zbG93KSxuZXcgQ29uZmlnKDMyLDEyOCwyNTgsMTAyNCxkZWZsYXRlX3Nsb3cpLG5ldyBDb25maWcoMzIsMjU4LDI1OCw0MDk2LGRlZmxhdGVfc2xvdyldLGV4cG9ydHMuZGVmbGF0ZUluaXQ9ZnVuY3Rpb24oc3RybSxsZXZlbCl7cmV0dXJuIGRlZmxhdGVJbml0MihzdHJtLGxldmVsLFpfREVGTEFURUQsTUFYX1dCSVRTLERFRl9NRU1fTEVWRUwsWl9ERUZBVUxUX1NUUkFURUdZKX0sZXhwb3J0cy5kZWZsYXRlSW5pdDI9ZGVmbGF0ZUluaXQyLGV4cG9ydHMuZGVmbGF0ZVJlc2V0PWRlZmxhdGVSZXNldCxleHBvcnRzLmRlZmxhdGVSZXNldEtlZXA9ZGVmbGF0ZVJlc2V0S2VlcCxleHBvcnRzLmRlZmxhdGVTZXRIZWFkZXI9ZnVuY3Rpb24oc3RybSxoZWFkKXtyZXR1cm4gc3RybSYmc3RybS5zdGF0ZT8yIT09c3RybS5zdGF0ZS53cmFwP1pfU1RSRUFNX0VSUk9SOihzdHJtLnN0YXRlLmd6aGVhZD1oZWFkLFpfT0spOlpfU1RSRUFNX0VSUk9SfSxleHBvcnRzLmRlZmxhdGU9ZnVuY3Rpb24oc3RybSxmbHVzaCl7dmFyIG9sZF9mbHVzaCxzLGJlZyx2YWw7aWYoIXN0cm18fCFzdHJtLnN0YXRlfHxmbHVzaD5aX0JMT0NLfHxmbHVzaDwwKXJldHVybiBzdHJtP2VycihzdHJtLFpfU1RSRUFNX0VSUk9SKTpaX1NUUkVBTV9FUlJPUjtpZihzPXN0cm0uc3RhdGUsIXN0cm0ub3V0cHV0fHwhc3RybS5pbnB1dCYmMCE9PXN0cm0uYXZhaWxfaW58fHMuc3RhdHVzPT09RklOSVNIX1NUQVRFJiZmbHVzaCE9PVpfRklOSVNIKXJldHVybiBlcnIoc3RybSwwPT09c3RybS5hdmFpbF9vdXQ/Wl9CVUZfRVJST1I6Wl9TVFJFQU1fRVJST1IpO2lmKHMuc3RybT1zdHJtLG9sZF9mbHVzaD1zLmxhc3RfZmx1c2gscy5sYXN0X2ZsdXNoPWZsdXNoLHMuc3RhdHVzPT09SU5JVF9TVEFURSlpZigyPT09cy53cmFwKXN0cm0uYWRsZXI9MCxwdXRfYnl0ZShzLDMxKSxwdXRfYnl0ZShzLDEzOSkscHV0X2J5dGUocyw4KSxzLmd6aGVhZD8ocHV0X2J5dGUocywocy5nemhlYWQudGV4dD8xOjApKyhzLmd6aGVhZC5oY3JjPzI6MCkrKHMuZ3poZWFkLmV4dHJhPzQ6MCkrKHMuZ3poZWFkLm5hbWU/ODowKSsocy5nemhlYWQuY29tbWVudD8xNjowKSkscHV0X2J5dGUocywyNTUmcy5nemhlYWQudGltZSkscHV0X2J5dGUocyxzLmd6aGVhZC50aW1lPj44JjI1NSkscHV0X2J5dGUocyxzLmd6aGVhZC50aW1lPj4xNiYyNTUpLHB1dF9ieXRlKHMscy5nemhlYWQudGltZT4+MjQmMjU1KSxwdXRfYnl0ZShzLDk9PT1zLmxldmVsPzI6cy5zdHJhdGVneT49Wl9IVUZGTUFOX09OTFl8fHMubGV2ZWw8Mj80OjApLHB1dF9ieXRlKHMsMjU1JnMuZ3poZWFkLm9zKSxzLmd6aGVhZC5leHRyYSYmcy5nemhlYWQuZXh0cmEubGVuZ3RoJiYocHV0X2J5dGUocywyNTUmcy5nemhlYWQuZXh0cmEubGVuZ3RoKSxwdXRfYnl0ZShzLHMuZ3poZWFkLmV4dHJhLmxlbmd0aD4+OCYyNTUpKSxzLmd6aGVhZC5oY3JjJiYoc3RybS5hZGxlcj1jcmMzMihzdHJtLmFkbGVyLHMucGVuZGluZ19idWYscy5wZW5kaW5nLDApKSxzLmd6aW5kZXg9MCxzLnN0YXR1cz1FWFRSQV9TVEFURSk6KHB1dF9ieXRlKHMsMCkscHV0X2J5dGUocywwKSxwdXRfYnl0ZShzLDApLHB1dF9ieXRlKHMsMCkscHV0X2J5dGUocywwKSxwdXRfYnl0ZShzLDk9PT1zLmxldmVsPzI6cy5zdHJhdGVneT49Wl9IVUZGTUFOX09OTFl8fHMubGV2ZWw8Mj80OjApLHB1dF9ieXRlKHMsT1NfQ09ERSkscy5zdGF0dXM9QlVTWV9TVEFURSk7ZWxzZXt2YXIgaGVhZGVyPVpfREVGTEFURUQrKHMud19iaXRzLTg8PDQpPDw4O2hlYWRlcnw9KHMuc3RyYXRlZ3k+PVpfSFVGRk1BTl9PTkxZfHxzLmxldmVsPDI/MDpzLmxldmVsPDY/MTo2PT09cy5sZXZlbD8yOjMpPDw2LDAhPT1zLnN0cnN0YXJ0JiYoaGVhZGVyfD1QUkVTRVRfRElDVCksaGVhZGVyKz0zMS1oZWFkZXIlMzEscy5zdGF0dXM9QlVTWV9TVEFURSxwdXRTaG9ydE1TQihzLGhlYWRlciksMCE9PXMuc3Ryc3RhcnQmJihwdXRTaG9ydE1TQihzLHN0cm0uYWRsZXI+Pj4xNikscHV0U2hvcnRNU0Iocyw2NTUzNSZzdHJtLmFkbGVyKSksc3RybS5hZGxlcj0xfWlmKHMuc3RhdHVzPT09RVhUUkFfU1RBVEUpaWYocy5nemhlYWQuZXh0cmEpe2ZvcihiZWc9cy5wZW5kaW5nO3MuZ3ppbmRleDwoNjU1MzUmcy5nemhlYWQuZXh0cmEubGVuZ3RoKSYmKHMucGVuZGluZyE9PXMucGVuZGluZ19idWZfc2l6ZXx8KHMuZ3poZWFkLmhjcmMmJnMucGVuZGluZz5iZWcmJihzdHJtLmFkbGVyPWNyYzMyKHN0cm0uYWRsZXIscy5wZW5kaW5nX2J1ZixzLnBlbmRpbmctYmVnLGJlZykpLGZsdXNoX3BlbmRpbmcoc3RybSksYmVnPXMucGVuZGluZyxzLnBlbmRpbmchPT1zLnBlbmRpbmdfYnVmX3NpemUpKTspcHV0X2J5dGUocywyNTUmcy5nemhlYWQuZXh0cmFbcy5nemluZGV4XSkscy5nemluZGV4Kys7cy5nemhlYWQuaGNyYyYmcy5wZW5kaW5nPmJlZyYmKHN0cm0uYWRsZXI9Y3JjMzIoc3RybS5hZGxlcixzLnBlbmRpbmdfYnVmLHMucGVuZGluZy1iZWcsYmVnKSkscy5nemluZGV4PT09cy5nemhlYWQuZXh0cmEubGVuZ3RoJiYocy5nemluZGV4PTAscy5zdGF0dXM9TkFNRV9TVEFURSl9ZWxzZSBzLnN0YXR1cz1OQU1FX1NUQVRFO2lmKHMuc3RhdHVzPT09TkFNRV9TVEFURSlpZihzLmd6aGVhZC5uYW1lKXtiZWc9cy5wZW5kaW5nO2Rve2lmKHMucGVuZGluZz09PXMucGVuZGluZ19idWZfc2l6ZSYmKHMuZ3poZWFkLmhjcmMmJnMucGVuZGluZz5iZWcmJihzdHJtLmFkbGVyPWNyYzMyKHN0cm0uYWRsZXIscy5wZW5kaW5nX2J1ZixzLnBlbmRpbmctYmVnLGJlZykpLGZsdXNoX3BlbmRpbmcoc3RybSksYmVnPXMucGVuZGluZyxzLnBlbmRpbmc9PT1zLnBlbmRpbmdfYnVmX3NpemUpKXt2YWw9MTticmVha312YWw9cy5nemluZGV4PHMuZ3poZWFkLm5hbWUubGVuZ3RoPzI1NSZzLmd6aGVhZC5uYW1lLmNoYXJDb2RlQXQocy5nemluZGV4KyspOjAscHV0X2J5dGUocyx2YWwpfXdoaWxlKDAhPT12YWwpO3MuZ3poZWFkLmhjcmMmJnMucGVuZGluZz5iZWcmJihzdHJtLmFkbGVyPWNyYzMyKHN0cm0uYWRsZXIscy5wZW5kaW5nX2J1ZixzLnBlbmRpbmctYmVnLGJlZykpLDA9PT12YWwmJihzLmd6aW5kZXg9MCxzLnN0YXR1cz1DT01NRU5UX1NUQVRFKX1lbHNlIHMuc3RhdHVzPUNPTU1FTlRfU1RBVEU7aWYocy5zdGF0dXM9PT1DT01NRU5UX1NUQVRFKWlmKHMuZ3poZWFkLmNvbW1lbnQpe2JlZz1zLnBlbmRpbmc7ZG97aWYocy5wZW5kaW5nPT09cy5wZW5kaW5nX2J1Zl9zaXplJiYocy5nemhlYWQuaGNyYyYmcy5wZW5kaW5nPmJlZyYmKHN0cm0uYWRsZXI9Y3JjMzIoc3RybS5hZGxlcixzLnBlbmRpbmdfYnVmLHMucGVuZGluZy1iZWcsYmVnKSksZmx1c2hfcGVuZGluZyhzdHJtKSxiZWc9cy5wZW5kaW5nLHMucGVuZGluZz09PXMucGVuZGluZ19idWZfc2l6ZSkpe3ZhbD0xO2JyZWFrfXZhbD1zLmd6aW5kZXg8cy5nemhlYWQuY29tbWVudC5sZW5ndGg/MjU1JnMuZ3poZWFkLmNvbW1lbnQuY2hhckNvZGVBdChzLmd6aW5kZXgrKyk6MCxwdXRfYnl0ZShzLHZhbCl9d2hpbGUoMCE9PXZhbCk7cy5nemhlYWQuaGNyYyYmcy5wZW5kaW5nPmJlZyYmKHN0cm0uYWRsZXI9Y3JjMzIoc3RybS5hZGxlcixzLnBlbmRpbmdfYnVmLHMucGVuZGluZy1iZWcsYmVnKSksMD09PXZhbCYmKHMuc3RhdHVzPUhDUkNfU1RBVEUpfWVsc2Ugcy5zdGF0dXM9SENSQ19TVEFURTtpZihzLnN0YXR1cz09PUhDUkNfU1RBVEUmJihzLmd6aGVhZC5oY3JjPyhzLnBlbmRpbmcrMj5zLnBlbmRpbmdfYnVmX3NpemUmJmZsdXNoX3BlbmRpbmcoc3RybSkscy5wZW5kaW5nKzI8PXMucGVuZGluZ19idWZfc2l6ZSYmKHB1dF9ieXRlKHMsMjU1JnN0cm0uYWRsZXIpLHB1dF9ieXRlKHMsc3RybS5hZGxlcj4+OCYyNTUpLHN0cm0uYWRsZXI9MCxzLnN0YXR1cz1CVVNZX1NUQVRFKSk6cy5zdGF0dXM9QlVTWV9TVEFURSksMCE9PXMucGVuZGluZyl7aWYoZmx1c2hfcGVuZGluZyhzdHJtKSwwPT09c3RybS5hdmFpbF9vdXQpcmV0dXJuIHMubGFzdF9mbHVzaD0tMSxaX09LfWVsc2UgaWYoMD09PXN0cm0uYXZhaWxfaW4mJnJhbmsoZmx1c2gpPD1yYW5rKG9sZF9mbHVzaCkmJmZsdXNoIT09Wl9GSU5JU0gpcmV0dXJuIGVycihzdHJtLFpfQlVGX0VSUk9SKTtpZihzLnN0YXR1cz09PUZJTklTSF9TVEFURSYmMCE9PXN0cm0uYXZhaWxfaW4pcmV0dXJuIGVycihzdHJtLFpfQlVGX0VSUk9SKTtpZigwIT09c3RybS5hdmFpbF9pbnx8MCE9PXMubG9va2FoZWFkfHxmbHVzaCE9PVpfTk9fRkxVU0gmJnMuc3RhdHVzIT09RklOSVNIX1NUQVRFKXt2YXIgYnN0YXRlPXMuc3RyYXRlZ3k9PT1aX0hVRkZNQU5fT05MWT9mdW5jdGlvbihzLGZsdXNoKXtmb3IodmFyIGJmbHVzaDs7KXtpZigwPT09cy5sb29rYWhlYWQmJihmaWxsX3dpbmRvdyhzKSwwPT09cy5sb29rYWhlYWQpKXtpZihmbHVzaD09PVpfTk9fRkxVU0gpcmV0dXJuIEJTX05FRURfTU9SRTticmVha31pZihzLm1hdGNoX2xlbmd0aD0wLGJmbHVzaD10cmVlcy5fdHJfdGFsbHkocywwLHMud2luZG93W3Muc3Ryc3RhcnRdKSxzLmxvb2thaGVhZC0tLHMuc3Ryc3RhcnQrKyxiZmx1c2gmJihmbHVzaF9ibG9ja19vbmx5KHMsITEpLDA9PT1zLnN0cm0uYXZhaWxfb3V0KSlyZXR1cm4gQlNfTkVFRF9NT1JFfXJldHVybiBzLmluc2VydD0wLGZsdXNoPT09Wl9GSU5JU0g/KGZsdXNoX2Jsb2NrX29ubHkocywhMCksMD09PXMuc3RybS5hdmFpbF9vdXQ/QlNfRklOSVNIX1NUQVJURUQ6QlNfRklOSVNIX0RPTkUpOnMubGFzdF9saXQmJihmbHVzaF9ibG9ja19vbmx5KHMsITEpLDA9PT1zLnN0cm0uYXZhaWxfb3V0KT9CU19ORUVEX01PUkU6QlNfQkxPQ0tfRE9ORX0ocyxmbHVzaCk6cy5zdHJhdGVneT09PVpfUkxFP2Z1bmN0aW9uKHMsZmx1c2gpe2Zvcih2YXIgYmZsdXNoLHByZXYsc2NhbixzdHJlbmQsX3dpbj1zLndpbmRvdzs7KXtpZihzLmxvb2thaGVhZDw9TUFYX01BVENIKXtpZihmaWxsX3dpbmRvdyhzKSxzLmxvb2thaGVhZDw9TUFYX01BVENIJiZmbHVzaD09PVpfTk9fRkxVU0gpcmV0dXJuIEJTX05FRURfTU9SRTtpZigwPT09cy5sb29rYWhlYWQpYnJlYWt9aWYocy5tYXRjaF9sZW5ndGg9MCxzLmxvb2thaGVhZD49TUlOX01BVENIJiZzLnN0cnN0YXJ0PjAmJihwcmV2PV93aW5bc2Nhbj1zLnN0cnN0YXJ0LTFdKT09PV93aW5bKytzY2FuXSYmcHJldj09PV93aW5bKytzY2FuXSYmcHJldj09PV93aW5bKytzY2FuXSl7c3RyZW5kPXMuc3Ryc3RhcnQrTUFYX01BVENIO2Rve313aGlsZShwcmV2PT09X3dpblsrK3NjYW5dJiZwcmV2PT09X3dpblsrK3NjYW5dJiZwcmV2PT09X3dpblsrK3NjYW5dJiZwcmV2PT09X3dpblsrK3NjYW5dJiZwcmV2PT09X3dpblsrK3NjYW5dJiZwcmV2PT09X3dpblsrK3NjYW5dJiZwcmV2PT09X3dpblsrK3NjYW5dJiZwcmV2PT09X3dpblsrK3NjYW5dJiZzY2FuPHN0cmVuZCk7cy5tYXRjaF9sZW5ndGg9TUFYX01BVENILShzdHJlbmQtc2Nhbikscy5tYXRjaF9sZW5ndGg+cy5sb29rYWhlYWQmJihzLm1hdGNoX2xlbmd0aD1zLmxvb2thaGVhZCl9aWYocy5tYXRjaF9sZW5ndGg+PU1JTl9NQVRDSD8oYmZsdXNoPXRyZWVzLl90cl90YWxseShzLDEscy5tYXRjaF9sZW5ndGgtTUlOX01BVENIKSxzLmxvb2thaGVhZC09cy5tYXRjaF9sZW5ndGgscy5zdHJzdGFydCs9cy5tYXRjaF9sZW5ndGgscy5tYXRjaF9sZW5ndGg9MCk6KGJmbHVzaD10cmVlcy5fdHJfdGFsbHkocywwLHMud2luZG93W3Muc3Ryc3RhcnRdKSxzLmxvb2thaGVhZC0tLHMuc3Ryc3RhcnQrKyksYmZsdXNoJiYoZmx1c2hfYmxvY2tfb25seShzLCExKSwwPT09cy5zdHJtLmF2YWlsX291dCkpcmV0dXJuIEJTX05FRURfTU9SRX1yZXR1cm4gcy5pbnNlcnQ9MCxmbHVzaD09PVpfRklOSVNIPyhmbHVzaF9ibG9ja19vbmx5KHMsITApLDA9PT1zLnN0cm0uYXZhaWxfb3V0P0JTX0ZJTklTSF9TVEFSVEVEOkJTX0ZJTklTSF9ET05FKTpzLmxhc3RfbGl0JiYoZmx1c2hfYmxvY2tfb25seShzLCExKSwwPT09cy5zdHJtLmF2YWlsX291dCk/QlNfTkVFRF9NT1JFOkJTX0JMT0NLX0RPTkV9KHMsZmx1c2gpOmNvbmZpZ3VyYXRpb25fdGFibGVbcy5sZXZlbF0uZnVuYyhzLGZsdXNoKTtpZihic3RhdGUhPT1CU19GSU5JU0hfU1RBUlRFRCYmYnN0YXRlIT09QlNfRklOSVNIX0RPTkV8fChzLnN0YXR1cz1GSU5JU0hfU1RBVEUpLGJzdGF0ZT09PUJTX05FRURfTU9SRXx8YnN0YXRlPT09QlNfRklOSVNIX1NUQVJURUQpcmV0dXJuIDA9PT1zdHJtLmF2YWlsX291dCYmKHMubGFzdF9mbHVzaD0tMSksWl9PSztpZihic3RhdGU9PT1CU19CTE9DS19ET05FJiYoZmx1c2g9PT1aX1BBUlRJQUxfRkxVU0g/dHJlZXMuX3RyX2FsaWduKHMpOmZsdXNoIT09Wl9CTE9DSyYmKHRyZWVzLl90cl9zdG9yZWRfYmxvY2socywwLDAsITEpLGZsdXNoPT09Wl9GVUxMX0ZMVVNIJiYoemVybyhzLmhlYWQpLDA9PT1zLmxvb2thaGVhZCYmKHMuc3Ryc3RhcnQ9MCxzLmJsb2NrX3N0YXJ0PTAscy5pbnNlcnQ9MCkpKSxmbHVzaF9wZW5kaW5nKHN0cm0pLDA9PT1zdHJtLmF2YWlsX291dCkpcmV0dXJuIHMubGFzdF9mbHVzaD0tMSxaX09LfXJldHVybiBmbHVzaCE9PVpfRklOSVNIP1pfT0s6cy53cmFwPD0wP1pfU1RSRUFNX0VORDooMj09PXMud3JhcD8ocHV0X2J5dGUocywyNTUmc3RybS5hZGxlcikscHV0X2J5dGUocyxzdHJtLmFkbGVyPj44JjI1NSkscHV0X2J5dGUocyxzdHJtLmFkbGVyPj4xNiYyNTUpLHB1dF9ieXRlKHMsc3RybS5hZGxlcj4+MjQmMjU1KSxwdXRfYnl0ZShzLDI1NSZzdHJtLnRvdGFsX2luKSxwdXRfYnl0ZShzLHN0cm0udG90YWxfaW4+PjgmMjU1KSxwdXRfYnl0ZShzLHN0cm0udG90YWxfaW4+PjE2JjI1NSkscHV0X2J5dGUocyxzdHJtLnRvdGFsX2luPj4yNCYyNTUpKToocHV0U2hvcnRNU0IocyxzdHJtLmFkbGVyPj4+MTYpLHB1dFNob3J0TVNCKHMsNjU1MzUmc3RybS5hZGxlcikpLGZsdXNoX3BlbmRpbmcoc3RybSkscy53cmFwPjAmJihzLndyYXA9LXMud3JhcCksMCE9PXMucGVuZGluZz9aX09LOlpfU1RSRUFNX0VORCl9LGV4cG9ydHMuZGVmbGF0ZUVuZD1mdW5jdGlvbihzdHJtKXt2YXIgc3RhdHVzO3JldHVybiBzdHJtJiZzdHJtLnN0YXRlPyhzdGF0dXM9c3RybS5zdGF0ZS5zdGF0dXMpIT09SU5JVF9TVEFURSYmc3RhdHVzIT09RVhUUkFfU1RBVEUmJnN0YXR1cyE9PU5BTUVfU1RBVEUmJnN0YXR1cyE9PUNPTU1FTlRfU1RBVEUmJnN0YXR1cyE9PUhDUkNfU1RBVEUmJnN0YXR1cyE9PUJVU1lfU1RBVEUmJnN0YXR1cyE9PUZJTklTSF9TVEFURT9lcnIoc3RybSxaX1NUUkVBTV9FUlJPUik6KHN0cm0uc3RhdGU9bnVsbCxzdGF0dXM9PT1CVVNZX1NUQVRFP2VycihzdHJtLFpfREFUQV9FUlJPUik6Wl9PSyk6Wl9TVFJFQU1fRVJST1J9LGV4cG9ydHMuZGVmbGF0ZVNldERpY3Rpb25hcnk9ZnVuY3Rpb24oc3RybSxkaWN0aW9uYXJ5KXt2YXIgcyxzdHIsbix3cmFwLGF2YWlsLG5leHQsaW5wdXQsdG1wRGljdCxkaWN0TGVuZ3RoPWRpY3Rpb25hcnkubGVuZ3RoO2lmKCFzdHJtfHwhc3RybS5zdGF0ZSlyZXR1cm4gWl9TVFJFQU1fRVJST1I7aWYoMj09PSh3cmFwPShzPXN0cm0uc3RhdGUpLndyYXApfHwxPT09d3JhcCYmcy5zdGF0dXMhPT1JTklUX1NUQVRFfHxzLmxvb2thaGVhZClyZXR1cm4gWl9TVFJFQU1fRVJST1I7Zm9yKDE9PT13cmFwJiYoc3RybS5hZGxlcj1hZGxlcjMyKHN0cm0uYWRsZXIsZGljdGlvbmFyeSxkaWN0TGVuZ3RoLDApKSxzLndyYXA9MCxkaWN0TGVuZ3RoPj1zLndfc2l6ZSYmKDA9PT13cmFwJiYoemVybyhzLmhlYWQpLHMuc3Ryc3RhcnQ9MCxzLmJsb2NrX3N0YXJ0PTAscy5pbnNlcnQ9MCksdG1wRGljdD1uZXcgdXRpbHMuQnVmOChzLndfc2l6ZSksdXRpbHMuYXJyYXlTZXQodG1wRGljdCxkaWN0aW9uYXJ5LGRpY3RMZW5ndGgtcy53X3NpemUscy53X3NpemUsMCksZGljdGlvbmFyeT10bXBEaWN0LGRpY3RMZW5ndGg9cy53X3NpemUpLGF2YWlsPXN0cm0uYXZhaWxfaW4sbmV4dD1zdHJtLm5leHRfaW4saW5wdXQ9c3RybS5pbnB1dCxzdHJtLmF2YWlsX2luPWRpY3RMZW5ndGgsc3RybS5uZXh0X2luPTAsc3RybS5pbnB1dD1kaWN0aW9uYXJ5LGZpbGxfd2luZG93KHMpO3MubG9va2FoZWFkPj1NSU5fTUFUQ0g7KXtzdHI9cy5zdHJzdGFydCxuPXMubG9va2FoZWFkLShNSU5fTUFUQ0gtMSk7ZG97cy5pbnNfaD0ocy5pbnNfaDw8cy5oYXNoX3NoaWZ0XnMud2luZG93W3N0citNSU5fTUFUQ0gtMV0pJnMuaGFzaF9tYXNrLHMucHJldltzdHImcy53X21hc2tdPXMuaGVhZFtzLmluc19oXSxzLmhlYWRbcy5pbnNfaF09c3RyLHN0cisrfXdoaWxlKC0tbik7cy5zdHJzdGFydD1zdHIscy5sb29rYWhlYWQ9TUlOX01BVENILTEsZmlsbF93aW5kb3cocyl9cmV0dXJuIHMuc3Ryc3RhcnQrPXMubG9va2FoZWFkLHMuYmxvY2tfc3RhcnQ9cy5zdHJzdGFydCxzLmluc2VydD1zLmxvb2thaGVhZCxzLmxvb2thaGVhZD0wLHMubWF0Y2hfbGVuZ3RoPXMucHJldl9sZW5ndGg9TUlOX01BVENILTEscy5tYXRjaF9hdmFpbGFibGU9MCxzdHJtLm5leHRfaW49bmV4dCxzdHJtLmlucHV0PWlucHV0LHN0cm0uYXZhaWxfaW49YXZhaWwscy53cmFwPXdyYXAsWl9PS30sZXhwb3J0cy5kZWZsYXRlSW5mbz1cInBha28gZGVmbGF0ZSAoZnJvbSBOb2RlY2EgcHJvamVjdClcIn0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7dmFyIHV0aWxzPV9fd2VicGFja19yZXF1aXJlX18oOCksWl9GSVhFRD00LFpfQklOQVJZPTAsWl9URVhUPTEsWl9VTktOT1dOPTI7ZnVuY3Rpb24gemVybyhidWYpe2Zvcih2YXIgbGVuPWJ1Zi5sZW5ndGg7LS1sZW4+PTA7KWJ1ZltsZW5dPTB9dmFyIFNUT1JFRF9CTE9DSz0wLFNUQVRJQ19UUkVFUz0xLERZTl9UUkVFUz0yLExFTkdUSF9DT0RFUz0yOSxMSVRFUkFMUz0yNTYsTF9DT0RFUz1MSVRFUkFMUysxK0xFTkdUSF9DT0RFUyxEX0NPREVTPTMwLEJMX0NPREVTPTE5LEhFQVBfU0laRT0yKkxfQ09ERVMrMSxNQVhfQklUUz0xNSxCdWZfc2l6ZT0xNixNQVhfQkxfQklUUz03LEVORF9CTE9DSz0yNTYsUkVQXzNfNj0xNixSRVBaXzNfMTA9MTcsUkVQWl8xMV8xMzg9MTgsZXh0cmFfbGJpdHM9WzAsMCwwLDAsMCwwLDAsMCwxLDEsMSwxLDIsMiwyLDIsMywzLDMsMyw0LDQsNCw0LDUsNSw1LDUsMF0sZXh0cmFfZGJpdHM9WzAsMCwwLDAsMSwxLDIsMiwzLDMsNCw0LDUsNSw2LDYsNyw3LDgsOCw5LDksMTAsMTAsMTEsMTEsMTIsMTIsMTMsMTNdLGV4dHJhX2JsYml0cz1bMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwwLDAsMCwyLDMsN10sYmxfb3JkZXI9WzE2LDE3LDE4LDAsOCw3LDksNiwxMCw1LDExLDQsMTIsMywxMywyLDE0LDEsMTVdLHN0YXRpY19sdHJlZT1uZXcgQXJyYXkoMiooTF9DT0RFUysyKSk7emVybyhzdGF0aWNfbHRyZWUpO3ZhciBzdGF0aWNfZHRyZWU9bmV3IEFycmF5KDIqRF9DT0RFUyk7emVybyhzdGF0aWNfZHRyZWUpO3ZhciBfZGlzdF9jb2RlPW5ldyBBcnJheSg1MTIpO3plcm8oX2Rpc3RfY29kZSk7dmFyIF9sZW5ndGhfY29kZT1uZXcgQXJyYXkoMjU2KTt6ZXJvKF9sZW5ndGhfY29kZSk7dmFyIGJhc2VfbGVuZ3RoPW5ldyBBcnJheShMRU5HVEhfQ09ERVMpO3plcm8oYmFzZV9sZW5ndGgpO3ZhciBzdGF0aWNfbF9kZXNjLHN0YXRpY19kX2Rlc2Msc3RhdGljX2JsX2Rlc2MsYmFzZV9kaXN0PW5ldyBBcnJheShEX0NPREVTKTtmdW5jdGlvbiBTdGF0aWNUcmVlRGVzYyhzdGF0aWNfdHJlZSxleHRyYV9iaXRzLGV4dHJhX2Jhc2UsZWxlbXMsbWF4X2xlbmd0aCl7dGhpcy5zdGF0aWNfdHJlZT1zdGF0aWNfdHJlZSx0aGlzLmV4dHJhX2JpdHM9ZXh0cmFfYml0cyx0aGlzLmV4dHJhX2Jhc2U9ZXh0cmFfYmFzZSx0aGlzLmVsZW1zPWVsZW1zLHRoaXMubWF4X2xlbmd0aD1tYXhfbGVuZ3RoLHRoaXMuaGFzX3N0cmVlPXN0YXRpY190cmVlJiZzdGF0aWNfdHJlZS5sZW5ndGh9ZnVuY3Rpb24gVHJlZURlc2MoZHluX3RyZWUsc3RhdF9kZXNjKXt0aGlzLmR5bl90cmVlPWR5bl90cmVlLHRoaXMubWF4X2NvZGU9MCx0aGlzLnN0YXRfZGVzYz1zdGF0X2Rlc2N9ZnVuY3Rpb24gZF9jb2RlKGRpc3Qpe3JldHVybiBkaXN0PDI1Nj9fZGlzdF9jb2RlW2Rpc3RdOl9kaXN0X2NvZGVbMjU2KyhkaXN0Pj4+NyldfWZ1bmN0aW9uIHB1dF9zaG9ydChzLHcpe3MucGVuZGluZ19idWZbcy5wZW5kaW5nKytdPTI1NSZ3LHMucGVuZGluZ19idWZbcy5wZW5kaW5nKytdPXc+Pj44JjI1NX1mdW5jdGlvbiBzZW5kX2JpdHMocyx2YWx1ZSxsZW5ndGgpe3MuYmlfdmFsaWQ+QnVmX3NpemUtbGVuZ3RoPyhzLmJpX2J1Znw9dmFsdWU8PHMuYmlfdmFsaWQmNjU1MzUscHV0X3Nob3J0KHMscy5iaV9idWYpLHMuYmlfYnVmPXZhbHVlPj5CdWZfc2l6ZS1zLmJpX3ZhbGlkLHMuYmlfdmFsaWQrPWxlbmd0aC1CdWZfc2l6ZSk6KHMuYmlfYnVmfD12YWx1ZTw8cy5iaV92YWxpZCY2NTUzNSxzLmJpX3ZhbGlkKz1sZW5ndGgpfWZ1bmN0aW9uIHNlbmRfY29kZShzLGMsdHJlZSl7c2VuZF9iaXRzKHMsdHJlZVsyKmNdLHRyZWVbMipjKzFdKX1mdW5jdGlvbiBiaV9yZXZlcnNlKGNvZGUsbGVuKXt2YXIgcmVzPTA7ZG97cmVzfD0xJmNvZGUsY29kZT4+Pj0xLHJlczw8PTF9d2hpbGUoLS1sZW4+MCk7cmV0dXJuIHJlcz4+PjF9ZnVuY3Rpb24gZ2VuX2NvZGVzKHRyZWUsbWF4X2NvZGUsYmxfY291bnQpe3ZhciBiaXRzLG4sbmV4dF9jb2RlPW5ldyBBcnJheShNQVhfQklUUysxKSxjb2RlPTA7Zm9yKGJpdHM9MTtiaXRzPD1NQVhfQklUUztiaXRzKyspbmV4dF9jb2RlW2JpdHNdPWNvZGU9Y29kZStibF9jb3VudFtiaXRzLTFdPDwxO2ZvcihuPTA7bjw9bWF4X2NvZGU7bisrKXt2YXIgbGVuPXRyZWVbMipuKzFdOzAhPT1sZW4mJih0cmVlWzIqbl09YmlfcmV2ZXJzZShuZXh0X2NvZGVbbGVuXSsrLGxlbikpfX1mdW5jdGlvbiBpbml0X2Jsb2NrKHMpe3ZhciBuO2ZvcihuPTA7bjxMX0NPREVTO24rKylzLmR5bl9sdHJlZVsyKm5dPTA7Zm9yKG49MDtuPERfQ09ERVM7bisrKXMuZHluX2R0cmVlWzIqbl09MDtmb3Iobj0wO248QkxfQ09ERVM7bisrKXMuYmxfdHJlZVsyKm5dPTA7cy5keW5fbHRyZWVbMipFTkRfQkxPQ0tdPTEscy5vcHRfbGVuPXMuc3RhdGljX2xlbj0wLHMubGFzdF9saXQ9cy5tYXRjaGVzPTB9ZnVuY3Rpb24gYmlfd2luZHVwKHMpe3MuYmlfdmFsaWQ+OD9wdXRfc2hvcnQocyxzLmJpX2J1Zik6cy5iaV92YWxpZD4wJiYocy5wZW5kaW5nX2J1ZltzLnBlbmRpbmcrK109cy5iaV9idWYpLHMuYmlfYnVmPTAscy5iaV92YWxpZD0wfWZ1bmN0aW9uIHNtYWxsZXIodHJlZSxuLG0sZGVwdGgpe3ZhciBfbjI9MipuLF9tMj0yKm07cmV0dXJuIHRyZWVbX24yXTx0cmVlW19tMl18fHRyZWVbX24yXT09PXRyZWVbX20yXSYmZGVwdGhbbl08PWRlcHRoW21dfWZ1bmN0aW9uIHBxZG93bmhlYXAocyx0cmVlLGspe2Zvcih2YXIgdj1zLmhlYXBba10saj1rPDwxO2o8PXMuaGVhcF9sZW4mJihqPHMuaGVhcF9sZW4mJnNtYWxsZXIodHJlZSxzLmhlYXBbaisxXSxzLmhlYXBbal0scy5kZXB0aCkmJmorKywhc21hbGxlcih0cmVlLHYscy5oZWFwW2pdLHMuZGVwdGgpKTspcy5oZWFwW2tdPXMuaGVhcFtqXSxrPWosajw8PTE7cy5oZWFwW2tdPXZ9ZnVuY3Rpb24gY29tcHJlc3NfYmxvY2socyxsdHJlZSxkdHJlZSl7dmFyIGRpc3QsbGMsY29kZSxleHRyYSxseD0wO2lmKDAhPT1zLmxhc3RfbGl0KWRve2Rpc3Q9cy5wZW5kaW5nX2J1ZltzLmRfYnVmKzIqbHhdPDw4fHMucGVuZGluZ19idWZbcy5kX2J1ZisyKmx4KzFdLGxjPXMucGVuZGluZ19idWZbcy5sX2J1ZitseF0sbHgrKywwPT09ZGlzdD9zZW5kX2NvZGUocyxsYyxsdHJlZSk6KHNlbmRfY29kZShzLChjb2RlPV9sZW5ndGhfY29kZVtsY10pK0xJVEVSQUxTKzEsbHRyZWUpLDAhPT0oZXh0cmE9ZXh0cmFfbGJpdHNbY29kZV0pJiZzZW5kX2JpdHMocyxsYy09YmFzZV9sZW5ndGhbY29kZV0sZXh0cmEpLHNlbmRfY29kZShzLGNvZGU9ZF9jb2RlKC0tZGlzdCksZHRyZWUpLDAhPT0oZXh0cmE9ZXh0cmFfZGJpdHNbY29kZV0pJiZzZW5kX2JpdHMocyxkaXN0LT1iYXNlX2Rpc3RbY29kZV0sZXh0cmEpKX13aGlsZShseDxzLmxhc3RfbGl0KTtzZW5kX2NvZGUocyxFTkRfQkxPQ0ssbHRyZWUpfWZ1bmN0aW9uIGJ1aWxkX3RyZWUocyxkZXNjKXt2YXIgbixtLG5vZGUsdHJlZT1kZXNjLmR5bl90cmVlLHN0cmVlPWRlc2Muc3RhdF9kZXNjLnN0YXRpY190cmVlLGhhc19zdHJlZT1kZXNjLnN0YXRfZGVzYy5oYXNfc3RyZWUsZWxlbXM9ZGVzYy5zdGF0X2Rlc2MuZWxlbXMsbWF4X2NvZGU9LTE7Zm9yKHMuaGVhcF9sZW49MCxzLmhlYXBfbWF4PUhFQVBfU0laRSxuPTA7bjxlbGVtcztuKyspMCE9PXRyZWVbMipuXT8ocy5oZWFwWysrcy5oZWFwX2xlbl09bWF4X2NvZGU9bixzLmRlcHRoW25dPTApOnRyZWVbMipuKzFdPTA7Zm9yKDtzLmhlYXBfbGVuPDI7KXRyZWVbMioobm9kZT1zLmhlYXBbKytzLmhlYXBfbGVuXT1tYXhfY29kZTwyPysrbWF4X2NvZGU6MCldPTEscy5kZXB0aFtub2RlXT0wLHMub3B0X2xlbi0tLGhhc19zdHJlZSYmKHMuc3RhdGljX2xlbi09c3RyZWVbMipub2RlKzFdKTtmb3IoZGVzYy5tYXhfY29kZT1tYXhfY29kZSxuPXMuaGVhcF9sZW4+PjE7bj49MTtuLS0pcHFkb3duaGVhcChzLHRyZWUsbik7bm9kZT1lbGVtcztkb3tuPXMuaGVhcFsxXSxzLmhlYXBbMV09cy5oZWFwW3MuaGVhcF9sZW4tLV0scHFkb3duaGVhcChzLHRyZWUsMSksbT1zLmhlYXBbMV0scy5oZWFwWy0tcy5oZWFwX21heF09bixzLmhlYXBbLS1zLmhlYXBfbWF4XT1tLHRyZWVbMipub2RlXT10cmVlWzIqbl0rdHJlZVsyKm1dLHMuZGVwdGhbbm9kZV09KHMuZGVwdGhbbl0+PXMuZGVwdGhbbV0/cy5kZXB0aFtuXTpzLmRlcHRoW21dKSsxLHRyZWVbMipuKzFdPXRyZWVbMiptKzFdPW5vZGUscy5oZWFwWzFdPW5vZGUrKyxwcWRvd25oZWFwKHMsdHJlZSwxKX13aGlsZShzLmhlYXBfbGVuPj0yKTtzLmhlYXBbLS1zLmhlYXBfbWF4XT1zLmhlYXBbMV0sZnVuY3Rpb24ocyxkZXNjKXt2YXIgaCxuLG0sYml0cyx4Yml0cyxmLHRyZWU9ZGVzYy5keW5fdHJlZSxtYXhfY29kZT1kZXNjLm1heF9jb2RlLHN0cmVlPWRlc2Muc3RhdF9kZXNjLnN0YXRpY190cmVlLGhhc19zdHJlZT1kZXNjLnN0YXRfZGVzYy5oYXNfc3RyZWUsZXh0cmE9ZGVzYy5zdGF0X2Rlc2MuZXh0cmFfYml0cyxiYXNlPWRlc2Muc3RhdF9kZXNjLmV4dHJhX2Jhc2UsbWF4X2xlbmd0aD1kZXNjLnN0YXRfZGVzYy5tYXhfbGVuZ3RoLG92ZXJmbG93PTA7Zm9yKGJpdHM9MDtiaXRzPD1NQVhfQklUUztiaXRzKyspcy5ibF9jb3VudFtiaXRzXT0wO2Zvcih0cmVlWzIqcy5oZWFwW3MuaGVhcF9tYXhdKzFdPTAsaD1zLmhlYXBfbWF4KzE7aDxIRUFQX1NJWkU7aCsrKShiaXRzPXRyZWVbMip0cmVlWzIqKG49cy5oZWFwW2hdKSsxXSsxXSsxKT5tYXhfbGVuZ3RoJiYoYml0cz1tYXhfbGVuZ3RoLG92ZXJmbG93KyspLHRyZWVbMipuKzFdPWJpdHMsbj5tYXhfY29kZXx8KHMuYmxfY291bnRbYml0c10rKyx4Yml0cz0wLG4+PWJhc2UmJih4Yml0cz1leHRyYVtuLWJhc2VdKSxmPXRyZWVbMipuXSxzLm9wdF9sZW4rPWYqKGJpdHMreGJpdHMpLGhhc19zdHJlZSYmKHMuc3RhdGljX2xlbis9Ziooc3RyZWVbMipuKzFdK3hiaXRzKSkpO2lmKDAhPT1vdmVyZmxvdyl7ZG97Zm9yKGJpdHM9bWF4X2xlbmd0aC0xOzA9PT1zLmJsX2NvdW50W2JpdHNdOyliaXRzLS07cy5ibF9jb3VudFtiaXRzXS0tLHMuYmxfY291bnRbYml0cysxXSs9MixzLmJsX2NvdW50W21heF9sZW5ndGhdLS0sb3ZlcmZsb3ctPTJ9d2hpbGUob3ZlcmZsb3c+MCk7Zm9yKGJpdHM9bWF4X2xlbmd0aDswIT09Yml0cztiaXRzLS0pZm9yKG49cy5ibF9jb3VudFtiaXRzXTswIT09bjspKG09cy5oZWFwWy0taF0pPm1heF9jb2RlfHwodHJlZVsyKm0rMV0hPT1iaXRzJiYocy5vcHRfbGVuKz0oYml0cy10cmVlWzIqbSsxXSkqdHJlZVsyKm1dLHRyZWVbMiptKzFdPWJpdHMpLG4tLSl9fShzLGRlc2MpLGdlbl9jb2Rlcyh0cmVlLG1heF9jb2RlLHMuYmxfY291bnQpfWZ1bmN0aW9uIHNjYW5fdHJlZShzLHRyZWUsbWF4X2NvZGUpe3ZhciBuLGN1cmxlbixwcmV2bGVuPS0xLG5leHRsZW49dHJlZVsxXSxjb3VudD0wLG1heF9jb3VudD03LG1pbl9jb3VudD00O2ZvcigwPT09bmV4dGxlbiYmKG1heF9jb3VudD0xMzgsbWluX2NvdW50PTMpLHRyZWVbMioobWF4X2NvZGUrMSkrMV09NjU1MzUsbj0wO248PW1heF9jb2RlO24rKyljdXJsZW49bmV4dGxlbixuZXh0bGVuPXRyZWVbMioobisxKSsxXSwrK2NvdW50PG1heF9jb3VudCYmY3VybGVuPT09bmV4dGxlbnx8KGNvdW50PG1pbl9jb3VudD9zLmJsX3RyZWVbMipjdXJsZW5dKz1jb3VudDowIT09Y3VybGVuPyhjdXJsZW4hPT1wcmV2bGVuJiZzLmJsX3RyZWVbMipjdXJsZW5dKysscy5ibF90cmVlWzIqUkVQXzNfNl0rKyk6Y291bnQ8PTEwP3MuYmxfdHJlZVsyKlJFUFpfM18xMF0rKzpzLmJsX3RyZWVbMipSRVBaXzExXzEzOF0rKyxjb3VudD0wLHByZXZsZW49Y3VybGVuLDA9PT1uZXh0bGVuPyhtYXhfY291bnQ9MTM4LG1pbl9jb3VudD0zKTpjdXJsZW49PT1uZXh0bGVuPyhtYXhfY291bnQ9NixtaW5fY291bnQ9Myk6KG1heF9jb3VudD03LG1pbl9jb3VudD00KSl9ZnVuY3Rpb24gc2VuZF90cmVlKHMsdHJlZSxtYXhfY29kZSl7dmFyIG4sY3VybGVuLHByZXZsZW49LTEsbmV4dGxlbj10cmVlWzFdLGNvdW50PTAsbWF4X2NvdW50PTcsbWluX2NvdW50PTQ7Zm9yKDA9PT1uZXh0bGVuJiYobWF4X2NvdW50PTEzOCxtaW5fY291bnQ9Myksbj0wO248PW1heF9jb2RlO24rKylpZihjdXJsZW49bmV4dGxlbixuZXh0bGVuPXRyZWVbMioobisxKSsxXSwhKCsrY291bnQ8bWF4X2NvdW50JiZjdXJsZW49PT1uZXh0bGVuKSl7aWYoY291bnQ8bWluX2NvdW50KWRve3NlbmRfY29kZShzLGN1cmxlbixzLmJsX3RyZWUpfXdoaWxlKDAhPS0tY291bnQpO2Vsc2UgMCE9PWN1cmxlbj8oY3VybGVuIT09cHJldmxlbiYmKHNlbmRfY29kZShzLGN1cmxlbixzLmJsX3RyZWUpLGNvdW50LS0pLHNlbmRfY29kZShzLFJFUF8zXzYscy5ibF90cmVlKSxzZW5kX2JpdHMocyxjb3VudC0zLDIpKTpjb3VudDw9MTA/KHNlbmRfY29kZShzLFJFUFpfM18xMCxzLmJsX3RyZWUpLHNlbmRfYml0cyhzLGNvdW50LTMsMykpOihzZW5kX2NvZGUocyxSRVBaXzExXzEzOCxzLmJsX3RyZWUpLHNlbmRfYml0cyhzLGNvdW50LTExLDcpKTtjb3VudD0wLHByZXZsZW49Y3VybGVuLDA9PT1uZXh0bGVuPyhtYXhfY291bnQ9MTM4LG1pbl9jb3VudD0zKTpjdXJsZW49PT1uZXh0bGVuPyhtYXhfY291bnQ9NixtaW5fY291bnQ9Myk6KG1heF9jb3VudD03LG1pbl9jb3VudD00KX19emVybyhiYXNlX2Rpc3QpO3ZhciBzdGF0aWNfaW5pdF9kb25lPSExO2Z1bmN0aW9uIF90cl9zdG9yZWRfYmxvY2socyxidWYsc3RvcmVkX2xlbixsYXN0KXtzZW5kX2JpdHMocywoU1RPUkVEX0JMT0NLPDwxKSsobGFzdD8xOjApLDMpLGZ1bmN0aW9uKHMsYnVmLGxlbixoZWFkZXIpe2JpX3dpbmR1cChzKSxoZWFkZXImJihwdXRfc2hvcnQocyxsZW4pLHB1dF9zaG9ydChzLH5sZW4pKSx1dGlscy5hcnJheVNldChzLnBlbmRpbmdfYnVmLHMud2luZG93LGJ1ZixsZW4scy5wZW5kaW5nKSxzLnBlbmRpbmcrPWxlbn0ocyxidWYsc3RvcmVkX2xlbiwhMCl9ZXhwb3J0cy5fdHJfaW5pdD1mdW5jdGlvbihzKXtzdGF0aWNfaW5pdF9kb25lfHwoZnVuY3Rpb24oKXt2YXIgbixiaXRzLGxlbmd0aCxjb2RlLGRpc3QsYmxfY291bnQ9bmV3IEFycmF5KE1BWF9CSVRTKzEpO2ZvcihsZW5ndGg9MCxjb2RlPTA7Y29kZTxMRU5HVEhfQ09ERVMtMTtjb2RlKyspZm9yKGJhc2VfbGVuZ3RoW2NvZGVdPWxlbmd0aCxuPTA7bjwxPDxleHRyYV9sYml0c1tjb2RlXTtuKyspX2xlbmd0aF9jb2RlW2xlbmd0aCsrXT1jb2RlO2ZvcihfbGVuZ3RoX2NvZGVbbGVuZ3RoLTFdPWNvZGUsZGlzdD0wLGNvZGU9MDtjb2RlPDE2O2NvZGUrKylmb3IoYmFzZV9kaXN0W2NvZGVdPWRpc3Qsbj0wO248MTw8ZXh0cmFfZGJpdHNbY29kZV07bisrKV9kaXN0X2NvZGVbZGlzdCsrXT1jb2RlO2ZvcihkaXN0Pj49Nztjb2RlPERfQ09ERVM7Y29kZSsrKWZvcihiYXNlX2Rpc3RbY29kZV09ZGlzdDw8NyxuPTA7bjwxPDxleHRyYV9kYml0c1tjb2RlXS03O24rKylfZGlzdF9jb2RlWzI1NitkaXN0KytdPWNvZGU7Zm9yKGJpdHM9MDtiaXRzPD1NQVhfQklUUztiaXRzKyspYmxfY291bnRbYml0c109MDtmb3Iobj0wO248PTE0Mzspc3RhdGljX2x0cmVlWzIqbisxXT04LG4rKyxibF9jb3VudFs4XSsrO2Zvcig7bjw9MjU1OylzdGF0aWNfbHRyZWVbMipuKzFdPTksbisrLGJsX2NvdW50WzldKys7Zm9yKDtuPD0yNzk7KXN0YXRpY19sdHJlZVsyKm4rMV09NyxuKyssYmxfY291bnRbN10rKztmb3IoO248PTI4Nzspc3RhdGljX2x0cmVlWzIqbisxXT04LG4rKyxibF9jb3VudFs4XSsrO2ZvcihnZW5fY29kZXMoc3RhdGljX2x0cmVlLExfQ09ERVMrMSxibF9jb3VudCksbj0wO248RF9DT0RFUztuKyspc3RhdGljX2R0cmVlWzIqbisxXT01LHN0YXRpY19kdHJlZVsyKm5dPWJpX3JldmVyc2Uobiw1KTtzdGF0aWNfbF9kZXNjPW5ldyBTdGF0aWNUcmVlRGVzYyhzdGF0aWNfbHRyZWUsZXh0cmFfbGJpdHMsTElURVJBTFMrMSxMX0NPREVTLE1BWF9CSVRTKSxzdGF0aWNfZF9kZXNjPW5ldyBTdGF0aWNUcmVlRGVzYyhzdGF0aWNfZHRyZWUsZXh0cmFfZGJpdHMsMCxEX0NPREVTLE1BWF9CSVRTKSxzdGF0aWNfYmxfZGVzYz1uZXcgU3RhdGljVHJlZURlc2MobmV3IEFycmF5KDApLGV4dHJhX2JsYml0cywwLEJMX0NPREVTLE1BWF9CTF9CSVRTKX0oKSxzdGF0aWNfaW5pdF9kb25lPSEwKSxzLmxfZGVzYz1uZXcgVHJlZURlc2Mocy5keW5fbHRyZWUsc3RhdGljX2xfZGVzYykscy5kX2Rlc2M9bmV3IFRyZWVEZXNjKHMuZHluX2R0cmVlLHN0YXRpY19kX2Rlc2MpLHMuYmxfZGVzYz1uZXcgVHJlZURlc2Mocy5ibF90cmVlLHN0YXRpY19ibF9kZXNjKSxzLmJpX2J1Zj0wLHMuYmlfdmFsaWQ9MCxpbml0X2Jsb2NrKHMpfSxleHBvcnRzLl90cl9zdG9yZWRfYmxvY2s9X3RyX3N0b3JlZF9ibG9jayxleHBvcnRzLl90cl9mbHVzaF9ibG9jaz1mdW5jdGlvbihzLGJ1ZixzdG9yZWRfbGVuLGxhc3Qpe3ZhciBvcHRfbGVuYixzdGF0aWNfbGVuYixtYXhfYmxpbmRleD0wO3MubGV2ZWw+MD8ocy5zdHJtLmRhdGFfdHlwZT09PVpfVU5LTk9XTiYmKHMuc3RybS5kYXRhX3R5cGU9ZnVuY3Rpb24ocyl7dmFyIG4sYmxhY2tfbWFzaz00MDkzNjI0NDQ3O2ZvcihuPTA7bjw9MzE7bisrLGJsYWNrX21hc2s+Pj49MSlpZigxJmJsYWNrX21hc2smJjAhPT1zLmR5bl9sdHJlZVsyKm5dKXJldHVybiBaX0JJTkFSWTtpZigwIT09cy5keW5fbHRyZWVbMThdfHwwIT09cy5keW5fbHRyZWVbMjBdfHwwIT09cy5keW5fbHRyZWVbMjZdKXJldHVybiBaX1RFWFQ7Zm9yKG49MzI7bjxMSVRFUkFMUztuKyspaWYoMCE9PXMuZHluX2x0cmVlWzIqbl0pcmV0dXJuIFpfVEVYVDtyZXR1cm4gWl9CSU5BUll9KHMpKSxidWlsZF90cmVlKHMscy5sX2Rlc2MpLGJ1aWxkX3RyZWUocyxzLmRfZGVzYyksbWF4X2JsaW5kZXg9ZnVuY3Rpb24ocyl7dmFyIG1heF9ibGluZGV4O2ZvcihzY2FuX3RyZWUocyxzLmR5bl9sdHJlZSxzLmxfZGVzYy5tYXhfY29kZSksc2Nhbl90cmVlKHMscy5keW5fZHRyZWUscy5kX2Rlc2MubWF4X2NvZGUpLGJ1aWxkX3RyZWUocyxzLmJsX2Rlc2MpLG1heF9ibGluZGV4PUJMX0NPREVTLTE7bWF4X2JsaW5kZXg+PTMmJjA9PT1zLmJsX3RyZWVbMipibF9vcmRlclttYXhfYmxpbmRleF0rMV07bWF4X2JsaW5kZXgtLSk7cmV0dXJuIHMub3B0X2xlbis9MyoobWF4X2JsaW5kZXgrMSkrNSs1KzQsbWF4X2JsaW5kZXh9KHMpLG9wdF9sZW5iPXMub3B0X2xlbiszKzc+Pj4zLChzdGF0aWNfbGVuYj1zLnN0YXRpY19sZW4rMys3Pj4+Myk8PW9wdF9sZW5iJiYob3B0X2xlbmI9c3RhdGljX2xlbmIpKTpvcHRfbGVuYj1zdGF0aWNfbGVuYj1zdG9yZWRfbGVuKzUsc3RvcmVkX2xlbis0PD1vcHRfbGVuYiYmLTEhPT1idWY/X3RyX3N0b3JlZF9ibG9jayhzLGJ1ZixzdG9yZWRfbGVuLGxhc3QpOnMuc3RyYXRlZ3k9PT1aX0ZJWEVEfHxzdGF0aWNfbGVuYj09PW9wdF9sZW5iPyhzZW5kX2JpdHMocywoU1RBVElDX1RSRUVTPDwxKSsobGFzdD8xOjApLDMpLGNvbXByZXNzX2Jsb2NrKHMsc3RhdGljX2x0cmVlLHN0YXRpY19kdHJlZSkpOihzZW5kX2JpdHMocywoRFlOX1RSRUVTPDwxKSsobGFzdD8xOjApLDMpLGZ1bmN0aW9uKHMsbGNvZGVzLGRjb2RlcyxibGNvZGVzKXt2YXIgcmFuaztmb3Ioc2VuZF9iaXRzKHMsbGNvZGVzLTI1Nyw1KSxzZW5kX2JpdHMocyxkY29kZXMtMSw1KSxzZW5kX2JpdHMocyxibGNvZGVzLTQsNCkscmFuaz0wO3Jhbms8Ymxjb2RlcztyYW5rKyspc2VuZF9iaXRzKHMscy5ibF90cmVlWzIqYmxfb3JkZXJbcmFua10rMV0sMyk7c2VuZF90cmVlKHMscy5keW5fbHRyZWUsbGNvZGVzLTEpLHNlbmRfdHJlZShzLHMuZHluX2R0cmVlLGRjb2Rlcy0xKX0ocyxzLmxfZGVzYy5tYXhfY29kZSsxLHMuZF9kZXNjLm1heF9jb2RlKzEsbWF4X2JsaW5kZXgrMSksY29tcHJlc3NfYmxvY2socyxzLmR5bl9sdHJlZSxzLmR5bl9kdHJlZSkpLGluaXRfYmxvY2socyksbGFzdCYmYmlfd2luZHVwKHMpfSxleHBvcnRzLl90cl90YWxseT1mdW5jdGlvbihzLGRpc3QsbGMpe3JldHVybiBzLnBlbmRpbmdfYnVmW3MuZF9idWYrMipzLmxhc3RfbGl0XT1kaXN0Pj4+OCYyNTUscy5wZW5kaW5nX2J1ZltzLmRfYnVmKzIqcy5sYXN0X2xpdCsxXT0yNTUmZGlzdCxzLnBlbmRpbmdfYnVmW3MubF9idWYrcy5sYXN0X2xpdF09MjU1JmxjLHMubGFzdF9saXQrKywwPT09ZGlzdD9zLmR5bl9sdHJlZVsyKmxjXSsrOihzLm1hdGNoZXMrKyxkaXN0LS0scy5keW5fbHRyZWVbMiooX2xlbmd0aF9jb2RlW2xjXStMSVRFUkFMUysxKV0rKyxzLmR5bl9kdHJlZVsyKmRfY29kZShkaXN0KV0rKykscy5sYXN0X2xpdD09PXMubGl0X2J1ZnNpemUtMX0sZXhwb3J0cy5fdHJfYWxpZ249ZnVuY3Rpb24ocyl7c2VuZF9iaXRzKHMsU1RBVElDX1RSRUVTPDwxLDMpLHNlbmRfY29kZShzLEVORF9CTE9DSyxzdGF0aWNfbHRyZWUpLGZ1bmN0aW9uKHMpezE2PT09cy5iaV92YWxpZD8ocHV0X3Nob3J0KHMscy5iaV9idWYpLHMuYmlfYnVmPTAscy5iaV92YWxpZD0wKTpzLmJpX3ZhbGlkPj04JiYocy5wZW5kaW5nX2J1ZltzLnBlbmRpbmcrK109MjU1JnMuYmlfYnVmLHMuYmlfYnVmPj49OCxzLmJpX3ZhbGlkLT04KX0ocyl9fSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjt2YXIgemxpYl9pbmZsYXRlPV9fd2VicGFja19yZXF1aXJlX18oMTE1KSx1dGlscz1fX3dlYnBhY2tfcmVxdWlyZV9fKDgpLHN0cmluZ3M9X193ZWJwYWNrX3JlcXVpcmVfXyg2OCksYz1fX3dlYnBhY2tfcmVxdWlyZV9fKDcwKSxtc2c9X193ZWJwYWNrX3JlcXVpcmVfXyg0NSksWlN0cmVhbT1fX3dlYnBhY2tfcmVxdWlyZV9fKDY5KSxHWmhlYWRlcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDExOCksdG9TdHJpbmc9T2JqZWN0LnByb3RvdHlwZS50b1N0cmluZztmdW5jdGlvbiBJbmZsYXRlKG9wdGlvbnMpe2lmKCEodGhpcyBpbnN0YW5jZW9mIEluZmxhdGUpKXJldHVybiBuZXcgSW5mbGF0ZShvcHRpb25zKTt0aGlzLm9wdGlvbnM9dXRpbHMuYXNzaWduKHtjaHVua1NpemU6MTYzODQsd2luZG93Qml0czowLHRvOlwiXCJ9LG9wdGlvbnN8fHt9KTt2YXIgb3B0PXRoaXMub3B0aW9ucztvcHQucmF3JiZvcHQud2luZG93Qml0cz49MCYmb3B0LndpbmRvd0JpdHM8MTYmJihvcHQud2luZG93Qml0cz0tb3B0LndpbmRvd0JpdHMsMD09PW9wdC53aW5kb3dCaXRzJiYob3B0LndpbmRvd0JpdHM9LTE1KSksIShvcHQud2luZG93Qml0cz49MCYmb3B0LndpbmRvd0JpdHM8MTYpfHxvcHRpb25zJiZvcHRpb25zLndpbmRvd0JpdHN8fChvcHQud2luZG93Qml0cys9MzIpLG9wdC53aW5kb3dCaXRzPjE1JiZvcHQud2luZG93Qml0czw0OCYmMD09KDE1Jm9wdC53aW5kb3dCaXRzKSYmKG9wdC53aW5kb3dCaXRzfD0xNSksdGhpcy5lcnI9MCx0aGlzLm1zZz1cIlwiLHRoaXMuZW5kZWQ9ITEsdGhpcy5jaHVua3M9W10sdGhpcy5zdHJtPW5ldyBaU3RyZWFtLHRoaXMuc3RybS5hdmFpbF9vdXQ9MDt2YXIgc3RhdHVzPXpsaWJfaW5mbGF0ZS5pbmZsYXRlSW5pdDIodGhpcy5zdHJtLG9wdC53aW5kb3dCaXRzKTtpZihzdGF0dXMhPT1jLlpfT0spdGhyb3cgbmV3IEVycm9yKG1zZ1tzdGF0dXNdKTtpZih0aGlzLmhlYWRlcj1uZXcgR1poZWFkZXIsemxpYl9pbmZsYXRlLmluZmxhdGVHZXRIZWFkZXIodGhpcy5zdHJtLHRoaXMuaGVhZGVyKSxvcHQuZGljdGlvbmFyeSYmKFwic3RyaW5nXCI9PXR5cGVvZiBvcHQuZGljdGlvbmFyeT9vcHQuZGljdGlvbmFyeT1zdHJpbmdzLnN0cmluZzJidWYob3B0LmRpY3Rpb25hcnkpOlwiW29iamVjdCBBcnJheUJ1ZmZlcl1cIj09PXRvU3RyaW5nLmNhbGwob3B0LmRpY3Rpb25hcnkpJiYob3B0LmRpY3Rpb25hcnk9bmV3IFVpbnQ4QXJyYXkob3B0LmRpY3Rpb25hcnkpKSxvcHQucmF3JiYoc3RhdHVzPXpsaWJfaW5mbGF0ZS5pbmZsYXRlU2V0RGljdGlvbmFyeSh0aGlzLnN0cm0sb3B0LmRpY3Rpb25hcnkpKSE9PWMuWl9PSykpdGhyb3cgbmV3IEVycm9yKG1zZ1tzdGF0dXNdKX1mdW5jdGlvbiBpbmZsYXRlKGlucHV0LG9wdGlvbnMpe3ZhciBpbmZsYXRvcj1uZXcgSW5mbGF0ZShvcHRpb25zKTtpZihpbmZsYXRvci5wdXNoKGlucHV0LCEwKSxpbmZsYXRvci5lcnIpdGhyb3cgaW5mbGF0b3IubXNnfHxtc2dbaW5mbGF0b3IuZXJyXTtyZXR1cm4gaW5mbGF0b3IucmVzdWx0fUluZmxhdGUucHJvdG90eXBlLnB1c2g9ZnVuY3Rpb24oZGF0YSxtb2RlKXt2YXIgc3RhdHVzLF9tb2RlLG5leHRfb3V0X3V0ZjgsdGFpbCx1dGY4c3RyLHN0cm09dGhpcy5zdHJtLGNodW5rU2l6ZT10aGlzLm9wdGlvbnMuY2h1bmtTaXplLGRpY3Rpb25hcnk9dGhpcy5vcHRpb25zLmRpY3Rpb25hcnksYWxsb3dCdWZFcnJvcj0hMTtpZih0aGlzLmVuZGVkKXJldHVybiExO19tb2RlPW1vZGU9PT1+fm1vZGU/bW9kZTohMD09PW1vZGU/Yy5aX0ZJTklTSDpjLlpfTk9fRkxVU0gsXCJzdHJpbmdcIj09dHlwZW9mIGRhdGE/c3RybS5pbnB1dD1zdHJpbmdzLmJpbnN0cmluZzJidWYoZGF0YSk6XCJbb2JqZWN0IEFycmF5QnVmZmVyXVwiPT09dG9TdHJpbmcuY2FsbChkYXRhKT9zdHJtLmlucHV0PW5ldyBVaW50OEFycmF5KGRhdGEpOnN0cm0uaW5wdXQ9ZGF0YSxzdHJtLm5leHRfaW49MCxzdHJtLmF2YWlsX2luPXN0cm0uaW5wdXQubGVuZ3RoO2Rve2lmKDA9PT1zdHJtLmF2YWlsX291dCYmKHN0cm0ub3V0cHV0PW5ldyB1dGlscy5CdWY4KGNodW5rU2l6ZSksc3RybS5uZXh0X291dD0wLHN0cm0uYXZhaWxfb3V0PWNodW5rU2l6ZSksKHN0YXR1cz16bGliX2luZmxhdGUuaW5mbGF0ZShzdHJtLGMuWl9OT19GTFVTSCkpPT09Yy5aX05FRURfRElDVCYmZGljdGlvbmFyeSYmKHN0YXR1cz16bGliX2luZmxhdGUuaW5mbGF0ZVNldERpY3Rpb25hcnkodGhpcy5zdHJtLGRpY3Rpb25hcnkpKSxzdGF0dXM9PT1jLlpfQlVGX0VSUk9SJiYhMD09PWFsbG93QnVmRXJyb3ImJihzdGF0dXM9Yy5aX09LLGFsbG93QnVmRXJyb3I9ITEpLHN0YXR1cyE9PWMuWl9TVFJFQU1fRU5EJiZzdGF0dXMhPT1jLlpfT0spcmV0dXJuIHRoaXMub25FbmQoc3RhdHVzKSx0aGlzLmVuZGVkPSEwLCExO3N0cm0ubmV4dF9vdXQmJigwIT09c3RybS5hdmFpbF9vdXQmJnN0YXR1cyE9PWMuWl9TVFJFQU1fRU5EJiYoMCE9PXN0cm0uYXZhaWxfaW58fF9tb2RlIT09Yy5aX0ZJTklTSCYmX21vZGUhPT1jLlpfU1lOQ19GTFVTSCl8fChcInN0cmluZ1wiPT09dGhpcy5vcHRpb25zLnRvPyhuZXh0X291dF91dGY4PXN0cmluZ3MudXRmOGJvcmRlcihzdHJtLm91dHB1dCxzdHJtLm5leHRfb3V0KSx0YWlsPXN0cm0ubmV4dF9vdXQtbmV4dF9vdXRfdXRmOCx1dGY4c3RyPXN0cmluZ3MuYnVmMnN0cmluZyhzdHJtLm91dHB1dCxuZXh0X291dF91dGY4KSxzdHJtLm5leHRfb3V0PXRhaWwsc3RybS5hdmFpbF9vdXQ9Y2h1bmtTaXplLXRhaWwsdGFpbCYmdXRpbHMuYXJyYXlTZXQoc3RybS5vdXRwdXQsc3RybS5vdXRwdXQsbmV4dF9vdXRfdXRmOCx0YWlsLDApLHRoaXMub25EYXRhKHV0ZjhzdHIpKTp0aGlzLm9uRGF0YSh1dGlscy5zaHJpbmtCdWYoc3RybS5vdXRwdXQsc3RybS5uZXh0X291dCkpKSksMD09PXN0cm0uYXZhaWxfaW4mJjA9PT1zdHJtLmF2YWlsX291dCYmKGFsbG93QnVmRXJyb3I9ITApfXdoaWxlKChzdHJtLmF2YWlsX2luPjB8fDA9PT1zdHJtLmF2YWlsX291dCkmJnN0YXR1cyE9PWMuWl9TVFJFQU1fRU5EKTtyZXR1cm4gc3RhdHVzPT09Yy5aX1NUUkVBTV9FTkQmJihfbW9kZT1jLlpfRklOSVNIKSxfbW9kZT09PWMuWl9GSU5JU0g/KHN0YXR1cz16bGliX2luZmxhdGUuaW5mbGF0ZUVuZCh0aGlzLnN0cm0pLHRoaXMub25FbmQoc3RhdHVzKSx0aGlzLmVuZGVkPSEwLHN0YXR1cz09PWMuWl9PSyk6X21vZGUhPT1jLlpfU1lOQ19GTFVTSHx8KHRoaXMub25FbmQoYy5aX09LKSxzdHJtLmF2YWlsX291dD0wLCEwKX0sSW5mbGF0ZS5wcm90b3R5cGUub25EYXRhPWZ1bmN0aW9uKGNodW5rKXt0aGlzLmNodW5rcy5wdXNoKGNodW5rKX0sSW5mbGF0ZS5wcm90b3R5cGUub25FbmQ9ZnVuY3Rpb24oc3RhdHVzKXtzdGF0dXM9PT1jLlpfT0smJihcInN0cmluZ1wiPT09dGhpcy5vcHRpb25zLnRvP3RoaXMucmVzdWx0PXRoaXMuY2h1bmtzLmpvaW4oXCJcIik6dGhpcy5yZXN1bHQ9dXRpbHMuZmxhdHRlbkNodW5rcyh0aGlzLmNodW5rcykpLHRoaXMuY2h1bmtzPVtdLHRoaXMuZXJyPXN0YXR1cyx0aGlzLm1zZz10aGlzLnN0cm0ubXNnfSxleHBvcnRzLkluZmxhdGU9SW5mbGF0ZSxleHBvcnRzLmluZmxhdGU9aW5mbGF0ZSxleHBvcnRzLmluZmxhdGVSYXc9ZnVuY3Rpb24oaW5wdXQsb3B0aW9ucyl7cmV0dXJuKG9wdGlvbnM9b3B0aW9uc3x8e30pLnJhdz0hMCxpbmZsYXRlKGlucHV0LG9wdGlvbnMpfSxleHBvcnRzLnVuZ3ppcD1pbmZsYXRlfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjt2YXIgdXRpbHM9X193ZWJwYWNrX3JlcXVpcmVfXyg4KSxhZGxlcjMyPV9fd2VicGFja19yZXF1aXJlX18oNjYpLGNyYzMyPV9fd2VicGFja19yZXF1aXJlX18oNjcpLGluZmxhdGVfZmFzdD1fX3dlYnBhY2tfcmVxdWlyZV9fKDExNiksaW5mbGF0ZV90YWJsZT1fX3dlYnBhY2tfcmVxdWlyZV9fKDExNyksQ09ERVM9MCxMRU5TPTEsRElTVFM9MixaX0ZJTklTSD00LFpfQkxPQ0s9NSxaX1RSRUVTPTYsWl9PSz0wLFpfU1RSRUFNX0VORD0xLFpfTkVFRF9ESUNUPTIsWl9TVFJFQU1fRVJST1I9LTIsWl9EQVRBX0VSUk9SPS0zLFpfTUVNX0VSUk9SPS00LFpfQlVGX0VSUk9SPS01LFpfREVGTEFURUQ9OCxIRUFEPTEsRkxBR1M9MixUSU1FPTMsT1M9NCxFWExFTj01LEVYVFJBPTYsTkFNRT03LENPTU1FTlQ9OCxIQ1JDPTksRElDVElEPTEwLERJQ1Q9MTEsVFlQRT0xMixUWVBFRE89MTMsU1RPUkVEPTE0LENPUFlfPTE1LENPUFk9MTYsVEFCTEU9MTcsTEVOTEVOUz0xOCxDT0RFTEVOUz0xOSxMRU5fPTIwLExFTj0yMSxMRU5FWFQ9MjIsRElTVD0yMyxESVNURVhUPTI0LE1BVENIPTI1LExJVD0yNixDSEVDSz0yNyxMRU5HVEg9MjgsRE9ORT0yOSxCQUQ9MzAsTUVNPTMxLFNZTkM9MzIsRU5PVUdIX0xFTlM9ODUyLEVOT1VHSF9ESVNUUz01OTIsREVGX1dCSVRTPTE1O2Z1bmN0aW9uIHpzd2FwMzIocSl7cmV0dXJuKHE+Pj4yNCYyNTUpKyhxPj4+OCY2NTI4MCkrKCg2NTI4MCZxKTw8OCkrKCgyNTUmcSk8PDI0KX1mdW5jdGlvbiBpbmZsYXRlUmVzZXRLZWVwKHN0cm0pe3ZhciBzdGF0ZTtyZXR1cm4gc3RybSYmc3RybS5zdGF0ZT8oc3RhdGU9c3RybS5zdGF0ZSxzdHJtLnRvdGFsX2luPXN0cm0udG90YWxfb3V0PXN0YXRlLnRvdGFsPTAsc3RybS5tc2c9XCJcIixzdGF0ZS53cmFwJiYoc3RybS5hZGxlcj0xJnN0YXRlLndyYXApLHN0YXRlLm1vZGU9SEVBRCxzdGF0ZS5sYXN0PTAsc3RhdGUuaGF2ZWRpY3Q9MCxzdGF0ZS5kbWF4PTMyNzY4LHN0YXRlLmhlYWQ9bnVsbCxzdGF0ZS5ob2xkPTAsc3RhdGUuYml0cz0wLHN0YXRlLmxlbmNvZGU9c3RhdGUubGVuZHluPW5ldyB1dGlscy5CdWYzMihFTk9VR0hfTEVOUyksc3RhdGUuZGlzdGNvZGU9c3RhdGUuZGlzdGR5bj1uZXcgdXRpbHMuQnVmMzIoRU5PVUdIX0RJU1RTKSxzdGF0ZS5zYW5lPTEsc3RhdGUuYmFjaz0tMSxaX09LKTpaX1NUUkVBTV9FUlJPUn1mdW5jdGlvbiBpbmZsYXRlUmVzZXQoc3RybSl7dmFyIHN0YXRlO3JldHVybiBzdHJtJiZzdHJtLnN0YXRlPygoc3RhdGU9c3RybS5zdGF0ZSkud3NpemU9MCxzdGF0ZS53aGF2ZT0wLHN0YXRlLnduZXh0PTAsaW5mbGF0ZVJlc2V0S2VlcChzdHJtKSk6Wl9TVFJFQU1fRVJST1J9ZnVuY3Rpb24gaW5mbGF0ZVJlc2V0MihzdHJtLHdpbmRvd0JpdHMpe3ZhciB3cmFwLHN0YXRlO3JldHVybiBzdHJtJiZzdHJtLnN0YXRlPyhzdGF0ZT1zdHJtLnN0YXRlLHdpbmRvd0JpdHM8MD8od3JhcD0wLHdpbmRvd0JpdHM9LXdpbmRvd0JpdHMpOih3cmFwPTErKHdpbmRvd0JpdHM+PjQpLHdpbmRvd0JpdHM8NDgmJih3aW5kb3dCaXRzJj0xNSkpLHdpbmRvd0JpdHMmJih3aW5kb3dCaXRzPDh8fHdpbmRvd0JpdHM+MTUpP1pfU1RSRUFNX0VSUk9SOihudWxsIT09c3RhdGUud2luZG93JiZzdGF0ZS53Yml0cyE9PXdpbmRvd0JpdHMmJihzdGF0ZS53aW5kb3c9bnVsbCksc3RhdGUud3JhcD13cmFwLHN0YXRlLndiaXRzPXdpbmRvd0JpdHMsaW5mbGF0ZVJlc2V0KHN0cm0pKSk6Wl9TVFJFQU1fRVJST1J9ZnVuY3Rpb24gaW5mbGF0ZUluaXQyKHN0cm0sd2luZG93Qml0cyl7dmFyIHJldCxzdGF0ZTtyZXR1cm4gc3RybT8oc3RhdGU9bmV3IGZ1bmN0aW9uKCl7dGhpcy5tb2RlPTAsdGhpcy5sYXN0PSExLHRoaXMud3JhcD0wLHRoaXMuaGF2ZWRpY3Q9ITEsdGhpcy5mbGFncz0wLHRoaXMuZG1heD0wLHRoaXMuY2hlY2s9MCx0aGlzLnRvdGFsPTAsdGhpcy5oZWFkPW51bGwsdGhpcy53Yml0cz0wLHRoaXMud3NpemU9MCx0aGlzLndoYXZlPTAsdGhpcy53bmV4dD0wLHRoaXMud2luZG93PW51bGwsdGhpcy5ob2xkPTAsdGhpcy5iaXRzPTAsdGhpcy5sZW5ndGg9MCx0aGlzLm9mZnNldD0wLHRoaXMuZXh0cmE9MCx0aGlzLmxlbmNvZGU9bnVsbCx0aGlzLmRpc3Rjb2RlPW51bGwsdGhpcy5sZW5iaXRzPTAsdGhpcy5kaXN0Yml0cz0wLHRoaXMubmNvZGU9MCx0aGlzLm5sZW49MCx0aGlzLm5kaXN0PTAsdGhpcy5oYXZlPTAsdGhpcy5uZXh0PW51bGwsdGhpcy5sZW5zPW5ldyB1dGlscy5CdWYxNigzMjApLHRoaXMud29yaz1uZXcgdXRpbHMuQnVmMTYoMjg4KSx0aGlzLmxlbmR5bj1udWxsLHRoaXMuZGlzdGR5bj1udWxsLHRoaXMuc2FuZT0wLHRoaXMuYmFjaz0wLHRoaXMud2FzPTB9LHN0cm0uc3RhdGU9c3RhdGUsc3RhdGUud2luZG93PW51bGwsKHJldD1pbmZsYXRlUmVzZXQyKHN0cm0sd2luZG93Qml0cykpIT09Wl9PSyYmKHN0cm0uc3RhdGU9bnVsbCkscmV0KTpaX1NUUkVBTV9FUlJPUn12YXIgbGVuZml4LGRpc3RmaXgsdmlyZ2luPSEwO2Z1bmN0aW9uIGZpeGVkdGFibGVzKHN0YXRlKXtpZih2aXJnaW4pe3ZhciBzeW07Zm9yKGxlbmZpeD1uZXcgdXRpbHMuQnVmMzIoNTEyKSxkaXN0Zml4PW5ldyB1dGlscy5CdWYzMigzMiksc3ltPTA7c3ltPDE0NDspc3RhdGUubGVuc1tzeW0rK109ODtmb3IoO3N5bTwyNTY7KXN0YXRlLmxlbnNbc3ltKytdPTk7Zm9yKDtzeW08MjgwOylzdGF0ZS5sZW5zW3N5bSsrXT03O2Zvcig7c3ltPDI4ODspc3RhdGUubGVuc1tzeW0rK109ODtmb3IoaW5mbGF0ZV90YWJsZShMRU5TLHN0YXRlLmxlbnMsMCwyODgsbGVuZml4LDAsc3RhdGUud29yayx7Yml0czo5fSksc3ltPTA7c3ltPDMyOylzdGF0ZS5sZW5zW3N5bSsrXT01O2luZmxhdGVfdGFibGUoRElTVFMsc3RhdGUubGVucywwLDMyLGRpc3RmaXgsMCxzdGF0ZS53b3JrLHtiaXRzOjV9KSx2aXJnaW49ITF9c3RhdGUubGVuY29kZT1sZW5maXgsc3RhdGUubGVuYml0cz05LHN0YXRlLmRpc3Rjb2RlPWRpc3RmaXgsc3RhdGUuZGlzdGJpdHM9NX1mdW5jdGlvbiB1cGRhdGV3aW5kb3coc3RybSxzcmMsZW5kLGNvcHkpe3ZhciBkaXN0LHN0YXRlPXN0cm0uc3RhdGU7cmV0dXJuIG51bGw9PT1zdGF0ZS53aW5kb3cmJihzdGF0ZS53c2l6ZT0xPDxzdGF0ZS53Yml0cyxzdGF0ZS53bmV4dD0wLHN0YXRlLndoYXZlPTAsc3RhdGUud2luZG93PW5ldyB1dGlscy5CdWY4KHN0YXRlLndzaXplKSksY29weT49c3RhdGUud3NpemU/KHV0aWxzLmFycmF5U2V0KHN0YXRlLndpbmRvdyxzcmMsZW5kLXN0YXRlLndzaXplLHN0YXRlLndzaXplLDApLHN0YXRlLnduZXh0PTAsc3RhdGUud2hhdmU9c3RhdGUud3NpemUpOigoZGlzdD1zdGF0ZS53c2l6ZS1zdGF0ZS53bmV4dCk+Y29weSYmKGRpc3Q9Y29weSksdXRpbHMuYXJyYXlTZXQoc3RhdGUud2luZG93LHNyYyxlbmQtY29weSxkaXN0LHN0YXRlLnduZXh0KSwoY29weS09ZGlzdCk/KHV0aWxzLmFycmF5U2V0KHN0YXRlLndpbmRvdyxzcmMsZW5kLWNvcHksY29weSwwKSxzdGF0ZS53bmV4dD1jb3B5LHN0YXRlLndoYXZlPXN0YXRlLndzaXplKTooc3RhdGUud25leHQrPWRpc3Qsc3RhdGUud25leHQ9PT1zdGF0ZS53c2l6ZSYmKHN0YXRlLnduZXh0PTApLHN0YXRlLndoYXZlPHN0YXRlLndzaXplJiYoc3RhdGUud2hhdmUrPWRpc3QpKSksMH1leHBvcnRzLmluZmxhdGVSZXNldD1pbmZsYXRlUmVzZXQsZXhwb3J0cy5pbmZsYXRlUmVzZXQyPWluZmxhdGVSZXNldDIsZXhwb3J0cy5pbmZsYXRlUmVzZXRLZWVwPWluZmxhdGVSZXNldEtlZXAsZXhwb3J0cy5pbmZsYXRlSW5pdD1mdW5jdGlvbihzdHJtKXtyZXR1cm4gaW5mbGF0ZUluaXQyKHN0cm0sREVGX1dCSVRTKX0sZXhwb3J0cy5pbmZsYXRlSW5pdDI9aW5mbGF0ZUluaXQyLGV4cG9ydHMuaW5mbGF0ZT1mdW5jdGlvbihzdHJtLGZsdXNoKXt2YXIgc3RhdGUsaW5wdXQsb3V0cHV0LG5leHQscHV0LGhhdmUsbGVmdCxob2xkLGJpdHMsX2luLF9vdXQsY29weSxmcm9tLGZyb21fc291cmNlLGhlcmVfYml0cyxoZXJlX29wLGhlcmVfdmFsLGxhc3RfYml0cyxsYXN0X29wLGxhc3RfdmFsLGxlbixyZXQsb3B0cyxuLGhlcmU9MCxoYnVmPW5ldyB1dGlscy5CdWY4KDQpLG9yZGVyPVsxNiwxNywxOCwwLDgsNyw5LDYsMTAsNSwxMSw0LDEyLDMsMTMsMiwxNCwxLDE1XTtpZighc3RybXx8IXN0cm0uc3RhdGV8fCFzdHJtLm91dHB1dHx8IXN0cm0uaW5wdXQmJjAhPT1zdHJtLmF2YWlsX2luKXJldHVybiBaX1NUUkVBTV9FUlJPUjsoc3RhdGU9c3RybS5zdGF0ZSkubW9kZT09PVRZUEUmJihzdGF0ZS5tb2RlPVRZUEVETykscHV0PXN0cm0ubmV4dF9vdXQsb3V0cHV0PXN0cm0ub3V0cHV0LGxlZnQ9c3RybS5hdmFpbF9vdXQsbmV4dD1zdHJtLm5leHRfaW4saW5wdXQ9c3RybS5pbnB1dCxoYXZlPXN0cm0uYXZhaWxfaW4saG9sZD1zdGF0ZS5ob2xkLGJpdHM9c3RhdGUuYml0cyxfaW49aGF2ZSxfb3V0PWxlZnQscmV0PVpfT0s7aW5mX2xlYXZlOmZvcig7Oylzd2l0Y2goc3RhdGUubW9kZSl7Y2FzZSBIRUFEOmlmKDA9PT1zdGF0ZS53cmFwKXtzdGF0ZS5tb2RlPVRZUEVETzticmVha31mb3IoO2JpdHM8MTY7KXtpZigwPT09aGF2ZSlicmVhayBpbmZfbGVhdmU7aGF2ZS0tLGhvbGQrPWlucHV0W25leHQrK108PGJpdHMsYml0cys9OH1pZigyJnN0YXRlLndyYXAmJjM1NjE1PT09aG9sZCl7c3RhdGUuY2hlY2s9MCxoYnVmWzBdPTI1NSZob2xkLGhidWZbMV09aG9sZD4+PjgmMjU1LHN0YXRlLmNoZWNrPWNyYzMyKHN0YXRlLmNoZWNrLGhidWYsMiwwKSxob2xkPTAsYml0cz0wLHN0YXRlLm1vZGU9RkxBR1M7YnJlYWt9aWYoc3RhdGUuZmxhZ3M9MCxzdGF0ZS5oZWFkJiYoc3RhdGUuaGVhZC5kb25lPSExKSwhKDEmc3RhdGUud3JhcCl8fCgoKDI1NSZob2xkKTw8OCkrKGhvbGQ+PjgpKSUzMSl7c3RybS5tc2c9XCJpbmNvcnJlY3QgaGVhZGVyIGNoZWNrXCIsc3RhdGUubW9kZT1CQUQ7YnJlYWt9aWYoKDE1JmhvbGQpIT09Wl9ERUZMQVRFRCl7c3RybS5tc2c9XCJ1bmtub3duIGNvbXByZXNzaW9uIG1ldGhvZFwiLHN0YXRlLm1vZGU9QkFEO2JyZWFrfWlmKGJpdHMtPTQsbGVuPTgrKDE1Jihob2xkPj4+PTQpKSwwPT09c3RhdGUud2JpdHMpc3RhdGUud2JpdHM9bGVuO2Vsc2UgaWYobGVuPnN0YXRlLndiaXRzKXtzdHJtLm1zZz1cImludmFsaWQgd2luZG93IHNpemVcIixzdGF0ZS5tb2RlPUJBRDticmVha31zdGF0ZS5kbWF4PTE8PGxlbixzdHJtLmFkbGVyPXN0YXRlLmNoZWNrPTEsc3RhdGUubW9kZT01MTImaG9sZD9ESUNUSUQ6VFlQRSxob2xkPTAsYml0cz0wO2JyZWFrO2Nhc2UgRkxBR1M6Zm9yKDtiaXRzPDE2Oyl7aWYoMD09PWhhdmUpYnJlYWsgaW5mX2xlYXZlO2hhdmUtLSxob2xkKz1pbnB1dFtuZXh0KytdPDxiaXRzLGJpdHMrPTh9aWYoc3RhdGUuZmxhZ3M9aG9sZCwoMjU1JnN0YXRlLmZsYWdzKSE9PVpfREVGTEFURUQpe3N0cm0ubXNnPVwidW5rbm93biBjb21wcmVzc2lvbiBtZXRob2RcIixzdGF0ZS5tb2RlPUJBRDticmVha31pZig1NzM0NCZzdGF0ZS5mbGFncyl7c3RybS5tc2c9XCJ1bmtub3duIGhlYWRlciBmbGFncyBzZXRcIixzdGF0ZS5tb2RlPUJBRDticmVha31zdGF0ZS5oZWFkJiYoc3RhdGUuaGVhZC50ZXh0PWhvbGQ+PjgmMSksNTEyJnN0YXRlLmZsYWdzJiYoaGJ1ZlswXT0yNTUmaG9sZCxoYnVmWzFdPWhvbGQ+Pj44JjI1NSxzdGF0ZS5jaGVjaz1jcmMzMihzdGF0ZS5jaGVjayxoYnVmLDIsMCkpLGhvbGQ9MCxiaXRzPTAsc3RhdGUubW9kZT1USU1FO2Nhc2UgVElNRTpmb3IoO2JpdHM8MzI7KXtpZigwPT09aGF2ZSlicmVhayBpbmZfbGVhdmU7aGF2ZS0tLGhvbGQrPWlucHV0W25leHQrK108PGJpdHMsYml0cys9OH1zdGF0ZS5oZWFkJiYoc3RhdGUuaGVhZC50aW1lPWhvbGQpLDUxMiZzdGF0ZS5mbGFncyYmKGhidWZbMF09MjU1JmhvbGQsaGJ1ZlsxXT1ob2xkPj4+OCYyNTUsaGJ1ZlsyXT1ob2xkPj4+MTYmMjU1LGhidWZbM109aG9sZD4+PjI0JjI1NSxzdGF0ZS5jaGVjaz1jcmMzMihzdGF0ZS5jaGVjayxoYnVmLDQsMCkpLGhvbGQ9MCxiaXRzPTAsc3RhdGUubW9kZT1PUztjYXNlIE9TOmZvcig7Yml0czwxNjspe2lmKDA9PT1oYXZlKWJyZWFrIGluZl9sZWF2ZTtoYXZlLS0saG9sZCs9aW5wdXRbbmV4dCsrXTw8Yml0cyxiaXRzKz04fXN0YXRlLmhlYWQmJihzdGF0ZS5oZWFkLnhmbGFncz0yNTUmaG9sZCxzdGF0ZS5oZWFkLm9zPWhvbGQ+PjgpLDUxMiZzdGF0ZS5mbGFncyYmKGhidWZbMF09MjU1JmhvbGQsaGJ1ZlsxXT1ob2xkPj4+OCYyNTUsc3RhdGUuY2hlY2s9Y3JjMzIoc3RhdGUuY2hlY2ssaGJ1ZiwyLDApKSxob2xkPTAsYml0cz0wLHN0YXRlLm1vZGU9RVhMRU47Y2FzZSBFWExFTjppZigxMDI0JnN0YXRlLmZsYWdzKXtmb3IoO2JpdHM8MTY7KXtpZigwPT09aGF2ZSlicmVhayBpbmZfbGVhdmU7aGF2ZS0tLGhvbGQrPWlucHV0W25leHQrK108PGJpdHMsYml0cys9OH1zdGF0ZS5sZW5ndGg9aG9sZCxzdGF0ZS5oZWFkJiYoc3RhdGUuaGVhZC5leHRyYV9sZW49aG9sZCksNTEyJnN0YXRlLmZsYWdzJiYoaGJ1ZlswXT0yNTUmaG9sZCxoYnVmWzFdPWhvbGQ+Pj44JjI1NSxzdGF0ZS5jaGVjaz1jcmMzMihzdGF0ZS5jaGVjayxoYnVmLDIsMCkpLGhvbGQ9MCxiaXRzPTB9ZWxzZSBzdGF0ZS5oZWFkJiYoc3RhdGUuaGVhZC5leHRyYT1udWxsKTtzdGF0ZS5tb2RlPUVYVFJBO2Nhc2UgRVhUUkE6aWYoMTAyNCZzdGF0ZS5mbGFncyYmKChjb3B5PXN0YXRlLmxlbmd0aCk+aGF2ZSYmKGNvcHk9aGF2ZSksY29weSYmKHN0YXRlLmhlYWQmJihsZW49c3RhdGUuaGVhZC5leHRyYV9sZW4tc3RhdGUubGVuZ3RoLHN0YXRlLmhlYWQuZXh0cmF8fChzdGF0ZS5oZWFkLmV4dHJhPW5ldyBBcnJheShzdGF0ZS5oZWFkLmV4dHJhX2xlbikpLHV0aWxzLmFycmF5U2V0KHN0YXRlLmhlYWQuZXh0cmEsaW5wdXQsbmV4dCxjb3B5LGxlbikpLDUxMiZzdGF0ZS5mbGFncyYmKHN0YXRlLmNoZWNrPWNyYzMyKHN0YXRlLmNoZWNrLGlucHV0LGNvcHksbmV4dCkpLGhhdmUtPWNvcHksbmV4dCs9Y29weSxzdGF0ZS5sZW5ndGgtPWNvcHkpLHN0YXRlLmxlbmd0aCkpYnJlYWsgaW5mX2xlYXZlO3N0YXRlLmxlbmd0aD0wLHN0YXRlLm1vZGU9TkFNRTtjYXNlIE5BTUU6aWYoMjA0OCZzdGF0ZS5mbGFncyl7aWYoMD09PWhhdmUpYnJlYWsgaW5mX2xlYXZlO2NvcHk9MDtkb3tsZW49aW5wdXRbbmV4dCtjb3B5KytdLHN0YXRlLmhlYWQmJmxlbiYmc3RhdGUubGVuZ3RoPDY1NTM2JiYoc3RhdGUuaGVhZC5uYW1lKz1TdHJpbmcuZnJvbUNoYXJDb2RlKGxlbikpfXdoaWxlKGxlbiYmY29weTxoYXZlKTtpZig1MTImc3RhdGUuZmxhZ3MmJihzdGF0ZS5jaGVjaz1jcmMzMihzdGF0ZS5jaGVjayxpbnB1dCxjb3B5LG5leHQpKSxoYXZlLT1jb3B5LG5leHQrPWNvcHksbGVuKWJyZWFrIGluZl9sZWF2ZX1lbHNlIHN0YXRlLmhlYWQmJihzdGF0ZS5oZWFkLm5hbWU9bnVsbCk7c3RhdGUubGVuZ3RoPTAsc3RhdGUubW9kZT1DT01NRU5UO2Nhc2UgQ09NTUVOVDppZig0MDk2JnN0YXRlLmZsYWdzKXtpZigwPT09aGF2ZSlicmVhayBpbmZfbGVhdmU7Y29weT0wO2Rve2xlbj1pbnB1dFtuZXh0K2NvcHkrK10sc3RhdGUuaGVhZCYmbGVuJiZzdGF0ZS5sZW5ndGg8NjU1MzYmJihzdGF0ZS5oZWFkLmNvbW1lbnQrPVN0cmluZy5mcm9tQ2hhckNvZGUobGVuKSl9d2hpbGUobGVuJiZjb3B5PGhhdmUpO2lmKDUxMiZzdGF0ZS5mbGFncyYmKHN0YXRlLmNoZWNrPWNyYzMyKHN0YXRlLmNoZWNrLGlucHV0LGNvcHksbmV4dCkpLGhhdmUtPWNvcHksbmV4dCs9Y29weSxsZW4pYnJlYWsgaW5mX2xlYXZlfWVsc2Ugc3RhdGUuaGVhZCYmKHN0YXRlLmhlYWQuY29tbWVudD1udWxsKTtzdGF0ZS5tb2RlPUhDUkM7Y2FzZSBIQ1JDOmlmKDUxMiZzdGF0ZS5mbGFncyl7Zm9yKDtiaXRzPDE2Oyl7aWYoMD09PWhhdmUpYnJlYWsgaW5mX2xlYXZlO2hhdmUtLSxob2xkKz1pbnB1dFtuZXh0KytdPDxiaXRzLGJpdHMrPTh9aWYoaG9sZCE9PSg2NTUzNSZzdGF0ZS5jaGVjaykpe3N0cm0ubXNnPVwiaGVhZGVyIGNyYyBtaXNtYXRjaFwiLHN0YXRlLm1vZGU9QkFEO2JyZWFrfWhvbGQ9MCxiaXRzPTB9c3RhdGUuaGVhZCYmKHN0YXRlLmhlYWQuaGNyYz1zdGF0ZS5mbGFncz4+OSYxLHN0YXRlLmhlYWQuZG9uZT0hMCksc3RybS5hZGxlcj1zdGF0ZS5jaGVjaz0wLHN0YXRlLm1vZGU9VFlQRTticmVhaztjYXNlIERJQ1RJRDpmb3IoO2JpdHM8MzI7KXtpZigwPT09aGF2ZSlicmVhayBpbmZfbGVhdmU7aGF2ZS0tLGhvbGQrPWlucHV0W25leHQrK108PGJpdHMsYml0cys9OH1zdHJtLmFkbGVyPXN0YXRlLmNoZWNrPXpzd2FwMzIoaG9sZCksaG9sZD0wLGJpdHM9MCxzdGF0ZS5tb2RlPURJQ1Q7Y2FzZSBESUNUOmlmKDA9PT1zdGF0ZS5oYXZlZGljdClyZXR1cm4gc3RybS5uZXh0X291dD1wdXQsc3RybS5hdmFpbF9vdXQ9bGVmdCxzdHJtLm5leHRfaW49bmV4dCxzdHJtLmF2YWlsX2luPWhhdmUsc3RhdGUuaG9sZD1ob2xkLHN0YXRlLmJpdHM9Yml0cyxaX05FRURfRElDVDtzdHJtLmFkbGVyPXN0YXRlLmNoZWNrPTEsc3RhdGUubW9kZT1UWVBFO2Nhc2UgVFlQRTppZihmbHVzaD09PVpfQkxPQ0t8fGZsdXNoPT09Wl9UUkVFUylicmVhayBpbmZfbGVhdmU7Y2FzZSBUWVBFRE86aWYoc3RhdGUubGFzdCl7aG9sZD4+Pj03JmJpdHMsYml0cy09NyZiaXRzLHN0YXRlLm1vZGU9Q0hFQ0s7YnJlYWt9Zm9yKDtiaXRzPDM7KXtpZigwPT09aGF2ZSlicmVhayBpbmZfbGVhdmU7aGF2ZS0tLGhvbGQrPWlucHV0W25leHQrK108PGJpdHMsYml0cys9OH1zd2l0Y2goc3RhdGUubGFzdD0xJmhvbGQsYml0cy09MSwzJihob2xkPj4+PTEpKXtjYXNlIDA6c3RhdGUubW9kZT1TVE9SRUQ7YnJlYWs7Y2FzZSAxOmlmKGZpeGVkdGFibGVzKHN0YXRlKSxzdGF0ZS5tb2RlPUxFTl8sZmx1c2g9PT1aX1RSRUVTKXtob2xkPj4+PTIsYml0cy09MjticmVhayBpbmZfbGVhdmV9YnJlYWs7Y2FzZSAyOnN0YXRlLm1vZGU9VEFCTEU7YnJlYWs7Y2FzZSAzOnN0cm0ubXNnPVwiaW52YWxpZCBibG9jayB0eXBlXCIsc3RhdGUubW9kZT1CQUR9aG9sZD4+Pj0yLGJpdHMtPTI7YnJlYWs7Y2FzZSBTVE9SRUQ6Zm9yKGhvbGQ+Pj49NyZiaXRzLGJpdHMtPTcmYml0cztiaXRzPDMyOyl7aWYoMD09PWhhdmUpYnJlYWsgaW5mX2xlYXZlO2hhdmUtLSxob2xkKz1pbnB1dFtuZXh0KytdPDxiaXRzLGJpdHMrPTh9aWYoKDY1NTM1JmhvbGQpIT0oaG9sZD4+PjE2XjY1NTM1KSl7c3RybS5tc2c9XCJpbnZhbGlkIHN0b3JlZCBibG9jayBsZW5ndGhzXCIsc3RhdGUubW9kZT1CQUQ7YnJlYWt9aWYoc3RhdGUubGVuZ3RoPTY1NTM1JmhvbGQsaG9sZD0wLGJpdHM9MCxzdGF0ZS5tb2RlPUNPUFlfLGZsdXNoPT09Wl9UUkVFUylicmVhayBpbmZfbGVhdmU7Y2FzZSBDT1BZXzpzdGF0ZS5tb2RlPUNPUFk7Y2FzZSBDT1BZOmlmKGNvcHk9c3RhdGUubGVuZ3RoKXtpZihjb3B5PmhhdmUmJihjb3B5PWhhdmUpLGNvcHk+bGVmdCYmKGNvcHk9bGVmdCksMD09PWNvcHkpYnJlYWsgaW5mX2xlYXZlO3V0aWxzLmFycmF5U2V0KG91dHB1dCxpbnB1dCxuZXh0LGNvcHkscHV0KSxoYXZlLT1jb3B5LG5leHQrPWNvcHksbGVmdC09Y29weSxwdXQrPWNvcHksc3RhdGUubGVuZ3RoLT1jb3B5O2JyZWFrfXN0YXRlLm1vZGU9VFlQRTticmVhaztjYXNlIFRBQkxFOmZvcig7Yml0czwxNDspe2lmKDA9PT1oYXZlKWJyZWFrIGluZl9sZWF2ZTtoYXZlLS0saG9sZCs9aW5wdXRbbmV4dCsrXTw8Yml0cyxiaXRzKz04fWlmKHN0YXRlLm5sZW49MjU3KygzMSZob2xkKSxob2xkPj4+PTUsYml0cy09NSxzdGF0ZS5uZGlzdD0xKygzMSZob2xkKSxob2xkPj4+PTUsYml0cy09NSxzdGF0ZS5uY29kZT00KygxNSZob2xkKSxob2xkPj4+PTQsYml0cy09NCxzdGF0ZS5ubGVuPjI4Nnx8c3RhdGUubmRpc3Q+MzApe3N0cm0ubXNnPVwidG9vIG1hbnkgbGVuZ3RoIG9yIGRpc3RhbmNlIHN5bWJvbHNcIixzdGF0ZS5tb2RlPUJBRDticmVha31zdGF0ZS5oYXZlPTAsc3RhdGUubW9kZT1MRU5MRU5TO2Nhc2UgTEVOTEVOUzpmb3IoO3N0YXRlLmhhdmU8c3RhdGUubmNvZGU7KXtmb3IoO2JpdHM8Mzspe2lmKDA9PT1oYXZlKWJyZWFrIGluZl9sZWF2ZTtoYXZlLS0saG9sZCs9aW5wdXRbbmV4dCsrXTw8Yml0cyxiaXRzKz04fXN0YXRlLmxlbnNbb3JkZXJbc3RhdGUuaGF2ZSsrXV09NyZob2xkLGhvbGQ+Pj49MyxiaXRzLT0zfWZvcig7c3RhdGUuaGF2ZTwxOTspc3RhdGUubGVuc1tvcmRlcltzdGF0ZS5oYXZlKytdXT0wO2lmKHN0YXRlLmxlbmNvZGU9c3RhdGUubGVuZHluLHN0YXRlLmxlbmJpdHM9NyxvcHRzPXtiaXRzOnN0YXRlLmxlbmJpdHN9LHJldD1pbmZsYXRlX3RhYmxlKENPREVTLHN0YXRlLmxlbnMsMCwxOSxzdGF0ZS5sZW5jb2RlLDAsc3RhdGUud29yayxvcHRzKSxzdGF0ZS5sZW5iaXRzPW9wdHMuYml0cyxyZXQpe3N0cm0ubXNnPVwiaW52YWxpZCBjb2RlIGxlbmd0aHMgc2V0XCIsc3RhdGUubW9kZT1CQUQ7YnJlYWt9c3RhdGUuaGF2ZT0wLHN0YXRlLm1vZGU9Q09ERUxFTlM7Y2FzZSBDT0RFTEVOUzpmb3IoO3N0YXRlLmhhdmU8c3RhdGUubmxlbitzdGF0ZS5uZGlzdDspe2Zvcig7aGVyZV9vcD0oaGVyZT1zdGF0ZS5sZW5jb2RlW2hvbGQmKDE8PHN0YXRlLmxlbmJpdHMpLTFdKT4+PjE2JjI1NSxoZXJlX3ZhbD02NTUzNSZoZXJlLCEoKGhlcmVfYml0cz1oZXJlPj4+MjQpPD1iaXRzKTspe2lmKDA9PT1oYXZlKWJyZWFrIGluZl9sZWF2ZTtoYXZlLS0saG9sZCs9aW5wdXRbbmV4dCsrXTw8Yml0cyxiaXRzKz04fWlmKGhlcmVfdmFsPDE2KWhvbGQ+Pj49aGVyZV9iaXRzLGJpdHMtPWhlcmVfYml0cyxzdGF0ZS5sZW5zW3N0YXRlLmhhdmUrK109aGVyZV92YWw7ZWxzZXtpZigxNj09PWhlcmVfdmFsKXtmb3Iobj1oZXJlX2JpdHMrMjtiaXRzPG47KXtpZigwPT09aGF2ZSlicmVhayBpbmZfbGVhdmU7aGF2ZS0tLGhvbGQrPWlucHV0W25leHQrK108PGJpdHMsYml0cys9OH1pZihob2xkPj4+PWhlcmVfYml0cyxiaXRzLT1oZXJlX2JpdHMsMD09PXN0YXRlLmhhdmUpe3N0cm0ubXNnPVwiaW52YWxpZCBiaXQgbGVuZ3RoIHJlcGVhdFwiLHN0YXRlLm1vZGU9QkFEO2JyZWFrfWxlbj1zdGF0ZS5sZW5zW3N0YXRlLmhhdmUtMV0sY29weT0zKygzJmhvbGQpLGhvbGQ+Pj49MixiaXRzLT0yfWVsc2UgaWYoMTc9PT1oZXJlX3ZhbCl7Zm9yKG49aGVyZV9iaXRzKzM7Yml0czxuOyl7aWYoMD09PWhhdmUpYnJlYWsgaW5mX2xlYXZlO2hhdmUtLSxob2xkKz1pbnB1dFtuZXh0KytdPDxiaXRzLGJpdHMrPTh9Yml0cy09aGVyZV9iaXRzLGxlbj0wLGNvcHk9MysoNyYoaG9sZD4+Pj1oZXJlX2JpdHMpKSxob2xkPj4+PTMsYml0cy09M31lbHNle2ZvcihuPWhlcmVfYml0cys3O2JpdHM8bjspe2lmKDA9PT1oYXZlKWJyZWFrIGluZl9sZWF2ZTtoYXZlLS0saG9sZCs9aW5wdXRbbmV4dCsrXTw8Yml0cyxiaXRzKz04fWJpdHMtPWhlcmVfYml0cyxsZW49MCxjb3B5PTExKygxMjcmKGhvbGQ+Pj49aGVyZV9iaXRzKSksaG9sZD4+Pj03LGJpdHMtPTd9aWYoc3RhdGUuaGF2ZStjb3B5PnN0YXRlLm5sZW4rc3RhdGUubmRpc3Qpe3N0cm0ubXNnPVwiaW52YWxpZCBiaXQgbGVuZ3RoIHJlcGVhdFwiLHN0YXRlLm1vZGU9QkFEO2JyZWFrfWZvcig7Y29weS0tOylzdGF0ZS5sZW5zW3N0YXRlLmhhdmUrK109bGVufX1pZihzdGF0ZS5tb2RlPT09QkFEKWJyZWFrO2lmKDA9PT1zdGF0ZS5sZW5zWzI1Nl0pe3N0cm0ubXNnPVwiaW52YWxpZCBjb2RlIC0tIG1pc3NpbmcgZW5kLW9mLWJsb2NrXCIsc3RhdGUubW9kZT1CQUQ7YnJlYWt9aWYoc3RhdGUubGVuYml0cz05LG9wdHM9e2JpdHM6c3RhdGUubGVuYml0c30scmV0PWluZmxhdGVfdGFibGUoTEVOUyxzdGF0ZS5sZW5zLDAsc3RhdGUubmxlbixzdGF0ZS5sZW5jb2RlLDAsc3RhdGUud29yayxvcHRzKSxzdGF0ZS5sZW5iaXRzPW9wdHMuYml0cyxyZXQpe3N0cm0ubXNnPVwiaW52YWxpZCBsaXRlcmFsL2xlbmd0aHMgc2V0XCIsc3RhdGUubW9kZT1CQUQ7YnJlYWt9aWYoc3RhdGUuZGlzdGJpdHM9NixzdGF0ZS5kaXN0Y29kZT1zdGF0ZS5kaXN0ZHluLG9wdHM9e2JpdHM6c3RhdGUuZGlzdGJpdHN9LHJldD1pbmZsYXRlX3RhYmxlKERJU1RTLHN0YXRlLmxlbnMsc3RhdGUubmxlbixzdGF0ZS5uZGlzdCxzdGF0ZS5kaXN0Y29kZSwwLHN0YXRlLndvcmssb3B0cyksc3RhdGUuZGlzdGJpdHM9b3B0cy5iaXRzLHJldCl7c3RybS5tc2c9XCJpbnZhbGlkIGRpc3RhbmNlcyBzZXRcIixzdGF0ZS5tb2RlPUJBRDticmVha31pZihzdGF0ZS5tb2RlPUxFTl8sZmx1c2g9PT1aX1RSRUVTKWJyZWFrIGluZl9sZWF2ZTtjYXNlIExFTl86c3RhdGUubW9kZT1MRU47Y2FzZSBMRU46aWYoaGF2ZT49NiYmbGVmdD49MjU4KXtzdHJtLm5leHRfb3V0PXB1dCxzdHJtLmF2YWlsX291dD1sZWZ0LHN0cm0ubmV4dF9pbj1uZXh0LHN0cm0uYXZhaWxfaW49aGF2ZSxzdGF0ZS5ob2xkPWhvbGQsc3RhdGUuYml0cz1iaXRzLGluZmxhdGVfZmFzdChzdHJtLF9vdXQpLHB1dD1zdHJtLm5leHRfb3V0LG91dHB1dD1zdHJtLm91dHB1dCxsZWZ0PXN0cm0uYXZhaWxfb3V0LG5leHQ9c3RybS5uZXh0X2luLGlucHV0PXN0cm0uaW5wdXQsaGF2ZT1zdHJtLmF2YWlsX2luLGhvbGQ9c3RhdGUuaG9sZCxiaXRzPXN0YXRlLmJpdHMsc3RhdGUubW9kZT09PVRZUEUmJihzdGF0ZS5iYWNrPS0xKTticmVha31mb3Ioc3RhdGUuYmFjaz0wO2hlcmVfb3A9KGhlcmU9c3RhdGUubGVuY29kZVtob2xkJigxPDxzdGF0ZS5sZW5iaXRzKS0xXSk+Pj4xNiYyNTUsaGVyZV92YWw9NjU1MzUmaGVyZSwhKChoZXJlX2JpdHM9aGVyZT4+PjI0KTw9Yml0cyk7KXtpZigwPT09aGF2ZSlicmVhayBpbmZfbGVhdmU7aGF2ZS0tLGhvbGQrPWlucHV0W25leHQrK108PGJpdHMsYml0cys9OH1pZihoZXJlX29wJiYwPT0oMjQwJmhlcmVfb3ApKXtmb3IobGFzdF9iaXRzPWhlcmVfYml0cyxsYXN0X29wPWhlcmVfb3AsbGFzdF92YWw9aGVyZV92YWw7aGVyZV9vcD0oaGVyZT1zdGF0ZS5sZW5jb2RlW2xhc3RfdmFsKygoaG9sZCYoMTw8bGFzdF9iaXRzK2xhc3Rfb3ApLTEpPj5sYXN0X2JpdHMpXSk+Pj4xNiYyNTUsaGVyZV92YWw9NjU1MzUmaGVyZSwhKGxhc3RfYml0cysoaGVyZV9iaXRzPWhlcmU+Pj4yNCk8PWJpdHMpOyl7aWYoMD09PWhhdmUpYnJlYWsgaW5mX2xlYXZlO2hhdmUtLSxob2xkKz1pbnB1dFtuZXh0KytdPDxiaXRzLGJpdHMrPTh9aG9sZD4+Pj1sYXN0X2JpdHMsYml0cy09bGFzdF9iaXRzLHN0YXRlLmJhY2srPWxhc3RfYml0c31pZihob2xkPj4+PWhlcmVfYml0cyxiaXRzLT1oZXJlX2JpdHMsc3RhdGUuYmFjays9aGVyZV9iaXRzLHN0YXRlLmxlbmd0aD1oZXJlX3ZhbCwwPT09aGVyZV9vcCl7c3RhdGUubW9kZT1MSVQ7YnJlYWt9aWYoMzImaGVyZV9vcCl7c3RhdGUuYmFjaz0tMSxzdGF0ZS5tb2RlPVRZUEU7YnJlYWt9aWYoNjQmaGVyZV9vcCl7c3RybS5tc2c9XCJpbnZhbGlkIGxpdGVyYWwvbGVuZ3RoIGNvZGVcIixzdGF0ZS5tb2RlPUJBRDticmVha31zdGF0ZS5leHRyYT0xNSZoZXJlX29wLHN0YXRlLm1vZGU9TEVORVhUO2Nhc2UgTEVORVhUOmlmKHN0YXRlLmV4dHJhKXtmb3Iobj1zdGF0ZS5leHRyYTtiaXRzPG47KXtpZigwPT09aGF2ZSlicmVhayBpbmZfbGVhdmU7aGF2ZS0tLGhvbGQrPWlucHV0W25leHQrK108PGJpdHMsYml0cys9OH1zdGF0ZS5sZW5ndGgrPWhvbGQmKDE8PHN0YXRlLmV4dHJhKS0xLGhvbGQ+Pj49c3RhdGUuZXh0cmEsYml0cy09c3RhdGUuZXh0cmEsc3RhdGUuYmFjays9c3RhdGUuZXh0cmF9c3RhdGUud2FzPXN0YXRlLmxlbmd0aCxzdGF0ZS5tb2RlPURJU1Q7Y2FzZSBESVNUOmZvcig7aGVyZV9vcD0oaGVyZT1zdGF0ZS5kaXN0Y29kZVtob2xkJigxPDxzdGF0ZS5kaXN0Yml0cyktMV0pPj4+MTYmMjU1LGhlcmVfdmFsPTY1NTM1JmhlcmUsISgoaGVyZV9iaXRzPWhlcmU+Pj4yNCk8PWJpdHMpOyl7aWYoMD09PWhhdmUpYnJlYWsgaW5mX2xlYXZlO2hhdmUtLSxob2xkKz1pbnB1dFtuZXh0KytdPDxiaXRzLGJpdHMrPTh9aWYoMD09KDI0MCZoZXJlX29wKSl7Zm9yKGxhc3RfYml0cz1oZXJlX2JpdHMsbGFzdF9vcD1oZXJlX29wLGxhc3RfdmFsPWhlcmVfdmFsO2hlcmVfb3A9KGhlcmU9c3RhdGUuZGlzdGNvZGVbbGFzdF92YWwrKChob2xkJigxPDxsYXN0X2JpdHMrbGFzdF9vcCktMSk+Pmxhc3RfYml0cyldKT4+PjE2JjI1NSxoZXJlX3ZhbD02NTUzNSZoZXJlLCEobGFzdF9iaXRzKyhoZXJlX2JpdHM9aGVyZT4+PjI0KTw9Yml0cyk7KXtpZigwPT09aGF2ZSlicmVhayBpbmZfbGVhdmU7aGF2ZS0tLGhvbGQrPWlucHV0W25leHQrK108PGJpdHMsYml0cys9OH1ob2xkPj4+PWxhc3RfYml0cyxiaXRzLT1sYXN0X2JpdHMsc3RhdGUuYmFjays9bGFzdF9iaXRzfWlmKGhvbGQ+Pj49aGVyZV9iaXRzLGJpdHMtPWhlcmVfYml0cyxzdGF0ZS5iYWNrKz1oZXJlX2JpdHMsNjQmaGVyZV9vcCl7c3RybS5tc2c9XCJpbnZhbGlkIGRpc3RhbmNlIGNvZGVcIixzdGF0ZS5tb2RlPUJBRDticmVha31zdGF0ZS5vZmZzZXQ9aGVyZV92YWwsc3RhdGUuZXh0cmE9MTUmaGVyZV9vcCxzdGF0ZS5tb2RlPURJU1RFWFQ7Y2FzZSBESVNURVhUOmlmKHN0YXRlLmV4dHJhKXtmb3Iobj1zdGF0ZS5leHRyYTtiaXRzPG47KXtpZigwPT09aGF2ZSlicmVhayBpbmZfbGVhdmU7aGF2ZS0tLGhvbGQrPWlucHV0W25leHQrK108PGJpdHMsYml0cys9OH1zdGF0ZS5vZmZzZXQrPWhvbGQmKDE8PHN0YXRlLmV4dHJhKS0xLGhvbGQ+Pj49c3RhdGUuZXh0cmEsYml0cy09c3RhdGUuZXh0cmEsc3RhdGUuYmFjays9c3RhdGUuZXh0cmF9aWYoc3RhdGUub2Zmc2V0PnN0YXRlLmRtYXgpe3N0cm0ubXNnPVwiaW52YWxpZCBkaXN0YW5jZSB0b28gZmFyIGJhY2tcIixzdGF0ZS5tb2RlPUJBRDticmVha31zdGF0ZS5tb2RlPU1BVENIO2Nhc2UgTUFUQ0g6aWYoMD09PWxlZnQpYnJlYWsgaW5mX2xlYXZlO2lmKGNvcHk9X291dC1sZWZ0LHN0YXRlLm9mZnNldD5jb3B5KXtpZigoY29weT1zdGF0ZS5vZmZzZXQtY29weSk+c3RhdGUud2hhdmUmJnN0YXRlLnNhbmUpe3N0cm0ubXNnPVwiaW52YWxpZCBkaXN0YW5jZSB0b28gZmFyIGJhY2tcIixzdGF0ZS5tb2RlPUJBRDticmVha31jb3B5PnN0YXRlLnduZXh0Pyhjb3B5LT1zdGF0ZS53bmV4dCxmcm9tPXN0YXRlLndzaXplLWNvcHkpOmZyb209c3RhdGUud25leHQtY29weSxjb3B5PnN0YXRlLmxlbmd0aCYmKGNvcHk9c3RhdGUubGVuZ3RoKSxmcm9tX3NvdXJjZT1zdGF0ZS53aW5kb3d9ZWxzZSBmcm9tX3NvdXJjZT1vdXRwdXQsZnJvbT1wdXQtc3RhdGUub2Zmc2V0LGNvcHk9c3RhdGUubGVuZ3RoO2NvcHk+bGVmdCYmKGNvcHk9bGVmdCksbGVmdC09Y29weSxzdGF0ZS5sZW5ndGgtPWNvcHk7ZG97b3V0cHV0W3B1dCsrXT1mcm9tX3NvdXJjZVtmcm9tKytdfXdoaWxlKC0tY29weSk7MD09PXN0YXRlLmxlbmd0aCYmKHN0YXRlLm1vZGU9TEVOKTticmVhaztjYXNlIExJVDppZigwPT09bGVmdClicmVhayBpbmZfbGVhdmU7b3V0cHV0W3B1dCsrXT1zdGF0ZS5sZW5ndGgsbGVmdC0tLHN0YXRlLm1vZGU9TEVOO2JyZWFrO2Nhc2UgQ0hFQ0s6aWYoc3RhdGUud3JhcCl7Zm9yKDtiaXRzPDMyOyl7aWYoMD09PWhhdmUpYnJlYWsgaW5mX2xlYXZlO2hhdmUtLSxob2xkfD1pbnB1dFtuZXh0KytdPDxiaXRzLGJpdHMrPTh9aWYoX291dC09bGVmdCxzdHJtLnRvdGFsX291dCs9X291dCxzdGF0ZS50b3RhbCs9X291dCxfb3V0JiYoc3RybS5hZGxlcj1zdGF0ZS5jaGVjaz1zdGF0ZS5mbGFncz9jcmMzMihzdGF0ZS5jaGVjayxvdXRwdXQsX291dCxwdXQtX291dCk6YWRsZXIzMihzdGF0ZS5jaGVjayxvdXRwdXQsX291dCxwdXQtX291dCkpLF9vdXQ9bGVmdCwoc3RhdGUuZmxhZ3M/aG9sZDp6c3dhcDMyKGhvbGQpKSE9PXN0YXRlLmNoZWNrKXtzdHJtLm1zZz1cImluY29ycmVjdCBkYXRhIGNoZWNrXCIsc3RhdGUubW9kZT1CQUQ7YnJlYWt9aG9sZD0wLGJpdHM9MH1zdGF0ZS5tb2RlPUxFTkdUSDtjYXNlIExFTkdUSDppZihzdGF0ZS53cmFwJiZzdGF0ZS5mbGFncyl7Zm9yKDtiaXRzPDMyOyl7aWYoMD09PWhhdmUpYnJlYWsgaW5mX2xlYXZlO2hhdmUtLSxob2xkKz1pbnB1dFtuZXh0KytdPDxiaXRzLGJpdHMrPTh9aWYoaG9sZCE9PSg0Mjk0OTY3Mjk1JnN0YXRlLnRvdGFsKSl7c3RybS5tc2c9XCJpbmNvcnJlY3QgbGVuZ3RoIGNoZWNrXCIsc3RhdGUubW9kZT1CQUQ7YnJlYWt9aG9sZD0wLGJpdHM9MH1zdGF0ZS5tb2RlPURPTkU7Y2FzZSBET05FOnJldD1aX1NUUkVBTV9FTkQ7YnJlYWsgaW5mX2xlYXZlO2Nhc2UgQkFEOnJldD1aX0RBVEFfRVJST1I7YnJlYWsgaW5mX2xlYXZlO2Nhc2UgTUVNOnJldHVybiBaX01FTV9FUlJPUjtjYXNlIFNZTkM6ZGVmYXVsdDpyZXR1cm4gWl9TVFJFQU1fRVJST1J9cmV0dXJuIHN0cm0ubmV4dF9vdXQ9cHV0LHN0cm0uYXZhaWxfb3V0PWxlZnQsc3RybS5uZXh0X2luPW5leHQsc3RybS5hdmFpbF9pbj1oYXZlLHN0YXRlLmhvbGQ9aG9sZCxzdGF0ZS5iaXRzPWJpdHMsKHN0YXRlLndzaXplfHxfb3V0IT09c3RybS5hdmFpbF9vdXQmJnN0YXRlLm1vZGU8QkFEJiYoc3RhdGUubW9kZTxDSEVDS3x8Zmx1c2ghPT1aX0ZJTklTSCkpJiZ1cGRhdGV3aW5kb3coc3RybSxzdHJtLm91dHB1dCxzdHJtLm5leHRfb3V0LF9vdXQtc3RybS5hdmFpbF9vdXQpPyhzdGF0ZS5tb2RlPU1FTSxaX01FTV9FUlJPUik6KF9pbi09c3RybS5hdmFpbF9pbixfb3V0LT1zdHJtLmF2YWlsX291dCxzdHJtLnRvdGFsX2luKz1faW4sc3RybS50b3RhbF9vdXQrPV9vdXQsc3RhdGUudG90YWwrPV9vdXQsc3RhdGUud3JhcCYmX291dCYmKHN0cm0uYWRsZXI9c3RhdGUuY2hlY2s9c3RhdGUuZmxhZ3M/Y3JjMzIoc3RhdGUuY2hlY2ssb3V0cHV0LF9vdXQsc3RybS5uZXh0X291dC1fb3V0KTphZGxlcjMyKHN0YXRlLmNoZWNrLG91dHB1dCxfb3V0LHN0cm0ubmV4dF9vdXQtX291dCkpLHN0cm0uZGF0YV90eXBlPXN0YXRlLmJpdHMrKHN0YXRlLmxhc3Q/NjQ6MCkrKHN0YXRlLm1vZGU9PT1UWVBFPzEyODowKSsoc3RhdGUubW9kZT09PUxFTl98fHN0YXRlLm1vZGU9PT1DT1BZXz8yNTY6MCksKDA9PT1faW4mJjA9PT1fb3V0fHxmbHVzaD09PVpfRklOSVNIKSYmcmV0PT09Wl9PSyYmKHJldD1aX0JVRl9FUlJPUikscmV0KX0sZXhwb3J0cy5pbmZsYXRlRW5kPWZ1bmN0aW9uKHN0cm0pe2lmKCFzdHJtfHwhc3RybS5zdGF0ZSlyZXR1cm4gWl9TVFJFQU1fRVJST1I7dmFyIHN0YXRlPXN0cm0uc3RhdGU7cmV0dXJuIHN0YXRlLndpbmRvdyYmKHN0YXRlLndpbmRvdz1udWxsKSxzdHJtLnN0YXRlPW51bGwsWl9PS30sZXhwb3J0cy5pbmZsYXRlR2V0SGVhZGVyPWZ1bmN0aW9uKHN0cm0saGVhZCl7dmFyIHN0YXRlO3JldHVybiBzdHJtJiZzdHJtLnN0YXRlPzA9PSgyJihzdGF0ZT1zdHJtLnN0YXRlKS53cmFwKT9aX1NUUkVBTV9FUlJPUjooc3RhdGUuaGVhZD1oZWFkLGhlYWQuZG9uZT0hMSxaX09LKTpaX1NUUkVBTV9FUlJPUn0sZXhwb3J0cy5pbmZsYXRlU2V0RGljdGlvbmFyeT1mdW5jdGlvbihzdHJtLGRpY3Rpb25hcnkpe3ZhciBzdGF0ZSxkaWN0TGVuZ3RoPWRpY3Rpb25hcnkubGVuZ3RoO3JldHVybiBzdHJtJiZzdHJtLnN0YXRlPzAhPT0oc3RhdGU9c3RybS5zdGF0ZSkud3JhcCYmc3RhdGUubW9kZSE9PURJQ1Q/Wl9TVFJFQU1fRVJST1I6c3RhdGUubW9kZT09PURJQ1QmJmFkbGVyMzIoMSxkaWN0aW9uYXJ5LGRpY3RMZW5ndGgsMCkhPT1zdGF0ZS5jaGVjaz9aX0RBVEFfRVJST1I6dXBkYXRld2luZG93KHN0cm0sZGljdGlvbmFyeSxkaWN0TGVuZ3RoLGRpY3RMZW5ndGgpPyhzdGF0ZS5tb2RlPU1FTSxaX01FTV9FUlJPUik6KHN0YXRlLmhhdmVkaWN0PTEsWl9PSyk6Wl9TVFJFQU1fRVJST1J9LGV4cG9ydHMuaW5mbGF0ZUluZm89XCJwYWtvIGluZmxhdGUgKGZyb20gTm9kZWNhIHByb2plY3QpXCJ9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO21vZHVsZS5leHBvcnRzPWZ1bmN0aW9uKHN0cm0sc3RhcnQpe3ZhciBzdGF0ZSxfaW4sbGFzdCxfb3V0LGJlZyxlbmQsZG1heCx3c2l6ZSx3aGF2ZSx3bmV4dCxzX3dpbmRvdyxob2xkLGJpdHMsbGNvZGUsZGNvZGUsbG1hc2ssZG1hc2ssaGVyZSxvcCxsZW4sZGlzdCxmcm9tLGZyb21fc291cmNlLGlucHV0LG91dHB1dDtzdGF0ZT1zdHJtLnN0YXRlLF9pbj1zdHJtLm5leHRfaW4saW5wdXQ9c3RybS5pbnB1dCxsYXN0PV9pbisoc3RybS5hdmFpbF9pbi01KSxfb3V0PXN0cm0ubmV4dF9vdXQsb3V0cHV0PXN0cm0ub3V0cHV0LGJlZz1fb3V0LShzdGFydC1zdHJtLmF2YWlsX291dCksZW5kPV9vdXQrKHN0cm0uYXZhaWxfb3V0LTI1NyksZG1heD1zdGF0ZS5kbWF4LHdzaXplPXN0YXRlLndzaXplLHdoYXZlPXN0YXRlLndoYXZlLHduZXh0PXN0YXRlLnduZXh0LHNfd2luZG93PXN0YXRlLndpbmRvdyxob2xkPXN0YXRlLmhvbGQsYml0cz1zdGF0ZS5iaXRzLGxjb2RlPXN0YXRlLmxlbmNvZGUsZGNvZGU9c3RhdGUuZGlzdGNvZGUsbG1hc2s9KDE8PHN0YXRlLmxlbmJpdHMpLTEsZG1hc2s9KDE8PHN0YXRlLmRpc3RiaXRzKS0xO3RvcDpkb3tiaXRzPDE1JiYoaG9sZCs9aW5wdXRbX2luKytdPDxiaXRzLGJpdHMrPTgsaG9sZCs9aW5wdXRbX2luKytdPDxiaXRzLGJpdHMrPTgpLGhlcmU9bGNvZGVbaG9sZCZsbWFza107ZG9sZW46Zm9yKDs7KXtpZihob2xkPj4+PW9wPWhlcmU+Pj4yNCxiaXRzLT1vcCwwPT09KG9wPWhlcmU+Pj4xNiYyNTUpKW91dHB1dFtfb3V0KytdPTY1NTM1JmhlcmU7ZWxzZXtpZighKDE2Jm9wKSl7aWYoMD09KDY0Jm9wKSl7aGVyZT1sY29kZVsoNjU1MzUmaGVyZSkrKGhvbGQmKDE8PG9wKS0xKV07Y29udGludWUgZG9sZW59aWYoMzImb3Ape3N0YXRlLm1vZGU9MTI7YnJlYWsgdG9wfXN0cm0ubXNnPVwiaW52YWxpZCBsaXRlcmFsL2xlbmd0aCBjb2RlXCIsc3RhdGUubW9kZT0zMDticmVhayB0b3B9bGVuPTY1NTM1JmhlcmUsKG9wJj0xNSkmJihiaXRzPG9wJiYoaG9sZCs9aW5wdXRbX2luKytdPDxiaXRzLGJpdHMrPTgpLGxlbis9aG9sZCYoMTw8b3ApLTEsaG9sZD4+Pj1vcCxiaXRzLT1vcCksYml0czwxNSYmKGhvbGQrPWlucHV0W19pbisrXTw8Yml0cyxiaXRzKz04LGhvbGQrPWlucHV0W19pbisrXTw8Yml0cyxiaXRzKz04KSxoZXJlPWRjb2RlW2hvbGQmZG1hc2tdO2RvZGlzdDpmb3IoOzspe2lmKGhvbGQ+Pj49b3A9aGVyZT4+PjI0LGJpdHMtPW9wLCEoMTYmKG9wPWhlcmU+Pj4xNiYyNTUpKSl7aWYoMD09KDY0Jm9wKSl7aGVyZT1kY29kZVsoNjU1MzUmaGVyZSkrKGhvbGQmKDE8PG9wKS0xKV07Y29udGludWUgZG9kaXN0fXN0cm0ubXNnPVwiaW52YWxpZCBkaXN0YW5jZSBjb2RlXCIsc3RhdGUubW9kZT0zMDticmVhayB0b3B9aWYoZGlzdD02NTUzNSZoZXJlLGJpdHM8KG9wJj0xNSkmJihob2xkKz1pbnB1dFtfaW4rK108PGJpdHMsKGJpdHMrPTgpPG9wJiYoaG9sZCs9aW5wdXRbX2luKytdPDxiaXRzLGJpdHMrPTgpKSwoZGlzdCs9aG9sZCYoMTw8b3ApLTEpPmRtYXgpe3N0cm0ubXNnPVwiaW52YWxpZCBkaXN0YW5jZSB0b28gZmFyIGJhY2tcIixzdGF0ZS5tb2RlPTMwO2JyZWFrIHRvcH1pZihob2xkPj4+PW9wLGJpdHMtPW9wLGRpc3Q+KG9wPV9vdXQtYmVnKSl7aWYoKG9wPWRpc3Qtb3ApPndoYXZlJiZzdGF0ZS5zYW5lKXtzdHJtLm1zZz1cImludmFsaWQgZGlzdGFuY2UgdG9vIGZhciBiYWNrXCIsc3RhdGUubW9kZT0zMDticmVhayB0b3B9aWYoZnJvbT0wLGZyb21fc291cmNlPXNfd2luZG93LDA9PT13bmV4dCl7aWYoZnJvbSs9d3NpemUtb3Asb3A8bGVuKXtsZW4tPW9wO2Rve291dHB1dFtfb3V0KytdPXNfd2luZG93W2Zyb20rK119d2hpbGUoLS1vcCk7ZnJvbT1fb3V0LWRpc3QsZnJvbV9zb3VyY2U9b3V0cHV0fX1lbHNlIGlmKHduZXh0PG9wKXtpZihmcm9tKz13c2l6ZSt3bmV4dC1vcCwob3AtPXduZXh0KTxsZW4pe2xlbi09b3A7ZG97b3V0cHV0W19vdXQrK109c193aW5kb3dbZnJvbSsrXX13aGlsZSgtLW9wKTtpZihmcm9tPTAsd25leHQ8bGVuKXtsZW4tPW9wPXduZXh0O2Rve291dHB1dFtfb3V0KytdPXNfd2luZG93W2Zyb20rK119d2hpbGUoLS1vcCk7ZnJvbT1fb3V0LWRpc3QsZnJvbV9zb3VyY2U9b3V0cHV0fX19ZWxzZSBpZihmcm9tKz13bmV4dC1vcCxvcDxsZW4pe2xlbi09b3A7ZG97b3V0cHV0W19vdXQrK109c193aW5kb3dbZnJvbSsrXX13aGlsZSgtLW9wKTtmcm9tPV9vdXQtZGlzdCxmcm9tX3NvdXJjZT1vdXRwdXR9Zm9yKDtsZW4+Mjspb3V0cHV0W19vdXQrK109ZnJvbV9zb3VyY2VbZnJvbSsrXSxvdXRwdXRbX291dCsrXT1mcm9tX3NvdXJjZVtmcm9tKytdLG91dHB1dFtfb3V0KytdPWZyb21fc291cmNlW2Zyb20rK10sbGVuLT0zO2xlbiYmKG91dHB1dFtfb3V0KytdPWZyb21fc291cmNlW2Zyb20rK10sbGVuPjEmJihvdXRwdXRbX291dCsrXT1mcm9tX3NvdXJjZVtmcm9tKytdKSl9ZWxzZXtmcm9tPV9vdXQtZGlzdDtkb3tvdXRwdXRbX291dCsrXT1vdXRwdXRbZnJvbSsrXSxvdXRwdXRbX291dCsrXT1vdXRwdXRbZnJvbSsrXSxvdXRwdXRbX291dCsrXT1vdXRwdXRbZnJvbSsrXSxsZW4tPTN9d2hpbGUobGVuPjIpO2xlbiYmKG91dHB1dFtfb3V0KytdPW91dHB1dFtmcm9tKytdLGxlbj4xJiYob3V0cHV0W19vdXQrK109b3V0cHV0W2Zyb20rK10pKX1icmVha319YnJlYWt9fXdoaWxlKF9pbjxsYXN0JiZfb3V0PGVuZCk7X2luLT1sZW49Yml0cz4+Myxob2xkJj0oMTw8KGJpdHMtPWxlbjw8MykpLTEsc3RybS5uZXh0X2luPV9pbixzdHJtLm5leHRfb3V0PV9vdXQsc3RybS5hdmFpbF9pbj1faW48bGFzdD9sYXN0LV9pbis1OjUtKF9pbi1sYXN0KSxzdHJtLmF2YWlsX291dD1fb3V0PGVuZD9lbmQtX291dCsyNTc6MjU3LShfb3V0LWVuZCksc3RhdGUuaG9sZD1ob2xkLHN0YXRlLmJpdHM9Yml0c319LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO3ZhciB1dGlscz1fX3dlYnBhY2tfcmVxdWlyZV9fKDgpLGxiYXNlPVszLDQsNSw2LDcsOCw5LDEwLDExLDEzLDE1LDE3LDE5LDIzLDI3LDMxLDM1LDQzLDUxLDU5LDY3LDgzLDk5LDExNSwxMzEsMTYzLDE5NSwyMjcsMjU4LDAsMF0sbGV4dD1bMTYsMTYsMTYsMTYsMTYsMTYsMTYsMTYsMTcsMTcsMTcsMTcsMTgsMTgsMTgsMTgsMTksMTksMTksMTksMjAsMjAsMjAsMjAsMjEsMjEsMjEsMjEsMTYsNzIsNzhdLGRiYXNlPVsxLDIsMyw0LDUsNyw5LDEzLDE3LDI1LDMzLDQ5LDY1LDk3LDEyOSwxOTMsMjU3LDM4NSw1MTMsNzY5LDEwMjUsMTUzNywyMDQ5LDMwNzMsNDA5Nyw2MTQ1LDgxOTMsMTIyODksMTYzODUsMjQ1NzcsMCwwXSxkZXh0PVsxNiwxNiwxNiwxNiwxNywxNywxOCwxOCwxOSwxOSwyMCwyMCwyMSwyMSwyMiwyMiwyMywyMywyNCwyNCwyNSwyNSwyNiwyNiwyNywyNywyOCwyOCwyOSwyOSw2NCw2NF07bW9kdWxlLmV4cG9ydHM9ZnVuY3Rpb24odHlwZSxsZW5zLGxlbnNfaW5kZXgsY29kZXMsdGFibGUsdGFibGVfaW5kZXgsd29yayxvcHRzKXt2YXIgaW5jcixmaWxsLGxvdyxtYXNrLG5leHQsZW5kLGhlcmVfYml0cyxoZXJlX29wLGhlcmVfdmFsLGJpdHM9b3B0cy5iaXRzLGxlbj0wLHN5bT0wLG1pbj0wLG1heD0wLHJvb3Q9MCxjdXJyPTAsZHJvcD0wLGxlZnQ9MCx1c2VkPTAsaHVmZj0wLGJhc2U9bnVsbCxiYXNlX2luZGV4PTAsY291bnQ9bmV3IHV0aWxzLkJ1ZjE2KDE2KSxvZmZzPW5ldyB1dGlscy5CdWYxNigxNiksZXh0cmE9bnVsbCxleHRyYV9pbmRleD0wO2ZvcihsZW49MDtsZW48PTE1O2xlbisrKWNvdW50W2xlbl09MDtmb3Ioc3ltPTA7c3ltPGNvZGVzO3N5bSsrKWNvdW50W2xlbnNbbGVuc19pbmRleCtzeW1dXSsrO2Zvcihyb290PWJpdHMsbWF4PTE1O21heD49MSYmMD09PWNvdW50W21heF07bWF4LS0pO2lmKHJvb3Q+bWF4JiYocm9vdD1tYXgpLDA9PT1tYXgpcmV0dXJuIHRhYmxlW3RhYmxlX2luZGV4KytdPTIwOTcxNTIwLHRhYmxlW3RhYmxlX2luZGV4KytdPTIwOTcxNTIwLG9wdHMuYml0cz0xLDA7Zm9yKG1pbj0xO21pbjxtYXgmJjA9PT1jb3VudFttaW5dO21pbisrKTtmb3Iocm9vdDxtaW4mJihyb290PW1pbiksbGVmdD0xLGxlbj0xO2xlbjw9MTU7bGVuKyspaWYobGVmdDw8PTEsKGxlZnQtPWNvdW50W2xlbl0pPDApcmV0dXJuLTE7aWYobGVmdD4wJiYoMD09PXR5cGV8fDEhPT1tYXgpKXJldHVybi0xO2ZvcihvZmZzWzFdPTAsbGVuPTE7bGVuPDE1O2xlbisrKW9mZnNbbGVuKzFdPW9mZnNbbGVuXStjb3VudFtsZW5dO2ZvcihzeW09MDtzeW08Y29kZXM7c3ltKyspMCE9PWxlbnNbbGVuc19pbmRleCtzeW1dJiYod29ya1tvZmZzW2xlbnNbbGVuc19pbmRleCtzeW1dXSsrXT1zeW0pO2lmKDA9PT10eXBlPyhiYXNlPWV4dHJhPXdvcmssZW5kPTE5KToxPT09dHlwZT8oYmFzZT1sYmFzZSxiYXNlX2luZGV4LT0yNTcsZXh0cmE9bGV4dCxleHRyYV9pbmRleC09MjU3LGVuZD0yNTYpOihiYXNlPWRiYXNlLGV4dHJhPWRleHQsZW5kPS0xKSxodWZmPTAsc3ltPTAsbGVuPW1pbixuZXh0PXRhYmxlX2luZGV4LGN1cnI9cm9vdCxkcm9wPTAsbG93PS0xLG1hc2s9KHVzZWQ9MTw8cm9vdCktMSwxPT09dHlwZSYmdXNlZD44NTJ8fDI9PT10eXBlJiZ1c2VkPjU5MilyZXR1cm4gMTtmb3IoOzspe2hlcmVfYml0cz1sZW4tZHJvcCx3b3JrW3N5bV08ZW5kPyhoZXJlX29wPTAsaGVyZV92YWw9d29ya1tzeW1dKTp3b3JrW3N5bV0+ZW5kPyhoZXJlX29wPWV4dHJhW2V4dHJhX2luZGV4K3dvcmtbc3ltXV0saGVyZV92YWw9YmFzZVtiYXNlX2luZGV4K3dvcmtbc3ltXV0pOihoZXJlX29wPTk2LGhlcmVfdmFsPTApLGluY3I9MTw8bGVuLWRyb3AsbWluPWZpbGw9MTw8Y3Vycjtkb3t0YWJsZVtuZXh0KyhodWZmPj5kcm9wKSsoZmlsbC09aW5jcildPWhlcmVfYml0czw8MjR8aGVyZV9vcDw8MTZ8aGVyZV92YWx8MH13aGlsZSgwIT09ZmlsbCk7Zm9yKGluY3I9MTw8bGVuLTE7aHVmZiZpbmNyOylpbmNyPj49MTtpZigwIT09aW5jcj8oaHVmZiY9aW5jci0xLGh1ZmYrPWluY3IpOmh1ZmY9MCxzeW0rKywwPT0tLWNvdW50W2xlbl0pe2lmKGxlbj09PW1heClicmVhaztsZW49bGVuc1tsZW5zX2luZGV4K3dvcmtbc3ltXV19aWYobGVuPnJvb3QmJihodWZmJm1hc2spIT09bG93KXtmb3IoMD09PWRyb3AmJihkcm9wPXJvb3QpLG5leHQrPW1pbixsZWZ0PTE8PChjdXJyPWxlbi1kcm9wKTtjdXJyK2Ryb3A8bWF4JiYhKChsZWZ0LT1jb3VudFtjdXJyK2Ryb3BdKTw9MCk7KWN1cnIrKyxsZWZ0PDw9MTtpZih1c2VkKz0xPDxjdXJyLDE9PT10eXBlJiZ1c2VkPjg1Mnx8Mj09PXR5cGUmJnVzZWQ+NTkyKXJldHVybiAxO3RhYmxlW2xvdz1odWZmJm1hc2tdPXJvb3Q8PDI0fGN1cnI8PDE2fG5leHQtdGFibGVfaW5kZXh8MH19cmV0dXJuIDAhPT1odWZmJiYodGFibGVbbmV4dCtodWZmXT1sZW4tZHJvcDw8MjR8NjQ8PDE2fDApLG9wdHMuYml0cz1yb290LDB9fSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjttb2R1bGUuZXhwb3J0cz1mdW5jdGlvbigpe3RoaXMudGV4dD0wLHRoaXMudGltZT0wLHRoaXMueGZsYWdzPTAsdGhpcy5vcz0wLHRoaXMuZXh0cmE9bnVsbCx0aGlzLmV4dHJhX2xlbj0wLHRoaXMubmFtZT1cIlwiLHRoaXMuY29tbWVudD1cIlwiLHRoaXMuaGNyYz0wLHRoaXMuZG9uZT0hMX19LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO3ZhciB1dGlscz1fX3dlYnBhY2tfcmVxdWlyZV9fKDApLEdlbmVyaWNXb3JrZXI9X193ZWJwYWNrX3JlcXVpcmVfXygzKSx1dGY4PV9fd2VicGFja19yZXF1aXJlX18oMTYpLGNyYzMyPV9fd2VicGFja19yZXF1aXJlX18oNDQpLHNpZ25hdHVyZT1fX3dlYnBhY2tfcmVxdWlyZV9fKDcxKSxkZWNUb0hleD1mdW5jdGlvbihkZWMsYnl0ZXMpe3ZhciBpLGhleD1cIlwiO2ZvcihpPTA7aTxieXRlcztpKyspaGV4Kz1TdHJpbmcuZnJvbUNoYXJDb2RlKDI1NSZkZWMpLGRlYz4+Pj04O3JldHVybiBoZXh9LGdlbmVyYXRlWmlwUGFydHM9ZnVuY3Rpb24oc3RyZWFtSW5mbyxzdHJlYW1lZENvbnRlbnQsc3RyZWFtaW5nRW5kZWQsb2Zmc2V0LHBsYXRmb3JtLGVuY29kZUZpbGVOYW1lKXt2YXIgZG9zVGltZSxkb3NEYXRlLGZpbGU9c3RyZWFtSW5mby5maWxlLGNvbXByZXNzaW9uPXN0cmVhbUluZm8uY29tcHJlc3Npb24sdXNlQ3VzdG9tRW5jb2Rpbmc9ZW5jb2RlRmlsZU5hbWUhPT11dGY4LnV0ZjhlbmNvZGUsZW5jb2RlZEZpbGVOYW1lPXV0aWxzLnRyYW5zZm9ybVRvKFwic3RyaW5nXCIsZW5jb2RlRmlsZU5hbWUoZmlsZS5uYW1lKSksdXRmRW5jb2RlZEZpbGVOYW1lPXV0aWxzLnRyYW5zZm9ybVRvKFwic3RyaW5nXCIsdXRmOC51dGY4ZW5jb2RlKGZpbGUubmFtZSkpLGNvbW1lbnQ9ZmlsZS5jb21tZW50LGVuY29kZWRDb21tZW50PXV0aWxzLnRyYW5zZm9ybVRvKFwic3RyaW5nXCIsZW5jb2RlRmlsZU5hbWUoY29tbWVudCkpLHV0ZkVuY29kZWRDb21tZW50PXV0aWxzLnRyYW5zZm9ybVRvKFwic3RyaW5nXCIsdXRmOC51dGY4ZW5jb2RlKGNvbW1lbnQpKSx1c2VVVEY4Rm9yRmlsZU5hbWU9dXRmRW5jb2RlZEZpbGVOYW1lLmxlbmd0aCE9PWZpbGUubmFtZS5sZW5ndGgsdXNlVVRGOEZvckNvbW1lbnQ9dXRmRW5jb2RlZENvbW1lbnQubGVuZ3RoIT09Y29tbWVudC5sZW5ndGgsZXh0cmFGaWVsZHM9XCJcIix1bmljb2RlUGF0aEV4dHJhRmllbGQ9XCJcIix1bmljb2RlQ29tbWVudEV4dHJhRmllbGQ9XCJcIixkaXI9ZmlsZS5kaXIsZGF0ZT1maWxlLmRhdGUsZGF0YUluZm89e2NyYzMyOjAsY29tcHJlc3NlZFNpemU6MCx1bmNvbXByZXNzZWRTaXplOjB9O3N0cmVhbWVkQ29udGVudCYmIXN0cmVhbWluZ0VuZGVkfHwoZGF0YUluZm8uY3JjMzI9c3RyZWFtSW5mby5jcmMzMixkYXRhSW5mby5jb21wcmVzc2VkU2l6ZT1zdHJlYW1JbmZvLmNvbXByZXNzZWRTaXplLGRhdGFJbmZvLnVuY29tcHJlc3NlZFNpemU9c3RyZWFtSW5mby51bmNvbXByZXNzZWRTaXplKTt2YXIgYml0ZmxhZz0wO3N0cmVhbWVkQ29udGVudCYmKGJpdGZsYWd8PTgpLHVzZUN1c3RvbUVuY29kaW5nfHwhdXNlVVRGOEZvckZpbGVOYW1lJiYhdXNlVVRGOEZvckNvbW1lbnR8fChiaXRmbGFnfD0yMDQ4KTt2YXIgZXh0RmlsZUF0dHI9MCx2ZXJzaW9uTWFkZUJ5PTA7ZGlyJiYoZXh0RmlsZUF0dHJ8PTE2KSxcIlVOSVhcIj09PXBsYXRmb3JtPyh2ZXJzaW9uTWFkZUJ5PTc5OCxleHRGaWxlQXR0cnw9ZnVuY3Rpb24odW5peFBlcm1pc3Npb25zLGlzRGlyKXt2YXIgcmVzdWx0PXVuaXhQZXJtaXNzaW9ucztyZXR1cm4gdW5peFBlcm1pc3Npb25zfHwocmVzdWx0PWlzRGlyPzE2ODkzOjMzMjA0KSwoNjU1MzUmcmVzdWx0KTw8MTZ9KGZpbGUudW5peFBlcm1pc3Npb25zLGRpcikpOih2ZXJzaW9uTWFkZUJ5PTIwLGV4dEZpbGVBdHRyfD1mdW5jdGlvbihkb3NQZXJtaXNzaW9ucyxpc0Rpcil7cmV0dXJuIDYzJihkb3NQZXJtaXNzaW9uc3x8MCl9KGZpbGUuZG9zUGVybWlzc2lvbnMpKSxkb3NUaW1lPWRhdGUuZ2V0VVRDSG91cnMoKSxkb3NUaW1lPDw9Nixkb3NUaW1lfD1kYXRlLmdldFVUQ01pbnV0ZXMoKSxkb3NUaW1lPDw9NSxkb3NUaW1lfD1kYXRlLmdldFVUQ1NlY29uZHMoKS8yLGRvc0RhdGU9ZGF0ZS5nZXRVVENGdWxsWWVhcigpLTE5ODAsZG9zRGF0ZTw8PTQsZG9zRGF0ZXw9ZGF0ZS5nZXRVVENNb250aCgpKzEsZG9zRGF0ZTw8PTUsZG9zRGF0ZXw9ZGF0ZS5nZXRVVENEYXRlKCksdXNlVVRGOEZvckZpbGVOYW1lJiYodW5pY29kZVBhdGhFeHRyYUZpZWxkPWRlY1RvSGV4KDEsMSkrZGVjVG9IZXgoY3JjMzIoZW5jb2RlZEZpbGVOYW1lKSw0KSt1dGZFbmNvZGVkRmlsZU5hbWUsZXh0cmFGaWVsZHMrPVwidXBcIitkZWNUb0hleCh1bmljb2RlUGF0aEV4dHJhRmllbGQubGVuZ3RoLDIpK3VuaWNvZGVQYXRoRXh0cmFGaWVsZCksdXNlVVRGOEZvckNvbW1lbnQmJih1bmljb2RlQ29tbWVudEV4dHJhRmllbGQ9ZGVjVG9IZXgoMSwxKStkZWNUb0hleChjcmMzMihlbmNvZGVkQ29tbWVudCksNCkrdXRmRW5jb2RlZENvbW1lbnQsZXh0cmFGaWVsZHMrPVwidWNcIitkZWNUb0hleCh1bmljb2RlQ29tbWVudEV4dHJhRmllbGQubGVuZ3RoLDIpK3VuaWNvZGVDb21tZW50RXh0cmFGaWVsZCk7dmFyIGhlYWRlcj1cIlwiO3JldHVybiBoZWFkZXIrPVwiXFxuXFwwXCIsaGVhZGVyKz1kZWNUb0hleChiaXRmbGFnLDIpLGhlYWRlcis9Y29tcHJlc3Npb24ubWFnaWMsaGVhZGVyKz1kZWNUb0hleChkb3NUaW1lLDIpLGhlYWRlcis9ZGVjVG9IZXgoZG9zRGF0ZSwyKSxoZWFkZXIrPWRlY1RvSGV4KGRhdGFJbmZvLmNyYzMyLDQpLGhlYWRlcis9ZGVjVG9IZXgoZGF0YUluZm8uY29tcHJlc3NlZFNpemUsNCksaGVhZGVyKz1kZWNUb0hleChkYXRhSW5mby51bmNvbXByZXNzZWRTaXplLDQpLGhlYWRlcis9ZGVjVG9IZXgoZW5jb2RlZEZpbGVOYW1lLmxlbmd0aCwyKSxoZWFkZXIrPWRlY1RvSGV4KGV4dHJhRmllbGRzLmxlbmd0aCwyKSx7ZmlsZVJlY29yZDpzaWduYXR1cmUuTE9DQUxfRklMRV9IRUFERVIraGVhZGVyK2VuY29kZWRGaWxlTmFtZStleHRyYUZpZWxkcyxkaXJSZWNvcmQ6c2lnbmF0dXJlLkNFTlRSQUxfRklMRV9IRUFERVIrZGVjVG9IZXgodmVyc2lvbk1hZGVCeSwyKStoZWFkZXIrZGVjVG9IZXgoZW5jb2RlZENvbW1lbnQubGVuZ3RoLDIpK1wiXFwwXFwwXFwwXFwwXCIrZGVjVG9IZXgoZXh0RmlsZUF0dHIsNCkrZGVjVG9IZXgob2Zmc2V0LDQpK2VuY29kZWRGaWxlTmFtZStleHRyYUZpZWxkcytlbmNvZGVkQ29tbWVudH19O2Z1bmN0aW9uIFppcEZpbGVXb3JrZXIoc3RyZWFtRmlsZXMsY29tbWVudCxwbGF0Zm9ybSxlbmNvZGVGaWxlTmFtZSl7R2VuZXJpY1dvcmtlci5jYWxsKHRoaXMsXCJaaXBGaWxlV29ya2VyXCIpLHRoaXMuYnl0ZXNXcml0dGVuPTAsdGhpcy56aXBDb21tZW50PWNvbW1lbnQsdGhpcy56aXBQbGF0Zm9ybT1wbGF0Zm9ybSx0aGlzLmVuY29kZUZpbGVOYW1lPWVuY29kZUZpbGVOYW1lLHRoaXMuc3RyZWFtRmlsZXM9c3RyZWFtRmlsZXMsdGhpcy5hY2N1bXVsYXRlPSExLHRoaXMuY29udGVudEJ1ZmZlcj1bXSx0aGlzLmRpclJlY29yZHM9W10sdGhpcy5jdXJyZW50U291cmNlT2Zmc2V0PTAsdGhpcy5lbnRyaWVzQ291bnQ9MCx0aGlzLmN1cnJlbnRGaWxlPW51bGwsdGhpcy5fc291cmNlcz1bXX11dGlscy5pbmhlcml0cyhaaXBGaWxlV29ya2VyLEdlbmVyaWNXb3JrZXIpLFppcEZpbGVXb3JrZXIucHJvdG90eXBlLnB1c2g9ZnVuY3Rpb24oY2h1bmspe3ZhciBjdXJyZW50RmlsZVBlcmNlbnQ9Y2h1bmsubWV0YS5wZXJjZW50fHwwLGVudHJpZXNDb3VudD10aGlzLmVudHJpZXNDb3VudCxyZW1haW5pbmdGaWxlcz10aGlzLl9zb3VyY2VzLmxlbmd0aDt0aGlzLmFjY3VtdWxhdGU/dGhpcy5jb250ZW50QnVmZmVyLnB1c2goY2h1bmspOih0aGlzLmJ5dGVzV3JpdHRlbis9Y2h1bmsuZGF0YS5sZW5ndGgsR2VuZXJpY1dvcmtlci5wcm90b3R5cGUucHVzaC5jYWxsKHRoaXMse2RhdGE6Y2h1bmsuZGF0YSxtZXRhOntjdXJyZW50RmlsZTp0aGlzLmN1cnJlbnRGaWxlLHBlcmNlbnQ6ZW50cmllc0NvdW50PyhjdXJyZW50RmlsZVBlcmNlbnQrMTAwKihlbnRyaWVzQ291bnQtcmVtYWluaW5nRmlsZXMtMSkpL2VudHJpZXNDb3VudDoxMDB9fSkpfSxaaXBGaWxlV29ya2VyLnByb3RvdHlwZS5vcGVuZWRTb3VyY2U9ZnVuY3Rpb24oc3RyZWFtSW5mbyl7dGhpcy5jdXJyZW50U291cmNlT2Zmc2V0PXRoaXMuYnl0ZXNXcml0dGVuLHRoaXMuY3VycmVudEZpbGU9c3RyZWFtSW5mby5maWxlLm5hbWU7dmFyIHN0cmVhbWVkQ29udGVudD10aGlzLnN0cmVhbUZpbGVzJiYhc3RyZWFtSW5mby5maWxlLmRpcjtpZihzdHJlYW1lZENvbnRlbnQpe3ZhciByZWNvcmQ9Z2VuZXJhdGVaaXBQYXJ0cyhzdHJlYW1JbmZvLHN0cmVhbWVkQ29udGVudCwhMSx0aGlzLmN1cnJlbnRTb3VyY2VPZmZzZXQsdGhpcy56aXBQbGF0Zm9ybSx0aGlzLmVuY29kZUZpbGVOYW1lKTt0aGlzLnB1c2goe2RhdGE6cmVjb3JkLmZpbGVSZWNvcmQsbWV0YTp7cGVyY2VudDowfX0pfWVsc2UgdGhpcy5hY2N1bXVsYXRlPSEwfSxaaXBGaWxlV29ya2VyLnByb3RvdHlwZS5jbG9zZWRTb3VyY2U9ZnVuY3Rpb24oc3RyZWFtSW5mbyl7dGhpcy5hY2N1bXVsYXRlPSExO3ZhciBzdHJlYW1lZENvbnRlbnQ9dGhpcy5zdHJlYW1GaWxlcyYmIXN0cmVhbUluZm8uZmlsZS5kaXIscmVjb3JkPWdlbmVyYXRlWmlwUGFydHMoc3RyZWFtSW5mbyxzdHJlYW1lZENvbnRlbnQsITAsdGhpcy5jdXJyZW50U291cmNlT2Zmc2V0LHRoaXMuemlwUGxhdGZvcm0sdGhpcy5lbmNvZGVGaWxlTmFtZSk7aWYodGhpcy5kaXJSZWNvcmRzLnB1c2gocmVjb3JkLmRpclJlY29yZCksc3RyZWFtZWRDb250ZW50KXRoaXMucHVzaCh7ZGF0YTpmdW5jdGlvbihzdHJlYW1JbmZvKXtyZXR1cm4gc2lnbmF0dXJlLkRBVEFfREVTQ1JJUFRPUitkZWNUb0hleChzdHJlYW1JbmZvLmNyYzMyLDQpK2RlY1RvSGV4KHN0cmVhbUluZm8uY29tcHJlc3NlZFNpemUsNCkrZGVjVG9IZXgoc3RyZWFtSW5mby51bmNvbXByZXNzZWRTaXplLDQpfShzdHJlYW1JbmZvKSxtZXRhOntwZXJjZW50OjEwMH19KTtlbHNlIGZvcih0aGlzLnB1c2goe2RhdGE6cmVjb3JkLmZpbGVSZWNvcmQsbWV0YTp7cGVyY2VudDowfX0pO3RoaXMuY29udGVudEJ1ZmZlci5sZW5ndGg7KXRoaXMucHVzaCh0aGlzLmNvbnRlbnRCdWZmZXIuc2hpZnQoKSk7dGhpcy5jdXJyZW50RmlsZT1udWxsfSxaaXBGaWxlV29ya2VyLnByb3RvdHlwZS5mbHVzaD1mdW5jdGlvbigpe2Zvcih2YXIgbG9jYWxEaXJMZW5ndGg9dGhpcy5ieXRlc1dyaXR0ZW4saT0wO2k8dGhpcy5kaXJSZWNvcmRzLmxlbmd0aDtpKyspdGhpcy5wdXNoKHtkYXRhOnRoaXMuZGlyUmVjb3Jkc1tpXSxtZXRhOntwZXJjZW50OjEwMH19KTt2YXIgY2VudHJhbERpckxlbmd0aD10aGlzLmJ5dGVzV3JpdHRlbi1sb2NhbERpckxlbmd0aCxkaXJFbmQ9ZnVuY3Rpb24oZW50cmllc0NvdW50LGNlbnRyYWxEaXJMZW5ndGgsbG9jYWxEaXJMZW5ndGgsY29tbWVudCxlbmNvZGVGaWxlTmFtZSl7dmFyIGVuY29kZWRDb21tZW50PXV0aWxzLnRyYW5zZm9ybVRvKFwic3RyaW5nXCIsZW5jb2RlRmlsZU5hbWUoY29tbWVudCkpO3JldHVybiBzaWduYXR1cmUuQ0VOVFJBTF9ESVJFQ1RPUllfRU5EK1wiXFwwXFwwXFwwXFwwXCIrZGVjVG9IZXgoZW50cmllc0NvdW50LDIpK2RlY1RvSGV4KGVudHJpZXNDb3VudCwyKStkZWNUb0hleChjZW50cmFsRGlyTGVuZ3RoLDQpK2RlY1RvSGV4KGxvY2FsRGlyTGVuZ3RoLDQpK2RlY1RvSGV4KGVuY29kZWRDb21tZW50Lmxlbmd0aCwyKStlbmNvZGVkQ29tbWVudH0odGhpcy5kaXJSZWNvcmRzLmxlbmd0aCxjZW50cmFsRGlyTGVuZ3RoLGxvY2FsRGlyTGVuZ3RoLHRoaXMuemlwQ29tbWVudCx0aGlzLmVuY29kZUZpbGVOYW1lKTt0aGlzLnB1c2goe2RhdGE6ZGlyRW5kLG1ldGE6e3BlcmNlbnQ6MTAwfX0pfSxaaXBGaWxlV29ya2VyLnByb3RvdHlwZS5wcmVwYXJlTmV4dFNvdXJjZT1mdW5jdGlvbigpe3RoaXMucHJldmlvdXM9dGhpcy5fc291cmNlcy5zaGlmdCgpLHRoaXMub3BlbmVkU291cmNlKHRoaXMucHJldmlvdXMuc3RyZWFtSW5mbyksdGhpcy5pc1BhdXNlZD90aGlzLnByZXZpb3VzLnBhdXNlKCk6dGhpcy5wcmV2aW91cy5yZXN1bWUoKX0sWmlwRmlsZVdvcmtlci5wcm90b3R5cGUucmVnaXN0ZXJQcmV2aW91cz1mdW5jdGlvbihwcmV2aW91cyl7dGhpcy5fc291cmNlcy5wdXNoKHByZXZpb3VzKTt2YXIgc2VsZj10aGlzO3JldHVybiBwcmV2aW91cy5vbihcImRhdGFcIixmdW5jdGlvbihjaHVuayl7c2VsZi5wcm9jZXNzQ2h1bmsoY2h1bmspfSkscHJldmlvdXMub24oXCJlbmRcIixmdW5jdGlvbigpe3NlbGYuY2xvc2VkU291cmNlKHNlbGYucHJldmlvdXMuc3RyZWFtSW5mbyksc2VsZi5fc291cmNlcy5sZW5ndGg/c2VsZi5wcmVwYXJlTmV4dFNvdXJjZSgpOnNlbGYuZW5kKCl9KSxwcmV2aW91cy5vbihcImVycm9yXCIsZnVuY3Rpb24oZSl7c2VsZi5lcnJvcihlKX0pLHRoaXN9LFppcEZpbGVXb3JrZXIucHJvdG90eXBlLnJlc3VtZT1mdW5jdGlvbigpe3JldHVybiEhR2VuZXJpY1dvcmtlci5wcm90b3R5cGUucmVzdW1lLmNhbGwodGhpcykmJighdGhpcy5wcmV2aW91cyYmdGhpcy5fc291cmNlcy5sZW5ndGg/KHRoaXMucHJlcGFyZU5leHRTb3VyY2UoKSwhMCk6dGhpcy5wcmV2aW91c3x8dGhpcy5fc291cmNlcy5sZW5ndGh8fHRoaXMuZ2VuZXJhdGVkRXJyb3I/dm9pZCAwOih0aGlzLmVuZCgpLCEwKSl9LFppcEZpbGVXb3JrZXIucHJvdG90eXBlLmVycm9yPWZ1bmN0aW9uKGUpe3ZhciBzb3VyY2VzPXRoaXMuX3NvdXJjZXM7aWYoIUdlbmVyaWNXb3JrZXIucHJvdG90eXBlLmVycm9yLmNhbGwodGhpcyxlKSlyZXR1cm4hMTtmb3IodmFyIGk9MDtpPHNvdXJjZXMubGVuZ3RoO2krKyl0cnl7c291cmNlc1tpXS5lcnJvcihlKX1jYXRjaChlKXt9cmV0dXJuITB9LFppcEZpbGVXb3JrZXIucHJvdG90eXBlLmxvY2s9ZnVuY3Rpb24oKXtHZW5lcmljV29ya2VyLnByb3RvdHlwZS5sb2NrLmNhbGwodGhpcyk7Zm9yKHZhciBzb3VyY2VzPXRoaXMuX3NvdXJjZXMsaT0wO2k8c291cmNlcy5sZW5ndGg7aSsrKXNvdXJjZXNbaV0ubG9jaygpfSxtb2R1bGUuZXhwb3J0cz1aaXBGaWxlV29ya2VyfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjt2YXIgdXRpbHM9X193ZWJwYWNrX3JlcXVpcmVfXygwKSxHZW5lcmljV29ya2VyPV9fd2VicGFja19yZXF1aXJlX18oMyk7ZnVuY3Rpb24gTm9kZWpzU3RyZWFtSW5wdXRBZGFwdGVyKGZpbGVuYW1lLHN0cmVhbSl7R2VuZXJpY1dvcmtlci5jYWxsKHRoaXMsXCJOb2RlanMgc3RyZWFtIGlucHV0IGFkYXB0ZXIgZm9yIFwiK2ZpbGVuYW1lKSx0aGlzLl91cHN0cmVhbUVuZGVkPSExLHRoaXMuX2JpbmRTdHJlYW0oc3RyZWFtKX11dGlscy5pbmhlcml0cyhOb2RlanNTdHJlYW1JbnB1dEFkYXB0ZXIsR2VuZXJpY1dvcmtlciksTm9kZWpzU3RyZWFtSW5wdXRBZGFwdGVyLnByb3RvdHlwZS5fYmluZFN0cmVhbT1mdW5jdGlvbihzdHJlYW0pe3ZhciBzZWxmPXRoaXM7dGhpcy5fc3RyZWFtPXN0cmVhbSxzdHJlYW0ucGF1c2UoKSxzdHJlYW0ub24oXCJkYXRhXCIsZnVuY3Rpb24oY2h1bmspe3NlbGYucHVzaCh7ZGF0YTpjaHVuayxtZXRhOntwZXJjZW50OjB9fSl9KS5vbihcImVycm9yXCIsZnVuY3Rpb24oZSl7c2VsZi5pc1BhdXNlZD90aGlzLmdlbmVyYXRlZEVycm9yPWU6c2VsZi5lcnJvcihlKX0pLm9uKFwiZW5kXCIsZnVuY3Rpb24oKXtzZWxmLmlzUGF1c2VkP3NlbGYuX3Vwc3RyZWFtRW5kZWQ9ITA6c2VsZi5lbmQoKX0pfSxOb2RlanNTdHJlYW1JbnB1dEFkYXB0ZXIucHJvdG90eXBlLnBhdXNlPWZ1bmN0aW9uKCl7cmV0dXJuISFHZW5lcmljV29ya2VyLnByb3RvdHlwZS5wYXVzZS5jYWxsKHRoaXMpJiYodGhpcy5fc3RyZWFtLnBhdXNlKCksITApfSxOb2RlanNTdHJlYW1JbnB1dEFkYXB0ZXIucHJvdG90eXBlLnJlc3VtZT1mdW5jdGlvbigpe3JldHVybiEhR2VuZXJpY1dvcmtlci5wcm90b3R5cGUucmVzdW1lLmNhbGwodGhpcykmJih0aGlzLl91cHN0cmVhbUVuZGVkP3RoaXMuZW5kKCk6dGhpcy5fc3RyZWFtLnJlc3VtZSgpLCEwKX0sbW9kdWxlLmV4cG9ydHM9Tm9kZWpzU3RyZWFtSW5wdXRBZGFwdGVyfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjt2YXIgdXRpbHM9X193ZWJwYWNrX3JlcXVpcmVfXygwKSxleHRlcm5hbD1fX3dlYnBhY2tfcmVxdWlyZV9fKDI5KSx1dGY4PV9fd2VicGFja19yZXF1aXJlX18oMTYpLFppcEVudHJpZXM9KHV0aWxzPV9fd2VicGFja19yZXF1aXJlX18oMCksX193ZWJwYWNrX3JlcXVpcmVfXygxMjIpKSxDcmMzMlByb2JlPV9fd2VicGFja19yZXF1aXJlX18oNjQpLG5vZGVqc1V0aWxzPV9fd2VicGFja19yZXF1aXJlX18oMzUpO2Z1bmN0aW9uIGNoZWNrRW50cnlDUkMzMih6aXBFbnRyeSl7cmV0dXJuIG5ldyBleHRlcm5hbC5Qcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUscmVqZWN0KXt2YXIgd29ya2VyPXppcEVudHJ5LmRlY29tcHJlc3NlZC5nZXRDb250ZW50V29ya2VyKCkucGlwZShuZXcgQ3JjMzJQcm9iZSk7d29ya2VyLm9uKFwiZXJyb3JcIixmdW5jdGlvbihlKXtyZWplY3QoZSl9KS5vbihcImVuZFwiLGZ1bmN0aW9uKCl7d29ya2VyLnN0cmVhbUluZm8uY3JjMzIhPT16aXBFbnRyeS5kZWNvbXByZXNzZWQuY3JjMzI/cmVqZWN0KG5ldyBFcnJvcihcIkNvcnJ1cHRlZCB6aXAgOiBDUkMzMiBtaXNtYXRjaFwiKSk6cmVzb2x2ZSgpfSkucmVzdW1lKCl9KX1tb2R1bGUuZXhwb3J0cz1mdW5jdGlvbihkYXRhLG9wdGlvbnMpe3ZhciB6aXA9dGhpcztyZXR1cm4gb3B0aW9ucz11dGlscy5leHRlbmQob3B0aW9uc3x8e30se2Jhc2U2NDohMSxjaGVja0NSQzMyOiExLG9wdGltaXplZEJpbmFyeVN0cmluZzohMSxjcmVhdGVGb2xkZXJzOiExLGRlY29kZUZpbGVOYW1lOnV0ZjgudXRmOGRlY29kZX0pLG5vZGVqc1V0aWxzLmlzTm9kZSYmbm9kZWpzVXRpbHMuaXNTdHJlYW0oZGF0YSk/ZXh0ZXJuYWwuUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKFwiSlNaaXAgY2FuJ3QgYWNjZXB0IGEgc3RyZWFtIHdoZW4gbG9hZGluZyBhIHppcCBmaWxlLlwiKSk6dXRpbHMucHJlcGFyZUNvbnRlbnQoXCJ0aGUgbG9hZGVkIHppcCBmaWxlXCIsZGF0YSwhMCxvcHRpb25zLm9wdGltaXplZEJpbmFyeVN0cmluZyxvcHRpb25zLmJhc2U2NCkudGhlbihmdW5jdGlvbihkYXRhKXt2YXIgemlwRW50cmllcz1uZXcgWmlwRW50cmllcyhvcHRpb25zKTtyZXR1cm4gemlwRW50cmllcy5sb2FkKGRhdGEpLHppcEVudHJpZXN9KS50aGVuKGZ1bmN0aW9uKHppcEVudHJpZXMpe3ZhciBwcm9taXNlcz1bZXh0ZXJuYWwuUHJvbWlzZS5yZXNvbHZlKHppcEVudHJpZXMpXSxmaWxlcz16aXBFbnRyaWVzLmZpbGVzO2lmKG9wdGlvbnMuY2hlY2tDUkMzMilmb3IodmFyIGk9MDtpPGZpbGVzLmxlbmd0aDtpKyspcHJvbWlzZXMucHVzaChjaGVja0VudHJ5Q1JDMzIoZmlsZXNbaV0pKTtyZXR1cm4gZXh0ZXJuYWwuUHJvbWlzZS5hbGwocHJvbWlzZXMpfSkudGhlbihmdW5jdGlvbihyZXN1bHRzKXtmb3IodmFyIHppcEVudHJpZXM9cmVzdWx0cy5zaGlmdCgpLGZpbGVzPXppcEVudHJpZXMuZmlsZXMsaT0wO2k8ZmlsZXMubGVuZ3RoO2krKyl7dmFyIGlucHV0PWZpbGVzW2ldO3ppcC5maWxlKGlucHV0LmZpbGVOYW1lU3RyLGlucHV0LmRlY29tcHJlc3NlZCx7YmluYXJ5OiEwLG9wdGltaXplZEJpbmFyeVN0cmluZzohMCxkYXRlOmlucHV0LmRhdGUsZGlyOmlucHV0LmRpcixjb21tZW50OmlucHV0LmZpbGVDb21tZW50U3RyLmxlbmd0aD9pbnB1dC5maWxlQ29tbWVudFN0cjpudWxsLHVuaXhQZXJtaXNzaW9uczppbnB1dC51bml4UGVybWlzc2lvbnMsZG9zUGVybWlzc2lvbnM6aW5wdXQuZG9zUGVybWlzc2lvbnMsY3JlYXRlRm9sZGVyczpvcHRpb25zLmNyZWF0ZUZvbGRlcnN9KX1yZXR1cm4gemlwRW50cmllcy56aXBDb21tZW50Lmxlbmd0aCYmKHppcC5jb21tZW50PXppcEVudHJpZXMuemlwQ29tbWVudCksemlwfSl9fSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjt2YXIgcmVhZGVyRm9yPV9fd2VicGFja19yZXF1aXJlX18oNzIpLHV0aWxzPV9fd2VicGFja19yZXF1aXJlX18oMCksc2lnPV9fd2VicGFja19yZXF1aXJlX18oNzEpLFppcEVudHJ5PV9fd2VicGFja19yZXF1aXJlX18oMTI1KSxzdXBwb3J0PShfX3dlYnBhY2tfcmVxdWlyZV9fKDE2KSxfX3dlYnBhY2tfcmVxdWlyZV9fKDcpKTtmdW5jdGlvbiBaaXBFbnRyaWVzKGxvYWRPcHRpb25zKXt0aGlzLmZpbGVzPVtdLHRoaXMubG9hZE9wdGlvbnM9bG9hZE9wdGlvbnN9WmlwRW50cmllcy5wcm90b3R5cGU9e2NoZWNrU2lnbmF0dXJlOmZ1bmN0aW9uKGV4cGVjdGVkU2lnbmF0dXJlKXtpZighdGhpcy5yZWFkZXIucmVhZEFuZENoZWNrU2lnbmF0dXJlKGV4cGVjdGVkU2lnbmF0dXJlKSl7dGhpcy5yZWFkZXIuaW5kZXgtPTQ7dmFyIHNpZ25hdHVyZT10aGlzLnJlYWRlci5yZWFkU3RyaW5nKDQpO3Rocm93IG5ldyBFcnJvcihcIkNvcnJ1cHRlZCB6aXAgb3IgYnVnOiB1bmV4cGVjdGVkIHNpZ25hdHVyZSAoXCIrdXRpbHMucHJldHR5KHNpZ25hdHVyZSkrXCIsIGV4cGVjdGVkIFwiK3V0aWxzLnByZXR0eShleHBlY3RlZFNpZ25hdHVyZSkrXCIpXCIpfX0saXNTaWduYXR1cmU6ZnVuY3Rpb24oYXNrZWRJbmRleCxleHBlY3RlZFNpZ25hdHVyZSl7dmFyIGN1cnJlbnRJbmRleD10aGlzLnJlYWRlci5pbmRleDt0aGlzLnJlYWRlci5zZXRJbmRleChhc2tlZEluZGV4KTt2YXIgcmVzdWx0PXRoaXMucmVhZGVyLnJlYWRTdHJpbmcoNCk9PT1leHBlY3RlZFNpZ25hdHVyZTtyZXR1cm4gdGhpcy5yZWFkZXIuc2V0SW5kZXgoY3VycmVudEluZGV4KSxyZXN1bHR9LHJlYWRCbG9ja0VuZE9mQ2VudHJhbDpmdW5jdGlvbigpe3RoaXMuZGlza051bWJlcj10aGlzLnJlYWRlci5yZWFkSW50KDIpLHRoaXMuZGlza1dpdGhDZW50cmFsRGlyU3RhcnQ9dGhpcy5yZWFkZXIucmVhZEludCgyKSx0aGlzLmNlbnRyYWxEaXJSZWNvcmRzT25UaGlzRGlzaz10aGlzLnJlYWRlci5yZWFkSW50KDIpLHRoaXMuY2VudHJhbERpclJlY29yZHM9dGhpcy5yZWFkZXIucmVhZEludCgyKSx0aGlzLmNlbnRyYWxEaXJTaXplPXRoaXMucmVhZGVyLnJlYWRJbnQoNCksdGhpcy5jZW50cmFsRGlyT2Zmc2V0PXRoaXMucmVhZGVyLnJlYWRJbnQoNCksdGhpcy56aXBDb21tZW50TGVuZ3RoPXRoaXMucmVhZGVyLnJlYWRJbnQoMik7dmFyIHppcENvbW1lbnQ9dGhpcy5yZWFkZXIucmVhZERhdGEodGhpcy56aXBDb21tZW50TGVuZ3RoKSxkZWNvZGVQYXJhbVR5cGU9c3VwcG9ydC51aW50OGFycmF5P1widWludDhhcnJheVwiOlwiYXJyYXlcIixkZWNvZGVDb250ZW50PXV0aWxzLnRyYW5zZm9ybVRvKGRlY29kZVBhcmFtVHlwZSx6aXBDb21tZW50KTt0aGlzLnppcENvbW1lbnQ9dGhpcy5sb2FkT3B0aW9ucy5kZWNvZGVGaWxlTmFtZShkZWNvZGVDb250ZW50KX0scmVhZEJsb2NrWmlwNjRFbmRPZkNlbnRyYWw6ZnVuY3Rpb24oKXt0aGlzLnppcDY0RW5kT2ZDZW50cmFsU2l6ZT10aGlzLnJlYWRlci5yZWFkSW50KDgpLHRoaXMucmVhZGVyLnNraXAoNCksdGhpcy5kaXNrTnVtYmVyPXRoaXMucmVhZGVyLnJlYWRJbnQoNCksdGhpcy5kaXNrV2l0aENlbnRyYWxEaXJTdGFydD10aGlzLnJlYWRlci5yZWFkSW50KDQpLHRoaXMuY2VudHJhbERpclJlY29yZHNPblRoaXNEaXNrPXRoaXMucmVhZGVyLnJlYWRJbnQoOCksdGhpcy5jZW50cmFsRGlyUmVjb3Jkcz10aGlzLnJlYWRlci5yZWFkSW50KDgpLHRoaXMuY2VudHJhbERpclNpemU9dGhpcy5yZWFkZXIucmVhZEludCg4KSx0aGlzLmNlbnRyYWxEaXJPZmZzZXQ9dGhpcy5yZWFkZXIucmVhZEludCg4KSx0aGlzLnppcDY0RXh0ZW5zaWJsZURhdGE9e307Zm9yKHZhciBleHRyYUZpZWxkSWQsZXh0cmFGaWVsZExlbmd0aCxleHRyYUZpZWxkVmFsdWUsZXh0cmFEYXRhU2l6ZT10aGlzLnppcDY0RW5kT2ZDZW50cmFsU2l6ZS00NDswPGV4dHJhRGF0YVNpemU7KWV4dHJhRmllbGRJZD10aGlzLnJlYWRlci5yZWFkSW50KDIpLGV4dHJhRmllbGRMZW5ndGg9dGhpcy5yZWFkZXIucmVhZEludCg0KSxleHRyYUZpZWxkVmFsdWU9dGhpcy5yZWFkZXIucmVhZERhdGEoZXh0cmFGaWVsZExlbmd0aCksdGhpcy56aXA2NEV4dGVuc2libGVEYXRhW2V4dHJhRmllbGRJZF09e2lkOmV4dHJhRmllbGRJZCxsZW5ndGg6ZXh0cmFGaWVsZExlbmd0aCx2YWx1ZTpleHRyYUZpZWxkVmFsdWV9fSxyZWFkQmxvY2taaXA2NEVuZE9mQ2VudHJhbExvY2F0b3I6ZnVuY3Rpb24oKXtpZih0aGlzLmRpc2tXaXRoWmlwNjRDZW50cmFsRGlyU3RhcnQ9dGhpcy5yZWFkZXIucmVhZEludCg0KSx0aGlzLnJlbGF0aXZlT2Zmc2V0RW5kT2ZaaXA2NENlbnRyYWxEaXI9dGhpcy5yZWFkZXIucmVhZEludCg4KSx0aGlzLmRpc2tzQ291bnQ9dGhpcy5yZWFkZXIucmVhZEludCg0KSx0aGlzLmRpc2tzQ291bnQ+MSl0aHJvdyBuZXcgRXJyb3IoXCJNdWx0aS12b2x1bWVzIHppcCBhcmUgbm90IHN1cHBvcnRlZFwiKX0scmVhZExvY2FsRmlsZXM6ZnVuY3Rpb24oKXt2YXIgaSxmaWxlO2ZvcihpPTA7aTx0aGlzLmZpbGVzLmxlbmd0aDtpKyspZmlsZT10aGlzLmZpbGVzW2ldLHRoaXMucmVhZGVyLnNldEluZGV4KGZpbGUubG9jYWxIZWFkZXJPZmZzZXQpLHRoaXMuY2hlY2tTaWduYXR1cmUoc2lnLkxPQ0FMX0ZJTEVfSEVBREVSKSxmaWxlLnJlYWRMb2NhbFBhcnQodGhpcy5yZWFkZXIpLGZpbGUuaGFuZGxlVVRGOCgpLGZpbGUucHJvY2Vzc0F0dHJpYnV0ZXMoKX0scmVhZENlbnRyYWxEaXI6ZnVuY3Rpb24oKXt2YXIgZmlsZTtmb3IodGhpcy5yZWFkZXIuc2V0SW5kZXgodGhpcy5jZW50cmFsRGlyT2Zmc2V0KTt0aGlzLnJlYWRlci5yZWFkQW5kQ2hlY2tTaWduYXR1cmUoc2lnLkNFTlRSQUxfRklMRV9IRUFERVIpOykoZmlsZT1uZXcgWmlwRW50cnkoe3ppcDY0OnRoaXMuemlwNjR9LHRoaXMubG9hZE9wdGlvbnMpKS5yZWFkQ2VudHJhbFBhcnQodGhpcy5yZWFkZXIpLHRoaXMuZmlsZXMucHVzaChmaWxlKTtpZih0aGlzLmNlbnRyYWxEaXJSZWNvcmRzIT09dGhpcy5maWxlcy5sZW5ndGgmJjAhPT10aGlzLmNlbnRyYWxEaXJSZWNvcmRzJiYwPT09dGhpcy5maWxlcy5sZW5ndGgpdGhyb3cgbmV3IEVycm9yKFwiQ29ycnVwdGVkIHppcCBvciBidWc6IGV4cGVjdGVkIFwiK3RoaXMuY2VudHJhbERpclJlY29yZHMrXCIgcmVjb3JkcyBpbiBjZW50cmFsIGRpciwgZ290IFwiK3RoaXMuZmlsZXMubGVuZ3RoKX0scmVhZEVuZE9mQ2VudHJhbDpmdW5jdGlvbigpe3ZhciBvZmZzZXQ9dGhpcy5yZWFkZXIubGFzdEluZGV4T2ZTaWduYXR1cmUoc2lnLkNFTlRSQUxfRElSRUNUT1JZX0VORCk7aWYob2Zmc2V0PDApdGhyb3chdGhpcy5pc1NpZ25hdHVyZSgwLHNpZy5MT0NBTF9GSUxFX0hFQURFUik/bmV3IEVycm9yKFwiQ2FuJ3QgZmluZCBlbmQgb2YgY2VudHJhbCBkaXJlY3RvcnkgOiBpcyB0aGlzIGEgemlwIGZpbGUgPyBJZiBpdCBpcywgc2VlIGh0dHBzOi8vc3R1ay5naXRodWIuaW8vanN6aXAvZG9jdW1lbnRhdGlvbi9ob3d0by9yZWFkX3ppcC5odG1sXCIpOm5ldyBFcnJvcihcIkNvcnJ1cHRlZCB6aXA6IGNhbid0IGZpbmQgZW5kIG9mIGNlbnRyYWwgZGlyZWN0b3J5XCIpO3RoaXMucmVhZGVyLnNldEluZGV4KG9mZnNldCk7dmFyIGVuZE9mQ2VudHJhbERpck9mZnNldD1vZmZzZXQ7aWYodGhpcy5jaGVja1NpZ25hdHVyZShzaWcuQ0VOVFJBTF9ESVJFQ1RPUllfRU5EKSx0aGlzLnJlYWRCbG9ja0VuZE9mQ2VudHJhbCgpLHRoaXMuZGlza051bWJlcj09PXV0aWxzLk1BWF9WQUxVRV8xNkJJVFN8fHRoaXMuZGlza1dpdGhDZW50cmFsRGlyU3RhcnQ9PT11dGlscy5NQVhfVkFMVUVfMTZCSVRTfHx0aGlzLmNlbnRyYWxEaXJSZWNvcmRzT25UaGlzRGlzaz09PXV0aWxzLk1BWF9WQUxVRV8xNkJJVFN8fHRoaXMuY2VudHJhbERpclJlY29yZHM9PT11dGlscy5NQVhfVkFMVUVfMTZCSVRTfHx0aGlzLmNlbnRyYWxEaXJTaXplPT09dXRpbHMuTUFYX1ZBTFVFXzMyQklUU3x8dGhpcy5jZW50cmFsRGlyT2Zmc2V0PT09dXRpbHMuTUFYX1ZBTFVFXzMyQklUUyl7aWYodGhpcy56aXA2ND0hMCwob2Zmc2V0PXRoaXMucmVhZGVyLmxhc3RJbmRleE9mU2lnbmF0dXJlKHNpZy5aSVA2NF9DRU5UUkFMX0RJUkVDVE9SWV9MT0NBVE9SKSk8MCl0aHJvdyBuZXcgRXJyb3IoXCJDb3JydXB0ZWQgemlwOiBjYW4ndCBmaW5kIHRoZSBaSVA2NCBlbmQgb2YgY2VudHJhbCBkaXJlY3RvcnkgbG9jYXRvclwiKTtpZih0aGlzLnJlYWRlci5zZXRJbmRleChvZmZzZXQpLHRoaXMuY2hlY2tTaWduYXR1cmUoc2lnLlpJUDY0X0NFTlRSQUxfRElSRUNUT1JZX0xPQ0FUT1IpLHRoaXMucmVhZEJsb2NrWmlwNjRFbmRPZkNlbnRyYWxMb2NhdG9yKCksIXRoaXMuaXNTaWduYXR1cmUodGhpcy5yZWxhdGl2ZU9mZnNldEVuZE9mWmlwNjRDZW50cmFsRGlyLHNpZy5aSVA2NF9DRU5UUkFMX0RJUkVDVE9SWV9FTkQpJiYodGhpcy5yZWxhdGl2ZU9mZnNldEVuZE9mWmlwNjRDZW50cmFsRGlyPXRoaXMucmVhZGVyLmxhc3RJbmRleE9mU2lnbmF0dXJlKHNpZy5aSVA2NF9DRU5UUkFMX0RJUkVDVE9SWV9FTkQpLHRoaXMucmVsYXRpdmVPZmZzZXRFbmRPZlppcDY0Q2VudHJhbERpcjwwKSl0aHJvdyBuZXcgRXJyb3IoXCJDb3JydXB0ZWQgemlwOiBjYW4ndCBmaW5kIHRoZSBaSVA2NCBlbmQgb2YgY2VudHJhbCBkaXJlY3RvcnlcIik7dGhpcy5yZWFkZXIuc2V0SW5kZXgodGhpcy5yZWxhdGl2ZU9mZnNldEVuZE9mWmlwNjRDZW50cmFsRGlyKSx0aGlzLmNoZWNrU2lnbmF0dXJlKHNpZy5aSVA2NF9DRU5UUkFMX0RJUkVDVE9SWV9FTkQpLHRoaXMucmVhZEJsb2NrWmlwNjRFbmRPZkNlbnRyYWwoKX12YXIgZXhwZWN0ZWRFbmRPZkNlbnRyYWxEaXJPZmZzZXQ9dGhpcy5jZW50cmFsRGlyT2Zmc2V0K3RoaXMuY2VudHJhbERpclNpemU7dGhpcy56aXA2NCYmKGV4cGVjdGVkRW5kT2ZDZW50cmFsRGlyT2Zmc2V0Kz0yMCxleHBlY3RlZEVuZE9mQ2VudHJhbERpck9mZnNldCs9MTIrdGhpcy56aXA2NEVuZE9mQ2VudHJhbFNpemUpO3ZhciBleHRyYUJ5dGVzPWVuZE9mQ2VudHJhbERpck9mZnNldC1leHBlY3RlZEVuZE9mQ2VudHJhbERpck9mZnNldDtpZihleHRyYUJ5dGVzPjApdGhpcy5pc1NpZ25hdHVyZShlbmRPZkNlbnRyYWxEaXJPZmZzZXQsc2lnLkNFTlRSQUxfRklMRV9IRUFERVIpfHwodGhpcy5yZWFkZXIuemVybz1leHRyYUJ5dGVzKTtlbHNlIGlmKGV4dHJhQnl0ZXM8MCl0aHJvdyBuZXcgRXJyb3IoXCJDb3JydXB0ZWQgemlwOiBtaXNzaW5nIFwiK01hdGguYWJzKGV4dHJhQnl0ZXMpK1wiIGJ5dGVzLlwiKX0scHJlcGFyZVJlYWRlcjpmdW5jdGlvbihkYXRhKXt0aGlzLnJlYWRlcj1yZWFkZXJGb3IoZGF0YSl9LGxvYWQ6ZnVuY3Rpb24oZGF0YSl7dGhpcy5wcmVwYXJlUmVhZGVyKGRhdGEpLHRoaXMucmVhZEVuZE9mQ2VudHJhbCgpLHRoaXMucmVhZENlbnRyYWxEaXIoKSx0aGlzLnJlYWRMb2NhbEZpbGVzKCl9fSxtb2R1bGUuZXhwb3J0cz1aaXBFbnRyaWVzfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjt2YXIgRGF0YVJlYWRlcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDc0KTtmdW5jdGlvbiBTdHJpbmdSZWFkZXIoZGF0YSl7RGF0YVJlYWRlci5jYWxsKHRoaXMsZGF0YSl9X193ZWJwYWNrX3JlcXVpcmVfXygwKS5pbmhlcml0cyhTdHJpbmdSZWFkZXIsRGF0YVJlYWRlciksU3RyaW5nUmVhZGVyLnByb3RvdHlwZS5ieXRlQXQ9ZnVuY3Rpb24oaSl7cmV0dXJuIHRoaXMuZGF0YS5jaGFyQ29kZUF0KHRoaXMuemVybytpKX0sU3RyaW5nUmVhZGVyLnByb3RvdHlwZS5sYXN0SW5kZXhPZlNpZ25hdHVyZT1mdW5jdGlvbihzaWcpe3JldHVybiB0aGlzLmRhdGEubGFzdEluZGV4T2Yoc2lnKS10aGlzLnplcm99LFN0cmluZ1JlYWRlci5wcm90b3R5cGUucmVhZEFuZENoZWNrU2lnbmF0dXJlPWZ1bmN0aW9uKHNpZyl7cmV0dXJuIHNpZz09PXRoaXMucmVhZERhdGEoNCl9LFN0cmluZ1JlYWRlci5wcm90b3R5cGUucmVhZERhdGE9ZnVuY3Rpb24oc2l6ZSl7dGhpcy5jaGVja09mZnNldChzaXplKTt2YXIgcmVzdWx0PXRoaXMuZGF0YS5zbGljZSh0aGlzLnplcm8rdGhpcy5pbmRleCx0aGlzLnplcm8rdGhpcy5pbmRleCtzaXplKTtyZXR1cm4gdGhpcy5pbmRleCs9c2l6ZSxyZXN1bHR9LG1vZHVsZS5leHBvcnRzPVN0cmluZ1JlYWRlcn0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7dmFyIFVpbnQ4QXJyYXlSZWFkZXI9X193ZWJwYWNrX3JlcXVpcmVfXyg3NSk7ZnVuY3Rpb24gTm9kZUJ1ZmZlclJlYWRlcihkYXRhKXtVaW50OEFycmF5UmVhZGVyLmNhbGwodGhpcyxkYXRhKX1fX3dlYnBhY2tfcmVxdWlyZV9fKDApLmluaGVyaXRzKE5vZGVCdWZmZXJSZWFkZXIsVWludDhBcnJheVJlYWRlciksTm9kZUJ1ZmZlclJlYWRlci5wcm90b3R5cGUucmVhZERhdGE9ZnVuY3Rpb24oc2l6ZSl7dGhpcy5jaGVja09mZnNldChzaXplKTt2YXIgcmVzdWx0PXRoaXMuZGF0YS5zbGljZSh0aGlzLnplcm8rdGhpcy5pbmRleCx0aGlzLnplcm8rdGhpcy5pbmRleCtzaXplKTtyZXR1cm4gdGhpcy5pbmRleCs9c2l6ZSxyZXN1bHR9LG1vZHVsZS5leHBvcnRzPU5vZGVCdWZmZXJSZWFkZXJ9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO3ZhciByZWFkZXJGb3I9X193ZWJwYWNrX3JlcXVpcmVfXyg3MiksdXRpbHM9X193ZWJwYWNrX3JlcXVpcmVfXygwKSxDb21wcmVzc2VkT2JqZWN0PV9fd2VicGFja19yZXF1aXJlX18oNDMpLGNyYzMyZm49X193ZWJwYWNrX3JlcXVpcmVfXyg0NCksdXRmOD1fX3dlYnBhY2tfcmVxdWlyZV9fKDE2KSxjb21wcmVzc2lvbnM9X193ZWJwYWNrX3JlcXVpcmVfXyg2NSksc3VwcG9ydD1fX3dlYnBhY2tfcmVxdWlyZV9fKDcpO2Z1bmN0aW9uIFppcEVudHJ5KG9wdGlvbnMsbG9hZE9wdGlvbnMpe3RoaXMub3B0aW9ucz1vcHRpb25zLHRoaXMubG9hZE9wdGlvbnM9bG9hZE9wdGlvbnN9WmlwRW50cnkucHJvdG90eXBlPXtpc0VuY3J5cHRlZDpmdW5jdGlvbigpe3JldHVybiAxPT0oMSZ0aGlzLmJpdEZsYWcpfSx1c2VVVEY4OmZ1bmN0aW9uKCl7cmV0dXJuIDIwNDg9PSgyMDQ4JnRoaXMuYml0RmxhZyl9LHJlYWRMb2NhbFBhcnQ6ZnVuY3Rpb24ocmVhZGVyKXt2YXIgY29tcHJlc3Npb24sbG9jYWxFeHRyYUZpZWxkc0xlbmd0aDtpZihyZWFkZXIuc2tpcCgyMiksdGhpcy5maWxlTmFtZUxlbmd0aD1yZWFkZXIucmVhZEludCgyKSxsb2NhbEV4dHJhRmllbGRzTGVuZ3RoPXJlYWRlci5yZWFkSW50KDIpLHRoaXMuZmlsZU5hbWU9cmVhZGVyLnJlYWREYXRhKHRoaXMuZmlsZU5hbWVMZW5ndGgpLHJlYWRlci5za2lwKGxvY2FsRXh0cmFGaWVsZHNMZW5ndGgpLC0xPT09dGhpcy5jb21wcmVzc2VkU2l6ZXx8LTE9PT10aGlzLnVuY29tcHJlc3NlZFNpemUpdGhyb3cgbmV3IEVycm9yKFwiQnVnIG9yIGNvcnJ1cHRlZCB6aXAgOiBkaWRuJ3QgZ2V0IGVub3VnaCBpbmZvcm1hdGlvbnMgZnJvbSB0aGUgY2VudHJhbCBkaXJlY3RvcnkgKGNvbXByZXNzZWRTaXplID09PSAtMSB8fCB1bmNvbXByZXNzZWRTaXplID09PSAtMSlcIik7aWYobnVsbD09PShjb21wcmVzc2lvbj1mdW5jdGlvbihjb21wcmVzc2lvbk1ldGhvZCl7Zm9yKHZhciBtZXRob2QgaW4gY29tcHJlc3Npb25zKWlmKGNvbXByZXNzaW9ucy5oYXNPd25Qcm9wZXJ0eShtZXRob2QpJiZjb21wcmVzc2lvbnNbbWV0aG9kXS5tYWdpYz09PWNvbXByZXNzaW9uTWV0aG9kKXJldHVybiBjb21wcmVzc2lvbnNbbWV0aG9kXTtyZXR1cm4gbnVsbH0odGhpcy5jb21wcmVzc2lvbk1ldGhvZCkpKXRocm93IG5ldyBFcnJvcihcIkNvcnJ1cHRlZCB6aXAgOiBjb21wcmVzc2lvbiBcIit1dGlscy5wcmV0dHkodGhpcy5jb21wcmVzc2lvbk1ldGhvZCkrXCIgdW5rbm93biAoaW5uZXIgZmlsZSA6IFwiK3V0aWxzLnRyYW5zZm9ybVRvKFwic3RyaW5nXCIsdGhpcy5maWxlTmFtZSkrXCIpXCIpO3RoaXMuZGVjb21wcmVzc2VkPW5ldyBDb21wcmVzc2VkT2JqZWN0KHRoaXMuY29tcHJlc3NlZFNpemUsdGhpcy51bmNvbXByZXNzZWRTaXplLHRoaXMuY3JjMzIsY29tcHJlc3Npb24scmVhZGVyLnJlYWREYXRhKHRoaXMuY29tcHJlc3NlZFNpemUpKX0scmVhZENlbnRyYWxQYXJ0OmZ1bmN0aW9uKHJlYWRlcil7dGhpcy52ZXJzaW9uTWFkZUJ5PXJlYWRlci5yZWFkSW50KDIpLHJlYWRlci5za2lwKDIpLHRoaXMuYml0RmxhZz1yZWFkZXIucmVhZEludCgyKSx0aGlzLmNvbXByZXNzaW9uTWV0aG9kPXJlYWRlci5yZWFkU3RyaW5nKDIpLHRoaXMuZGF0ZT1yZWFkZXIucmVhZERhdGUoKSx0aGlzLmNyYzMyPXJlYWRlci5yZWFkSW50KDQpLHRoaXMuY29tcHJlc3NlZFNpemU9cmVhZGVyLnJlYWRJbnQoNCksdGhpcy51bmNvbXByZXNzZWRTaXplPXJlYWRlci5yZWFkSW50KDQpO3ZhciBmaWxlTmFtZUxlbmd0aD1yZWFkZXIucmVhZEludCgyKTtpZih0aGlzLmV4dHJhRmllbGRzTGVuZ3RoPXJlYWRlci5yZWFkSW50KDIpLHRoaXMuZmlsZUNvbW1lbnRMZW5ndGg9cmVhZGVyLnJlYWRJbnQoMiksdGhpcy5kaXNrTnVtYmVyU3RhcnQ9cmVhZGVyLnJlYWRJbnQoMiksdGhpcy5pbnRlcm5hbEZpbGVBdHRyaWJ1dGVzPXJlYWRlci5yZWFkSW50KDIpLHRoaXMuZXh0ZXJuYWxGaWxlQXR0cmlidXRlcz1yZWFkZXIucmVhZEludCg0KSx0aGlzLmxvY2FsSGVhZGVyT2Zmc2V0PXJlYWRlci5yZWFkSW50KDQpLHRoaXMuaXNFbmNyeXB0ZWQoKSl0aHJvdyBuZXcgRXJyb3IoXCJFbmNyeXB0ZWQgemlwIGFyZSBub3Qgc3VwcG9ydGVkXCIpO3JlYWRlci5za2lwKGZpbGVOYW1lTGVuZ3RoKSx0aGlzLnJlYWRFeHRyYUZpZWxkcyhyZWFkZXIpLHRoaXMucGFyc2VaSVA2NEV4dHJhRmllbGQocmVhZGVyKSx0aGlzLmZpbGVDb21tZW50PXJlYWRlci5yZWFkRGF0YSh0aGlzLmZpbGVDb21tZW50TGVuZ3RoKX0scHJvY2Vzc0F0dHJpYnV0ZXM6ZnVuY3Rpb24oKXt0aGlzLnVuaXhQZXJtaXNzaW9ucz1udWxsLHRoaXMuZG9zUGVybWlzc2lvbnM9bnVsbDt2YXIgbWFkZUJ5PXRoaXMudmVyc2lvbk1hZGVCeT4+ODt0aGlzLmRpcj0hISgxNiZ0aGlzLmV4dGVybmFsRmlsZUF0dHJpYnV0ZXMpLDA9PT1tYWRlQnkmJih0aGlzLmRvc1Blcm1pc3Npb25zPTYzJnRoaXMuZXh0ZXJuYWxGaWxlQXR0cmlidXRlcyksMz09PW1hZGVCeSYmKHRoaXMudW5peFBlcm1pc3Npb25zPXRoaXMuZXh0ZXJuYWxGaWxlQXR0cmlidXRlcz4+MTYmNjU1MzUpLHRoaXMuZGlyfHxcIi9cIiE9PXRoaXMuZmlsZU5hbWVTdHIuc2xpY2UoLTEpfHwodGhpcy5kaXI9ITApfSxwYXJzZVpJUDY0RXh0cmFGaWVsZDpmdW5jdGlvbihyZWFkZXIpe2lmKHRoaXMuZXh0cmFGaWVsZHNbMV0pe3ZhciBleHRyYVJlYWRlcj1yZWFkZXJGb3IodGhpcy5leHRyYUZpZWxkc1sxXS52YWx1ZSk7dGhpcy51bmNvbXByZXNzZWRTaXplPT09dXRpbHMuTUFYX1ZBTFVFXzMyQklUUyYmKHRoaXMudW5jb21wcmVzc2VkU2l6ZT1leHRyYVJlYWRlci5yZWFkSW50KDgpKSx0aGlzLmNvbXByZXNzZWRTaXplPT09dXRpbHMuTUFYX1ZBTFVFXzMyQklUUyYmKHRoaXMuY29tcHJlc3NlZFNpemU9ZXh0cmFSZWFkZXIucmVhZEludCg4KSksdGhpcy5sb2NhbEhlYWRlck9mZnNldD09PXV0aWxzLk1BWF9WQUxVRV8zMkJJVFMmJih0aGlzLmxvY2FsSGVhZGVyT2Zmc2V0PWV4dHJhUmVhZGVyLnJlYWRJbnQoOCkpLHRoaXMuZGlza051bWJlclN0YXJ0PT09dXRpbHMuTUFYX1ZBTFVFXzMyQklUUyYmKHRoaXMuZGlza051bWJlclN0YXJ0PWV4dHJhUmVhZGVyLnJlYWRJbnQoNCkpfX0scmVhZEV4dHJhRmllbGRzOmZ1bmN0aW9uKHJlYWRlcil7dmFyIGV4dHJhRmllbGRJZCxleHRyYUZpZWxkTGVuZ3RoLGV4dHJhRmllbGRWYWx1ZSxlbmQ9cmVhZGVyLmluZGV4K3RoaXMuZXh0cmFGaWVsZHNMZW5ndGg7Zm9yKHRoaXMuZXh0cmFGaWVsZHN8fCh0aGlzLmV4dHJhRmllbGRzPXt9KTtyZWFkZXIuaW5kZXg8ZW5kOylleHRyYUZpZWxkSWQ9cmVhZGVyLnJlYWRJbnQoMiksZXh0cmFGaWVsZExlbmd0aD1yZWFkZXIucmVhZEludCgyKSxleHRyYUZpZWxkVmFsdWU9cmVhZGVyLnJlYWREYXRhKGV4dHJhRmllbGRMZW5ndGgpLHRoaXMuZXh0cmFGaWVsZHNbZXh0cmFGaWVsZElkXT17aWQ6ZXh0cmFGaWVsZElkLGxlbmd0aDpleHRyYUZpZWxkTGVuZ3RoLHZhbHVlOmV4dHJhRmllbGRWYWx1ZX19LGhhbmRsZVVURjg6ZnVuY3Rpb24oKXt2YXIgZGVjb2RlUGFyYW1UeXBlPXN1cHBvcnQudWludDhhcnJheT9cInVpbnQ4YXJyYXlcIjpcImFycmF5XCI7aWYodGhpcy51c2VVVEY4KCkpdGhpcy5maWxlTmFtZVN0cj11dGY4LnV0ZjhkZWNvZGUodGhpcy5maWxlTmFtZSksdGhpcy5maWxlQ29tbWVudFN0cj11dGY4LnV0ZjhkZWNvZGUodGhpcy5maWxlQ29tbWVudCk7ZWxzZXt2YXIgdXBhdGg9dGhpcy5maW5kRXh0cmFGaWVsZFVuaWNvZGVQYXRoKCk7aWYobnVsbCE9PXVwYXRoKXRoaXMuZmlsZU5hbWVTdHI9dXBhdGg7ZWxzZXt2YXIgZmlsZU5hbWVCeXRlQXJyYXk9dXRpbHMudHJhbnNmb3JtVG8oZGVjb2RlUGFyYW1UeXBlLHRoaXMuZmlsZU5hbWUpO3RoaXMuZmlsZU5hbWVTdHI9dGhpcy5sb2FkT3B0aW9ucy5kZWNvZGVGaWxlTmFtZShmaWxlTmFtZUJ5dGVBcnJheSl9dmFyIHVjb21tZW50PXRoaXMuZmluZEV4dHJhRmllbGRVbmljb2RlQ29tbWVudCgpO2lmKG51bGwhPT11Y29tbWVudCl0aGlzLmZpbGVDb21tZW50U3RyPXVjb21tZW50O2Vsc2V7dmFyIGNvbW1lbnRCeXRlQXJyYXk9dXRpbHMudHJhbnNmb3JtVG8oZGVjb2RlUGFyYW1UeXBlLHRoaXMuZmlsZUNvbW1lbnQpO3RoaXMuZmlsZUNvbW1lbnRTdHI9dGhpcy5sb2FkT3B0aW9ucy5kZWNvZGVGaWxlTmFtZShjb21tZW50Qnl0ZUFycmF5KX19fSxmaW5kRXh0cmFGaWVsZFVuaWNvZGVQYXRoOmZ1bmN0aW9uKCl7dmFyIHVwYXRoRmllbGQ9dGhpcy5leHRyYUZpZWxkc1syODc4OV07aWYodXBhdGhGaWVsZCl7dmFyIGV4dHJhUmVhZGVyPXJlYWRlckZvcih1cGF0aEZpZWxkLnZhbHVlKTtyZXR1cm4gMSE9PWV4dHJhUmVhZGVyLnJlYWRJbnQoMSk/bnVsbDpjcmMzMmZuKHRoaXMuZmlsZU5hbWUpIT09ZXh0cmFSZWFkZXIucmVhZEludCg0KT9udWxsOnV0ZjgudXRmOGRlY29kZShleHRyYVJlYWRlci5yZWFkRGF0YSh1cGF0aEZpZWxkLmxlbmd0aC01KSl9cmV0dXJuIG51bGx9LGZpbmRFeHRyYUZpZWxkVW5pY29kZUNvbW1lbnQ6ZnVuY3Rpb24oKXt2YXIgdWNvbW1lbnRGaWVsZD10aGlzLmV4dHJhRmllbGRzWzI1NDYxXTtpZih1Y29tbWVudEZpZWxkKXt2YXIgZXh0cmFSZWFkZXI9cmVhZGVyRm9yKHVjb21tZW50RmllbGQudmFsdWUpO3JldHVybiAxIT09ZXh0cmFSZWFkZXIucmVhZEludCgxKT9udWxsOmNyYzMyZm4odGhpcy5maWxlQ29tbWVudCkhPT1leHRyYVJlYWRlci5yZWFkSW50KDQpP251bGw6dXRmOC51dGY4ZGVjb2RlKGV4dHJhUmVhZGVyLnJlYWREYXRhKHVjb21tZW50RmllbGQubGVuZ3RoLTUpKX1yZXR1cm4gbnVsbH19LG1vZHVsZS5leHBvcnRzPVppcEVudHJ5fSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxleHBvcnRzLmdldEhUTUw9ZnVuY3Rpb24oY29udGVudCxzZWdtZW50cyl7cmV0dXJuJ1xcbiAgPGRpdiBjbGFzcz1cInB1c2h3b29zaC1zdWJzY3JpcHRpb24tc2VnbWVudHNcIj5cXG4gICAgPGRpdiBjbGFzcz1cInB1c2h3b29zaC1zdWJzY3JpcHRpb24tc2VnbWVudHNfX2hlYWRlclwiPlxcbiAgICAgICcrY29udGVudC5oZWFkZXJUZXh0KydcXG4gICAgPC9kaXY+XFxuICAgIDxkaXYgY2xhc3M9XCJwdXNod29vc2gtc3Vic2NyaXB0aW9uLXNlZ21lbnRzX19ib2R5XCI+XFxuICAgICAgPGRpdiBjbGFzcz1cInB1c2h3b29zaC1zdWJzY3JpcHRpb24tc2VnbWVudHNfX3N1Yi1oZWFkZXJcIj5cXG4gICAgICAgICcrKGNvbnRlbnQuc3ViSGVhZGVyVGV4dD9jb250ZW50LnN1YkhlYWRlclRleHQ6XCJcIikrJ1xcbiAgICAgIDwvZGl2PlxcbiAgICAgIDxkaXYgY2xhc3M9XCJwdXNod29vc2gtc3Vic2NyaXB0aW9uLXNlZ21lbnRzX19jaGFubmVsc1wiPlxcbiAgICAgICAgJytzZWdtZW50cy5yZWR1Y2UoZnVuY3Rpb24ocmVzdWx0LHNlZ21lbnQpe3JldHVybiByZXN1bHQrJzxkaXYgY2xhc3M9XCJwdXNod29vc2gtc3Vic2NyaXB0aW9uLXNlZ21lbnRzX19jaGFubmVsXCI+XFxuICAgICAgICAgICAgPGxhYmVsIGNsYXNzPVwicHVzaHdvb3NoLXN1YnNjcmlwdGlvbi1zZWdtZW50c19fbGFiZWxcIj5cXG4gICAgICAgICAgICAgIDxpbnB1dFxcbiAgICAgICAgICAgICAgICBjbGFzcz1cInB1c2h3b29zaC1zdWJzY3JpcHRpb24tc2VnbWVudHNfX2ZpZWxkXCIgXFxuICAgICAgICAgICAgICAgIHR5cGU9XCJjaGVja2JveFwiIFxcbiAgICAgICAgICAgICAgICB2YWx1ZT1cIicrc2VnbWVudC5jb2RlKydcIlxcbiAgICAgICAgICAgICAgICBjaGVja2VkPVwidHJ1ZVwiXFxuICAgICAgICAgICAgICAvPlxcbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJwdXNod29vc2gtc3Vic2NyaXB0aW9uLXNlZ21lbnRzX19pY29uXCI+XFxuICAgICAgICAgICAgICAgIDxzdmcgd2lkdGg9XCIxOFwiIGhlaWdodD1cIjE4XCIgdmlld0JveD1cIjAgMCAyNCAyNFwiIHhtbG5zPVwiaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmdcIj5cXG4gICAgICAgICAgICAgICAgICAgIDxwYXRoIGQ9XCJNMTguMDMwMyA4LjQ2OTY3QzE4LjMyMzIgOC43NjI1NiAxOC4zMjMyIDkuMjM3NDQgMTguMDMwMyA5LjUzMDMzTDExLjAzMDMgMTYuNTMwM0MxMC43Mzc0IDE2LjgyMzIgMTAuMjYyNiAxNi44MjMyIDkuOTY5NjcgMTYuNTMwM0w2Ljk2OTY3IDEzLjUzMDNDNi42NzY3OCAxMy4yMzc0IDYuNjc2NzggMTIuNzYyNiA2Ljk2OTY3IDEyLjQ2OTdDNy4yNjI1NiAxMi4xNzY4IDcuNzM3NDQgMTIuMTc2OCA4LjAzMDMzIDEyLjQ2OTdMMTAuNSAxNC45MzkzTDE2Ljk2OTcgOC40Njk2N0MxNy4yNjI2IDguMTc2NzggMTcuNzM3NCA4LjE3Njc4IDE4LjAzMDMgOC40Njk2N1pcIiBmaWxsPVwiY3VycmVudENvbG9yXCIvPlxcbiAgICAgICAgICAgICAgICAgIDwvc3ZnPlxcbiAgICAgICAgICAgICAgPC9zcGFuPlxcbiAgICAgICAgICAgICAgPHNwYW4gY2xhc3M9XCJwdXNod29vc2gtc3Vic2NyaXB0aW9uLXNlZ21lbnRzX190ZXh0XCI+XFxuICAgICAgICAgICAgICAgICcrc2VnbWVudC5uYW1lK1wiXFxuICAgICAgICAgICAgICA8L3NwYW4+XFxuICAgICAgICAgICAgPC9sYWJlbD5cXG4gICAgICAgICAgPC9kaXY+XCJ9LFwiXCIpKydcXG4gICAgICA8L2Rpdj5cXG4gICAgICA8ZGl2IGNsYXNzPVwicHVzaHdvb3NoLXN1YnNjcmlwdGlvbi1zZWdtZW50c19fY29udHJvbHNcIj5cXG4gICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGlkPVwicHVzaHdvb3NoLXN1YnNjcmlwdGlvbi1zZWdtZW50cy1kZW55XCIgY2xhc3M9XCJwdXNod29vc2gtc3Vic2NyaXB0aW9uLXNlZ21lbnRzX19jb250cm9sIHB1c2h3b29zaC1zdWJzY3JpcHRpb24tc2VnbWVudHNfX2NvbnRyb2xfZGVueVwiPlxcbiAgICAgICAgICAnK2NvbnRlbnQuY29udHJvbHNEZW55QnV0dG9uVGV4dCsnXFxuICAgICAgICA8L2J1dHRvbj5cXG4gICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGlkPVwicHVzaHdvb3NoLXN1YnNjcmlwdGlvbi1zZWdtZW50cy1hY2NlcHRcIiBjbGFzcz1cInB1c2h3b29zaC1zdWJzY3JpcHRpb24tc2VnbWVudHNfX2NvbnRyb2wgcHVzaHdvb3NoLXN1YnNjcmlwdGlvbi1zZWdtZW50c19fY29udHJvbF9hY2NlcHRcIj5cXG4gICAgICAgICAgJytjb250ZW50LmNvbnRyb2xzQnV0dG9uVGV4dCtcIlxcbiAgICAgICAgPC9idXR0b24+XFxuICAgICAgPC9kaXY+XFxuICAgIDwvZGl2PlxcbiAgPC9kaXY+XFxuICBcIn0sZXhwb3J0cy5nZXRTdHlsZXM9ZnVuY3Rpb24oY29udGVudCl7dmFyIHN0eWxlcz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7cmV0dXJuIHN0eWxlcy5pbm5lckhUTUw9XCJcXG4gICAgLnB1c2h3b29zaC1zdWJzY3JpcHRpb24tc2VnbWVudHMgKiB7XFxuICAgICAgYm94LXNpemluZzogYm9yZGVyLWJveCFpbXBvcnRhbnQ7XFxuICAgIH1cXG4gIFxcbiAgICAucHVzaHdvb3NoLXN1YnNjcmlwdGlvbi1zZWdtZW50cyB7XFxuICAgICAgcGFkZGluZzogMjRweCAxNnB4IDE2cHggMjRweCFpbXBvcnRhbnQ7XFxuICAgICAgdXNlci1zZWxlY3Q6IG5vbmUhaW1wb3J0YW50O1xcbiAgICB9XFxuICBcXG4gICAgLnB1c2h3b29zaC1zdWJzY3JpcHRpb24tc2VnbWVudHNfX2hlYWRlciB7XFxuICAgICAgZm9udC13ZWlnaHQ6IGJvbGQhaW1wb3J0YW50O1xcbiAgICAgIGZvbnQtc2l6ZTogMjBweCFpbXBvcnRhbnQ7XFxuICAgICAgbGluZS1oZWlnaHQ6IDIzcHghaW1wb3J0YW50O1xcbiAgICB9XFxuICAgIFxcbiAgICAucHVzaHdvb3NoLXN1YnNjcmlwdGlvbi1zZWdtZW50c19fc3ViLWhlYWRlciB7XFxuICAgICAgbWFyZ2luLXRvcDogMTZweCFpbXBvcnRhbnQ7XFxuICAgICAgZm9udC1zaXplOiAxNnB4IWltcG9ydGFudDtcXG4gICAgICBsaW5lLWhlaWdodDogMjRweCFpbXBvcnRhbnQ7XFxuICAgICAgY29sb3I6IHJnYmEoMCwgMCwgMCwgMC41NCkhaW1wb3J0YW50O1xcbiAgICB9XFxuICAgIFxcbiAgICAucHVzaHdvb3NoLXN1YnNjcmlwdGlvbi1zZWdtZW50c19fc3ViLWhlYWRlcjplbXB0eSB7XFxuICAgICAgZGlzcGxheTpub25lIWltcG9ydGFudDtcXG4gICAgfVxcbiAgICBcXG4gICAgLnB1c2h3b29zaC1zdWJzY3JpcHRpb24tc2VnbWVudHNfX2NoYW5uZWxzIHtcXG4gICAgICBtYXJnaW4tdG9wOiAxNnB4IWltcG9ydGFudDtcXG4gICAgICBmb250LXNpemU6IDE2cHghaW1wb3J0YW50O1xcbiAgICAgIGxpbmUtaGVpZ2h0OiAyNHB4IWltcG9ydGFudDtcXG4gICAgfVxcbiAgICBcXG4gICAgLnB1c2h3b29zaC1zdWJzY3JpcHRpb24tc2VnbWVudHNfX2NoYW5uZWwgKyAucHVzaHdvb3NoLXN1YnNjcmlwdGlvbi1zZWdtZW50c19fY2hhbm5lbCB7XFxuICAgICAgbWFyZ2luLXRvcDogOHB4IWltcG9ydGFudDtcXG4gICAgfVxcbiAgICBcXG4gICAgLnB1c2h3b29zaC1zdWJzY3JpcHRpb24tc2VnbWVudHNfX2xhYmVsIHtcXG4gICAgICBkaXNwbGF5OiBpbmxpbmUtZmxleCFpbXBvcnRhbnQ7XFxuICAgICAgYWxpZ24taXRlbXM6IGZsZXgtc3RhcnQhaW1wb3J0YW50O1xcbiAgICAgIGN1cnNvcjogcG9pbnRlciFpbXBvcnRhbnQ7XFxuICAgIH1cXG4gICAgXFxuICAgIC5wdXNod29vc2gtc3Vic2NyaXB0aW9uLXNlZ21lbnRzX19maWVsZCB7XFxuICAgICAgZGlzcGxheTogbm9uZSFpbXBvcnRhbnQ7XFxuICAgIH1cXG4gICAgXFxuICAgIC5wdXNod29vc2gtc3Vic2NyaXB0aW9uLXNlZ21lbnRzX19pY29uIHtcXG4gICAgICBkaXNwbGF5OiBibG9jayFpbXBvcnRhbnQ7XFxuICAgICAgbGluZS1oZWlnaHQ6IDAhaW1wb3J0YW50O1xcbiAgICAgIHdpZHRoOiAyMHB4IWltcG9ydGFudDtcXG4gICAgICBoZWlnaHQ6IDIwcHghaW1wb3J0YW50O1xcbiAgICAgIGJvcmRlcjogMXB4IHNvbGlkICNkZGQhaW1wb3J0YW50O1xcbiAgICAgIGJvcmRlci1yYWRpdXM6IDRweCFpbXBvcnRhbnQ7XFxuICAgICAgY29sb3I6ICNmZmYhaW1wb3J0YW50O1xcbiAgICAgIG1hcmdpbjogMnB4IDhweCAwIDAhaW1wb3J0YW50O1xcbiAgICB9XFxuICAgIFxcbiAgICAucHVzaHdvb3NoLXN1YnNjcmlwdGlvbi1zZWdtZW50c19fdGV4dCB7XFxuICAgICAgY29sb3I6IFwiK2NvbnRlbnQuY2hhbm5lbHNUZXh0Q29sb3IrXCIhaW1wb3J0YW50O1xcbiAgICB9XFxuICAgIFxcbiAgICAucHVzaHdvb3NoLXN1YnNjcmlwdGlvbi1zZWdtZW50c19fY29udHJvbHMge1xcbiAgICAgIG1hcmdpbi10b3A6IDI0cHghaW1wb3J0YW50O1xcbiAgICAgIHRleHQtYWxpZ246IHJpZ2h0IWltcG9ydGFudDtcXG4gICAgfVxcbiAgICBcXG4gICAgLnB1c2h3b29zaC1zdWJzY3JpcHRpb24tc2VnbWVudHNfX2ZpZWxkOmNoZWNrZWQgKyAucHVzaHdvb3NoLXN1YnNjcmlwdGlvbi1zZWdtZW50c19faWNvbiB7XFxuICAgICAgYmFja2dyb3VuZDogXCIrY29udGVudC5jaGFubmVsc1RvZ2dsZUNvbG9yK1wiIWltcG9ydGFudDtcXG4gICAgICBib3JkZXI6IDFweCBzb2xpZCB0cmFuc3BhcmVudCFpbXBvcnRhbnQ7XFxuICAgIH1cXG4gICAgXFxuICAgIC5wdXNod29vc2gtc3Vic2NyaXB0aW9uLXNlZ21lbnRzX19jb250cm9sIHtcXG4gICAgICBhcHBlYXJhbmNlOiBub25lIWltcG9ydGFudDtcXG4gICAgICBoZWlnaHQ6IDM2cHghaW1wb3J0YW50O1xcbiAgICAgIGJvcmRlci1yYWRpdXM6IDRweCFpbXBvcnRhbnQ7XFxuICAgICAgcGFkZGluZzogMCAxNnB4IWltcG9ydGFudDtcXG4gICAgICBmb250LXdlaWdodDogYm9sZCFpbXBvcnRhbnQ7XFxuICAgICAgZm9udC1zaXplOiAxNHB4IWltcG9ydGFudDtcXG4gICAgICBsaW5lLWhlaWdodDogMTZweCFpbXBvcnRhbnQ7XFxuICAgICAgY3Vyc29yOiBwb2ludGVyIWltcG9ydGFudDtcXG4gICAgfVxcbiAgICBcXG4gICAgLnB1c2h3b29zaC1zdWJzY3JpcHRpb24tc2VnbWVudHNfX2NvbnRyb2wgKyAucHVzaHdvb3NoLXN1YnNjcmlwdGlvbi1zZWdtZW50c19fY29udHJvbCB7XFxuICAgICAgbWFyZ2luOiAwIDAgMCA0cHghaW1wb3J0YW50O1xcbiAgICB9XFxuICAgIFxcbiAgICAucHVzaHdvb3NoLXN1YnNjcmlwdGlvbi1zZWdtZW50c19fY29udHJvbC5wdXNod29vc2gtc3Vic2NyaXB0aW9uLXNlZ21lbnRzX19jb250cm9sX2Rlbnkge1xcbiAgICAgIGJvcmRlcjogbm9uZSFpbXBvcnRhbnQ7XFxuICAgICAgY29sb3I6IFwiK2NvbnRlbnQuY29udHJvbHNEZW55QnV0dG9uVGV4dENvbG9yK1wiIWltcG9ydGFudDtcXG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiBcIitjb250ZW50LmNvbnRyb2xzRGVueUJ1dHRvbkJhY2tncm91bmRDb2xvcitcIiFpbXBvcnRhbnQ7XFxuICAgICAgYm9yZGVyLXJhZGl1czogXCIrY29udGVudC5jb250cm9sc0RlbnlCdXR0b25Sb3VuZCtcIiFpbXBvcnRhbnQ7XFxuICAgIH1cXG4gICAgXFxuICAgIC5wdXNod29vc2gtc3Vic2NyaXB0aW9uLXNlZ21lbnRzX19jb250cm9sLnB1c2h3b29zaC1zdWJzY3JpcHRpb24tc2VnbWVudHNfX2NvbnRyb2xfYWNjZXB0IHtcXG4gICAgICBib3JkZXI6IG5vbmUhaW1wb3J0YW50O1xcbiAgICAgIGNvbG9yOiBcIitjb250ZW50LmNvbnRyb2xzQnV0dG9uVGV4dENvbG9yK1wiIWltcG9ydGFudDtcXG4gICAgICBiYWNrZ3JvdW5kLWNvbG9yOiBcIitjb250ZW50LmNvbnRyb2xzQnV0dG9uQmFja2dyb3VuZENvbG9yK1wiIWltcG9ydGFudDtcXG4gICAgICBib3JkZXItcmFkaXVzOiBcIitjb250ZW50LmNvbnRyb2xzQnV0dG9uUm91bmQrXCIhaW1wb3J0YW50O1xcbiAgICB9XFxuICBcIixzdHlsZXN9fSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgY29uc3RhbnRzXzE9X193ZWJwYWNrX3JlcXVpcmVfXygxKSxTdWJzY3JpcHRpb25Qcm9tcHRXaWRnZXRfaGVscGVyc18xPV9fd2VicGFja19yZXF1aXJlX18oMTI4KSxTdWJzY3JpcHRpb25Qcm9tcHRXaWRnZXRfY29uc3RhbnRzXzE9X193ZWJwYWNrX3JlcXVpcmVfXyg3NiksU3Vic2NyaXB0aW9uUHJvbXB0V2lkZ2V0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gU3Vic2NyaXB0aW9uUHJvbXB0V2lkZ2V0KHB3KXt0aGlzLnB3PXB3fXJldHVybiBTdWJzY3JpcHRpb25Qcm9tcHRXaWRnZXQucHJvdG90eXBlLmluaXQ9ZnVuY3Rpb24ocGFyYW1zKXtpZighdGhpcy5nZXRSb290RWxlbWVudCgpKXt2YXIgaHRtbD1TdWJzY3JpcHRpb25Qcm9tcHRXaWRnZXRfaGVscGVyc18xLmdldEhUTUwocGFyYW1zKSxzdHlsZXM9U3Vic2NyaXB0aW9uUHJvbXB0V2lkZ2V0X2hlbHBlcnNfMS5nZXRTdHlsZXMocGFyYW1zKTtkb2N1bWVudC5ib2R5Lmluc2VydEFkamFjZW50SFRNTChcImJlZm9yZWVuZFwiLGh0bWwpLGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoc3R5bGVzKX10aGlzLmFkZEV2ZW50TGlzdGVuZXJzKCl9LFN1YnNjcmlwdGlvblByb21wdFdpZGdldC5wcm90b3R5cGUuc2hvdz1mdW5jdGlvbigpe3ZhciByb290RWxlbWVudD10aGlzLmdldFJvb3RFbGVtZW50V2l0aENoZWNrRXhpc3QoKTt0aGlzLnB3Ll9lZS5lbWl0KGNvbnN0YW50c18xLkVWRU5UX09OX1NIT1dfU1VCU0NSSVBUSU9OX1dJREdFVCkscm9vdEVsZW1lbnQuY2xhc3NMaXN0LmFkZChTdWJzY3JpcHRpb25Qcm9tcHRXaWRnZXRfY29uc3RhbnRzXzEuU1VCU0NSSVBUSU9OX1BST01QVF9XSURHRVRfTkFNRVNQQUNFK1wiX3Nob3dcIil9LFN1YnNjcmlwdGlvblByb21wdFdpZGdldC5wcm90b3R5cGUuaGlkZT1mdW5jdGlvbigpe3ZhciByb290RWxlbWVudD10aGlzLmdldFJvb3RFbGVtZW50V2l0aENoZWNrRXhpc3QoKTtyb290RWxlbWVudC5jbGFzc0xpc3QuY29udGFpbnMoU3Vic2NyaXB0aW9uUHJvbXB0V2lkZ2V0X2NvbnN0YW50c18xLlNVQlNDUklQVElPTl9QUk9NUFRfV0lER0VUX05BTUVTUEFDRStcIl9zaG93XCIpJiYodGhpcy5wdy5fZWUuZW1pdChjb25zdGFudHNfMS5FVkVOVF9PTl9ISURFX1NVQlNDUklQVElPTl9XSURHRVQpLHJvb3RFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUoU3Vic2NyaXB0aW9uUHJvbXB0V2lkZ2V0X2NvbnN0YW50c18xLlNVQlNDUklQVElPTl9QUk9NUFRfV0lER0VUX05BTUVTUEFDRStcIl9zaG93XCIpKX0sU3Vic2NyaXB0aW9uUHJvbXB0V2lkZ2V0LnByb3RvdHlwZS5nZXRSb290RWxlbWVudD1mdW5jdGlvbigpe3JldHVybiBkb2N1bWVudC5nZXRFbGVtZW50QnlJZChTdWJzY3JpcHRpb25Qcm9tcHRXaWRnZXRfY29uc3RhbnRzXzEuU1VCU0NSSVBUSU9OX1BST01QVF9XSURHRVRfTkFNRVNQQUNFK1wiLXJvb3RcIil9LFN1YnNjcmlwdGlvblByb21wdFdpZGdldC5wcm90b3R5cGUuZ2V0Um9vdEVsZW1lbnRXaXRoQ2hlY2tFeGlzdD1mdW5jdGlvbigpe3ZhciBlbGVtZW50PXRoaXMuZ2V0Um9vdEVsZW1lbnQoKTtpZighZWxlbWVudCl0aHJvdyBuZXcgRXJyb3IoXCJDYW4ndCBmaW5kIGVsZW1lbnQgYnkgaWQgXFxcIlwiK1N1YnNjcmlwdGlvblByb21wdFdpZGdldF9jb25zdGFudHNfMS5TVUJTQ1JJUFRJT05fUFJPTVBUX1dJREdFVF9OQU1FU1BBQ0UrJy1yb290XCIsIHBsZWFzZSB1c2UgbWV0aG9kIGluaXQgZmlyc3QuJyk7cmV0dXJuIGVsZW1lbnR9LFN1YnNjcmlwdGlvblByb21wdFdpZGdldC5wcm90b3R5cGUuZ2V0RGVjbGluZUJ1dHRvbldpdGhDaGVja0V4aXN0PWZ1bmN0aW9uKCl7dmFyIGVsZW1lbnQ9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoU3Vic2NyaXB0aW9uUHJvbXB0V2lkZ2V0X2NvbnN0YW50c18xLlNVQlNDUklQVElPTl9QUk9NUFRfV0lER0VUX05BTUVTUEFDRStcIi1kZWNsaW5lXCIpO2lmKCFlbGVtZW50KXRocm93IG5ldyBFcnJvcihcIkNhbid0IGZpbmQgZWxlbWVudCBieSBpZCBcXFwiXCIrU3Vic2NyaXB0aW9uUHJvbXB0V2lkZ2V0X2NvbnN0YW50c18xLlNVQlNDUklQVElPTl9QUk9NUFRfV0lER0VUX05BTUVTUEFDRSsnLWRlY2xpbmVcIiwgcGxlYXNlIHVzZSBtZXRob2QgaW5pdCBmaXJzdC4nKTtyZXR1cm4gZWxlbWVudH0sU3Vic2NyaXB0aW9uUHJvbXB0V2lkZ2V0LnByb3RvdHlwZS5nZXRBY2NlcHRCdXR0b25XaXRoQ2hlY2tFeGlzdD1mdW5jdGlvbigpe3ZhciBlbGVtZW50PWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKFN1YnNjcmlwdGlvblByb21wdFdpZGdldF9jb25zdGFudHNfMS5TVUJTQ1JJUFRJT05fUFJPTVBUX1dJREdFVF9OQU1FU1BBQ0UrXCItYWNjZXB0XCIpO2lmKCFlbGVtZW50KXRocm93IG5ldyBFcnJvcihcIkNhbid0IGZpbmQgZWxlbWVudCBieSBpZCBcXFwiXCIrU3Vic2NyaXB0aW9uUHJvbXB0V2lkZ2V0X2NvbnN0YW50c18xLlNVQlNDUklQVElPTl9QUk9NUFRfV0lER0VUX05BTUVTUEFDRSsnLWFjY2VwdFwiLCBwbGVhc2UgdXNlIG1ldGhvZCBpbml0IGZpcnN0LicpO3JldHVybiBlbGVtZW50fSxTdWJzY3JpcHRpb25Qcm9tcHRXaWRnZXQucHJvdG90eXBlLmFkZEV2ZW50TGlzdGVuZXJzPWZ1bmN0aW9uKCl7dmFyIF90aGlzPXRoaXMscm9vdEVsZW1lbnQ9dGhpcy5nZXRSb290RWxlbWVudFdpdGhDaGVja0V4aXN0KCksZGVjbGluZUVsZW1lbnQ9dGhpcy5nZXREZWNsaW5lQnV0dG9uV2l0aENoZWNrRXhpc3QoKSxhY2NlcHRFbGVtZW50PXRoaXMuZ2V0QWNjZXB0QnV0dG9uV2l0aENoZWNrRXhpc3QoKTtkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIixmdW5jdGlvbihldmVudCl7cm9vdEVsZW1lbnQuY29udGFpbnMoZXZlbnQudGFyZ2V0KXx8X3RoaXMuaGlkZSgpfSksZGVjbGluZUVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsZnVuY3Rpb24oKXtfdGhpcy5oaWRlKCl9KSxhY2NlcHRFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLGZ1bmN0aW9uKCl7X3RoaXMuaGlkZSgpLF90aGlzLnB3LnN1YnNjcmliZSgpfSl9LFN1YnNjcmlwdGlvblByb21wdFdpZGdldH0oKTtleHBvcnRzLlN1YnNjcmlwdGlvblByb21wdFdpZGdldD1TdWJzY3JpcHRpb25Qcm9tcHRXaWRnZXR9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBTdWJzY3JpcHRpb25Qcm9tcHRXaWRnZXRfY29uc3RhbnRzXzE9X193ZWJwYWNrX3JlcXVpcmVfXyg3Nik7ZXhwb3J0cy5nZXRIVE1MPWZ1bmN0aW9uKHBhcmFtcyl7cmV0dXJuJ1xcbiAgPGRpdiBpZD1cIicrU3Vic2NyaXB0aW9uUHJvbXB0V2lkZ2V0X2NvbnN0YW50c18xLlNVQlNDUklQVElPTl9QUk9NUFRfV0lER0VUX05BTUVTUEFDRSsnLXJvb3RcIiBjbGFzcz1cIicrU3Vic2NyaXB0aW9uUHJvbXB0V2lkZ2V0X2NvbnN0YW50c18xLlNVQlNDUklQVElPTl9QUk9NUFRfV0lER0VUX05BTUVTUEFDRSsnXCI+XFxuICAgIDxkaXYgY2xhc3M9XCInK1N1YnNjcmlwdGlvblByb21wdFdpZGdldF9jb25zdGFudHNfMS5TVUJTQ1JJUFRJT05fUFJPTVBUX1dJREdFVF9OQU1FU1BBQ0UrJ19fYm9keVwiPlxcbiAgICAgIDxkaXYgY2xhc3M9XCInK1N1YnNjcmlwdGlvblByb21wdFdpZGdldF9jb25zdGFudHNfMS5TVUJTQ1JJUFRJT05fUFJPTVBUX1dJREdFVF9OQU1FU1BBQ0UrJ19faGVhZGVyXCI+XFxuICAgICAgICAnK3BhcmFtcy5oZWFkZXJUZXh0KydcXG4gICAgICA8L2Rpdj5cXG4gICAgICA8ZGl2IGNsYXNzPVwiJytTdWJzY3JpcHRpb25Qcm9tcHRXaWRnZXRfY29uc3RhbnRzXzEuU1VCU0NSSVBUSU9OX1BST01QVF9XSURHRVRfTkFNRVNQQUNFKydfX2Rlc2NyaXB0aW9uXCI+XFxuICAgICAgICAnK3BhcmFtcy5zdWJoZWFkZXJUZXh0KydcXG4gICAgICA8L2Rpdj5cXG4gICAgICA8ZGl2IGNsYXNzPVwiJytTdWJzY3JpcHRpb25Qcm9tcHRXaWRnZXRfY29uc3RhbnRzXzEuU1VCU0NSSVBUSU9OX1BST01QVF9XSURHRVRfTkFNRVNQQUNFKydfX2NvbnRyb2xzXCI+XFxuICAgICAgICA8YnV0dG9uIHR5cGU9XCJidXR0b25cIiBpZD1cIicrU3Vic2NyaXB0aW9uUHJvbXB0V2lkZ2V0X2NvbnN0YW50c18xLlNVQlNDUklQVElPTl9QUk9NUFRfV0lER0VUX05BTUVTUEFDRSsnLWRlY2xpbmVcIiBjbGFzcz1cIicrU3Vic2NyaXB0aW9uUHJvbXB0V2lkZ2V0X2NvbnN0YW50c18xLlNVQlNDUklQVElPTl9QUk9NUFRfV0lER0VUX05BTUVTUEFDRStcIl9fY29udHJvbCBcIitTdWJzY3JpcHRpb25Qcm9tcHRXaWRnZXRfY29uc3RhbnRzXzEuU1VCU0NSSVBUSU9OX1BST01QVF9XSURHRVRfTkFNRVNQQUNFKydfX2NvbnRyb2xfZGVjbGluZVwiPlxcbiAgICAgICAgICAnK3BhcmFtcy5idXR0b25DYW5jZWxUZXh0KydcXG4gICAgICAgIDwvYnV0dG9uPlxcbiAgICAgICAgPGJ1dHRvbiB0eXBlPVwiYnV0dG9uXCIgaWQ9XCInK1N1YnNjcmlwdGlvblByb21wdFdpZGdldF9jb25zdGFudHNfMS5TVUJTQ1JJUFRJT05fUFJPTVBUX1dJREdFVF9OQU1FU1BBQ0UrJy1hY2NlcHRcIiBjbGFzcz1cIicrU3Vic2NyaXB0aW9uUHJvbXB0V2lkZ2V0X2NvbnN0YW50c18xLlNVQlNDUklQVElPTl9QUk9NUFRfV0lER0VUX05BTUVTUEFDRStcIl9fY29udHJvbCBcIitTdWJzY3JpcHRpb25Qcm9tcHRXaWRnZXRfY29uc3RhbnRzXzEuU1VCU0NSSVBUSU9OX1BST01QVF9XSURHRVRfTkFNRVNQQUNFKydfX2NvbnRyb2xfYWNjZXB0XCI+XFxuICAgICAgICAgICcrcGFyYW1zLmJ1dHRvbkFjY2VwdFRleHQrXCJcXG4gICAgICAgIDwvYnV0dG9uPlxcbiAgICAgIDwvZGl2PlxcbiAgICA8L2Rpdj5cXG4gIDwvZGl2PlxcbiAgXCJ9LGV4cG9ydHMuZ2V0U3R5bGVzPWZ1bmN0aW9uKHBhcmFtcyl7dmFyIHN0eWxlcz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7cmV0dXJuIHN0eWxlcy5pbm5lckhUTUw9XCJcXG4gICAgLlwiK1N1YnNjcmlwdGlvblByb21wdFdpZGdldF9jb25zdGFudHNfMS5TVUJTQ1JJUFRJT05fUFJPTVBUX1dJREdFVF9OQU1FU1BBQ0UrXCIgKiB7XFxuICAgICAgYm94LXNpemluZzogYm9yZGVyLWJveCFpbXBvcnRhbnQ7XFxuICAgIH1cXG4gIFxcbiAgICAuXCIrU3Vic2NyaXB0aW9uUHJvbXB0V2lkZ2V0X2NvbnN0YW50c18xLlNVQlNDUklQVElPTl9QUk9NUFRfV0lER0VUX05BTUVTUEFDRStcIiB7XFxuICAgICAgcG9zaXRpb246IGZpeGVkO1xcbiAgICAgIHRvcDogMDtcXG4gICAgICBsZWZ0OiAwO1xcbiAgICAgIHJpZ2h0OiAwO1xcbiAgICAgIG1hcmdpbjogMCBhdXRvO1xcbiAgICAgIHdpZHRoOiAzMjBweDtcXG4gICAgICBkaXNwbGF5OiBub25lO1xcbiAgICAgIHotaW5kZXg6IDIxNDc0ODM2NDg7XFxuICAgICAgb3BhY2l0eTogMC45OTtcXG4gICAgfVxcbiAgICBcXG4gICAgLlwiK1N1YnNjcmlwdGlvblByb21wdFdpZGdldF9jb25zdGFudHNfMS5TVUJTQ1JJUFRJT05fUFJPTVBUX1dJREdFVF9OQU1FU1BBQ0UrXCJfc2hvdyB7XFxuICAgICAgZGlzcGxheTogYmxvY2s7XFxuICAgIH1cXG4gICAgXFxuICAgIC5cIitTdWJzY3JpcHRpb25Qcm9tcHRXaWRnZXRfY29uc3RhbnRzXzEuU1VCU0NSSVBUSU9OX1BST01QVF9XSURHRVRfTkFNRVNQQUNFK1wiX19ib2R5IHtcXG4gICAgICB3aWR0aDogMzIwcHg7XFxuICAgICAgYmFja2dyb3VuZC1jb2xvcjogXCIrKHBhcmFtcy5iYWNrZ3JvdW5kQ29sb3I/cGFyYW1zLmJhY2tncm91bmRDb2xvcjpcIiNGRkZGRkZcIikrXCI7XFxuICAgICAgYm94LXNoYWRvdzogMCA5cHggMTVweCByZ2JhKDAsIDAsIDAsIDAuMSksIDAgMCA2cHggcmdiYSgwLCAwLCAwLCAwLjA2KTtcXG4gICAgICBib3JkZXItcmFkaXVzOiA0cHg7XFxuICAgICAgcGFkZGluZzogMjBweCAyMHB4IDEycHg7XFxuICAgIH1cXG4gICAgXFxuICAgIC5cIitTdWJzY3JpcHRpb25Qcm9tcHRXaWRnZXRfY29uc3RhbnRzXzEuU1VCU0NSSVBUSU9OX1BST01QVF9XSURHRVRfTkFNRVNQQUNFK1wiX19oZWFkZXIge1xcbiAgICAgIGNvbG9yOiBcIitwYXJhbXMuaGVhZGVyVGV4dENvbG9yK1wiO1xcbiAgICAgIGZvbnQtc2l6ZTogMThweDtcXG4gICAgICBmb250LXdlaWdodDogYm9sZDsgXFxuICAgIH1cXG4gICAgXFxuICAgIC5cIitTdWJzY3JpcHRpb25Qcm9tcHRXaWRnZXRfY29uc3RhbnRzXzEuU1VCU0NSSVBUSU9OX1BST01QVF9XSURHRVRfTkFNRVNQQUNFK1wiX19kZXNjcmlwdGlvbiB7XFxuICAgICAgY29sb3I6IFwiK3BhcmFtcy5zdWJoZWFkZXJUZXh0Q29sb3IrXCI7XFxuICAgICAgZm9udC1zaXplOiAxNHB4O1xcbiAgICAgIGxpbmUtaGVpZ2h0OiAxLjU7XFxuICAgICAgbWFyZ2luLXRvcDogMTRweDtcXG4gICAgfVxcbiAgICBcXG4gICAgLlwiK1N1YnNjcmlwdGlvblByb21wdFdpZGdldF9jb25zdGFudHNfMS5TVUJTQ1JJUFRJT05fUFJPTVBUX1dJREdFVF9OQU1FU1BBQ0UrXCJfX2Rlc2NyaXB0aW9uOmVtcHR5IHtcXG4gICAgICBkaXNwbGF5OiBub25lO1xcbiAgICB9XFxuICAgIFxcbiAgICAuXCIrU3Vic2NyaXB0aW9uUHJvbXB0V2lkZ2V0X2NvbnN0YW50c18xLlNVQlNDUklQVElPTl9QUk9NUFRfV0lER0VUX05BTUVTUEFDRStcIl9fY29udHJvbHMge1xcbiAgICAgIGRpc3BsYXk6IGZsZXg7XFxuICAgICAgZmxleC13cmFwOiBub3dyYXA7XFxuICAgICAganVzdGlmeS1jb250ZW50OiBmbGV4LWVuZDtcXG4gICAgICBtYXJnaW46IDIwcHggMCAwO1xcbiAgICB9XFxuICAgIFxcbiAgICAuXCIrU3Vic2NyaXB0aW9uUHJvbXB0V2lkZ2V0X2NvbnN0YW50c18xLlNVQlNDUklQVElPTl9QUk9NUFRfV0lER0VUX05BTUVTUEFDRStcIl9fY29udHJvbCB7XFxuICAgICAgLXdlYmtpdC1hcHBlYXJhbmNlOiBub25lO1xcbiAgICAgIGJvcmRlcjogMXB4IHNvbGlkIHRyYW5zcGFyZW50O1xcbiAgICAgIGZvbnQtc2l6ZTogMTJweDtcXG4gICAgICBmb250LXdlaWdodDogYm9sZDtcXG4gICAgICBwYWRkaW5nOiAwIDIwcHg7XFxuICAgICAgaGVpZ2h0OiAzMnB4O1xcbiAgICAgIGN1cnNvcjogcG9pbnRlcjtcXG4gICAgfVxcbiAgICBcXG4gICAgLlwiK1N1YnNjcmlwdGlvblByb21wdFdpZGdldF9jb25zdGFudHNfMS5TVUJTQ1JJUFRJT05fUFJPTVBUX1dJREdFVF9OQU1FU1BBQ0UrXCJfX2NvbnRyb2xfZGVjbGluZSB7XFxuICAgICAgY29sb3I6IFwiK3BhcmFtcy5idXR0b25DYW5jZWxUZXh0Q29sb3IrXCI7XFxuICAgICAgYmFja2dyb3VuZC1jb2xvcjogXCIrcGFyYW1zLmJ1dHRvbkNhbmNlbEJhY2tncm91bmRDb2xvcitcIjtcXG4gICAgICBib3JkZXItcmFkaXVzOiBcIitwYXJhbXMuYnV0dG9uQ2FuY2VsUm91bmQrXCI7XFxuICAgICAgYm9yZGVyLWNvbG9yOiBcIitwYXJhbXMuYnV0dG9uQ2FuY2VsQm9yZGVyQ29sb3IrXCI7XFxuICAgIH1cXG4gICAgXFxuICAgIC5cIitTdWJzY3JpcHRpb25Qcm9tcHRXaWRnZXRfY29uc3RhbnRzXzEuU1VCU0NSSVBUSU9OX1BST01QVF9XSURHRVRfTkFNRVNQQUNFK1wiX19jb250cm9sX2FjY2VwdCB7XFxuICAgICAgY29sb3I6IFwiK3BhcmFtcy5idXR0b25BY2NlcHRUZXh0Q29sb3IrXCI7XFxuICAgICAgYmFja2dyb3VuZC1jb2xvcjogXCIrcGFyYW1zLmJ1dHRvbkFjY2VwdEJhY2tncm91bmRDb2xvcitcIjtcXG4gICAgICBib3JkZXItcmFkaXVzOiBcIitwYXJhbXMuYnV0dG9uQWNjZXB0Um91bmQrXCI7XFxuICAgICAgYm9yZGVyLWNvbG9yOiBcIitwYXJhbXMuYnV0dG9uQWNjZXB0Qm9yZGVyQ29sb3IrXCI7XFxuICAgICAgbWFyZ2luOiAwIDAgMCAxMnB4O1xcbiAgICB9XFxuICBcIixzdHlsZXN9fSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgRXZlbnRFbWl0dGVyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gRXZlbnRFbWl0dGVyKCl7dGhpcy5fZXZlbnRzPXt9fXJldHVybiBFdmVudEVtaXR0ZXIucHJvdG90eXBlLmVtaXQ9ZnVuY3Rpb24oZXZ0LHBhcmFtKXt2YXIgZXZlbnRzPXRoaXMuX2V2ZW50c1tldnRdJiZ0aGlzLl9ldmVudHNbZXZ0XS5zbGljZSgpO2lmKGV2ZW50cyYmZXZlbnRzLmxlbmd0aClmb3IodmFyIGk9MDtpPGV2ZW50cy5sZW5ndGg7aSsrKWV2ZW50c1tpXShwYXJhbSl9LEV2ZW50RW1pdHRlci5wcm90b3R5cGUub249ZnVuY3Rpb24oZXZ0LGZuKXtyZXR1cm4gdGhpcy5fZXZlbnRzW2V2dF18fCh0aGlzLl9ldmVudHNbZXZ0XT1bXSksdGhpcy5fZXZlbnRzW2V2dF0ucHVzaChmbiksdGhpc30sRXZlbnRFbWl0dGVyLnByb3RvdHlwZS5vbmNlPWZ1bmN0aW9uKGV2dCxmbil7dmFyIF90aGlzPXRoaXMsdXNlZD0hMSxvbmNlZnVuPWZ1bmN0aW9uKHBhcmFtKXtpZighdXNlZClyZXR1cm4gdXNlZD0hMCxfdGhpcy5yZW1vdmVMaXN0ZW5lcihldnQsb25jZWZ1biksZm4ocGFyYW0pfTtyZXR1cm4gdGhpcy5vbihldnQsb25jZWZ1bil9LEV2ZW50RW1pdHRlci5wcm90b3R5cGUucmVtb3ZlTGlzdGVuZXI9ZnVuY3Rpb24oZXZ0LGxpc3RlbmVyKXt2YXIgZXZlbnRzPXRoaXMuX2V2ZW50c1tldnRdO2lmKGV2ZW50cyl7dmFyIGlkeD1ldmVudHMuaW5kZXhPZihsaXN0ZW5lcik7aWR4Pi0xJiZldmVudHMuc3BsaWNlKGlkeCwxKSxldmVudHMubGVuZ3RoPDEmJmRlbGV0ZSB0aGlzLl9ldmVudHNbZXZ0XX19LEV2ZW50RW1pdHRlcn0oKTtleHBvcnRzLmRlZmF1bHQ9RXZlbnRFbWl0dGVyfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjt2YXIgX19hd2FpdGVyPXRoaXMmJnRoaXMuX19hd2FpdGVyfHxmdW5jdGlvbih0aGlzQXJnLF9hcmd1bWVudHMsUCxnZW5lcmF0b3Ipe3JldHVybiBuZXcoUHx8KFA9UHJvbWlzZSkpKGZ1bmN0aW9uKHJlc29sdmUscmVqZWN0KXtmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpe3RyeXtzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSl9Y2F0Y2goZSl7cmVqZWN0KGUpfX1mdW5jdGlvbiByZWplY3RlZCh2YWx1ZSl7dHJ5e3N0ZXAoZ2VuZXJhdG9yLnRocm93KHZhbHVlKSl9Y2F0Y2goZSl7cmVqZWN0KGUpfX1mdW5jdGlvbiBzdGVwKHJlc3VsdCl7cmVzdWx0LmRvbmU/cmVzb2x2ZShyZXN1bHQudmFsdWUpOmZ1bmN0aW9uKHZhbHVlKXtyZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQP3ZhbHVlOm5ldyBQKGZ1bmN0aW9uKHJlc29sdmUpe3Jlc29sdmUodmFsdWUpfSl9KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQscmVqZWN0ZWQpfXN0ZXAoKGdlbmVyYXRvcj1nZW5lcmF0b3IuYXBwbHkodGhpc0FyZyxfYXJndW1lbnRzfHxbXSkpLm5leHQoKSl9KX0sX19nZW5lcmF0b3I9dGhpcyYmdGhpcy5fX2dlbmVyYXRvcnx8ZnVuY3Rpb24odGhpc0FyZyxib2R5KXt2YXIgZix5LHQsZyxfPXtsYWJlbDowLHNlbnQ6ZnVuY3Rpb24oKXtpZigxJnRbMF0pdGhyb3cgdFsxXTtyZXR1cm4gdFsxXX0sdHJ5czpbXSxvcHM6W119O3JldHVybiBnPXtuZXh0OnZlcmIoMCksdGhyb3c6dmVyYigxKSxyZXR1cm46dmVyYigyKX0sXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiYoZ1tTeW1ib2wuaXRlcmF0b3JdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSxnO2Z1bmN0aW9uIHZlcmIobil7cmV0dXJuIGZ1bmN0aW9uKHYpe3JldHVybiBmdW5jdGlvbihvcCl7aWYoZil0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtmb3IoO187KXRyeXtpZihmPTEseSYmKHQ9MiZvcFswXT95LnJldHVybjpvcFswXT95LnRocm93fHwoKHQ9eS5yZXR1cm4pJiZ0LmNhbGwoeSksMCk6eS5uZXh0KSYmISh0PXQuY2FsbCh5LG9wWzFdKSkuZG9uZSlyZXR1cm4gdDtzd2l0Y2goeT0wLHQmJihvcD1bMiZvcFswXSx0LnZhbHVlXSksb3BbMF0pe2Nhc2UgMDpjYXNlIDE6dD1vcDticmVhaztjYXNlIDQ6cmV0dXJuIF8ubGFiZWwrKyx7dmFsdWU6b3BbMV0sZG9uZTohMX07Y2FzZSA1Ol8ubGFiZWwrKyx5PW9wWzFdLG9wPVswXTtjb250aW51ZTtjYXNlIDc6b3A9Xy5vcHMucG9wKCksXy50cnlzLnBvcCgpO2NvbnRpbnVlO2RlZmF1bHQ6aWYoISh0PSh0PV8udHJ5cykubGVuZ3RoPjAmJnRbdC5sZW5ndGgtMV0pJiYoNj09PW9wWzBdfHwyPT09b3BbMF0pKXtfPTA7Y29udGludWV9aWYoMz09PW9wWzBdJiYoIXR8fG9wWzFdPnRbMF0mJm9wWzFdPHRbM10pKXtfLmxhYmVsPW9wWzFdO2JyZWFrfWlmKDY9PT1vcFswXSYmXy5sYWJlbDx0WzFdKXtfLmxhYmVsPXRbMV0sdD1vcDticmVha31pZih0JiZfLmxhYmVsPHRbMl0pe18ubGFiZWw9dFsyXSxfLm9wcy5wdXNoKG9wKTticmVha310WzJdJiZfLm9wcy5wb3AoKSxfLnRyeXMucG9wKCk7Y29udGludWV9b3A9Ym9keS5jYWxsKHRoaXNBcmcsXyl9Y2F0Y2goZSl7b3A9WzYsZV0seT0wfWZpbmFsbHl7Zj10PTB9aWYoNSZvcFswXSl0aHJvdyBvcFsxXTtyZXR1cm57dmFsdWU6b3BbMF0/b3BbMV06dm9pZCAwLGRvbmU6ITB9fShbbix2XSl9fX07T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGNvbnN0YW50c18xPV9fd2VicGFja19yZXF1aXJlX18oMSksZnVuY3Rpb25zXzE9X193ZWJwYWNrX3JlcXVpcmVfXygxMSksc3RvcmFnZV8xPV9fd2VicGFja19yZXF1aXJlX18oMiksRmFjZWJvb2tNb2R1bGU9ZnVuY3Rpb24oKXtmdW5jdGlvbiBGYWNlYm9va01vZHVsZShjb25maWcpe3RoaXMudXNlclJlZj1mdW5jdGlvbnNfMS5nZW5lcmF0ZVVVSUQoKSx0aGlzLmNvbmZpZz1jb25maWcsdGhpcy5pbml0KCl9cmV0dXJuIEZhY2Vib29rTW9kdWxlLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKCl7dGhpcy5yZW5kZXJDaGVja2JveCgpLHRoaXMuaW5pdEZhY2Vib29rU0RLKCksdGhpcy5sb2FkRmFjZWJvb2tTREsoKX0sRmFjZWJvb2tNb2R1bGUucHJvdG90eXBlLnJlbmRlckNoZWNrYm94PWZ1bmN0aW9uKCl7Zm9yKHZhciBfYT10aGlzLmNvbmZpZyxwYWdlSWQ9X2EucGFnZUlkLGNvbnRhaW5lckNsYXNzPV9hLmNvbnRhaW5lckNsYXNzLGF0dHJpYnV0ZXM9W3tuYW1lOlwibWVzc2VuZ2VyX2FwcF9pZFwiLHZhbHVlOmNvbnN0YW50c18xLkZBQ0VCT09LX0FQUF9JRH0se25hbWU6XCJjbGFzc1wiLHZhbHVlOlwiZmItbWVzc2VuZ2VyLWNoZWNrYm94XCJ9LHtuYW1lOlwicGFnZV9pZFwiLHZhbHVlOnBhZ2VJZH0se25hbWU6XCJvcmlnaW5cIix2YWx1ZTp3aW5kb3cubG9jYXRpb24ucHJvdG9jb2wrXCIvL1wiK3dpbmRvdy5sb2NhdGlvbi5ob3N0bmFtZX0se25hbWU6XCJ1c2VyX3JlZlwiLHZhbHVlOnRoaXMudXNlclJlZn0se25hbWU6XCJhbGxvd19sb2dpblwiLHZhbHVlOlwidHJ1ZVwifSx7bmFtZTpcInNpemVcIix2YWx1ZTpcImxhcmdlXCJ9LHtuYW1lOlwic2tpblwiLHZhbHVlOlwibGlnaHRcIn0se25hbWU6XCJjZW50ZXJfYWxpZ25cIix2YWx1ZTpcImZhbHNlXCJ9XSxub2Rlcz1kb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKGNvbnRhaW5lckNsYXNzKSxfbG9vcF8xPWZ1bmN0aW9uKGluZGV4KXt2YXIgbm9kZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2F0dHJpYnV0ZXMuZm9yRWFjaChmdW5jdGlvbihhdHRyaWJ1dGUpe25vZGUuc2V0QXR0cmlidXRlKGF0dHJpYnV0ZS5uYW1lLGF0dHJpYnV0ZS52YWx1ZSl9KSxub2Rlc1tpbmRleF0uYXBwZW5kQ2hpbGQobm9kZSl9LGluZGV4PTA7aW5kZXg8bm9kZXMubGVuZ3RoO2luZGV4KyspX2xvb3BfMShpbmRleCl9LEZhY2Vib29rTW9kdWxlLnByb3RvdHlwZS5nZXRIV0lEPWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgaHdpZCxhcHBsaWNhdGlvbkNvZGUsbmV3SFdJRDtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsc3RvcmFnZV8xLmtleVZhbHVlLmdldChjb25zdGFudHNfMS5GQUNFQk9PS19IV0lEX0tFWSldO2Nhc2UgMTpyZXR1cm4oaHdpZD1fYS5zZW50KCkpP1szLDNdOihhcHBsaWNhdGlvbkNvZGU9dGhpcy5jb25maWcuYXBwbGljYXRpb25Db2RlLG5ld0hXSUQ9YXBwbGljYXRpb25Db2RlK1wiX1wiK2Z1bmN0aW9uc18xLmdlbmVyYXRlVVVJRCgpK1wiX2ZiXCIsWzQsc3RvcmFnZV8xLmtleVZhbHVlLnNldChjb25zdGFudHNfMS5GQUNFQk9PS19IV0lEX0tFWSxuZXdIV0lEKV0pO2Nhc2UgMjpyZXR1cm4gX2Euc2VudCgpLFsyLG5ld0hXSURdO2Nhc2UgMzpyZXR1cm5bMixod2lkXX19KX0pfSxGYWNlYm9va01vZHVsZS5wcm90b3R5cGUudXNlckNvbmZpcm09ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBfYSxwYWdlSWQsYXBwbGljYXRpb25Db2RlLHVzZXJJZCxGQixmYWNlYm9va0h3aWQ7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Ipe3N3aXRjaChfYi5sYWJlbCl7Y2FzZSAwOnJldHVybiBfYT10aGlzLmNvbmZpZyxwYWdlSWQ9X2EucGFnZUlkLGFwcGxpY2F0aW9uQ29kZT1fYS5hcHBsaWNhdGlvbkNvZGUsdXNlcklkPV9hLnVzZXJJZCxGQj13aW5kb3cuRkIsWzQsdGhpcy5nZXRIV0lEKCldO2Nhc2UgMTpyZXR1cm4gZmFjZWJvb2tId2lkPV9iLnNlbnQoKSxGQiYmRkIuQXBwRXZlbnRzLmxvZ0V2ZW50KFwiTWVzc2VuZ2VyQ2hlY2tib3hVc2VyQ29uZmlybWF0aW9uXCIsbnVsbCx7YXBwX2lkOmNvbnN0YW50c18xLkZBQ0VCT09LX0FQUF9JRCxwYWdlX2lkOnBhZ2VJZCxyZWY6SlNPTi5zdHJpbmdpZnkoe2FwcGxpY2F0aW9uQ29kZTphcHBsaWNhdGlvbkNvZGUsdXNlcklkOnVzZXJJZCxod2lkOmZhY2Vib29rSHdpZH0pLHVzZXJfcmVmOnRoaXMudXNlclJlZn0pLFsyXX19KX0pfSxGYWNlYm9va01vZHVsZS5wcm90b3R5cGUuaW5pdEZhY2Vib29rU0RLPWZ1bmN0aW9uKCl7dmFyIF90aGlzPXRoaXM7d2luZG93LmZiQXN5bmNJbml0PWZ1bmN0aW9uKCl7d2luZG93LkZCLmluaXQoe2FwcElkOmNvbnN0YW50c18xLkZBQ0VCT09LX0FQUF9JRCx4ZmJtbDohMCx2ZXJzaW9uOlwidjMuMlwifSksd2luZG93LkZCLkV2ZW50LnN1YnNjcmliZShcIm1lc3Nlbmdlcl9jaGVja2JveFwiLGZ1bmN0aW9uKF9hKXtcImNoZWNrYm94XCI9PT1fYS5ldmVudCYmX3RoaXMudXNlckNvbmZpcm0oKX0pfX0sRmFjZWJvb2tNb2R1bGUucHJvdG90eXBlLmxvYWRGYWNlYm9va1NESz1mdW5jdGlvbigpe3ZhciBsYW5ndWFnZT1uYXZpZ2F0b3IubGFuZ3VhZ2V8fFwiZW5fVVNcIjshZnVuY3Rpb24oZCxzLGlkKXt2YXIganMsZmpzPWQuZ2V0RWxlbWVudHNCeVRhZ05hbWUocylbMF07ZC5nZXRFbGVtZW50QnlJZChpZCl8fCgoanM9ZC5jcmVhdGVFbGVtZW50KHMpKS5pZD1pZCxqcy5zcmM9XCJodHRwczovL2Nvbm5lY3QuZmFjZWJvb2submV0L1wiK2xhbmd1YWdlK1wiL3Nkay5qc1wiLGZqcyYmZmpzLnBhcmVudE5vZGUuaW5zZXJ0QmVmb3JlKGpzLGZqcykpfShkb2N1bWVudCxcInNjcmlwdFwiLFwiZmFjZWJvb2stanNzZGtcIil9LEZhY2Vib29rTW9kdWxlfSgpO2V4cG9ydHMuZGVmYXVsdD1GYWNlYm9va01vZHVsZX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7dmFyIF9fYXNzaWduPXRoaXMmJnRoaXMuX19hc3NpZ258fGZ1bmN0aW9uKCl7cmV0dXJuKF9fYXNzaWduPU9iamVjdC5hc3NpZ258fGZ1bmN0aW9uKHQpe2Zvcih2YXIgcyxpPTEsbj1hcmd1bWVudHMubGVuZ3RoO2k8bjtpKyspZm9yKHZhciBwIGluIHM9YXJndW1lbnRzW2ldKU9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHkuY2FsbChzLHApJiYodFtwXT1zW3BdKTtyZXR1cm4gdH0pLmFwcGx5KHRoaXMsYXJndW1lbnRzKX0sX19hd2FpdGVyPXRoaXMmJnRoaXMuX19hd2FpdGVyfHxmdW5jdGlvbih0aGlzQXJnLF9hcmd1bWVudHMsUCxnZW5lcmF0b3Ipe3JldHVybiBuZXcoUHx8KFA9UHJvbWlzZSkpKGZ1bmN0aW9uKHJlc29sdmUscmVqZWN0KXtmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpe3RyeXtzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSl9Y2F0Y2goZSl7cmVqZWN0KGUpfX1mdW5jdGlvbiByZWplY3RlZCh2YWx1ZSl7dHJ5e3N0ZXAoZ2VuZXJhdG9yLnRocm93KHZhbHVlKSl9Y2F0Y2goZSl7cmVqZWN0KGUpfX1mdW5jdGlvbiBzdGVwKHJlc3VsdCl7cmVzdWx0LmRvbmU/cmVzb2x2ZShyZXN1bHQudmFsdWUpOmZ1bmN0aW9uKHZhbHVlKXtyZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQP3ZhbHVlOm5ldyBQKGZ1bmN0aW9uKHJlc29sdmUpe3Jlc29sdmUodmFsdWUpfSl9KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQscmVqZWN0ZWQpfXN0ZXAoKGdlbmVyYXRvcj1nZW5lcmF0b3IuYXBwbHkodGhpc0FyZyxfYXJndW1lbnRzfHxbXSkpLm5leHQoKSl9KX0sX19nZW5lcmF0b3I9dGhpcyYmdGhpcy5fX2dlbmVyYXRvcnx8ZnVuY3Rpb24odGhpc0FyZyxib2R5KXt2YXIgZix5LHQsZyxfPXtsYWJlbDowLHNlbnQ6ZnVuY3Rpb24oKXtpZigxJnRbMF0pdGhyb3cgdFsxXTtyZXR1cm4gdFsxXX0sdHJ5czpbXSxvcHM6W119O3JldHVybiBnPXtuZXh0OnZlcmIoMCksdGhyb3c6dmVyYigxKSxyZXR1cm46dmVyYigyKX0sXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiYoZ1tTeW1ib2wuaXRlcmF0b3JdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSxnO2Z1bmN0aW9uIHZlcmIobil7cmV0dXJuIGZ1bmN0aW9uKHYpe3JldHVybiBmdW5jdGlvbihvcCl7aWYoZil0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtmb3IoO187KXRyeXtpZihmPTEseSYmKHQ9MiZvcFswXT95LnJldHVybjpvcFswXT95LnRocm93fHwoKHQ9eS5yZXR1cm4pJiZ0LmNhbGwoeSksMCk6eS5uZXh0KSYmISh0PXQuY2FsbCh5LG9wWzFdKSkuZG9uZSlyZXR1cm4gdDtzd2l0Y2goeT0wLHQmJihvcD1bMiZvcFswXSx0LnZhbHVlXSksb3BbMF0pe2Nhc2UgMDpjYXNlIDE6dD1vcDticmVhaztjYXNlIDQ6cmV0dXJuIF8ubGFiZWwrKyx7dmFsdWU6b3BbMV0sZG9uZTohMX07Y2FzZSA1Ol8ubGFiZWwrKyx5PW9wWzFdLG9wPVswXTtjb250aW51ZTtjYXNlIDc6b3A9Xy5vcHMucG9wKCksXy50cnlzLnBvcCgpO2NvbnRpbnVlO2RlZmF1bHQ6aWYoISh0PSh0PV8udHJ5cykubGVuZ3RoPjAmJnRbdC5sZW5ndGgtMV0pJiYoNj09PW9wWzBdfHwyPT09b3BbMF0pKXtfPTA7Y29udGludWV9aWYoMz09PW9wWzBdJiYoIXR8fG9wWzFdPnRbMF0mJm9wWzFdPHRbM10pKXtfLmxhYmVsPW9wWzFdO2JyZWFrfWlmKDY9PT1vcFswXSYmXy5sYWJlbDx0WzFdKXtfLmxhYmVsPXRbMV0sdD1vcDticmVha31pZih0JiZfLmxhYmVsPHRbMl0pe18ubGFiZWw9dFsyXSxfLm9wcy5wdXNoKG9wKTticmVha310WzJdJiZfLm9wcy5wb3AoKSxfLnRyeXMucG9wKCk7Y29udGludWV9b3A9Ym9keS5jYWxsKHRoaXNBcmcsXyl9Y2F0Y2goZSl7b3A9WzYsZV0seT0wfWZpbmFsbHl7Zj10PTB9aWYoNSZvcFswXSl0aHJvdyBvcFsxXTtyZXR1cm57dmFsdWU6b3BbMF0/b3BbMV06dm9pZCAwLGRvbmU6ITB9fShbbix2XSl9fX07T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIEFwaUNsaWVudF8xPV9fd2VicGFja19yZXF1aXJlX18oMjEpLENvbW1hbmRCdXNfMT1fX3dlYnBhY2tfcmVxdWlyZV9fKDEyKSxFdmVudEJ1c18xPV9fd2VicGFja19yZXF1aXJlX18oMTMpLENvbm5lY3Rvcl8xPV9fd2VicGFja19yZXF1aXJlX18oMTMyKSxNb2RhbF8xPV9fd2VicGFja19yZXF1aXJlX18oMTMzKSxSaWNoTWVkaWFfMT1fX3dlYnBhY2tfcmVxdWlyZV9fKDEzNSksZXhwYW5kZXJzXzE9X193ZWJwYWNrX3JlcXVpcmVfXygxNDUpLERhdGFfMT1fX3dlYnBhY2tfcmVxdWlyZV9fKDQpLEluQXBwcz1mdW5jdGlvbigpe2Z1bmN0aW9uIEluQXBwcyhvcHRpb25zLGFwaSxhcGlDbGllbnQpe3ZvaWQgMD09PWFwaUNsaWVudCYmKGFwaUNsaWVudD1uZXcgQXBpQ2xpZW50XzEuQXBpQ2xpZW50KSx0aGlzLmRlbGF5SW5BcHBzPVtdLHRoaXMuaXNMb2FkZWRJbkFwcHNMaXN0PSExLHRoaXMub3B0aW9ucz1vcHRpb25zLHRoaXMuYXBpQ2xpZW50PWFwaUNsaWVudCx0aGlzLmFwaT1hcGksdGhpcy5tb2RhbD1uZXcgTW9kYWxfMS5Nb2RhbCh0aGlzLm9wdGlvbnMmJnRoaXMub3B0aW9ucy5tb2RhbD90aGlzLm9wdGlvbnMubW9kYWw6e30pLHRoaXMuY29ubmVjdG9yPW5ldyBDb25uZWN0b3JfMS5Db25uZWN0b3IsdGhpcy5jb21tYW5kQnVzPUNvbW1hbmRCdXNfMS5Db21tYW5kQnVzLmdldEluc3RhbmNlKCksdGhpcy5ldmVudEJ1cz1FdmVudEJ1c18xLkV2ZW50QnVzLmdldEluc3RhbmNlKCksdGhpcy5kYXRhPW5ldyBEYXRhXzEuRGF0YX1yZXR1cm4gSW5BcHBzLnByb3RvdHlwZS5pbml0PWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgaW5BcHBzLF90aGlzPXRoaXM7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybiB0aGlzLnN1YnNjcmliZVRvUmVjZWl2ZU1lc3NhZ2VGcm9tSUZyYW1lKCksdGhpcy5jb21tYW5kQnVzLm9uKENvbW1hbmRCdXNfMS5UQ29tbWFuZHMuU0hPV19JTl9BUFAsZnVuY3Rpb24oX2Epe3ZhciBjb2RlPV9hLmNvZGU7X3RoaXMuaXNMb2FkZWRJbkFwcHNMaXN0P190aGlzLnNob3dJbkFwcChjb2RlKTpfdGhpcy5kZWxheUluQXBwcy5wdXNoKGNvZGUpfSksWzQsdGhpcy5nZXRMaXN0KCldO2Nhc2UgMTpyZXR1cm4gaW5BcHBzPV9hLnNlbnQoKS5pbkFwcHMsdGhpcy5kZWxheUluQXBwcy5sZW5ndGgmJnRoaXMuZGVsYXlJbkFwcHMuZm9yRWFjaChmdW5jdGlvbihjb2RlKXtfdGhpcy5zaG93SW5BcHAoY29kZSl9KSx0aGlzLmlzTG9hZGVkSW5BcHBzTGlzdD0hMCxbNCx0aGlzLmRhdGEuc2V0SW5BcHBzKGluQXBwcyldO2Nhc2UgMjpyZXR1cm4gX2Euc2VudCgpLHRoaXMuaW5BcHBzPWluQXBwcyxbMl19fSl9KX0sSW5BcHBzLnByb3RvdHlwZS5zdWJzY3JpYmVUb1JlY2VpdmVNZXNzYWdlRnJvbUlGcmFtZT1mdW5jdGlvbigpe3ZhciBfdGhpcz10aGlzO3dpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwibWVzc2FnZVwiLGZ1bmN0aW9uKGV2ZW50KXtpZihldmVudC5zb3VyY2UmJihldmVudC5zb3VyY2U9PT13aW5kb3d8fFwicGFyZW50XCJpbiBldmVudC5zb3VyY2UmJmV2ZW50LnNvdXJjZS5wYXJlbnQ9PT13aW5kb3cpKXRyeXt2YXIgZGF0YT1KU09OLnBhcnNlKGV2ZW50LmRhdGEpO2RhdGEmJlwib2JqZWN0XCI9PXR5cGVvZiBkYXRhJiZfdGhpcy5vblJlY2VpdmVOZXdNZXNzYWdlRnJvbUlGcmFtZShkYXRhKX1jYXRjaChlKXt9fSl9LEluQXBwcy5wcm90b3R5cGUub25SZWNlaXZlTmV3TWVzc2FnZUZyb21JRnJhbWU9ZnVuY3Rpb24obWVzc2FnZSl7dmFyIF90aGlzPXRoaXM7c3dpdGNoKG1lc3NhZ2UubWV0aG9kKXtjYXNlXCJzdWJzY3JpYmVcIjp0aGlzLmNvbm5lY3Rvci5zdWJzY3JpYmUoKS50aGVuKGZ1bmN0aW9uKCl7X3RoaXMuY29tbWFuZEJ1cy5lbWl0KENvbW1hbmRCdXNfMS5UQ29tbWFuZHMuUE9TVF9NRVNTQUdFX1RPX0lGUkFNRSx7Y29kZTptZXNzYWdlLmNvZGV9KX0pO2JyZWFrO2Nhc2VcInVuc3Vic2NyaWJlXCI6dGhpcy5jb25uZWN0b3IudW5zdWJzY3JpYmUoKS50aGVuKGZ1bmN0aW9uKCl7X3RoaXMuY29tbWFuZEJ1cy5lbWl0KENvbW1hbmRCdXNfMS5UQ29tbWFuZHMuUE9TVF9NRVNTQUdFX1RPX0lGUkFNRSx7Y29kZTptZXNzYWdlLmNvZGV9KX0pO2JyZWFrO2Nhc2VcImdldFRhZ3NcIjp0aGlzLmNvbm5lY3Rvci5nZXRUYWdzKCkudGhlbihmdW5jdGlvbih0YWdzKXtfdGhpcy5jb21tYW5kQnVzLmVtaXQoQ29tbWFuZEJ1c18xLlRDb21tYW5kcy5QT1NUX01FU1NBR0VfVE9fSUZSQU1FLHtjb2RlOm1lc3NhZ2UuY29kZSx0YWdzOl9fYXNzaWduKF9fYXNzaWduKHt9LHRhZ3MpLHtQV0NoYW5uZWxzOltcIlNwb3J0IG5ld3NcIl19KX0pfSk7YnJlYWs7Y2FzZVwic2V0VGFnc1wiOnRoaXMuY29ubmVjdG9yLnNldFRhZ3MobWVzc2FnZS5vcHRpb25zLnRhZ3MpLnRoZW4oZnVuY3Rpb24oKXtfdGhpcy5jb21tYW5kQnVzLmVtaXQoQ29tbWFuZEJ1c18xLlRDb21tYW5kcy5QT1NUX01FU1NBR0VfVE9fSUZSQU1FLHtjb2RlOm1lc3NhZ2UuY29kZX0pfSk7YnJlYWs7Y2FzZVwiZ2V0Q2hhbm5lbHNcIjp0aGlzLmRhdGEuZ2V0RmVhdHVyZXMoKS50aGVuKGZ1bmN0aW9uKF9hKXt2YXIgY2hhbm5lbHM9X2EuY2hhbm5lbHM7X3RoaXMuY29tbWFuZEJ1cy5lbWl0KENvbW1hbmRCdXNfMS5UQ29tbWFuZHMuUE9TVF9NRVNTQUdFX1RPX0lGUkFNRSx7Y29kZTptZXNzYWdlLmNvZGUsY2hhbm5lbHM6Y2hhbm5lbHN9KX0pO2JyZWFrO2Nhc2VcImNoZWNrU3Vic2NyaXB0aW9uXCI6dGhpcy5jb25uZWN0b3IuY2hlY2tJc1N1YnNjcmliZWQoKS50aGVuKGZ1bmN0aW9uKHN0YXRlKXtfdGhpcy5jb21tYW5kQnVzLmVtaXQoQ29tbWFuZEJ1c18xLlRDb21tYW5kcy5QT1NUX01FU1NBR0VfVE9fSUZSQU1FLHtjb2RlOm1lc3NhZ2UuY29kZSxzdGF0ZTpzdGF0ZX0pfSk7YnJlYWs7Y2FzZVwiY2hlY2tNYW51YWxVbnN1YnNjcmliZWRcIjp0aGlzLmNvbm5lY3Rvci5jaGVja0lzTWFudWFsVW5zdWJzY3JpYmVkKCkudGhlbihmdW5jdGlvbihzdGF0ZSl7X3RoaXMuY29tbWFuZEJ1cy5lbWl0KENvbW1hbmRCdXNfMS5UQ29tbWFuZHMuUE9TVF9NRVNTQUdFX1RPX0lGUkFNRSx7Y29kZTptZXNzYWdlLmNvZGUsc3RhdGU6c3RhdGV9KX0pO2JyZWFrO2Nhc2VcIm9wZW5MaW5rXCI6d2luZG93Lm9wZW4obWVzc2FnZS5vcHRpb25zLmhyZWYsXCJfYmxhbmtcIik7YnJlYWs7Y2FzZVwiY2xvc2VJbkFwcFwiOnRoaXMuY29tbWFuZEJ1cy5lbWl0KENvbW1hbmRCdXNfMS5UQ29tbWFuZHMuQ0xPU0VfSU5fQVBQKX19LEluQXBwcy5wcm90b3R5cGUuc2hvd0luQXBwPWZ1bmN0aW9uKGNvZGUpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGZpbHRlcmVkUmljaE1lZGlhLGN1cnJlbnRSaWNoTWVkaWEsaW5BcHBDb250ZW50O3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDppZigxIT09KGZpbHRlcmVkUmljaE1lZGlhPXRoaXMuaW5BcHBzLmZpbHRlcihmdW5jdGlvbihpbkFwcCl7cmV0dXJuIGluQXBwLmNvZGU9PT1jb2RlfSkpLmxlbmd0aCl0aHJvdyBuZXcgRXJyb3IoXCJDYW4ndCBmaW5kIFJpY2ggTWVkaWFcIik7cmV0dXJuIHRoaXMubW9kYWwuc2V0TG9hZGluZygpLnNob3coKSxjdXJyZW50UmljaE1lZGlhPWZpbHRlcmVkUmljaE1lZGlhWzBdLFs0LG5ldyBSaWNoTWVkaWFfMS5SaWNoTWVkaWEoY3VycmVudFJpY2hNZWRpYS51cmwsdGhpcy5hcGksW2V4cGFuZGVyc18xLkV4cGFuZGVyUHVzaHdvb3NoU2VuZE1lc3NhZ2UsZXhwYW5kZXJzXzEuRXhwYW5kZXJQdXNod29vc2gsZXhwYW5kZXJzXzEuRXhwYW5kZXJQdXNoTWFuYWdlcl0pLmdldENvbnRlbnQoKV07Y2FzZSAxOnJldHVybiBpbkFwcENvbnRlbnQ9X2Euc2VudCgpLFs0LHRoaXMubW9kYWwuc2V0Q29udGVudChpbkFwcENvbnRlbnQpXTtjYXNlIDI6cmV0dXJuIF9hLnNlbnQoKSx0aGlzLm1vZGFsLnJlbW92ZUxvYWRpbmcoKS5zaG93Q29udGVudCgpLFsyXX19KX0pfSxJbkFwcHMucHJvdG90eXBlLmdldExpc3Q9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtyZXR1cm5bMix0aGlzLmFwaS5nZXRJbkFwcHMoKV19KX0pfSxJbkFwcHN9KCk7ZXhwb3J0cy5JbkFwcHM9SW5BcHBzfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgdXVpZD1fX3dlYnBhY2tfcmVxdWlyZV9fKDkpLHN0b3JhZ2VfMT1fX3dlYnBhY2tfcmVxdWlyZV9fKDIpLGNvbnN0YW50c18xPV9fd2VicGFja19yZXF1aXJlX18oMSksQ29tbWFuZEJ1c18xPV9fd2VicGFja19yZXF1aXJlX18oMTIpLEV2ZW50QnVzXzE9X193ZWJwYWNrX3JlcXVpcmVfXygxMyksQ29ubmVjdG9yPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gQ29ubmVjdG9yKGNvbW1hbmQsZXZlbnQpe3RoaXMuZXZlbnQ9ZXZlbnR8fEV2ZW50QnVzXzEuRXZlbnRCdXMuZ2V0SW5zdGFuY2UoKSx0aGlzLmNvbW1hbmQ9Y29tbWFuZHx8Q29tbWFuZEJ1c18xLkNvbW1hbmRCdXMuZ2V0SW5zdGFuY2UoKX1yZXR1cm4gQ29ubmVjdG9yLnByb3RvdHlwZS5zdWJzY3JpYmU9ZnVuY3Rpb24oaWQpe3ZhciBfdGhpcz10aGlzLHVpZD1pZHx8dXVpZCgpO3JldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlKXtfdGhpcy5ldmVudC5vbihFdmVudEJ1c18xLlRFdmVudHMuU1VCU0NSSUJFLGZ1bmN0aW9uKF9hKXtfYS5ldmVudElkPT09dWlkJiZyZXNvbHZlKCl9KSxfdGhpcy5jb21tYW5kLmVtaXQoQ29tbWFuZEJ1c18xLlRDb21tYW5kcy5TVUJTQ1JJQkUsdWlkKX0pfSxDb25uZWN0b3IucHJvdG90eXBlLnVuc3Vic2NyaWJlPWZ1bmN0aW9uKGlkKXt2YXIgX3RoaXM9dGhpcyx1aWQ9aWR8fHV1aWQoKTtyZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24ocmVzb2x2ZSl7X3RoaXMuZXZlbnQub24oRXZlbnRCdXNfMS5URXZlbnRzLlVOU1VCU0NSSUJFLGZ1bmN0aW9uKF9hKXtfYS5ldmVudElkPT09dWlkJiZyZXNvbHZlKCl9KSxfdGhpcy5jb21tYW5kLmVtaXQoQ29tbWFuZEJ1c18xLlRDb21tYW5kcy5VTlNVQlNDUklCRSx1aWQpfSl9LENvbm5lY3Rvci5wcm90b3R5cGUuZ2V0VGFncz1mdW5jdGlvbihpZCl7dmFyIF90aGlzPXRoaXMsdWlkPWlkfHx1dWlkKCk7cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUpe190aGlzLmV2ZW50Lm9uKEV2ZW50QnVzXzEuVEV2ZW50cy5HRVRfVEFHUyxmdW5jdGlvbihfYSl7dmFyIGV2ZW50SWQ9X2EuZXZlbnRJZCx0YWdzPV9hLnRhZ3M7ZXZlbnRJZD09PXVpZCYmcmVzb2x2ZSh0YWdzKX0pLF90aGlzLmNvbW1hbmQuZW1pdChDb21tYW5kQnVzXzEuVENvbW1hbmRzLkdFVF9UQUdTLHVpZCl9KX0sQ29ubmVjdG9yLnByb3RvdHlwZS5zZXRUYWdzPWZ1bmN0aW9uKHRhZ3MsaWQpe3ZhciBfdGhpcz10aGlzLHVpZD1pZHx8dXVpZCgpO3JldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbihyZXNvbHZlKXtfdGhpcy5ldmVudC5vbihFdmVudEJ1c18xLlRFdmVudHMuU0VUX1RBR1MsZnVuY3Rpb24oX2Epe19hLmV2ZW50SWQ9PT11aWQmJnJlc29sdmUoKX0pLF90aGlzLmNvbW1hbmQuZW1pdChDb21tYW5kQnVzXzEuVENvbW1hbmRzLlNFVF9UQUdTLHt0YWdzOnRhZ3N9LHVpZCl9KX0sQ29ubmVjdG9yLnByb3RvdHlwZS5jaGVja0lzU3Vic2NyaWJlZD1mdW5jdGlvbihpZCl7dmFyIF90aGlzPXRoaXMsdWlkPWlkfHx1dWlkKCk7cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUpe190aGlzLmV2ZW50Lm9uKEV2ZW50QnVzXzEuVEV2ZW50cy5DSEVDS19JU19TVUJTQ1JJQkVELGZ1bmN0aW9uKF9hKXt2YXIgZXZlbnRJZD1fYS5ldmVudElkLHN0YXRlPV9hLnN0YXRlO2V2ZW50SWQ9PT11aWQmJnJlc29sdmUoc3RhdGUpfSksX3RoaXMuY29tbWFuZC5lbWl0KENvbW1hbmRCdXNfMS5UQ29tbWFuZHMuQ0hFQ0tfSVNfU1VCU0NSSUJFRCx1aWQpfSl9LENvbm5lY3Rvci5wcm90b3R5cGUuY2hlY2tJc01hbnVhbFVuc3Vic2NyaWJlZD1mdW5jdGlvbihpZCl7dmFyIF90aGlzPXRoaXMsdWlkPWlkfHx1dWlkKCk7cmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUpe190aGlzLmV2ZW50Lm9uKEV2ZW50QnVzXzEuVEV2ZW50cy5DSEVDS19JU19NQU5VQUxfVU5TVUJTQ1JJQkVELGZ1bmN0aW9uKF9hKXt2YXIgZXZlbnRJZD1fYS5ldmVudElkLHN0YXRlPV9hLnN0YXRlO2V2ZW50SWQ9PT11aWQmJnJlc29sdmUoc3RhdGUpfSksX3RoaXMuY29tbWFuZC5lbWl0KENvbW1hbmRCdXNfMS5UQ29tbWFuZHMuQ0hFQ0tfSVNfTUFOVUFMX1VOU1VCU0NSSUJFRCx1aWQpfSl9LENvbm5lY3Rvci5wcm90b3R5cGUuZ2V0Q2hhbm5lbHM9ZnVuY3Rpb24oKXtyZXR1cm4gc3RvcmFnZV8xLmtleVZhbHVlLmdldChjb25zdGFudHNfMS5DSEFOTkVMUyl9LENvbm5lY3Rvcn0oKTtleHBvcnRzLkNvbm5lY3Rvcj1Db25uZWN0b3J9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO3ZhciBfX2Fzc2lnbj10aGlzJiZ0aGlzLl9fYXNzaWdufHxmdW5jdGlvbigpe3JldHVybihfX2Fzc2lnbj1PYmplY3QuYXNzaWdufHxmdW5jdGlvbih0KXtmb3IodmFyIHMsaT0xLG49YXJndW1lbnRzLmxlbmd0aDtpPG47aSsrKWZvcih2YXIgcCBpbiBzPWFyZ3VtZW50c1tpXSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocyxwKSYmKHRbcF09c1twXSk7cmV0dXJuIHR9KS5hcHBseSh0aGlzLGFyZ3VtZW50cyl9LF9fYXdhaXRlcj10aGlzJiZ0aGlzLl9fYXdhaXRlcnx8ZnVuY3Rpb24odGhpc0FyZyxfYXJndW1lbnRzLFAsZ2VuZXJhdG9yKXtyZXR1cm4gbmV3KFB8fChQPVByb21pc2UpKShmdW5jdGlvbihyZXNvbHZlLHJlamVjdCl7ZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKXt0cnl7c3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpfWNhdGNoKGUpe3JlamVjdChlKX19ZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpe3RyeXtzdGVwKGdlbmVyYXRvci50aHJvdyh2YWx1ZSkpfWNhdGNoKGUpe3JlamVjdChlKX19ZnVuY3Rpb24gc3RlcChyZXN1bHQpe3Jlc3VsdC5kb25lP3Jlc29sdmUocmVzdWx0LnZhbHVlKTpmdW5jdGlvbih2YWx1ZSl7cmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUD92YWx1ZTpuZXcgUChmdW5jdGlvbihyZXNvbHZlKXtyZXNvbHZlKHZhbHVlKX0pfShyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLHJlamVjdGVkKX1zdGVwKChnZW5lcmF0b3I9Z2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsX2FyZ3VtZW50c3x8W10pKS5uZXh0KCkpfSl9LF9fZ2VuZXJhdG9yPXRoaXMmJnRoaXMuX19nZW5lcmF0b3J8fGZ1bmN0aW9uKHRoaXNBcmcsYm9keSl7dmFyIGYseSx0LGcsXz17bGFiZWw6MCxzZW50OmZ1bmN0aW9uKCl7aWYoMSZ0WzBdKXRocm93IHRbMV07cmV0dXJuIHRbMV19LHRyeXM6W10sb3BzOltdfTtyZXR1cm4gZz17bmV4dDp2ZXJiKDApLHRocm93OnZlcmIoMSkscmV0dXJuOnZlcmIoMil9LFwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmKGdbU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSksZztmdW5jdGlvbiB2ZXJiKG4pe3JldHVybiBmdW5jdGlvbih2KXtyZXR1cm4gZnVuY3Rpb24ob3Ape2lmKGYpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7Zm9yKDtfOyl0cnl7aWYoZj0xLHkmJih0PTImb3BbMF0/eS5yZXR1cm46b3BbMF0/eS50aHJvd3x8KCh0PXkucmV0dXJuKSYmdC5jYWxsKHkpLDApOnkubmV4dCkmJiEodD10LmNhbGwoeSxvcFsxXSkpLmRvbmUpcmV0dXJuIHQ7c3dpdGNoKHk9MCx0JiYob3A9WzImb3BbMF0sdC52YWx1ZV0pLG9wWzBdKXtjYXNlIDA6Y2FzZSAxOnQ9b3A7YnJlYWs7Y2FzZSA0OnJldHVybiBfLmxhYmVsKysse3ZhbHVlOm9wWzFdLGRvbmU6ITF9O2Nhc2UgNTpfLmxhYmVsKysseT1vcFsxXSxvcD1bMF07Y29udGludWU7Y2FzZSA3Om9wPV8ub3BzLnBvcCgpLF8udHJ5cy5wb3AoKTtjb250aW51ZTtkZWZhdWx0OmlmKCEodD0odD1fLnRyeXMpLmxlbmd0aD4wJiZ0W3QubGVuZ3RoLTFdKSYmKDY9PT1vcFswXXx8Mj09PW9wWzBdKSl7Xz0wO2NvbnRpbnVlfWlmKDM9PT1vcFswXSYmKCF0fHxvcFsxXT50WzBdJiZvcFsxXTx0WzNdKSl7Xy5sYWJlbD1vcFsxXTticmVha31pZig2PT09b3BbMF0mJl8ubGFiZWw8dFsxXSl7Xy5sYWJlbD10WzFdLHQ9b3A7YnJlYWt9aWYodCYmXy5sYWJlbDx0WzJdKXtfLmxhYmVsPXRbMl0sXy5vcHMucHVzaChvcCk7YnJlYWt9dFsyXSYmXy5vcHMucG9wKCksXy50cnlzLnBvcCgpO2NvbnRpbnVlfW9wPWJvZHkuY2FsbCh0aGlzQXJnLF8pfWNhdGNoKGUpe29wPVs2LGVdLHk9MH1maW5hbGx5e2Y9dD0wfWlmKDUmb3BbMF0pdGhyb3cgb3BbMV07cmV0dXJue3ZhbHVlOm9wWzBdP29wWzFdOnZvaWQgMCxkb25lOiEwfX0oW24sdl0pfX19O09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBDb21tYW5kQnVzXzE9X193ZWJwYWNrX3JlcXVpcmVfXygxMiksRXZlbnRCdXNfMT1fX3dlYnBhY2tfcmVxdWlyZV9fKDEzKSxNb2RhbF9jb25zdGFudHNfMT1fX3dlYnBhY2tfcmVxdWlyZV9fKDEzNCksTW9kYWw9ZnVuY3Rpb24oKXtmdW5jdGlvbiBNb2RhbChvcHRpb25zKXt2YXIgX3RoaXM9dGhpczt2b2lkIDA9PT1vcHRpb25zJiYob3B0aW9ucz17fSk7dmFyIHdyYXBwZXI9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoTW9kYWxfY29uc3RhbnRzXzEuTU9EQUxfV1JBUFBFUl9OQU1FU1BBQ0UpLGlubmVyPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKE1vZGFsX2NvbnN0YW50c18xLk1PREFMX0lOTkVSX05BTUVTUEFDRSksbG9hZGVyPWRvY3VtZW50LmdldEVsZW1lbnRCeUlkKE1vZGFsX2NvbnN0YW50c18xLk1PREFMX0xPQURFUl9OQU1FU1BBQ0UpLGlmcmFtZT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChNb2RhbF9jb25zdGFudHNfMS5NT0RBTF9JRlJBTUVfTkFNRVNQQUNFKSxjbG9zZT1kb2N1bWVudC5nZXRFbGVtZW50QnlJZChNb2RhbF9jb25zdGFudHNfMS5NT0RBTF9DTE9TRV9CVVRUT05fTkFNRVNQQUNFKTtpZih0aGlzLm9wdGlvbj1fX2Fzc2lnbihfX2Fzc2lnbih7fSxNb2RhbF9jb25zdGFudHNfMS5NT0RBTF9ERUZBSUxUX09QVElPTlMpLG9wdGlvbnMpLCEod3JhcHBlciYmaW5uZXImJmxvYWRlciYmaWZyYW1lJiZjbG9zZSkpeyh3cmFwcGVyPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikpLmlkPU1vZGFsX2NvbnN0YW50c18xLk1PREFMX1dSQVBQRVJfTkFNRVNQQUNFLHdyYXBwZXIuY2xhc3NOYW1lPU1vZGFsX2NvbnN0YW50c18xLk1PREFMX1dSQVBQRVJfTkFNRVNQQUNFLChpbm5lcj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpKS5pZD1Nb2RhbF9jb25zdGFudHNfMS5NT0RBTF9JTk5FUl9OQU1FU1BBQ0UsaW5uZXIuY2xhc3NOYW1lPU1vZGFsX2NvbnN0YW50c18xLk1PREFMX0lOTkVSX05BTUVTUEFDRSwobG9hZGVyPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIikpLmlkPU1vZGFsX2NvbnN0YW50c18xLk1PREFMX0xPQURFUl9OQU1FU1BBQ0UsbG9hZGVyLmNsYXNzTmFtZT1Nb2RhbF9jb25zdGFudHNfMS5NT0RBTF9MT0FERVJfTkFNRVNQQUNFLChjbG9zZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpKS5pZD1Nb2RhbF9jb25zdGFudHNfMS5NT0RBTF9DTE9TRV9CVVRUT05fTkFNRVNQQUNFLGNsb3NlLmNsYXNzTmFtZT1Nb2RhbF9jb25zdGFudHNfMS5NT0RBTF9DTE9TRV9CVVRUT05fTkFNRVNQQUNFLChpZnJhbWU9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImlmcmFtZVwiKSkuaWQ9TW9kYWxfY29uc3RhbnRzXzEuTU9EQUxfSUZSQU1FX05BTUVTUEFDRSxpZnJhbWUuY2xhc3NOYW1lPU1vZGFsX2NvbnN0YW50c18xLk1PREFMX0lGUkFNRV9OQU1FU1BBQ0UsaW5uZXIuYXBwZW5kQ2hpbGQoaWZyYW1lKSxpbm5lci5hcHBlbmRDaGlsZChjbG9zZSksdGhpcy5vcHRpb24uaXNTaG93UHJlbG9hZGVyJiZpbm5lci5hcHBlbmRDaGlsZChsb2FkZXIpLHdyYXBwZXIuYXBwZW5kQ2hpbGQoaW5uZXIpLGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQod3JhcHBlcik7dmFyIHN0eWxlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtzdHlsZS5pbm5lckhUTUw9XCJcXG4gICAgICAgIC5cIitNb2RhbF9jb25zdGFudHNfMS5NT0RBTF9XUkFQUEVSX05BTUVTUEFDRStcIiB7XFxuICAgICAgICAgIHBvc2l0aW9uOiBmaXhlZDtcXG4gICAgICAgICAgdG9wOiAwO1xcbiAgICAgICAgICBsZWZ0OiAwO1xcbiAgICAgICAgICB3aWR0aDogMTAwJTtcXG4gICAgICAgICAgaGVpZ2h0OiAxMDAlO1xcbiAgICAgICAgICB6LWluZGV4OiAyMTQ3NDgzNjQ4O1xcbiAgICAgICAgICBvcGFjaXR5OiAwLjk5OTtcXG4gICAgICAgICAgZGlzcGxheTpub25lO1xcbiAgICAgICAgfVxcblxcbiAgICAgICAgLlwiK01vZGFsX2NvbnN0YW50c18xLk1PREFMX1dSQVBQRVJfTkFNRVNQQUNFK1wiX3N0YXRlLXNob3cge1xcbiAgICAgICAgICBkaXNwbGF5OiBibG9jaztcXG4gICAgICAgIH1cXG5cXG4gICAgICAgIC5cIitNb2RhbF9jb25zdGFudHNfMS5NT0RBTF9JTk5FUl9OQU1FU1BBQ0UrXCIge1xcbiAgICAgICAgICB3aWR0aDogMTAwJTtcXG4gICAgICAgICAgaGVpZ2h0OiAxMDAlO1xcbiAgICAgICAgfVxcblxcbiAgICAgICAgLlwiK01vZGFsX2NvbnN0YW50c18xLk1PREFMX0lOTkVSX05BTUVTUEFDRStcIl9zdGF0ZS1sb2FkaW5nIHtcXG4gICAgICAgICAgYmFja2dyb3VuZC1jb2xvcjogXCIrdGhpcy5vcHRpb24uYmFja2dyb3VuZENvbG9yK1wiO1xcbiAgICAgICAgfVxcblxcbiAgICAgICAgLlwiK01vZGFsX2NvbnN0YW50c18xLk1PREFMX0NMT1NFX0JVVFRPTl9OQU1FU1BBQ0UrXCIge1xcbiAgICAgICAgICBhcHBlYXJhbmNlOiBub25lO1xcbiAgICAgICAgICBib3JkZXI6IG5vbmU7XFxuICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IHRyYW5zcGFyZW50O1xcbiAgICAgICAgICBib3gtc2hhZG93OiBub25lO1xcbiAgICAgICAgICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICAgICAgICAgIHRvcDogMjBweDtcXG4gICAgICAgICAgcmlnaHQ6IDIwcHg7XFxuICAgICAgICAgIHdpZHRoOiA0MHB4O1xcbiAgICAgICAgICBoZWlnaHQ6IDQwcHg7XFxuICAgICAgICAgIGN1cnNvcjogcG9pbnRlcjtcXG4gICAgICAgIH1cXG5cXG4gICAgICAgIC5cIitNb2RhbF9jb25zdGFudHNfMS5NT0RBTF9DTE9TRV9CVVRUT05fTkFNRVNQQUNFK1wiOmFmdGVyIHtcXG4gICAgICAgICAgY29udGVudDogJyc7XFxuICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gICAgICAgICAgdG9wOiA1MCU7XFxuICAgICAgICAgIGxlZnQ6NTAlO1xcbiAgICAgICAgICB3aWR0aDogMzBweDtcXG4gICAgICAgICAgaGVpZ2h0OiAycHg7XFxuICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IFwiK3RoaXMub3B0aW9uLmNsb3NlQnV0dG9uQ29sb3IrXCI7XFxuICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgtNTAlKSB0cmFuc2xhdGVZKC01MCUpIHJvdGF0ZSgtNDVkZWcpO1xcbiAgICAgICAgfVxcblxcbiAgICAgICAgLlwiK01vZGFsX2NvbnN0YW50c18xLk1PREFMX0NMT1NFX0JVVFRPTl9OQU1FU1BBQ0UrXCI6YmVmb3JlIHtcXG4gICAgICAgICAgY29udGVudDogJyc7XFxuICAgICAgICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gICAgICAgICAgdG9wOiA1MCU7XFxuICAgICAgICAgIGxlZnQ6NTAlO1xcbiAgICAgICAgICB3aWR0aDogMzBweDtcXG4gICAgICAgICAgaGVpZ2h0OiAycHg7XFxuICAgICAgICAgIGJhY2tncm91bmQtY29sb3I6IFwiK3RoaXMub3B0aW9uLmNsb3NlQnV0dG9uQ29sb3IrXCI7XFxuICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgtNTAlKSB0cmFuc2xhdGVZKC01MCUpIHJvdGF0ZSg0NWRlZyk7XFxuICAgICAgICB9XFxuXFxuICAgICAgICAuXCIrTW9kYWxfY29uc3RhbnRzXzEuTU9EQUxfSU5ORVJfTkFNRVNQQUNFK1wiX3N0YXRlLWxvYWRpbmcgLlwiK01vZGFsX2NvbnN0YW50c18xLk1PREFMX0xPQURFUl9OQU1FU1BBQ0UrXCIge1xcbiAgICAgICAgICBkaXNwbGF5OiBibG9jaztcXG4gICAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgICAgICAgICB0b3A6IDUwJTtcXG4gICAgICAgICAgbGVmdDogNTAlO1xcbiAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgtNTAlLCAtNTAlKTtcXG4gICAgICAgIH1cXG5cXG4gICAgICAgIC5cIitNb2RhbF9jb25zdGFudHNfMS5NT0RBTF9MT0FERVJfTkFNRVNQQUNFK1wiIHtcXG4gICAgICAgICAgZGlzcGxheTogbm9uZTtcXG4gICAgICAgIH1cXG5cXG4gICAgICAgIC5cIitNb2RhbF9jb25zdGFudHNfMS5NT0RBTF9MT0FERVJfTkFNRVNQQUNFK1wiLFxcbiAgICAgICAgLlwiK01vZGFsX2NvbnN0YW50c18xLk1PREFMX0xPQURFUl9OQU1FU1BBQ0UrXCI6YmVmb3JlLFxcbiAgICAgICAgLlwiK01vZGFsX2NvbnN0YW50c18xLk1PREFMX0xPQURFUl9OQU1FU1BBQ0UrXCI6YWZ0ZXIge1xcbiAgICAgICAgICBib3JkZXItcmFkaXVzOiA1MCU7XFxuICAgICAgICAgIHdpZHRoOiAyLjVlbTtcXG4gICAgICAgICAgaGVpZ2h0OiAyLjVlbTtcXG4gICAgICAgICAgLXdlYmtpdC1hbmltYXRpb24tZmlsbC1tb2RlOiBib3RoO1xcbiAgICAgICAgICBhbmltYXRpb24tZmlsbC1tb2RlOiBib3RoO1xcbiAgICAgICAgICAtd2Via2l0LWFuaW1hdGlvbjogXCIrTW9kYWxfY29uc3RhbnRzXzEuTU9EQUxfTE9BREVSX05BTUVTUEFDRStcIiAxLjhzIGluZmluaXRlIGVhc2UtaW4tb3V0O1xcbiAgICAgICAgICBhbmltYXRpb246IFwiK01vZGFsX2NvbnN0YW50c18xLk1PREFMX0xPQURFUl9OQU1FU1BBQ0UrXCIgMS44cyBpbmZpbml0ZSBlYXNlLWluLW91dDtcXG4gICAgICAgIH1cXG5cXG4gICAgICAgIC5cIitNb2RhbF9jb25zdGFudHNfMS5NT0RBTF9MT0FERVJfTkFNRVNQQUNFK1wiIHtcXG4gICAgICAgICAgY29sb3I6ICNmZmZmZmY7XFxuICAgICAgICAgIGZvbnQtc2l6ZTogMTBweDtcXG4gICAgICAgICAgdGV4dC1pbmRlbnQ6IC05OTk5ZW07XFxuICAgICAgICAgIC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGVaKDApO1xcbiAgICAgICAgICAtbXMtdHJhbnNmb3JtOiB0cmFuc2xhdGVaKDApO1xcbiAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVooMCk7XFxuICAgICAgICAgIC13ZWJraXQtYW5pbWF0aW9uLWRlbGF5OiAtMC4xNnM7XFxuICAgICAgICAgIGFuaW1hdGlvbi1kZWxheTogLTAuMTZzO1xcbiAgICAgICAgfVxcblxcbiAgICAgICAgLlwiK01vZGFsX2NvbnN0YW50c18xLk1PREFMX0xPQURFUl9OQU1FU1BBQ0UrXCI6YmVmb3JlLFxcbiAgICAgICAgLlwiK01vZGFsX2NvbnN0YW50c18xLk1PREFMX0xPQURFUl9OQU1FU1BBQ0UrXCI6YWZ0ZXIge1xcbiAgICAgICAgICBjb250ZW50OiAnJztcXG4gICAgICAgICAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgICAgICAgICB0b3A6IDA7XFxuICAgICAgICB9XFxuXFxuICAgICAgICAuXCIrTW9kYWxfY29uc3RhbnRzXzEuTU9EQUxfTE9BREVSX05BTUVTUEFDRStcIjpiZWZvcmUge1xcbiAgICAgICAgICBsZWZ0OiAtMy41ZW07XFxuICAgICAgICAgIC13ZWJraXQtYW5pbWF0aW9uLWRlbGF5OiAtMC4zMnM7XFxuICAgICAgICAgIGFuaW1hdGlvbi1kZWxheTogLTAuMzJzO1xcbiAgICAgICAgfVxcblxcbiAgICAgICAgLlwiK01vZGFsX2NvbnN0YW50c18xLk1PREFMX0xPQURFUl9OQU1FU1BBQ0UrXCI6YWZ0ZXIge1xcbiAgICAgICAgICBsZWZ0OiAzLjVlbTtcXG4gICAgICAgIH1cXG5cXG4gICAgICAgIEAtd2Via2l0LWtleWZyYW1lcyBcIitNb2RhbF9jb25zdGFudHNfMS5NT0RBTF9MT0FERVJfTkFNRVNQQUNFK1wiIHtcXG4gICAgICAgICAgMCUsXFxuICAgICAgICAgIDgwJSxcXG4gICAgICAgICAgMTAwJSB7XFxuICAgICAgICAgICAgYm94LXNoYWRvdzogMCAyLjVlbSAwIC0xLjNlbSBcIit0aGlzLm9wdGlvbi5wcmVsb2FkZXJDb2xvcitcIjtcXG4gICAgICAgICAgfVxcbiAgICAgICAgICA0MCUge1xcbiAgICAgICAgICAgIGJveC1zaGFkb3c6IDAgMi41ZW0gMCAwIFwiK3RoaXMub3B0aW9uLnByZWxvYWRlckNvbG9yK1wiO1xcbiAgICAgICAgICB9XFxuICAgICAgICB9XFxuXFxuICAgICAgICBAa2V5ZnJhbWVzIFwiK01vZGFsX2NvbnN0YW50c18xLk1PREFMX0xPQURFUl9OQU1FU1BBQ0UrXCIge1xcbiAgICAgICAgICAwJSxcXG4gICAgICAgICAgODAlLFxcbiAgICAgICAgICAxMDAlIHtcXG4gICAgICAgICAgICBib3gtc2hhZG93OiAwIDIuNWVtIDAgLTEuM2VtIFwiK3RoaXMub3B0aW9uLnByZWxvYWRlckNvbG9yK1wiO1xcbiAgICAgICAgICB9XFxuICAgICAgICAgIDQwJSB7XFxuICAgICAgICAgICAgYm94LXNoYWRvdzogMCAyLjVlbSAwIDAgXCIrdGhpcy5vcHRpb24ucHJlbG9hZGVyQ29sb3IrXCI7XFxuICAgICAgICAgIH1cXG4gICAgICAgIH1cXG5cXG4gICAgICAgIC5cIitNb2RhbF9jb25zdGFudHNfMS5NT0RBTF9JRlJBTUVfTkFNRVNQQUNFK1wiIHtcXG4gICAgICAgICAgd2lkdGg6IDEwMCU7XFxuICAgICAgICAgIGhlaWdodDogMTAwJTtcXG4gICAgICAgICAgcGFkZGluZzogMDtcXG4gICAgICAgICAgYm9yZGVyOiBub25lO1xcbiAgICAgICAgICBkaXNwbGF5OiBub25lO1xcbiAgICAgICAgfVxcblxcbiAgICAgICAgLlwiK01vZGFsX2NvbnN0YW50c18xLk1PREFMX0lGUkFNRV9OQU1FU1BBQ0UrXCJfc3RhdGUtc2hvdyB7XFxuICAgICAgICAgIGRpc3BsYXk6IGJsb2NrO1xcbiAgICAgICAgfVxcbiAgICAgIFwiLGRvY3VtZW50LmhlYWQuYXBwZW5kQ2hpbGQoc3R5bGUpfXRoaXMud3JhcHBlcj13cmFwcGVyLHRoaXMuaW5uZXI9aW5uZXIsdGhpcy5pZnJhbWU9aWZyYW1lLGNsb3NlLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLGZ1bmN0aW9uKCl7X3RoaXMuaGlkZSgpfSk7dmFyIGNvbW1hbmRCdXM9Q29tbWFuZEJ1c18xLkNvbW1hbmRCdXMuZ2V0SW5zdGFuY2UoKSxldmVudEJ1cz1FdmVudEJ1c18xLkV2ZW50QnVzLmdldEluc3RhbmNlKCk7Y29tbWFuZEJ1cy5vbihDb21tYW5kQnVzXzEuVENvbW1hbmRzLkNMT1NFX0lOX0FQUCxmdW5jdGlvbigpe190aGlzLmhpZGUoKX0pLGNvbW1hbmRCdXMub24oQ29tbWFuZEJ1c18xLlRDb21tYW5kcy5QT1NUX01FU1NBR0VfVE9fSUZSQU1FLGZ1bmN0aW9uKGRhdGEpe190aGlzLmlmcmFtZS5jb250ZW50V2luZG93LnBvc3RNZXNzYWdlKEpTT04uc3RyaW5naWZ5KGRhdGEpLFwiKlwiKX0pLGV2ZW50QnVzLm9uKEV2ZW50QnVzXzEuVEV2ZW50cy5ISURFX05PVElGSUNBVElPTl9QRVJNSVNTSU9OX0RJQUxPRyxmdW5jdGlvbigpe190aGlzLmlmcmFtZS5jb250ZW50V2luZG93LnBvc3RNZXNzYWdlKEpTT04uc3RyaW5naWZ5KHttZXRob2Q6XCJvbkhpZGVQZXJtaXNzaW9uRGlhbG9nXCJ9KSxcIipcIil9KX1yZXR1cm4gTW9kYWwucHJvdG90eXBlLnNob3c9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy53cmFwcGVyLmNsYXNzTmFtZT1Nb2RhbF9jb25zdGFudHNfMS5NT0RBTF9XUkFQUEVSX05BTUVTUEFDRStcIiBcIitNb2RhbF9jb25zdGFudHNfMS5NT0RBTF9XUkFQUEVSX05BTUVTUEFDRStcIl9zdGF0ZS1zaG93XCIsZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdz1cImhpZGRlblwiLHRoaXN9LE1vZGFsLnByb3RvdHlwZS5oaWRlPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMud3JhcHBlci5jbGFzc05hbWU9TW9kYWxfY29uc3RhbnRzXzEuTU9EQUxfV1JBUFBFUl9OQU1FU1BBQ0UsZG9jdW1lbnQuYm9keS5zdHlsZS5vdmVyZmxvdz1cImF1dG9cIix0aGlzfSxNb2RhbC5wcm90b3R5cGUuc2V0TG9hZGluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmlubmVyLmNsYXNzTmFtZT1Nb2RhbF9jb25zdGFudHNfMS5NT0RBTF9JTk5FUl9OQU1FU1BBQ0UrXCIgXCIrTW9kYWxfY29uc3RhbnRzXzEuTU9EQUxfSU5ORVJfTkFNRVNQQUNFK1wiX3N0YXRlLWxvYWRpbmdcIix0aGlzLmlmcmFtZS5jbGFzc05hbWU9TW9kYWxfY29uc3RhbnRzXzEuTU9EQUxfSUZSQU1FX05BTUVTUEFDRSx0aGlzfSxNb2RhbC5wcm90b3R5cGUucmVtb3ZlTG9hZGluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmlubmVyLmNsYXNzTmFtZT1Nb2RhbF9jb25zdGFudHNfMS5NT0RBTF9JTk5FUl9OQU1FU1BBQ0UsdGhpc30sTW9kYWwucHJvdG90eXBlLnNldENvbnRlbnQ9ZnVuY3Rpb24oY29udGVudCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgX3RoaXM9dGhpcztyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7cmV0dXJuIHRoaXMuaWZyYW1lLnNyY2RvYz1jb250ZW50LFsyLG5ldyBQcm9taXNlKGZ1bmN0aW9uKHJlc29sdmUscmVqZWN0KXtfdGhpcy5pZnJhbWUub25sb2FkPXJlc29sdmUsX3RoaXMuaWZyYW1lLm9uZXJyb3I9cmVqZWN0fSldfSl9KX0sTW9kYWwucHJvdG90eXBlLnNob3dDb250ZW50PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuaW5uZXIuY2xhc3NOYW1lPU1vZGFsX2NvbnN0YW50c18xLk1PREFMX0lOTkVSX05BTUVTUEFDRSx0aGlzLmlmcmFtZS5jbGFzc05hbWU9TW9kYWxfY29uc3RhbnRzXzEuTU9EQUxfSUZSQU1FX05BTUVTUEFDRStcIiBcIitNb2RhbF9jb25zdGFudHNfMS5NT0RBTF9JRlJBTUVfTkFNRVNQQUNFK1wiX3N0YXRlLXNob3dcIix0aGlzfSxNb2RhbH0oKTtleHBvcnRzLk1vZGFsPU1vZGFsfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxleHBvcnRzLk1PREFMX1dSQVBQRVJfTkFNRVNQQUNFPVwicHVzaHdvb3NoLWluLWFwcC1tb2RhbC13cmFwcGVyXCIsZXhwb3J0cy5NT0RBTF9JTk5FUl9OQU1FU1BBQ0U9XCJwdXNod29vc2gtaW4tYXBwLW1vZGFsLWlubmVyXCIsZXhwb3J0cy5NT0RBTF9MT0FERVJfTkFNRVNQQUNFPVwicHVzaHdvb3NoLWluLWFwcC1tb2RhbC1sb2FkZXJcIixleHBvcnRzLk1PREFMX0NMT1NFX0JVVFRPTl9OQU1FU1BBQ0U9XCJwdXNod29vc2gtaW4tYXBwLW1vZGFsLWNsb3NlLWJ1dHRvblwiLGV4cG9ydHMuTU9EQUxfSUZSQU1FX05BTUVTUEFDRT1cInB1c2h3b29zaC1pbi1hcHAtbW9kYWwtaWZyYW1lXCIsZXhwb3J0cy5NT0RBTF9ERUZBSUxUX09QVElPTlM9e2JhY2tncm91bmRDb2xvcjpcInJnYmEoMCwgMCwgMCwgLjgpXCIsY2xvc2VCdXR0b25Db2xvcjpcInJnYmEoMjU1LCAyNTUsIDI1NSwgLjgpXCIsY2xvc2VCdXR0b25Ib3ZlckNvbG9yOlwicmdiYSgyNTUsIDI1NSwgMSlcIixpc1Nob3dQcmVsb2FkZXI6ITAscHJlbG9hZGVyQ29sb3I6XCJyZ2JhKDI1NSwgMjU1LCAyNTUsIDEpXCJ9fSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjt2YXIgX19hd2FpdGVyPXRoaXMmJnRoaXMuX19hd2FpdGVyfHxmdW5jdGlvbih0aGlzQXJnLF9hcmd1bWVudHMsUCxnZW5lcmF0b3Ipe3JldHVybiBuZXcoUHx8KFA9UHJvbWlzZSkpKGZ1bmN0aW9uKHJlc29sdmUscmVqZWN0KXtmdW5jdGlvbiBmdWxmaWxsZWQodmFsdWUpe3RyeXtzdGVwKGdlbmVyYXRvci5uZXh0KHZhbHVlKSl9Y2F0Y2goZSl7cmVqZWN0KGUpfX1mdW5jdGlvbiByZWplY3RlZCh2YWx1ZSl7dHJ5e3N0ZXAoZ2VuZXJhdG9yLnRocm93KHZhbHVlKSl9Y2F0Y2goZSl7cmVqZWN0KGUpfX1mdW5jdGlvbiBzdGVwKHJlc3VsdCl7cmVzdWx0LmRvbmU/cmVzb2x2ZShyZXN1bHQudmFsdWUpOmZ1bmN0aW9uKHZhbHVlKXtyZXR1cm4gdmFsdWUgaW5zdGFuY2VvZiBQP3ZhbHVlOm5ldyBQKGZ1bmN0aW9uKHJlc29sdmUpe3Jlc29sdmUodmFsdWUpfSl9KHJlc3VsdC52YWx1ZSkudGhlbihmdWxmaWxsZWQscmVqZWN0ZWQpfXN0ZXAoKGdlbmVyYXRvcj1nZW5lcmF0b3IuYXBwbHkodGhpc0FyZyxfYXJndW1lbnRzfHxbXSkpLm5leHQoKSl9KX0sX19nZW5lcmF0b3I9dGhpcyYmdGhpcy5fX2dlbmVyYXRvcnx8ZnVuY3Rpb24odGhpc0FyZyxib2R5KXt2YXIgZix5LHQsZyxfPXtsYWJlbDowLHNlbnQ6ZnVuY3Rpb24oKXtpZigxJnRbMF0pdGhyb3cgdFsxXTtyZXR1cm4gdFsxXX0sdHJ5czpbXSxvcHM6W119O3JldHVybiBnPXtuZXh0OnZlcmIoMCksdGhyb3c6dmVyYigxKSxyZXR1cm46dmVyYigyKX0sXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiYoZ1tTeW1ib2wuaXRlcmF0b3JdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSxnO2Z1bmN0aW9uIHZlcmIobil7cmV0dXJuIGZ1bmN0aW9uKHYpe3JldHVybiBmdW5jdGlvbihvcCl7aWYoZil0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtmb3IoO187KXRyeXtpZihmPTEseSYmKHQ9MiZvcFswXT95LnJldHVybjpvcFswXT95LnRocm93fHwoKHQ9eS5yZXR1cm4pJiZ0LmNhbGwoeSksMCk6eS5uZXh0KSYmISh0PXQuY2FsbCh5LG9wWzFdKSkuZG9uZSlyZXR1cm4gdDtzd2l0Y2goeT0wLHQmJihvcD1bMiZvcFswXSx0LnZhbHVlXSksb3BbMF0pe2Nhc2UgMDpjYXNlIDE6dD1vcDticmVhaztjYXNlIDQ6cmV0dXJuIF8ubGFiZWwrKyx7dmFsdWU6b3BbMV0sZG9uZTohMX07Y2FzZSA1Ol8ubGFiZWwrKyx5PW9wWzFdLG9wPVswXTtjb250aW51ZTtjYXNlIDc6b3A9Xy5vcHMucG9wKCksXy50cnlzLnBvcCgpO2NvbnRpbnVlO2RlZmF1bHQ6aWYoISh0PSh0PV8udHJ5cykubGVuZ3RoPjAmJnRbdC5sZW5ndGgtMV0pJiYoNj09PW9wWzBdfHwyPT09b3BbMF0pKXtfPTA7Y29udGludWV9aWYoMz09PW9wWzBdJiYoIXR8fG9wWzFdPnRbMF0mJm9wWzFdPHRbM10pKXtfLmxhYmVsPW9wWzFdO2JyZWFrfWlmKDY9PT1vcFswXSYmXy5sYWJlbDx0WzFdKXtfLmxhYmVsPXRbMV0sdD1vcDticmVha31pZih0JiZfLmxhYmVsPHRbMl0pe18ubGFiZWw9dFsyXSxfLm9wcy5wdXNoKG9wKTticmVha310WzJdJiZfLm9wcy5wb3AoKSxfLnRyeXMucG9wKCk7Y29udGludWV9b3A9Ym9keS5jYWxsKHRoaXNBcmcsXyl9Y2F0Y2goZSl7b3A9WzYsZV0seT0wfWZpbmFsbHl7Zj10PTB9aWYoNSZvcFswXSl0aHJvdyBvcFsxXTtyZXR1cm57dmFsdWU6b3BbMF0/b3BbMV06dm9pZCAwLGRvbmU6ITB9fShbbix2XSl9fX07T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGRldGVjdF9icm93c2VyXzE9X193ZWJwYWNrX3JlcXVpcmVfXygxMzYpLGdldFppcF8xPV9fd2VicGFja19yZXF1aXJlX18oNTApLER5bmFtaWNDb250ZW50XzE9X193ZWJwYWNrX3JlcXVpcmVfXygxMzcpLFJpY2hNZWRpYUV4cGFuZGVyXzE9X193ZWJwYWNrX3JlcXVpcmVfXygxMzkpLEV4dGVybmFsUmVzb3VyY2VzXzE9X193ZWJwYWNrX3JlcXVpcmVfXygxNDApLFJpY2hNZWRpYT1mdW5jdGlvbigpe2Z1bmN0aW9uIFJpY2hNZWRpYSh1cmwsYXBpLGV4cGFuZGVycyl7dGhpcy51cmw9dXJsLHRoaXMuYXBpPWFwaSx0aGlzLmV4cGFuZGVycz1leHBhbmRlcnN9cmV0dXJuIFJpY2hNZWRpYS5wcm90b3R5cGUuZ2V0Q29udGVudD1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGxhbmd1YWdlLGpzemlwLHZhbHVlcyxfYSxfYixjb250ZW50LGJyb3dzZXIsY29udGV4dDtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYyl7c3dpdGNoKF9jLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5hcGkuZ2V0VGFncygpXTtjYXNlIDE6cmV0dXJuIGxhbmd1YWdlPV9jLnNlbnQoKS5yZXN1bHQuTGFuZ3VhZ2UsWzQsZ2V0WmlwXzEuZ2V0WmlwKHRoaXMudXJsKV07Y2FzZSAyOmlmKCEoanN6aXA9X2Muc2VudCgpKS5maWxlc1tcImluZGV4Lmh0bWxcIl0pdGhyb3cgbmV3IEVycm9yKFwiQ2FuJ3QgZmluZCBpbmRleC5odG1sXCIpO2lmKCFqc3ppcC5maWxlc1tcInB1c2h3b29zaC5qc29uXCJdKXRocm93IG5ldyBFcnJvcihcIkNhbid0IGZpbmQgcHVzaHdvb3NoLmpzb25cIik7cmV0dXJuIF9iPShfYT1KU09OKS5wYXJzZSxbNCxqc3ppcC5maWxlKFwicHVzaHdvb3NoLmpzb25cIikuYXN5bmMoXCJ0ZXh0XCIpXTtjYXNlIDM6cmV0dXJuIHZhbHVlcz1fYi5hcHBseShfYSxbX2Muc2VudCgpXSksWzQsanN6aXAuZmlsZShcImluZGV4Lmh0bWxcIikuYXN5bmMoXCJ0ZXh0XCIpXTtjYXNlIDQ6cmV0dXJuIGNvbnRlbnQ9X2Muc2VudCgpLGJyb3dzZXI9ZGV0ZWN0X2Jyb3dzZXJfMS5kZXRlY3QoKSxjb250ZXh0PXtwbGF0Zm9ybTpcIndlYlwiLGJyb3dzZXI6YnJvd3NlciYmYnJvd3Nlci5uYW1lfHxcInVua25vd25cIixvczpicm93c2VyJiZicm93c2VyLm9zfHxcInVua25vd25cIixpc01vYmlsZUJyb3dzZXI6dGhpcy5jaGVja0lzTW9iaWxlQnJvd3NlcigpfSxjb250ZW50PW5ldyBEeW5hbWljQ29udGVudF8xLkR5bmFtaWNDb250ZW50KGNvbnRlbnQsdmFsdWVzLGxhbmd1YWdlKS5nZXRSZXBsYWNlZENvbnRlbnQoKSxbNCxuZXcgRXh0ZXJuYWxSZXNvdXJjZXNfMS5FeHRlcm5hbFJlc291cmNlcyhjb250ZW50LGpzemlwKS5nZXRSZXBsYWNlZENvbnRlbnQoKV07Y2FzZSA1OnJldHVybiBjb250ZW50PV9jLnNlbnQoKSxjb250ZW50PW5ldyBEeW5hbWljQ29udGVudF8xLkR5bmFtaWNDb250ZW50KGNvbnRlbnQsdmFsdWVzLGxhbmd1YWdlKS5nZXRSZXBsYWNlZENvbnRlbnQoKSxjb250ZW50PW5ldyBSaWNoTWVkaWFFeHBhbmRlcl8xLlJpY2hNZWRpYUV4cGFuZGVyKGNvbnRlbnQsWyc8c2NyaXB0IHR5cGU9XCJ0ZXh0L2phdmFzY3JpcHRcIj5cXG4gICAgICAgICAgd2luZG93LnB1c2h3b29zaC5wbGF0Zm9ybSA9IFxcJycrY29udGV4dC5wbGF0Zm9ybS5yZXBsYWNlKFwiIFwiLFwiXCIpLnRvTG93ZXJDYXNlKCkrXCInO1xcbiAgICAgICAgICB3aW5kb3cucHVzaHdvb3NoLmJyb3dzZXIgPSAnXCIrY29udGV4dC5icm93c2VyLnJlcGxhY2UoXCIgXCIsXCJcIikudG9Mb3dlckNhc2UoKStcIic7XFxuICAgICAgICAgIHdpbmRvdy5wdXNod29vc2gub3MgPSAnXCIrY29udGV4dC5vcy5yZXBsYWNlKFwiIFwiLFwiXCIpLnRvTG93ZXJDYXNlKCkrXCInO1xcbiAgICAgICAgICB3aW5kb3cucHVzaHdvb3NoLmlzTW9iaWxlQnJvd3NlciA9IFwiK2NvbnRleHQuaXNNb2JpbGVCcm93c2VyK1wiO1xcbiAgICAgICAgPFxcL3NjcmlwdD5cIl0pLnVwbG9hZEV4cGFuZGVycygpLFsyLGNvbnRlbnQ9bmV3IFJpY2hNZWRpYUV4cGFuZGVyXzEuUmljaE1lZGlhRXhwYW5kZXIoY29udGVudCx0aGlzLmV4cGFuZGVycykudXBsb2FkRXhwYW5kZXJzKCldfX0pfSl9LFJpY2hNZWRpYS5wcm90b3R5cGUuY2hlY2tJc01vYmlsZUJyb3dzZXI9ZnVuY3Rpb24oKXt2YXIgaXNNb2JpbGVCcm93c2VyPSExO3JldHVybiBmdW5jdGlvbihzdHIpeygvKGFuZHJvaWR8YmJcXGQrfG1lZWdvKS4rbW9iaWxlfGF2YW50Z298YmFkYVxcL3xibGFja2JlcnJ5fGJsYXplcnxjb21wYWx8ZWxhaW5lfGZlbm5lY3xoaXB0b3B8aWVtb2JpbGV8aXAoaG9uZXxvZCl8aXJpc3xraW5kbGV8bGdlIHxtYWVtb3xtaWRwfG1tcHxtb2JpbGUuK2ZpcmVmb3h8bmV0ZnJvbnR8b3BlcmEgbShvYnxpbilpfHBhbG0oIG9zKT98cGhvbmV8cChpeGl8cmUpXFwvfHBsdWNrZXJ8cG9ja2V0fHBzcHxzZXJpZXMoNHw2KTB8c3ltYmlhbnx0cmVvfHVwXFwuKGJyb3dzZXJ8bGluayl8dm9kYWZvbmV8d2FwfHdpbmRvd3MgY2V8eGRhfHhpaW5vfGFuZHJvaWR8aXBhZHxwbGF5Ym9va3xzaWxrL2kudGVzdChzdHIpfHwvMTIwN3w2MzEwfDY1OTB8M2dzb3w0dGhwfDUwWzEtNl1pfDc3MHN8ODAyc3xhIHdhfGFiYWN8YWMoZXJ8b298c1xcLSl8YWkoa298cm4pfGFsKGF2fGNhfGNvKXxhbW9pfGFuKGV4fG55fHl3KXxhcHR1fGFyKGNofGdvKXxhcyh0ZXx1cyl8YXR0d3xhdShkaXxcXC1tfHIgfHMgKXxhdmFufGJlKGNrfGxsfG5xKXxiaShsYnxyZCl8YmwoYWN8YXopfGJyKGV8dil3fGJ1bWJ8YndcXC0obnx1KXxjNTVcXC98Y2FwaXxjY3dhfGNkbVxcLXxjZWxsfGNodG18Y2xkY3xjbWRcXC18Y28obXB8bmQpfGNyYXd8ZGEoaXR8bGx8bmcpfGRidGV8ZGNcXC1zfGRldml8ZGljYXxkbW9ifGRvKGN8cClvfGRzKDEyfFxcLWQpfGVsKDQ5fGFpKXxlbShsMnx1bCl8ZXIoaWN8azApfGVzbDh8ZXooWzQtN10wfG9zfHdhfHplKXxmZXRjfGZseShcXC18Xyl8ZzEgdXxnNTYwfGdlbmV8Z2ZcXC01fGdcXC1tb3xnbyhcXC53fG9kKXxncihhZHx1bil8aGFpZXxoY2l0fGhkXFwtKG18cHx0KXxoZWlcXC18aGkocHR8dGEpfGhwKCBpfGlwKXxoc1xcLWN8aHQoYyhcXC18IHxffGF8Z3xwfHN8dCl8dHApfGh1KGF3fHRjKXxpXFwtKDIwfGdvfG1hKXxpMjMwfGlhYyggfFxcLXxcXC8pfGlicm98aWRlYXxpZzAxfGlrb218aW0xa3xpbm5vfGlwYXF8aXJpc3xqYSh0fHYpYXxqYnJvfGplbXV8amlnc3xrZGRpfGtlaml8a2d0KCB8XFwvKXxrbG9ufGtwdCB8a3djXFwtfGt5byhjfGspfGxlKG5vfHhpKXxsZyggZ3xcXC8oa3xsfHUpfDUwfDU0fFxcLVthLXddKXxsaWJ3fGx5bnh8bTFcXC13fG0zZ2F8bTUwXFwvfG1hKHRlfHVpfHhvKXxtYygwMXwyMXxjYSl8bVxcLWNyfG1lKHJjfHJpKXxtaShvOHxvYXx0cyl8bW1lZnxtbygwMXwwMnxiaXxkZXxkb3x0KFxcLXwgfG98dil8enopfG10KDUwfHAxfHYgKXxtd2JwfG15d2F8bjEwWzAtMl18bjIwWzItM118bjMwKDB8Mil8bjUwKDB8Mnw1KXxuNygwKDB8MSl8MTApfG5lKChjfG0pXFwtfG9ufHRmfHdmfHdnfHd0KXxub2soNnxpKXxuenBofG8yaW18b3AodGl8d3YpfG9yYW58b3dnMXxwODAwfHBhbihhfGR8dCl8cGR4Z3xwZygxM3xcXC0oWzEtOF18YykpfHBoaWx8cGlyZXxwbChheXx1Yyl8cG5cXC0yfHBvKGNrfHJ0fHNlKXxwcm94fHBzaW98cHRcXC1nfHFhXFwtYXxxYygwN3wxMnwyMXwzMnw2MHxcXC1bMi03XXxpXFwtKXxxdGVrfHIzODB8cjYwMHxyYWtzfHJpbTl8cm8odmV8em8pfHM1NVxcL3xzYShnZXxtYXxtbXxtc3xueXx2YSl8c2MoMDF8aFxcLXxvb3xwXFwtKXxzZGtcXC98c2UoYyhcXC18MHwxKXw0N3xtY3xuZHxyaSl8c2doXFwtfHNoYXJ8c2llKFxcLXxtKXxza1xcLTB8c2woNDV8aWQpfHNtKGFsfGFyfGIzfGl0fHQ1KXxzbyhmdHxueSl8c3AoMDF8aFxcLXx2XFwtfHYgKXxzeSgwMXxtYil8dDIoMTh8NTApfHQ2KDAwfDEwfDE4KXx0YShndHxsayl8dGNsXFwtfHRkZ1xcLXx0ZWwoaXxtKXx0aW1cXC18dFxcLW1vfHRvKHBsfHNoKXx0cyg3MHxtXFwtfG0zfG01KXx0eFxcLTl8dXAoXFwuYnxnMXxzaSl8dXRzdHx2NDAwfHY3NTB8dmVyaXx2aShyZ3x0ZSl8dmsoNDB8NVswLTNdfFxcLXYpfHZtNDB8dm9kYXx2dWxjfHZ4KDUyfDUzfDYwfDYxfDcwfDgwfDgxfDgzfDg1fDk4KXx3M2MoXFwtfCApfHdlYmN8d2hpdHx3aShnIHxuY3xudyl8d21sYnx3b251fHg3MDB8eWFzXFwtfHlvdXJ8emV0b3x6dGVcXC0vaS50ZXN0KHN0ci5zdWJzdHIoMCw0KSkpJiYoaXNNb2JpbGVCcm93c2VyPSEwKX0obmF2aWdhdG9yLnVzZXJBZ2VudHx8bmF2aWdhdG9yLnZlbmRvcnx8d2luZG93Lm9wZXJhKSxpc01vYmlsZUJyb3dzZXJ9LFJpY2hNZWRpYX0oKTtleHBvcnRzLlJpY2hNZWRpYT1SaWNoTWVkaWF9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiOyhmdW5jdGlvbihwcm9jZXNzKXt2YXIgX19zcHJlYWRBcnJheXM9dGhpcyYmdGhpcy5fX3NwcmVhZEFycmF5c3x8ZnVuY3Rpb24oKXtmb3IodmFyIHM9MCxpPTAsaWw9YXJndW1lbnRzLmxlbmd0aDtpPGlsO2krKylzKz1hcmd1bWVudHNbaV0ubGVuZ3RoO3ZhciByPUFycmF5KHMpLGs9MDtmb3IoaT0wO2k8aWw7aSsrKWZvcih2YXIgYT1hcmd1bWVudHNbaV0saj0wLGpsPWEubGVuZ3RoO2o8amw7aisrLGsrKylyW2tdPWFbal07cmV0dXJuIHJ9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBCcm93c2VySW5mbz1mdW5jdGlvbigpe3JldHVybiBmdW5jdGlvbihuYW1lLHZlcnNpb24sb3Mpe3RoaXMubmFtZT1uYW1lLHRoaXMudmVyc2lvbj12ZXJzaW9uLHRoaXMub3M9b3N9fSgpO2V4cG9ydHMuQnJvd3NlckluZm89QnJvd3NlckluZm87dmFyIE5vZGVJbmZvPWZ1bmN0aW9uKCl7cmV0dXJuIGZ1bmN0aW9uKHZlcnNpb24pe3RoaXMudmVyc2lvbj12ZXJzaW9uLHRoaXMubmFtZT1cIm5vZGVcIix0aGlzLm9zPXByb2Nlc3MucGxhdGZvcm19fSgpO2V4cG9ydHMuTm9kZUluZm89Tm9kZUluZm87dmFyIEJvdEluZm89ZnVuY3Rpb24oKXtyZXR1cm4gZnVuY3Rpb24oKXt0aGlzLmJvdD0hMCx0aGlzLm5hbWU9XCJib3RcIix0aGlzLnZlcnNpb249bnVsbCx0aGlzLm9zPW51bGx9fSgpO2V4cG9ydHMuQm90SW5mbz1Cb3RJbmZvO3ZhciBSRVFVSVJFRF9WRVJTSU9OX1BBUlRTPTMsdXNlckFnZW50UnVsZXM9W1tcImFvbFwiLC9BT0xTaGllbGRcXC8oWzAtOVxcLl9dKykvXSxbXCJlZGdlXCIsL0VkZ2VcXC8oWzAtOVxcLl9dKykvXSxbXCJlZGdlLWlvc1wiLC9FZGdpT1NcXC8oWzAtOVxcLl9dKykvXSxbXCJ5YW5kZXhicm93c2VyXCIsL1lhQnJvd3NlclxcLyhbMC05XFwuX10rKS9dLFtcInZpdmFsZGlcIiwvVml2YWxkaVxcLyhbMC05XFwuXSspL10sW1wia2FrYW90YWxrXCIsL0tBS0FPVEFMS1xccyhbMC05XFwuXSspL10sW1wic2Ftc3VuZ1wiLC9TYW1zdW5nQnJvd3NlclxcLyhbMC05XFwuXSspL10sW1wic2lsa1wiLC9cXGJTaWxrXFwvKFswLTkuXy1dKylcXGIvXSxbXCJtaXVpXCIsL01pdWlCcm93c2VyXFwvKFswLTlcXC5dKykkL10sW1wiYmVha2VyXCIsL0JlYWtlckJyb3dzZXJcXC8oWzAtOVxcLl0rKS9dLFtcImVkZ2UtY2hyb21pdW1cIiwvRWRnXFwvKFswLTlcXC5dKykvXSxbXCJjaHJvbWl1bS13ZWJ2aWV3XCIsLyg/IUNocm9tLipPUFIpd3ZcXCkuKkNocm9tKD86ZXxpdW0pXFwvKFswLTlcXC5dKykoOj9cXHN8JCkvXSxbXCJjaHJvbWVcIiwvKD8hQ2hyb20uKk9QUilDaHJvbSg/OmV8aXVtKVxcLyhbMC05XFwuXSspKDo/XFxzfCQpL10sW1wicGhhbnRvbWpzXCIsL1BoYW50b21KU1xcLyhbMC05XFwuXSspKDo/XFxzfCQpL10sW1wiY3Jpb3NcIiwvQ3JpT1NcXC8oWzAtOVxcLl0rKSg6P1xcc3wkKS9dLFtcImZpcmVmb3hcIiwvRmlyZWZveFxcLyhbMC05XFwuXSspKD86XFxzfCQpL10sW1wiZnhpb3NcIiwvRnhpT1NcXC8oWzAtOVxcLl0rKS9dLFtcIm9wZXJhLW1pbmlcIiwvT3BlcmEgTWluaS4qVmVyc2lvblxcLyhbMC05XFwuXSspL10sW1wib3BlcmFcIiwvT3BlcmFcXC8oWzAtOVxcLl0rKSg/Olxcc3wkKS9dLFtcIm9wZXJhXCIsL09QUlxcLyhbMC05XFwuXSspKDo/XFxzfCQpL10sW1wiaWVcIiwvVHJpZGVudFxcLzdcXC4wLipydlxcOihbMC05XFwuXSspLipcXCkuKkdlY2tvJC9dLFtcImllXCIsL01TSUVcXHMoWzAtOVxcLl0rKTsuKlRyaWRlbnRcXC9bNC03XS4wL10sW1wiaWVcIiwvTVNJRVxccyg3XFwuMCkvXSxbXCJiYjEwXCIsL0JCMTA7XFxzVG91Y2guKlZlcnNpb25cXC8oWzAtOVxcLl0rKS9dLFtcImFuZHJvaWRcIiwvQW5kcm9pZFxccyhbMC05XFwuXSspL10sW1wiaW9zXCIsL1ZlcnNpb25cXC8oWzAtOVxcLl9dKykuKk1vYmlsZS4qU2FmYXJpLiovXSxbXCJzYWZhcmlcIiwvVmVyc2lvblxcLyhbMC05XFwuX10rKS4qU2FmYXJpL10sW1wiZmFjZWJvb2tcIiwvRkJBVlxcLyhbMC05XFwuXSspL10sW1wiaW5zdGFncmFtXCIsL0luc3RhZ3JhbVxccyhbMC05XFwuXSspL10sW1wiaW9zLXdlYnZpZXdcIiwvQXBwbGVXZWJLaXRcXC8oWzAtOVxcLl0rKS4qTW9iaWxlL10sW1wiaW9zLXdlYnZpZXdcIiwvQXBwbGVXZWJLaXRcXC8oWzAtOVxcLl0rKS4qR2Vja29cXCkkL10sW1wic2VhcmNoYm90XCIsL2FsZXhhfGJvdHxjcmF3bChlcnxpbmcpfGZhY2Vib29rZXh0ZXJuYWxoaXR8ZmVlZGJ1cm5lcnxnb29nbGUgd2ViIHByZXZpZXd8bmFnaW9zfHBvc3RyYW5rfHBpbmdkb218c2x1cnB8c3BpZGVyfHlhaG9vIXx5YW5kZXgvXV0sb3BlcmF0aW5nU3lzdGVtUnVsZXM9W1tcImlPU1wiLC9pUChob25lfG9kfGFkKS9dLFtcIkFuZHJvaWQgT1NcIiwvQW5kcm9pZC9dLFtcIkJsYWNrQmVycnkgT1NcIiwvQmxhY2tCZXJyeXxCQjEwL10sW1wiV2luZG93cyBNb2JpbGVcIiwvSUVNb2JpbGUvXSxbXCJBbWF6b24gT1NcIiwvS2luZGxlL10sW1wiV2luZG93cyAzLjExXCIsL1dpbjE2L10sW1wiV2luZG93cyA5NVwiLC8oV2luZG93cyA5NSl8KFdpbjk1KXwoV2luZG93c185NSkvXSxbXCJXaW5kb3dzIDk4XCIsLyhXaW5kb3dzIDk4KXwoV2luOTgpL10sW1wiV2luZG93cyAyMDAwXCIsLyhXaW5kb3dzIE5UIDUuMCl8KFdpbmRvd3MgMjAwMCkvXSxbXCJXaW5kb3dzIFhQXCIsLyhXaW5kb3dzIE5UIDUuMSl8KFdpbmRvd3MgWFApL10sW1wiV2luZG93cyBTZXJ2ZXIgMjAwM1wiLC8oV2luZG93cyBOVCA1LjIpL10sW1wiV2luZG93cyBWaXN0YVwiLC8oV2luZG93cyBOVCA2LjApL10sW1wiV2luZG93cyA3XCIsLyhXaW5kb3dzIE5UIDYuMSkvXSxbXCJXaW5kb3dzIDhcIiwvKFdpbmRvd3MgTlQgNi4yKS9dLFtcIldpbmRvd3MgOC4xXCIsLyhXaW5kb3dzIE5UIDYuMykvXSxbXCJXaW5kb3dzIDEwXCIsLyhXaW5kb3dzIE5UIDEwLjApL10sW1wiV2luZG93cyBNRVwiLC9XaW5kb3dzIE1FL10sW1wiT3BlbiBCU0RcIiwvT3BlbkJTRC9dLFtcIlN1biBPU1wiLC9TdW5PUy9dLFtcIkNocm9tZSBPU1wiLC9Dck9TL10sW1wiTGludXhcIiwvKExpbnV4KXwoWDExKS9dLFtcIk1hYyBPU1wiLC8oTWFjX1Bvd2VyUEMpfChNYWNpbnRvc2gpL10sW1wiUU5YXCIsL1FOWC9dLFtcIkJlT1NcIiwvQmVPUy9dLFtcIk9TLzJcIiwvT1NcXC8yL10sW1wiU2VhcmNoIEJvdFwiLC8obnVoayl8KEdvb2dsZWJvdCl8KFlhbW15Ym90KXwoT3BlbmJvdCl8KFNsdXJwKXwoTVNOQm90KXwoQXNrIEplZXZlc1xcL1Rlb21hKXwoaWFfYXJjaGl2ZXIpL11dO2Z1bmN0aW9uIHBhcnNlVXNlckFnZW50KHVhKXt2YXIgbWF0Y2hlZFJ1bGU9XCJcIiE9PXVhJiZ1c2VyQWdlbnRSdWxlcy5yZWR1Y2UoZnVuY3Rpb24obWF0Y2hlZCxfYSl7dmFyIGJyb3dzZXI9X2FbMF0scmVnZXg9X2FbMV07aWYobWF0Y2hlZClyZXR1cm4gbWF0Y2hlZDt2YXIgdWFNYXRjaD1yZWdleC5leGVjKHVhKTtyZXR1cm4hIXVhTWF0Y2gmJlticm93c2VyLHVhTWF0Y2hdfSwhMSk7aWYoIW1hdGNoZWRSdWxlKXJldHVybiBudWxsO3ZhciBuYW1lPW1hdGNoZWRSdWxlWzBdLG1hdGNoPW1hdGNoZWRSdWxlWzFdO2lmKFwic2VhcmNoYm90XCI9PT1uYW1lKXJldHVybiBuZXcgQm90SW5mbzt2YXIgdmVyc2lvblBhcnRzPW1hdGNoWzFdJiZtYXRjaFsxXS5zcGxpdCgvWy5fXS8pLnNsaWNlKDAsMyk7cmV0dXJuIHZlcnNpb25QYXJ0cz92ZXJzaW9uUGFydHMubGVuZ3RoPFJFUVVJUkVEX1ZFUlNJT05fUEFSVFMmJih2ZXJzaW9uUGFydHM9X19zcHJlYWRBcnJheXModmVyc2lvblBhcnRzLGZ1bmN0aW9uKGNvdW50KXtmb3IodmFyIG91dHB1dD1bXSxpaT0wO2lpPGNvdW50O2lpKyspb3V0cHV0LnB1c2goXCIwXCIpO3JldHVybiBvdXRwdXR9KFJFUVVJUkVEX1ZFUlNJT05fUEFSVFMtdmVyc2lvblBhcnRzLmxlbmd0aCkpKTp2ZXJzaW9uUGFydHM9W10sbmV3IEJyb3dzZXJJbmZvKG5hbWUsdmVyc2lvblBhcnRzLmpvaW4oXCIuXCIpLGRldGVjdE9TKHVhKSl9ZnVuY3Rpb24gZGV0ZWN0T1ModWEpe2Zvcih2YXIgaWk9MCxjb3VudD1vcGVyYXRpbmdTeXN0ZW1SdWxlcy5sZW5ndGg7aWk8Y291bnQ7aWkrKyl7dmFyIF9hPW9wZXJhdGluZ1N5c3RlbVJ1bGVzW2lpXSxvcz1fYVswXTtpZihfYVsxXS50ZXN0KHVhKSlyZXR1cm4gb3N9cmV0dXJuIG51bGx9ZnVuY3Rpb24gZ2V0Tm9kZVZlcnNpb24oKXtyZXR1cm4gdm9pZCAwIT09cHJvY2VzcyYmcHJvY2Vzcy52ZXJzaW9uP25ldyBOb2RlSW5mbyhwcm9jZXNzLnZlcnNpb24uc2xpY2UoMSkpOm51bGx9ZXhwb3J0cy5kZXRlY3Q9ZnVuY3Rpb24odXNlckFnZW50KXtyZXR1cm4gdXNlckFnZW50P3BhcnNlVXNlckFnZW50KHVzZXJBZ2VudCk6XCJ1bmRlZmluZWRcIiE9dHlwZW9mIG5hdmlnYXRvcj9wYXJzZVVzZXJBZ2VudChuYXZpZ2F0b3IudXNlckFnZW50KTpnZXROb2RlVmVyc2lvbigpfSxleHBvcnRzLnBhcnNlVXNlckFnZW50PXBhcnNlVXNlckFnZW50LGV4cG9ydHMuZGV0ZWN0T1M9ZGV0ZWN0T1MsZXhwb3J0cy5nZXROb2RlVmVyc2lvbj1nZXROb2RlVmVyc2lvbn0pLmNhbGwodGhpcyxfX3dlYnBhY2tfcmVxdWlyZV9fKDI3KSl9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBEeW5hbWljQ29udGVudF9jb25zdGFudHNfMT1fX3dlYnBhY2tfcmVxdWlyZV9fKDEzOCksRHluYW1pY0NvbnRlbnQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBEeW5hbWljQ29udGVudChjb250ZW50LHZhbHVlcyxsYW5ndWFnZSl7dGhpcy5jb250ZW50PWNvbnRlbnQsdGhpcy52YWx1ZXM9dmFsdWVzLHRoaXMubGFuZ3VhZ2U9bGFuZ3VhZ2V9cmV0dXJuIER5bmFtaWNDb250ZW50LnByb3RvdHlwZS5nZXRSZXBsYWNlZENvbnRlbnQ9ZnVuY3Rpb24oKXt2YXIgX3RoaXM9dGhpcyxyZWdleHA9bmV3IFJlZ0V4cChcIlxcXFx7XFxcXHtbXlxcXFx9XFxcXH1dKn19XCIsXCJnbVwiKTtyZXR1cm4gdGhpcy5jb250ZW50LnJlcGxhY2UocmVnZXhwLGZ1bmN0aW9uKHN1YnN0cmluZyl7dmFyIHBhdHRlcm49c3Vic3RyaW5nLnJlcGxhY2UoXCJ9fVwiLFwiXCIpLnJlcGxhY2UoXCJ7e1wiLFwiXCIpO3JldHVybiBfdGhpcy5nZXRSZXN1bHRpbmdDb250ZW50KHBhdHRlcm4pfSl9LER5bmFtaWNDb250ZW50LnByb3RvdHlwZS5nZXRSZXN1bHRpbmdDb250ZW50PWZ1bmN0aW9uKHBhdHRlcm4pe3ZhciBfYT1wYXR0ZXJuLnNwbGl0KFwifFwiKSxuYW1lPV9hWzBdLG1vZGlmaWVyPV9hWzFdLF9iPV9hWzJdLHZhbHVlPXZvaWQgMD09PV9iP1wiXCI6X2IsaGFzUmVwbGFjZWRWYWx1ZUJ5Q3VycmVudExhbmd1YWdlPXRoaXMudmFsdWVzLmxvY2FsaXphdGlvbiYmdGhpcy52YWx1ZXMubG9jYWxpemF0aW9uW3RoaXMubGFuZ3VhZ2VdJiZ0aGlzLnZhbHVlcy5sb2NhbGl6YXRpb25bdGhpcy5sYW5ndWFnZV1bbmFtZV0saGFzUmVwbGFjZWRWYWx1ZUJ5RGVmYXVsdExhbmd1YWdlPXRoaXMudmFsdWVzLmxvY2FsaXphdGlvbiYmdGhpcy52YWx1ZXMubG9jYWxpemF0aW9uW3RoaXMudmFsdWVzLmRlZmF1bHRfbGFuZ3VhZ2VdJiZ0aGlzLnZhbHVlcy5sb2NhbGl6YXRpb25bdGhpcy52YWx1ZXMuZGVmYXVsdF9sYW5ndWFnZV1bbmFtZV07cmV0dXJuIGhhc1JlcGxhY2VkVmFsdWVCeUN1cnJlbnRMYW5ndWFnZT92YWx1ZT10aGlzLnZhbHVlcy5sb2NhbGl6YXRpb25bdGhpcy5sYW5ndWFnZV1bbmFtZV06aGFzUmVwbGFjZWRWYWx1ZUJ5RGVmYXVsdExhbmd1YWdlJiYodmFsdWU9dGhpcy52YWx1ZXMubG9jYWxpemF0aW9uW3RoaXMudmFsdWVzLmRlZmF1bHRfbGFuZ3VhZ2VdW25hbWVdKSx0aGlzLnVwZGF0ZVN0cmluZ0J5TW9kaWZpZXIodmFsdWUsbW9kaWZpZXIpfSxEeW5hbWljQ29udGVudC5wcm90b3R5cGUudXBkYXRlU3RyaW5nQnlNb2RpZmllcj1mdW5jdGlvbihzdHJpbmcsbW9kaWZpZXIpe3N3aXRjaChtb2RpZmllci50b0xvd2VyQ2FzZSgpKXtjYXNlIER5bmFtaWNDb250ZW50X2NvbnN0YW50c18xLkRZTkFNSUNfQ09OVEVOVF9NT0RJRklFUl9DQVBJVEFMSVpFX0ZJUlNUOnJldHVybiBzdHJpbmc9KHN0cmluZz1zdHJpbmcudG9Mb3dlckNhc2UoKSkuY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrc3RyaW5nLnN1YnN0cmluZygxKTtjYXNlIER5bmFtaWNDb250ZW50X2NvbnN0YW50c18xLkRZTkFNSUNfQ09OVEVOVF9NT0RJRklFUl9DQVBJVEFMSVpFX0FMTF9GSVJTVDpmb3IodmFyIGFyckxldHRlcnM9c3RyaW5nLnRvTG93ZXJDYXNlKCkuc3BsaXQoXCIgXCIpLGk9MDtpPGFyckxldHRlcnMubGVuZ3RoO2krKylhcnJMZXR0ZXJzW2ldPWFyckxldHRlcnNbaV0uY2hhckF0KDApLnRvVXBwZXJDYXNlKCkrYXJyTGV0dGVyc1tpXS5zdWJzdHJpbmcoMSk7cmV0dXJuIHN0cmluZz1hcnJMZXR0ZXJzLmpvaW4oXCIgXCIpO2Nhc2UgRHluYW1pY0NvbnRlbnRfY29uc3RhbnRzXzEuRFlOQU1JQ19DT05URU5UX01PRElGSUVSX1VQUEVSQ0FTRTpyZXR1cm4gc3RyaW5nLnRvVXBwZXJDYXNlKCk7Y2FzZSBEeW5hbWljQ29udGVudF9jb25zdGFudHNfMS5EWU5BTUlDX0NPTlRFTlRfTU9ESUZJRVJfTE9XRVJDQVNFOnJldHVybiBzdHJpbmcudG9Mb3dlckNhc2UoKTtkZWZhdWx0OnJldHVybiBzdHJpbmd9fSxEeW5hbWljQ29udGVudH0oKTtleHBvcnRzLkR5bmFtaWNDb250ZW50PUR5bmFtaWNDb250ZW50fSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxleHBvcnRzLkRZTkFNSUNfQ09OVEVOVF9NT0RJRklFUl9DQVBJVEFMSVpFX0ZJUlNUPVwiY2FwaXRhbGl6ZWZpcnN0XCIsZXhwb3J0cy5EWU5BTUlDX0NPTlRFTlRfTU9ESUZJRVJfQ0FQSVRBTElaRV9BTExfRklSU1Q9XCJjYXBpdGFsaXplYWxsZmlyc3RcIixleHBvcnRzLkRZTkFNSUNfQ09OVEVOVF9NT0RJRklFUl9VUFBFUkNBU0U9XCJ1cHBlcmNhc2VcIixleHBvcnRzLkRZTkFNSUNfQ09OVEVOVF9NT0RJRklFUl9MT1dFUkNBU0U9XCJsb3dlcmNhc2VcIn0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIFJpY2hNZWRpYUV4cGFuZGVyPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gUmljaE1lZGlhRXhwYW5kZXIoY29udGVudCxleHBhbmRlcnMpe3ZvaWQgMD09PWV4cGFuZGVycyYmKGV4cGFuZGVycz1bXSksdGhpcy5jb250ZW50PWNvbnRlbnQsdGhpcy5leHBhbmRlcnM9ZXhwYW5kZXJzfXJldHVybiBSaWNoTWVkaWFFeHBhbmRlci5wcm90b3R5cGUudXBsb2FkRXhwYW5kZXJzPWZ1bmN0aW9uKCl7dmFyIG1lcmdlPXRoaXMuZXhwYW5kZXJzLmpvaW4oXCJcXHJcXG5cIik7cmV0dXJuIHRoaXMuY29udGVudC5yZXBsYWNlKFwiPGhlYWQ+XCIsXCI8aGVhZD5cIittZXJnZSl9LFJpY2hNZWRpYUV4cGFuZGVyfSgpO2V4cG9ydHMuUmljaE1lZGlhRXhwYW5kZXI9UmljaE1lZGlhRXhwYW5kZXJ9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO3ZhciBfX2F3YWl0ZXI9dGhpcyYmdGhpcy5fX2F3YWl0ZXJ8fGZ1bmN0aW9uKHRoaXNBcmcsX2FyZ3VtZW50cyxQLGdlbmVyYXRvcil7cmV0dXJuIG5ldyhQfHwoUD1Qcm9taXNlKSkoZnVuY3Rpb24ocmVzb2x2ZSxyZWplY3Qpe2Z1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSl7dHJ5e3N0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKX1jYXRjaChlKXtyZWplY3QoZSl9fWZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKXt0cnl7c3RlcChnZW5lcmF0b3IudGhyb3codmFsdWUpKX1jYXRjaChlKXtyZWplY3QoZSl9fWZ1bmN0aW9uIHN0ZXAocmVzdWx0KXtyZXN1bHQuZG9uZT9yZXNvbHZlKHJlc3VsdC52YWx1ZSk6ZnVuY3Rpb24odmFsdWUpe3JldHVybiB2YWx1ZSBpbnN0YW5jZW9mIFA/dmFsdWU6bmV3IFAoZnVuY3Rpb24ocmVzb2x2ZSl7cmVzb2x2ZSh2YWx1ZSl9KX0ocmVzdWx0LnZhbHVlKS50aGVuKGZ1bGZpbGxlZCxyZWplY3RlZCl9c3RlcCgoZ2VuZXJhdG9yPWdlbmVyYXRvci5hcHBseSh0aGlzQXJnLF9hcmd1bWVudHN8fFtdKSkubmV4dCgpKX0pfSxfX2dlbmVyYXRvcj10aGlzJiZ0aGlzLl9fZ2VuZXJhdG9yfHxmdW5jdGlvbih0aGlzQXJnLGJvZHkpe3ZhciBmLHksdCxnLF89e2xhYmVsOjAsc2VudDpmdW5jdGlvbigpe2lmKDEmdFswXSl0aHJvdyB0WzFdO3JldHVybiB0WzFdfSx0cnlzOltdLG9wczpbXX07cmV0dXJuIGc9e25leHQ6dmVyYigwKSx0aHJvdzp2ZXJiKDEpLHJldHVybjp2ZXJiKDIpfSxcImZ1bmN0aW9uXCI9PXR5cGVvZiBTeW1ib2wmJihnW1N5bWJvbC5pdGVyYXRvcl09ZnVuY3Rpb24oKXtyZXR1cm4gdGhpc30pLGc7ZnVuY3Rpb24gdmVyYihuKXtyZXR1cm4gZnVuY3Rpb24odil7cmV0dXJuIGZ1bmN0aW9uKG9wKXtpZihmKXRocm93IG5ldyBUeXBlRXJyb3IoXCJHZW5lcmF0b3IgaXMgYWxyZWFkeSBleGVjdXRpbmcuXCIpO2Zvcig7XzspdHJ5e2lmKGY9MSx5JiYodD0yJm9wWzBdP3kucmV0dXJuOm9wWzBdP3kudGhyb3d8fCgodD15LnJldHVybikmJnQuY2FsbCh5KSwwKTp5Lm5leHQpJiYhKHQ9dC5jYWxsKHksb3BbMV0pKS5kb25lKXJldHVybiB0O3N3aXRjaCh5PTAsdCYmKG9wPVsyJm9wWzBdLHQudmFsdWVdKSxvcFswXSl7Y2FzZSAwOmNhc2UgMTp0PW9wO2JyZWFrO2Nhc2UgNDpyZXR1cm4gXy5sYWJlbCsrLHt2YWx1ZTpvcFsxXSxkb25lOiExfTtjYXNlIDU6Xy5sYWJlbCsrLHk9b3BbMV0sb3A9WzBdO2NvbnRpbnVlO2Nhc2UgNzpvcD1fLm9wcy5wb3AoKSxfLnRyeXMucG9wKCk7Y29udGludWU7ZGVmYXVsdDppZighKHQ9KHQ9Xy50cnlzKS5sZW5ndGg+MCYmdFt0Lmxlbmd0aC0xXSkmJig2PT09b3BbMF18fDI9PT1vcFswXSkpe189MDtjb250aW51ZX1pZigzPT09b3BbMF0mJighdHx8b3BbMV0+dFswXSYmb3BbMV08dFszXSkpe18ubGFiZWw9b3BbMV07YnJlYWt9aWYoNj09PW9wWzBdJiZfLmxhYmVsPHRbMV0pe18ubGFiZWw9dFsxXSx0PW9wO2JyZWFrfWlmKHQmJl8ubGFiZWw8dFsyXSl7Xy5sYWJlbD10WzJdLF8ub3BzLnB1c2gob3ApO2JyZWFrfXRbMl0mJl8ub3BzLnBvcCgpLF8udHJ5cy5wb3AoKTtjb250aW51ZX1vcD1ib2R5LmNhbGwodGhpc0FyZyxfKX1jYXRjaChlKXtvcD1bNixlXSx5PTB9ZmluYWxseXtmPXQ9MH1pZig1Jm9wWzBdKXRocm93IG9wWzFdO3JldHVybnt2YWx1ZTpvcFswXT9vcFsxXTp2b2lkIDAsZG9uZTohMH19KFtuLHZdKX19fTtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgbG9nZ2VyXzE9X193ZWJwYWNrX3JlcXVpcmVfXyg1KSxVcmxQYXJzZXJfMT1fX3dlYnBhY2tfcmVxdWlyZV9fKDE0MSksRXh0ZXJuYWxSZXNvdXJjZXNfY29uc3RhbnRzXzE9X193ZWJwYWNrX3JlcXVpcmVfXygxNDQpLEV4dGVybmFsUmVzb3VyY2VzPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gRXh0ZXJuYWxSZXNvdXJjZXMoY29udGVudCxqc3ppcCl7dGhpcy5jb250ZW50PWNvbnRlbnQsdGhpcy5qc3ppcD1qc3ppcH1yZXR1cm4gRXh0ZXJuYWxSZXNvdXJjZXMucHJvdG90eXBlLmdldFJlcGxhY2VkQ29udGVudD1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIF90aGlzPXRoaXM7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3JldHVyblsyLHRoaXMucmVwbGFjZUV4dGVybmFsU3R5bGVzKHRoaXMuY29udGVudCkudGhlbihmdW5jdGlvbihjb250ZW50KXtyZXR1cm4gX3RoaXMucmVwbGFjZUV4dGVybmFsQmFja2dyb3VuZFVybChjb250ZW50KX0pLnRoZW4oZnVuY3Rpb24oY29udGVudCl7cmV0dXJuIF90aGlzLnJlcGxhY2VFeHRlcm5hbEltYWdlKGNvbnRlbnQpfSkudGhlbihmdW5jdGlvbihjb250ZW50KXtyZXR1cm4gX3RoaXMucmVwbGFjZUV4dGVybmFsU2NyaXB0KGNvbnRlbnQpfSldfSl9KX0sRXh0ZXJuYWxSZXNvdXJjZXMucHJvdG90eXBlLnJlcGxhY2VFeHRlcm5hbFN0eWxlcz1mdW5jdGlvbihjb250ZW50LGJhc2Upe3JldHVybiB2b2lkIDA9PT1iYXNlJiYoYmFzZT1cIi9cIiksX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBwYXR0ZXJuLF90aGlzPXRoaXM7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybiBwYXR0ZXJuPXRoaXMuZ2V0U2VhcmNoUGF0dGVybihcInN0eWxlXCIpLFs0LHRoaXMucmVwbGFjZXIoY29udGVudCxwYXR0ZXJuLGZ1bmN0aW9uKHN1YnN0cmluZyl7cmV0dXJuIF9fYXdhaXRlcihfdGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIHBhdGgsY29udGVudCxyZWxhdGl2ZTtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5nZXRSZXBsYWNlZEZpbGVQYXRoKHN1YnN0cmluZyxwYXR0ZXJuLEV4dGVybmFsUmVzb3VyY2VzX2NvbnN0YW50c18xLkVYVEVSTkFMX1JFU09VUkNFU19SRUdFWFBfU0VDT05EX0dST1VQLGJhc2UpXTtjYXNlIDE6cmV0dXJuKHBhdGg9X2Euc2VudCgpKT9bNCx0aGlzLmpzemlwLmZpbGUocGF0aCkuYXN5bmMoXCJ0ZXh0XCIpXTpbMixzdWJzdHJpbmddO2Nhc2UgMjpyZXR1cm4gY29udGVudD1fYS5zZW50KCkscmVsYXRpdmU9cGF0aC5zcGxpdChcIi9cIikuc3BsaWNlKC0xLDEpLmpvaW4oXCIvXCIpLFs0LHRoaXMucmVwbGFjZUV4dGVybmFsQmFja2dyb3VuZFVybChjb250ZW50LHJlbGF0aXZlKV07Y2FzZSAzOnJldHVyblsyLCc8c3R5bGUgdHlwZT1cInRleHQvY3NzXCI+JytfYS5zZW50KCkucmVwbGFjZShcIlxcblwiLFwiXCIpK1wiPC9zdHlsZT5cIl19fSl9KX0pXTtjYXNlIDE6cmV0dXJuWzIsX2Euc2VudCgpXX19KX0pfSxFeHRlcm5hbFJlc291cmNlcy5wcm90b3R5cGUucmVwbGFjZUV4dGVybmFsQmFja2dyb3VuZFVybD1mdW5jdGlvbihjb250ZW50LGJhc2Upe3JldHVybiB2b2lkIDA9PT1iYXNlJiYoYmFzZT1cIi9cIiksX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBwYXR0ZXJuLF90aGlzPXRoaXM7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybiBwYXR0ZXJuPXRoaXMuZ2V0U2VhcmNoUGF0dGVybihcImJhY2tncm91bmRVcmxcIiksWzQsdGhpcy5yZXBsYWNlcihjb250ZW50LHBhdHRlcm4sZnVuY3Rpb24oc3Vic3RyaW5nKXtyZXR1cm4gX19hd2FpdGVyKF90aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgcGF0aCxjb250ZW50LGV4dGVuc2lvbjtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5nZXRSZXBsYWNlZEZpbGVQYXRoKHN1YnN0cmluZyxwYXR0ZXJuLEV4dGVybmFsUmVzb3VyY2VzX2NvbnN0YW50c18xLkVYVEVSTkFMX1JFU09VUkNFU19SRUdFWFBfU0VDT05EX0dST1VQLGJhc2UpXTtjYXNlIDE6cmV0dXJuKHBhdGg9X2Euc2VudCgpKT9bNCx0aGlzLmpzemlwLmZpbGUocGF0aCkuYXN5bmMoXCJiYXNlNjRcIildOlsyLHN1YnN0cmluZ107Y2FzZSAyOnJldHVybiBjb250ZW50PV9hLnNlbnQoKSxbMiwndXJsKFwiZGF0YTppbWFnZS8nKyhcInN2Z1wiPT09KGV4dGVuc2lvbj1wYXRoLnNwbGl0KFwiLlwiKS5wb3AoKSk/XCJzdmcreG1sXCI6ZXh0ZW5zaW9uKStcIjtiYXNlNjQsXCIrY29udGVudCsnXCIpJ119fSl9KX0pXTtjYXNlIDE6cmV0dXJuWzIsX2Euc2VudCgpXX19KX0pfSxFeHRlcm5hbFJlc291cmNlcy5wcm90b3R5cGUucmVwbGFjZUV4dGVybmFsSW1hZ2U9ZnVuY3Rpb24oY29udGVudCxiYXNlKXtyZXR1cm4gdm9pZCAwPT09YmFzZSYmKGJhc2U9XCIvXCIpLF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgcGF0dGVybixfdGhpcz10aGlzO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm4gcGF0dGVybj10aGlzLmdldFNlYXJjaFBhdHRlcm4oXCJpbWFnZVwiKSxbNCx0aGlzLnJlcGxhY2VyKGNvbnRlbnQscGF0dGVybixmdW5jdGlvbihzdWJzdHJpbmcpe3JldHVybiBfX2F3YWl0ZXIoX3RoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBwYXRoLGNvbnRlbnQsZXh0ZW5zaW9uO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLmdldFJlcGxhY2VkRmlsZVBhdGgoc3Vic3RyaW5nLHBhdHRlcm4sRXh0ZXJuYWxSZXNvdXJjZXNfY29uc3RhbnRzXzEuRVhURVJOQUxfUkVTT1VSQ0VTX1JFR0VYUF9TRUNPTkRfR1JPVVAsYmFzZSldO2Nhc2UgMTpyZXR1cm4ocGF0aD1fYS5zZW50KCkpP1s0LHRoaXMuanN6aXAuZmlsZShwYXRoKS5hc3luYyhcImJhc2U2NFwiKV06WzIsc3Vic3RyaW5nXTtjYXNlIDI6cmV0dXJuIGNvbnRlbnQ9X2Euc2VudCgpLFsyLCc8aW1nIHNyYz1cImRhdGE6aW1hZ2UvJysoXCJzdmdcIj09PShleHRlbnNpb249cGF0aC5zcGxpdChcIi5cIikucG9wKCkpP1wic3ZnK3htbFwiOmV4dGVuc2lvbikrXCI7YmFzZTY0LFwiK2NvbnRlbnQrJ1wiIGFsdD1cIlwiPiddfX0pfSl9KV07Y2FzZSAxOnJldHVyblsyLF9hLnNlbnQoKV19fSl9KX0sRXh0ZXJuYWxSZXNvdXJjZXMucHJvdG90eXBlLnJlcGxhY2VFeHRlcm5hbFNjcmlwdD1mdW5jdGlvbihjb250ZW50LGJhc2Upe3JldHVybiB2b2lkIDA9PT1iYXNlJiYoYmFzZT1cIi9cIiksX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBwYXR0ZXJuLF90aGlzPXRoaXM7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybiBwYXR0ZXJuPXRoaXMuZ2V0U2VhcmNoUGF0dGVybihcInNjcmlwdFwiKSxbNCx0aGlzLnJlcGxhY2VyKGNvbnRlbnQscGF0dGVybixmdW5jdGlvbihzdWJzdHJpbmcpe3JldHVybiBfX2F3YWl0ZXIoX3RoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBwYXRoO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLmdldFJlcGxhY2VkRmlsZVBhdGgoc3Vic3RyaW5nLHBhdHRlcm4sRXh0ZXJuYWxSZXNvdXJjZXNfY29uc3RhbnRzXzEuRVhURVJOQUxfUkVTT1VSQ0VTX1JFR0VYUF9TRUNPTkRfR1JPVVAsYmFzZSldO2Nhc2UgMTpyZXR1cm4ocGF0aD1fYS5zZW50KCkpP1s0LHRoaXMuanN6aXAuZmlsZShwYXRoKS5hc3luYyhcInRleHRcIildOlsyLHN1YnN0cmluZ107Y2FzZSAyOnJldHVyblsyLFwiPHNjcmlwdD5cIitfYS5zZW50KCkrXCI8XFwvc2NyaXB0PlwiXX19KX0pfSldO2Nhc2UgMTpyZXR1cm5bMixfYS5zZW50KCldfX0pfSl9LEV4dGVybmFsUmVzb3VyY2VzLnByb3RvdHlwZS5nZXRTZWFyY2hQYXR0ZXJuPWZ1bmN0aW9uKHR5cGUpe3N3aXRjaCh0eXBlKXtjYXNlXCJzdHlsZVwiOnJldHVyblwiPGxpbmtbXj5dKmhyZWY9KCd8XFxcIikoW14+XSouKGNzcykpKCd8XFxcIilbXj5dKj5cIjtjYXNlXCJiYWNrZ3JvdW5kVXJsXCI6cmV0dXJuXCJ1cmxcXFxccypcXFxcKCgnfFxcXCIpPyhbXildKlxcXFwuKGdpZnxqcGd8anBlZ3xwbmd8c3ZnKSkoJ3xcXFwiKT9cXFxccypcXFxcKVwiO2Nhc2VcImltYWdlXCI6cmV0dXJuXCI8aW1nW15cXFxcLz8+XSpzcmM9KCd8XFxcIikoW14+XSpcXFxcLihnaWZ8anBnfGpwZWd8cG5nfHN2ZykpKCd8XFxcIilbXlxcXFwvPz5dKj5cIjtjYXNlXCJzY3JpcHRcIjpyZXR1cm5cIjxzY3JpcHRbXj5dKnNyYz0oJ3xcXFwiKSguKlxcXFwuanMpKCd8XFxcIilbXj5dKj4oXFxcXG58XFxcXHJ8XFxcXHMpKjxcXFxcL3NjcmlwdD5cIn19LEV4dGVybmFsUmVzb3VyY2VzLnByb3RvdHlwZS5yZXBsYWNlcj1mdW5jdGlvbihjb250ZW50LHBhdHRlcm4sY2FsbGJhY2spe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGFyUHJvbWlzZXMscmVnZXhwLHJlcGxhY2VzO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtzd2l0Y2goX2EubGFiZWwpe2Nhc2UgMDpyZXR1cm4gYXJQcm9taXNlcz1bXSxyZWdleHA9bmV3IFJlZ0V4cChwYXR0ZXJuLFwiZ1wiKSxjb250ZW50LnJlcGxhY2UocmVnZXhwLGZ1bmN0aW9uKHN1YnN0cmluZyl7cmV0dXJuIGFyUHJvbWlzZXMucHVzaChjYWxsYmFjayhzdWJzdHJpbmcpKSxzdWJzdHJpbmd9KSxbNCxQcm9taXNlLmFsbChhclByb21pc2VzKV07Y2FzZSAxOnJldHVybiByZXBsYWNlcz1fYS5zZW50KCksWzIsY29udGVudC5yZXBsYWNlKHJlZ2V4cCxmdW5jdGlvbigpe3JldHVybiByZXBsYWNlcy5zaGlmdCgpfHxcIlwifSldfX0pfSl9LEV4dGVybmFsUmVzb3VyY2VzLnByb3RvdHlwZS5nZXRSZXBsYWNlZEZpbGVQYXRoPWZ1bmN0aW9uKHN1YnN0cmluZyxwYXR0ZXJuLG1hdGNoUG9zaXRpb24sYmFzZSl7cmV0dXJuIHZvaWQgMD09PWJhc2UmJihiYXNlPVwiL1wiKSxfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIHJlZ2V4cCxtYXRjaGVzLG1hdGNoLHVybCxwYXRoO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtyZXR1cm4gcmVnZXhwPW5ldyBSZWdFeHAocGF0dGVybiksKG1hdGNoZXM9c3Vic3RyaW5nLm1hdGNoKHJlZ2V4cCkpJiZtYXRjaGVzLmxlbmd0aD8obWF0Y2g9bWF0Y2hlc1ttYXRjaFBvc2l0aW9uXSwodXJsPW5ldyBVcmxQYXJzZXJfMS5VcmxQYXJzZXIobWF0Y2gsYmFzZSkpLmNoZWNrSXNBYnNvbHV0ZVBhdGgoKT9bMl06KHBhdGg9dXJsLmdldFJlbGF0aXZlUGF0aCgpLHRoaXMuanN6aXAuZmlsZXNbcGF0aF0/WzIscGF0aF06KGxvZ2dlcl8xLkxvZ2dlci53cml0ZShcImVycm9yXCIsJ05vdCBmb3VuZCBmaWxlOiBcIicrcGF0aCsnXCIgZm9yIHJlcGxhY2UuJyksWzJdKSkpOlsyXX0pfSl9LEV4dGVybmFsUmVzb3VyY2VzfSgpO2V4cG9ydHMuRXh0ZXJuYWxSZXNvdXJjZXM9RXh0ZXJuYWxSZXNvdXJjZXN9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciByZXNvbHZlcj1fX3dlYnBhY2tfcmVxdWlyZV9fKDE0MiksVXJsUGFyc2VyX2NvbnN0YW50c18xPV9fd2VicGFja19yZXF1aXJlX18oMTQzKSxVcmxQYXJzZXI9ZnVuY3Rpb24oKXtmdW5jdGlvbiBVcmxQYXJzZXIodXJsLGJhc2Upe3ZvaWQgMD09PWJhc2UmJihiYXNlPVwiL1wiKSx0aGlzLnVybD11cmwsdGhpcy5iYXNlPWJhc2V9cmV0dXJuIFVybFBhcnNlci5wcm90b3R5cGUuY2hlY2tJc0Fic29sdXRlUGF0aD1mdW5jdGlvbigpe3JldHVybiBuZXcgUmVnRXhwKFwiXig/OlthLXpdKzopPy8vXCIsXCJpXCIpLnRlc3QodGhpcy51cmwpfSxVcmxQYXJzZXIucHJvdG90eXBlLmdldFJlbGF0aXZlUGF0aD1mdW5jdGlvbigpe3ZhciBwYXRoV2l0aEJhc2U9cmVzb2x2ZXIoVXJsUGFyc2VyX2NvbnN0YW50c18xLlVSTF9QQVJTRVJfUFNFVURPX0RPTUFJTix0aGlzLmJhc2UpO3JldHVybiByZXNvbHZlcihwYXRoV2l0aEJhc2UsdGhpcy51cmwpLnJlcGxhY2UoVXJsUGFyc2VyX2NvbnN0YW50c18xLlVSTF9QQVJTRVJfUFNFVURPX0RPTUFJTixcIlwiKX0sVXJsUGFyc2VyfSgpO2V4cG9ydHMuVXJsUGFyc2VyPVVybFBhcnNlcn0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7ZnVuY3Rpb24gX2FkZFNsYXNoKHVybCl7cmV0dXJuIHVybCsoXCIvXCI9PT11cmxbdXJsLmxlbmd0aC0xXT9cIlwiOlwiL1wiKX1mdW5jdGlvbiBfcGF0aFJlc29sdmUocGF0aCl7dmFyIHBhdGhTcGxpdD1wYXRoLnNwbGl0KFwiL1wiKTtcIlwiPT09cGF0aFNwbGl0WzBdJiYocGF0aFNwbGl0PXBhdGhTcGxpdC5zbGljZSgxKSk7dmFyIHJlc3VsdEFycmF5PVtdO3JldHVybiBwYXRoU3BsaXQuZm9yRWFjaChmdW5jdGlvbihjdXJyZW50LGluZGV4KXtcIi5cIiE9PWN1cnJlbnQmJihcIi4uXCI9PT1jdXJyZW50P3Jlc3VsdEFycmF5LnBvcCgpOlwiXCIhPT1jdXJyZW50JiZyZXN1bHRBcnJheS5wdXNoKGN1cnJlbnQpKX0pLFwiL1wiK3Jlc3VsdEFycmF5LmpvaW4oXCIvXCIpfW1vZHVsZS5leHBvcnRzPWZ1bmN0aW9uKGJhc2UscmVsYXRpdmUpe2lmKGJhc2U9YmFzZS50cmltKCksKHJlbGF0aXZlPXJlbGF0aXZlLnRyaW0oKSkuc3RhcnRzV2l0aChcImFib3V0OlwiKSlyZXR1cm4gcmVsYXRpdmU7aWYoXCJcIj09PWJhc2UpcmV0dXJuIF9zaG91bGRBZGRTbGFzaChyZWxhdGl2ZSk/X2FkZFNsYXNoKHJlbGF0aXZlKTpyZWxhdGl2ZTt2YXIgYmFzZU9iaj1mdW5jdGlvbihiYXNlKXt2YXIgcmVzdWx0T2JqZWN0PXtob3N0OlwiXCIscGF0aDpcIlwiLHF1ZXJ5OlwiXCIscHJvdG9jb2w6XCJcIn0scGF0aD1iYXNlLHByb3RvY29sRW5kSW5kZXg9YmFzZS5pbmRleE9mKFwiLy9cIik7aWYoLTE9PT1wcm90b2NvbEVuZEluZGV4KXRocm93IG5ldyBFcnJvcihcIkVycm9yLCBwcm90b2NvbCBpcyBub3Qgc3BlY2lmaWVkXCIpO3Jlc3VsdE9iamVjdC5wcm90b2NvbD1wYXRoLnN1YnN0cmluZygwLHByb3RvY29sRW5kSW5kZXgpLHByb3RvY29sRW5kSW5kZXgrPTI7dmFyIHBhdGhJbmRleD1iYXNlLmluZGV4T2YoXCIvXCIscHJvdG9jb2xFbmRJbmRleCkscXVlcnlJbmRleD1iYXNlLmluZGV4T2YoXCI/XCIpLGhhc2hJbmRleD1iYXNlLmluZGV4T2YoXCIjXCIpOy0xIT09aGFzaEluZGV4JiYocGF0aD1wYXRoLnN1YnN0cmluZygwLGhhc2hJbmRleCkpO2lmKC0xIT09cXVlcnlJbmRleCl7dmFyIHF1ZXJ5PXBhdGguc3Vic3RyaW5nKHF1ZXJ5SW5kZXgpO3Jlc3VsdE9iamVjdC5xdWVyeT1xdWVyeSxwYXRoPXBhdGguc3Vic3RyaW5nKDAscXVlcnlJbmRleCl9aWYoLTEhPT1wYXRoSW5kZXgpe3ZhciBob3N0PXBhdGguc3Vic3RyaW5nKDAscGF0aEluZGV4KTtyZXN1bHRPYmplY3QuaG9zdD1ob3N0LHBhdGg9cGF0aC5zdWJzdHJpbmcocGF0aEluZGV4KSxyZXN1bHRPYmplY3QucGF0aD1wYXRofWVsc2UgcmVzdWx0T2JqZWN0Lmhvc3Q9cGF0aDtyZXR1cm4gcmVzdWx0T2JqZWN0fShiYXNlKTtpZihcIlwiPT09cmVsYXRpdmUpe3ZhciBob3N0PWJhc2VPYmouaG9zdCxwYXRoPWJhc2VPYmoucGF0aCxxdWVyeT1iYXNlT2JqLnF1ZXJ5O3JldHVybiBwYXRofHxxdWVyeT9ob3N0K3BhdGgrcXVlcnk6X2FkZFNsYXNoKGhvc3QpfXZhciByZWxhdGl2ZU9iaj1mdW5jdGlvbihyZWxhdGl2ZSl7dmFyIHJlc3VsdE9iamVjdD17aHJlZjpyZWxhdGl2ZSxoYXNoOlwiXCIscXVlcnk6XCJcIixuZXRQYXRoOiExLGFic29sdXRlUGF0aDohMSxyZWxhdGl2ZVBhdGg6ITF9O2lmKF9pc0Fic29sdXRlLnRlc3QocmVsYXRpdmUpKXJldHVybiByZXN1bHRPYmplY3QubmV0UGF0aD0hMCxyZXN1bHRPYmplY3Q7XCIvXCI9PT1yZWxhdGl2ZVswXT9yZXN1bHRPYmplY3QuYWJzb2x1dGVQYXRoPSEwOnJlc3VsdE9iamVjdC5yZWxhdGl2ZVBhdGg9ITA7dmFyIHBhdGg9cmVsYXRpdmUscXVlcnlJbmRleD1yZWxhdGl2ZS5pbmRleE9mKFwiP1wiKSxoYXNoSW5kZXg9cmVsYXRpdmUuaW5kZXhPZihcIiNcIik7aWYoLTEhPT1oYXNoSW5kZXgpe3ZhciBoYXNoPXBhdGguc3Vic3RyaW5nKGhhc2hJbmRleCk7cmVzdWx0T2JqZWN0Lmhhc2g9aGFzaCxwYXRoPXBhdGguc3Vic3RyaW5nKDAsaGFzaEluZGV4KX1pZigtMSE9PXF1ZXJ5SW5kZXgpe3ZhciBxdWVyeT1wYXRoLnN1YnN0cmluZyhxdWVyeUluZGV4KTtyZXN1bHRPYmplY3QucXVlcnk9cXVlcnkscGF0aD1wYXRoLnN1YnN0cmluZygwLHF1ZXJ5SW5kZXgpfXJldHVybiByZXN1bHRPYmplY3QucGF0aD1wYXRoLHJlc3VsdE9iamVjdH0ocmVsYXRpdmUpO2lmKHJlbGF0aXZlT2JqLm5ldFBhdGgpcmV0dXJuIGZ1bmN0aW9uKHVybCl7cmV0dXJuIHVybC5zdGFydHNXaXRoKFwiLy9cIil9KHJlbGF0aXZlT2JqLmhyZWYpJiYocmVsYXRpdmVPYmouaHJlZj1iYXNlT2JqLnByb3RvY29sK3JlbGF0aXZlT2JqLmhyZWYpLF9zaG91bGRBZGRTbGFzaChyZWxhdGl2ZU9iai5ocmVmKT9fYWRkU2xhc2gocmVsYXRpdmVPYmouaHJlZik6cmVsYXRpdmVPYmouaHJlZjtpZihyZWxhdGl2ZU9iai5hYnNvbHV0ZVBhdGgpe3ZhciBfcGF0aD1yZWxhdGl2ZU9iai5wYXRoLF9xdWVyeT1yZWxhdGl2ZU9iai5xdWVyeSxoYXNoPXJlbGF0aXZlT2JqLmhhc2g7cmV0dXJuIGJhc2VPYmouaG9zdCtfcGF0aFJlc29sdmUoX3BhdGgpK19xdWVyeStoYXNofWlmKHJlbGF0aXZlT2JqLnJlbGF0aXZlUGF0aCl7dmFyIHJlc29sdmVQYXRoLF9wYXRoMj1yZWxhdGl2ZU9iai5wYXRoLF9xdWVyeTI9cmVsYXRpdmVPYmoucXVlcnksX2hhc2g9cmVsYXRpdmVPYmouaGFzaCxiYXNlUGF0aD1iYXNlT2JqLnBhdGgscmVzdWx0U3RyaW5nPWJhc2VPYmouaG9zdDtyZXR1cm4gMD09PV9wYXRoMi5sZW5ndGg/cmVzb2x2ZVBhdGg9YmFzZVBhdGg6KGJhc2VQYXRoPWJhc2VQYXRoLnN1YnN0cmluZygwLGJhc2VQYXRoLmxhc3RJbmRleE9mKFwiL1wiKSkscmVzb2x2ZVBhdGg9X3BhdGhSZXNvbHZlKGJhc2VQYXRoK1wiL1wiK19wYXRoMikpLHJlc3VsdFN0cmluZys9XCJcIiE9PXJlc29sdmVQYXRofHxfcXVlcnkyfHxfaGFzaD9yZXNvbHZlUGF0aCtfcXVlcnkyK19oYXNoOlwiL1wifX07dmFyIF9pc0Fic29sdXRlPW5ldyBSZWdFeHAoXCJeKFwiLmNvbmNhdChcIlthLXpdW2EtejAtOSsuLV0qXCIsXCI6KT8vL1wiKSxcImlcIik7ZnVuY3Rpb24gX3Nob3VsZEFkZFNsYXNoKHVybCl7dmFyIHByb3RvY29sSW5kZXg9dXJsLmluZGV4T2YoXCIvL1wiKSsyLG5vUGF0aD0hdXJsLmluY2x1ZGVzKFwiL1wiLHByb3RvY29sSW5kZXgpLG5vUXVlcnk9IXVybC5pbmNsdWRlcyhcIj9cIixwcm90b2NvbEluZGV4KSxub0hhc2g9IXVybC5pbmNsdWRlcyhcIiNcIixwcm90b2NvbEluZGV4KTtyZXR1cm4gbm9QYXRoJiZub1F1ZXJ5JiZub0hhc2h9fSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxleHBvcnRzLlVSTF9QQVJTRVJfUFNFVURPX0RPTUFJTj1cImh0dHBzOi8vcHVzaHdvb3NoLmNvbS9cIn0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZXhwb3J0cy5FWFRFUk5BTF9SRVNPVVJDRVNfUkVHRVhQX1NFQ09ORF9HUk9VUD0yfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgUmljaE1lZGlhUHVzaHdvb3NoU2VuZE1lc3NhZ2VfaHRtbF8xPV9fd2VicGFja19yZXF1aXJlX18oMTQ2KTtleHBvcnRzLkV4cGFuZGVyUHVzaHdvb3NoU2VuZE1lc3NhZ2U9UmljaE1lZGlhUHVzaHdvb3NoU2VuZE1lc3NhZ2VfaHRtbF8xLmRlZmF1bHQ7dmFyIFJpY2hNZWRpYVB1c2h3b29zaF9odG1sXzE9X193ZWJwYWNrX3JlcXVpcmVfXygxNDcpO2V4cG9ydHMuRXhwYW5kZXJQdXNod29vc2g9UmljaE1lZGlhUHVzaHdvb3NoX2h0bWxfMS5kZWZhdWx0O3ZhciBSaWNoTWVkaWFQdXNoTWFuYWdlcl9odG1sXzE9X193ZWJwYWNrX3JlcXVpcmVfXygxNDgpO2V4cG9ydHMuRXhwYW5kZXJQdXNoTWFuYWdlcj1SaWNoTWVkaWFQdXNoTWFuYWdlcl9odG1sXzEuZGVmYXVsdH0sZnVuY3Rpb24obW9kdWxlLF9fd2VicGFja19leHBvcnRzX18sX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7X193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pLF9fd2VicGFja19leHBvcnRzX18uZGVmYXVsdD0nPHNjcmlwdCB0eXBlPVwidGV4dC9qYXZhc2NyaXB0XCI+XFxuICBmdW5jdGlvbiBQdXNod29vc2hTZW5kTWVzc2FnZShtZXNzYWdlLCBzdWNjZXNzLCBmYWlsdXJlKSB7XFxuICAgIHZhciBjb2RlID0gdXVpZHY0KCk7XFxuXFxuICAgIGlmIChzdWNjZXNzKSB7XFxuICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoXFwnbWVzc2FnZVxcJywgZnVuY3Rpb24gKGV2ZW50KSB7XFxuICAgICAgICBpZiAoIWV2ZW50LnNvdXJjZSkge1xcbiAgICAgICAgICByZXR1cm47XFxuICAgICAgICB9XFxuXFxuICAgICAgICBpZiAod2luZG93LnRvcCA9PT0gZXZlbnQuc291cmNlLnBhcmVudCkge1xcbiAgICAgICAgICB0cnkge1xcbiAgICAgICAgICAgIGNvbnN0IGRhdGEgPSBKU09OLnBhcnNlKGV2ZW50LmRhdGEpO1xcblxcbiAgICAgICAgICAgIGlmIChkYXRhICYmIGRhdGEuY29kZSA9PT0gY29kZSkge1xcbiAgICAgICAgICAgICAgc3VjY2VzcyAmJiBzdWNjZXNzKGRhdGEpO1xcbiAgICAgICAgICAgIH1cXG4gICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcXG4gICAgICAgICAgICBmYWlsdXJlICYmIGZhaWx1cmUoZXJyb3IpO1xcbiAgICAgICAgICB9XFxuICAgICAgICB9XFxuICAgICAgfSk7XFxuICAgIH1cXG5cXG4gICAgdmFyIGRhdGEgPSBPYmplY3QuYXNzaWduKFxcbiAgICAgIG1lc3NhZ2UsXFxuICAgICAge1xcbiAgICAgICAgY29kZTogY29kZVxcbiAgICAgIH1cXG4gICAgKTtcXG5cXG4gICAgd2luZG93LnBhcmVudC5wb3N0TWVzc2FnZShKU09OLnN0cmluZ2lmeShkYXRhKSwgXCIqXCIpO1xcblxcbiAgICBmdW5jdGlvbiB1dWlkdjQoKSB7XFxuICAgICAgcmV0dXJuIFwieHh4eHh4eHgteHh4eC00eHh4LXl4eHgteHh4eHh4eHh4eHh4XCIucmVwbGFjZSgvW3h5XS9nLCBmdW5jdGlvbiAoYykge1xcbiAgICAgICAgdmFyIHIgPSAoTWF0aC5yYW5kb20oKSAqIDE2KSB8IDAsXFxuICAgICAgICAgIHYgPSBjID09IFwieFwiID8gciA6IChyICYgMHgzKSB8IDB4ODtcXG4gICAgICAgIHJldHVybiB2LnRvU3RyaW5nKDE2KTtcXG4gICAgICB9KTtcXG4gICAgfVxcbiAgfVxcbjxcXC9zY3JpcHQ+XFxuJ30sZnVuY3Rpb24obW9kdWxlLF9fd2VicGFja19leHBvcnRzX18sX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7X193ZWJwYWNrX3JlcXVpcmVfXy5yKF9fd2VicGFja19leHBvcnRzX18pLF9fd2VicGFja19leHBvcnRzX18uZGVmYXVsdD1cIjxzY3JpcHQgdHlwZT1cXFwidGV4dC9qYXZhc2NyaXB0XFxcIj5cXG4gIGZ1bmN0aW9uIFB1c2h3b29zaEJyaWRnZSgpIHtcXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xcblxcbiAgICBzZWxmLmlzV2ViU0RLID0gdHJ1ZTtcXG4gICAgc2VsZi5pc1NhZmFyaSA9IG5hdmlnYXRvci51c2VyQWdlbnQudG9Mb3dlckNhc2UoKS5pbmRleE9mKCdzYWZhcmknKSAhPT0gLTFcXG4gICAgICAmJiBuYXZpZ2F0b3IudXNlckFnZW50LnRvTG93ZXJDYXNlKCkuaW5kZXhPZignY2hyb21lJykgPT09IC0xO1xcblxcbiAgICBzZWxmLnJlZ2lzdGVyRm9yUHVzaE5vdGlmaWNhdGlvbnMgPSBmdW5jdGlvbiAoKSB7XFxuICAgICAgUHVzaHdvb3NoU2VuZE1lc3NhZ2Uoe1xcbiAgICAgICAgbWV0aG9kOiAnc3Vic2NyaWJlJyxcXG4gICAgICB9KVxcbiAgICB9O1xcblxcbiAgICBzZWxmLnVucmVnaXN0ZXJGb3JQdXNoTm90aWZpY2F0aW9ucyA9IGZ1bmN0aW9uICgpIHtcXG4gICAgICBQdXNod29vc2hTZW5kTWVzc2FnZSh7XFxuICAgICAgICBtZXRob2Q6ICd1bnN1YnNjcmliZScsXFxuICAgICAgfSk7XFxuICAgIH07XFxuXFxuICAgIHNlbGYuZ2V0VGFncyA9IGZ1bmN0aW9uIChvblN1Y2Nlc3NDYWxsYmFjaykge1xcbiAgICAgIFB1c2h3b29zaFNlbmRNZXNzYWdlKHtcXG4gICAgICAgIG1ldGhvZDogJ2dldFRhZ3MnLFxcbiAgICAgIH0sIGZ1bmN0aW9uIChyZXN1bHQpIHtcXG4gICAgICAgIG9uU3VjY2Vzc0NhbGxiYWNrKHJlc3VsdCAmJiByZXN1bHQudGFncyk7XFxuICAgICAgfSlcXG4gICAgfTtcXG5cXG4gICAgc2VsZi5zZW5kVGFncyA9IGZ1bmN0aW9uICh0YWdzKSB7XFxuICAgICAgUHVzaHdvb3NoU2VuZE1lc3NhZ2Uoe1xcbiAgICAgICAgbWV0aG9kOiAnc2V0VGFncycsXFxuICAgICAgICBvcHRpb25zOiB7XFxuICAgICAgICAgIHRhZ3M6IHRhZ3NcXG4gICAgICAgIH0sXFxuICAgICAgfSk7XFxuICAgIH07XFxuXFxuICAgIHNlbGYuaXNSZWdpc3RlcmVkRm9yUHVzaE5vdGlmaWNhdGlvbnMgPSBmdW5jdGlvbiAob25TdWNjZXNzQ2FsbGJhY2spIHtcXG4gICAgICBQdXNod29vc2hTZW5kTWVzc2FnZSh7XFxuICAgICAgICBtZXRob2Q6ICdjaGVja1N1YnNjcmlwdGlvbicsXFxuICAgICAgfSwgZnVuY3Rpb24gKHJlc3VsdCkge1xcbiAgICAgICAgb25TdWNjZXNzQ2FsbGJhY2socmVzdWx0LnN0YXRlKVxcbiAgICAgIH0pO1xcbiAgICB9O1xcblxcbiAgICBzZWxmLmlzTWFudWFsVW5yZWdpc3RlckZvclB1c2hOb3RpZmljYXRpb25zID0gZnVuY3Rpb24gKG9uU3VjY2Vzc0NhbGxiYWNrKSB7XFxuICAgICAgUHVzaHdvb3NoU2VuZE1lc3NhZ2Uoe1xcbiAgICAgICAgbWV0aG9kOiAnY2hlY2tNYW51YWxVbnN1YnNjcmliZWQnLFxcbiAgICAgIH0sIGZ1bmN0aW9uIChyZXN1bHQpIHtcXG4gICAgICAgIG9uU3VjY2Vzc0NhbGxiYWNrKHJlc3VsdC5zdGF0ZSlcXG4gICAgICB9KTtcXG4gICAgfTtcXG5cXG4gICAgc2VsZi5nZXRDaGFubmVscyA9IGZ1bmN0aW9uIChvblN1Y2Nlc3NDYWxsYmFjaykge1xcbiAgICAgIFB1c2h3b29zaFNlbmRNZXNzYWdlKHtcXG4gICAgICAgIG1ldGhvZDogJ2dldENoYW5uZWxzJyxcXG4gICAgICB9LCBmdW5jdGlvbiAocmVzdWx0KSB7XFxuICAgICAgICBvblN1Y2Nlc3NDYWxsYmFjayhyZXN1bHQuY2hhbm5lbHMpXFxuICAgICAgfSk7XFxuICAgIH07XFxuICB9XFxuXFxuICB3aW5kb3cucHVzaHdvb3NoID0gbmV3IFB1c2h3b29zaEJyaWRnZSgpO1xcbjxcXC9zY3JpcHQ+XFxuXCJ9LGZ1bmN0aW9uKG1vZHVsZSxfX3dlYnBhY2tfZXhwb3J0c19fLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO19fd2VicGFja19yZXF1aXJlX18ucihfX3dlYnBhY2tfZXhwb3J0c19fKSxfX3dlYnBhY2tfZXhwb3J0c19fLmRlZmF1bHQ9XCI8c2NyaXB0IHR5cGU9XFxcInRleHQvamF2YXNjcmlwdFxcXCI+XFxuICBmdW5jdGlvbiBQdXNod29vc2hQdXNoTWFuYWdlckJyaWRnZSgpIHtcXG4gICAgdmFyIHNlbGYgPSB0aGlzO1xcbiAgICB2YXIgYWJzb2x1dGVVUkxQYXR0ZXJuID0gbmV3IFJlZ0V4cCgnXig/OlthLXpdKzopPy8vJywgJ2knKTtcXG5cXG4gICAgc2VsZi5jbG9zZUluQXBwID0gZnVuY3Rpb24gKG9wdGlvbnMpIHtcXG4gICAgICBQdXNod29vc2hTZW5kTWVzc2FnZSh7XFxuICAgICAgICBtZXRob2Q6ICdjbG9zZUluQXBwJyxcXG4gICAgICAgIG9wdGlvbnM6IG9wdGlvbnMsXFxuICAgICAgfSk7XFxuICAgIH07XFxuXFxuICAgIHNlbGYub3BlbkxpbmsgPSBmdW5jdGlvbiAob3B0aW9ucykge1xcbiAgICAgIFB1c2h3b29zaFNlbmRNZXNzYWdlKHtcXG4gICAgICAgIG1ldGhvZDogJ29wZW5MaW5rJyxcXG4gICAgICAgIG9wdGlvbnM6IG9wdGlvbnMsXFxuICAgICAgfSk7XFxuICAgIH07XFxuXFxuICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCdsb2FkJywgZnVuY3Rpb24gKCkge1xcbiAgICAgIHZhciBjbG9zZUxpbmtzID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCgnYVtocmVmPVxcXCJwdXNod29vc2g6Ly9jbG9zZVxcXCJdJyk7XFxuICAgICAgdmFyIG90aGVyTGlua3MgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKCdhOm5vdChbaHJlZj1cXFwicHVzaHdvb3NoOi8vY2xvc2VcXFwiXSknKTtcXG5cXG4gICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGNsb3NlTGlua3MubGVuZ3RoOyBpKyspIHtcXG4gICAgICAgIGNsb3NlTGlua3NbaV0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCBmdW5jdGlvbiAoZXZlbnQpIHtcXG4gICAgICAgICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcXG5cXG4gICAgICAgICAgc2VsZi5jbG9zZUluQXBwKCk7XFxuICAgICAgICB9KTtcXG4gICAgICB9XFxuXFxuICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCBvdGhlckxpbmtzLmxlbmd0aDsgaisrKSB7XFxuICAgICAgICB2YXIgaHJlZiA9IG90aGVyTGlua3Nbal0uZ2V0QXR0cmlidXRlKCdocmVmJyk7XFxuXFxuICAgICAgICBpZiAoYWJzb2x1dGVVUkxQYXR0ZXJuLnRlc3QoaHJlZikpIHtcXG4gICAgICAgICAgb3RoZXJMaW5rc1tqXS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsIGZ1bmN0aW9uIChldmVudCkge1xcbiAgICAgICAgICAgIGV2ZW50LnByZXZlbnREZWZhdWx0KCk7XFxuXFxuICAgICAgICAgICAgc2VsZi5vcGVuTGluayh7XFxuICAgICAgICAgICAgICBocmVmOiBldmVudC50YXJnZXQuaHJlZlxcbiAgICAgICAgICAgIH0pO1xcblxcbiAgICAgICAgICAgIHNlbGYuY2xvc2VJbkFwcCgpO1xcbiAgICAgICAgICB9KTtcXG4gICAgICAgIH1cXG4gICAgICB9XFxuICAgIH0pO1xcbiAgfVxcblxcbiAgd2luZG93LnB1c2hNYW5hZ2VyID0gbmV3IFB1c2h3b29zaFB1c2hNYW5hZ2VyQnJpZGdlKCk7XFxuPFxcL3NjcmlwdD5cXG5cIn0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7dmFyIF9fYXdhaXRlcj10aGlzJiZ0aGlzLl9fYXdhaXRlcnx8ZnVuY3Rpb24odGhpc0FyZyxfYXJndW1lbnRzLFAsZ2VuZXJhdG9yKXtyZXR1cm4gbmV3KFB8fChQPVByb21pc2UpKShmdW5jdGlvbihyZXNvbHZlLHJlamVjdCl7ZnVuY3Rpb24gZnVsZmlsbGVkKHZhbHVlKXt0cnl7c3RlcChnZW5lcmF0b3IubmV4dCh2YWx1ZSkpfWNhdGNoKGUpe3JlamVjdChlKX19ZnVuY3Rpb24gcmVqZWN0ZWQodmFsdWUpe3RyeXtzdGVwKGdlbmVyYXRvci50aHJvdyh2YWx1ZSkpfWNhdGNoKGUpe3JlamVjdChlKX19ZnVuY3Rpb24gc3RlcChyZXN1bHQpe3Jlc3VsdC5kb25lP3Jlc29sdmUocmVzdWx0LnZhbHVlKTpmdW5jdGlvbih2YWx1ZSl7cmV0dXJuIHZhbHVlIGluc3RhbmNlb2YgUD92YWx1ZTpuZXcgUChmdW5jdGlvbihyZXNvbHZlKXtyZXNvbHZlKHZhbHVlKX0pfShyZXN1bHQudmFsdWUpLnRoZW4oZnVsZmlsbGVkLHJlamVjdGVkKX1zdGVwKChnZW5lcmF0b3I9Z2VuZXJhdG9yLmFwcGx5KHRoaXNBcmcsX2FyZ3VtZW50c3x8W10pKS5uZXh0KCkpfSl9LF9fZ2VuZXJhdG9yPXRoaXMmJnRoaXMuX19nZW5lcmF0b3J8fGZ1bmN0aW9uKHRoaXNBcmcsYm9keSl7dmFyIGYseSx0LGcsXz17bGFiZWw6MCxzZW50OmZ1bmN0aW9uKCl7aWYoMSZ0WzBdKXRocm93IHRbMV07cmV0dXJuIHRbMV19LHRyeXM6W10sb3BzOltdfTtyZXR1cm4gZz17bmV4dDp2ZXJiKDApLHRocm93OnZlcmIoMSkscmV0dXJuOnZlcmIoMil9LFwiZnVuY3Rpb25cIj09dHlwZW9mIFN5bWJvbCYmKGdbU3ltYm9sLml0ZXJhdG9yXT1mdW5jdGlvbigpe3JldHVybiB0aGlzfSksZztmdW5jdGlvbiB2ZXJiKG4pe3JldHVybiBmdW5jdGlvbih2KXtyZXR1cm4gZnVuY3Rpb24ob3Ape2lmKGYpdGhyb3cgbmV3IFR5cGVFcnJvcihcIkdlbmVyYXRvciBpcyBhbHJlYWR5IGV4ZWN1dGluZy5cIik7Zm9yKDtfOyl0cnl7aWYoZj0xLHkmJih0PTImb3BbMF0/eS5yZXR1cm46b3BbMF0/eS50aHJvd3x8KCh0PXkucmV0dXJuKSYmdC5jYWxsKHkpLDApOnkubmV4dCkmJiEodD10LmNhbGwoeSxvcFsxXSkpLmRvbmUpcmV0dXJuIHQ7c3dpdGNoKHk9MCx0JiYob3A9WzImb3BbMF0sdC52YWx1ZV0pLG9wWzBdKXtjYXNlIDA6Y2FzZSAxOnQ9b3A7YnJlYWs7Y2FzZSA0OnJldHVybiBfLmxhYmVsKysse3ZhbHVlOm9wWzFdLGRvbmU6ITF9O2Nhc2UgNTpfLmxhYmVsKysseT1vcFsxXSxvcD1bMF07Y29udGludWU7Y2FzZSA3Om9wPV8ub3BzLnBvcCgpLF8udHJ5cy5wb3AoKTtjb250aW51ZTtkZWZhdWx0OmlmKCEodD0odD1fLnRyeXMpLmxlbmd0aD4wJiZ0W3QubGVuZ3RoLTFdKSYmKDY9PT1vcFswXXx8Mj09PW9wWzBdKSl7Xz0wO2NvbnRpbnVlfWlmKDM9PT1vcFswXSYmKCF0fHxvcFsxXT50WzBdJiZvcFsxXTx0WzNdKSl7Xy5sYWJlbD1vcFsxXTticmVha31pZig2PT09b3BbMF0mJl8ubGFiZWw8dFsxXSl7Xy5sYWJlbD10WzFdLHQ9b3A7YnJlYWt9aWYodCYmXy5sYWJlbDx0WzJdKXtfLmxhYmVsPXRbMl0sXy5vcHMucHVzaChvcCk7YnJlYWt9dFsyXSYmXy5vcHMucG9wKCksXy50cnlzLnBvcCgpO2NvbnRpbnVlfW9wPWJvZHkuY2FsbCh0aGlzQXJnLF8pfWNhdGNoKGUpe29wPVs2LGVdLHk9MH1maW5hbGx5e2Y9dD0wfWlmKDUmb3BbMF0pdGhyb3cgb3BbMV07cmV0dXJue3ZhbHVlOm9wWzBdP29wWzFdOnZvaWQgMCxkb25lOiEwfX0oW24sdl0pfX19O09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciBjb25zdGFudHNfMT1fX3dlYnBhY2tfcmVxdWlyZV9fKDEpLFBsYXRmb3JtQ2hlY2tlcl8xPV9fd2VicGFja19yZXF1aXJlX18oMjIpLGNvbnN0YW50c18yPV9fd2VicGFja19yZXF1aXJlX18oNzcpLHBvc2l0aW9uaW5nXzE9X193ZWJwYWNrX3JlcXVpcmVfXygxNTApLGJlbGxfMT1fX3dlYnBhY2tfcmVxdWlyZV9fKDE1MSksc3RvcmFnZV8xPV9fd2VicGFja19yZXF1aXJlX18oMiksU3Vic2NyaWJlV2lkZ2V0PWZ1bmN0aW9uKCl7ZnVuY3Rpb24gU3Vic2NyaWJlV2lkZ2V0KHB3KXt2YXIgX3RoaXM9dGhpcztpZih0aGlzLnB3PXB3LFBsYXRmb3JtQ2hlY2tlcl8xLmRlZmF1bHQuaXNBdmFpbGFibGVOb3RpZmljYXRpb25zKXt0aGlzLmNsaWNrQmVsbD10aGlzLmNsaWNrQmVsbC5iaW5kKHRoaXMpLHRoaXMub25TdWJzY3JpYmVFdmVudD10aGlzLm9uU3Vic2NyaWJlRXZlbnQuYmluZCh0aGlzKSx0aGlzLm9uVW5zdWJzY3JpYmVFdmVudD10aGlzLm9uVW5zdWJzY3JpYmVFdmVudC5iaW5kKHRoaXMpLHRoaXMub25QZXJtaXNzaW9uRGVuaWVkRXZlbnQ9dGhpcy5vblBlcm1pc3Npb25EZW5pZWRFdmVudC5iaW5kKHRoaXMpLHRoaXMuY2xpY2tPdXRPZlBvcG92ZXI9dGhpcy5jbGlja091dE9mUG9wb3Zlci5iaW5kKHRoaXMpLHRoaXMub25DbGlja0JlbGxJZkVuYWJsZUNoYW5uZWxzPXRoaXMub25DbGlja0JlbGxJZkVuYWJsZUNoYW5uZWxzLmJpbmQodGhpcyk7dmFyIHRvb2x0aXBUZXh0PU9iamVjdC5hc3NpZ24oY29uc3RhbnRzXzIuU1VCU0NSSUJFX1dJREdFVF9ERUZBVUxUX0NPTkZJRy50b29sdGlwVGV4dCx0aGlzLnB3LnN1YnNjcmliZVdpZGdldENvbmZpZy50b29sdGlwVGV4dCk7dGhpcy5jb25maWc9T2JqZWN0LmFzc2lnbihjb25zdGFudHNfMi5TVUJTQ1JJQkVfV0lER0VUX0RFRkFVTFRfQ09ORklHLHRoaXMucHcuc3Vic2NyaWJlV2lkZ2V0Q29uZmlnKSx0aGlzLmNvbmZpZy50b29sdGlwVGV4dD10b29sdGlwVGV4dDt2YXIgYXJyQWN0aW9ucz1bXSxpc0VuYWJsZUNoYW5uZWxzPXRoaXMucHcuaXNFbmFibGVDaGFubmVscygpLGlzU3Vic2NyaWJlZD10aGlzLnB3LmlzU3Vic2NyaWJlZCgpO2FyckFjdGlvbnMucHVzaChpc0VuYWJsZUNoYW5uZWxzKSxhcnJBY3Rpb25zLnB1c2goaXNTdWJzY3JpYmVkKSxQcm9taXNlLmFsbChhcnJBY3Rpb25zKS50aGVuKGZ1bmN0aW9uKF9hKXt2YXIgaXNFbmFibGVDaGFubmVscz1fYVswXSxpc1N1YnNjcmliZWQ9X2FbMV07aXNFbmFibGVDaGFubmVscyYmKF90aGlzLmlzRW5hYmxlQ2hhbm5lbHM9ITApLGlzU3Vic2NyaWJlZCYmIWlzRW5hYmxlQ2hhbm5lbHN8fF90aGlzLnJlbmRlcigpfSl9ZWxzZSBjb25zb2xlLndhcm4oXCJCcm93c2VyIGRvZXMgbm90IHN1cHBvcnQgcHVzaCBub3RpZmljYXRpb25zXCIpfXJldHVybiBTdWJzY3JpYmVXaWRnZXQucHJvdG90eXBlLmFkZFN0eWxlc1RvRWxlbWVudD1mdW5jdGlvbihzdHlsZXMsZWxlbWVudCl7T2JqZWN0LmtleXMoc3R5bGVzKS5mb3JFYWNoKGZ1bmN0aW9uKHN0KXtlbGVtZW50LnN0eWxlW3N0XT1zdHlsZXNbc3RdfSl9LFN1YnNjcmliZVdpZGdldC5wcm90b3R5cGUuY3JlYXRlQ29udGFpbmVyPWZ1bmN0aW9uKCl7dmFyIGNvbnRhaW5lcj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2NvbnRhaW5lci5pZD1jb25zdGFudHNfMi5XSURHRVRfQ09OVEFJTkVSX0lELGNvbnRhaW5lci5jbGFzc05hbWU9XCJwdXNod29vc2gtc3Vic2NyaWJlLXdpZGdldFwiO3ZhciBwb3NpdGlvbj1wb3NpdGlvbmluZ18xLmRlZmF1bHQuZ2V0QmVsbFBvc2l0aW9uKHRoaXMuY29uZmlnLnBvc2l0aW9uLHRoaXMuY29uZmlnLmluZGVudCksc3R5bGVzPU9iamVjdC5hc3NpZ24oe3pJbmRleDp0aGlzLmNvbmZpZy56SW5kZXh9LHBvc2l0aW9uKTtyZXR1cm4gdGhpcy5hZGRTdHlsZXNUb0VsZW1lbnQoc3R5bGVzLGNvbnRhaW5lciksY29udGFpbmVyfSxTdWJzY3JpYmVXaWRnZXQucHJvdG90eXBlLmNyZWF0ZVN0eWxlPWZ1bmN0aW9uKCl7dmFyIHN0eWxlcz1fX3dlYnBhY2tfcmVxdWlyZV9fKDE1Miksc3R5bGVOb2RlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtyZXR1cm4gc3R5bGVOb2RlLmlubmVySFRNTD1zdHlsZXMsc3R5bGVOb2RlfSxTdWJzY3JpYmVXaWRnZXQucHJvdG90eXBlLmNyZWF0ZUJlbGw9ZnVuY3Rpb24oKXt2YXIgYmVsbD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpO2JlbGwuY2xhc3NOYW1lPVwicHVzaHdvb3NoLXN1YnNjcmliZS13aWRnZXRfX2JlbGwtYnV0dG9uXCI7dmFyIHN0eWxlcz17d2lkdGg6dGhpcy5jb25maWcuc2l6ZSxoZWlnaHQ6dGhpcy5jb25maWcuc2l6ZSxiYWNrZ3JvdW5kQ29sb3I6dGhpcy5jb25maWcuYmdDb2xvcixib3hTaGFkb3c6dGhpcy5jb25maWcuc2hhZG93LGxpbmVIZWlnaHQ6dGhpcy5jb25maWcuc2l6ZSxib3JkZXI6dGhpcy5jb25maWcuYmVsbEJ1dHRvbkJvcmRlcn07cmV0dXJuIHRoaXMuYWRkU3R5bGVzVG9FbGVtZW50KHN0eWxlcyxiZWxsKSxiZWxsLmlubmVySFRNTD1iZWxsXzEuZGVmYXVsdCh0aGlzLmNvbmZpZy5iZWxsQ29sb3IsdGhpcy5jb25maWcuYmVsbFN0cm9rZUNvbG9yKSxiZWxsfSxTdWJzY3JpYmVXaWRnZXQucHJvdG90eXBlLmNyZWF0ZVRvb2x0aXA9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciB0b29sdGlwLF9hLHBvc2l0aW9uLG1vZGlmaWNhdGlvbixfYixfYztyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfZCl7c3dpdGNoKF9kLmxhYmVsKXtjYXNlIDA6cmV0dXJuIHRvb2x0aXA9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSxfYT1wb3NpdGlvbmluZ18xLmRlZmF1bHQuZ2V0VG9vbHRpcFBvc2l0aW9uKHRoaXMuY29uZmlnLnBvc2l0aW9uLHRoaXMuY29uZmlnLnNpemUpLHBvc2l0aW9uPV9hWzBdLG1vZGlmaWNhdGlvbj1fYVsxXSx0b29sdGlwLmNsYXNzTmFtZT1cInB1c2h3b29zaC1zdWJzY3JpYmUtd2lkZ2V0X190b29sdGlwIHB1c2h3b29zaC1zdWJzY3JpYmUtd2lkZ2V0X190b29sdGlwX19cIittb2RpZmljYXRpb24sdGhpcy5hZGRTdHlsZXNUb0VsZW1lbnQocG9zaXRpb24sdG9vbHRpcCksX2M9KF9iPXRvb2x0aXApLmFwcGVuZENoaWxkLFs0LHRoaXMuY3JlYXRlVG9vbHRpcENvbnRlbnQoKV07Y2FzZSAxOnJldHVybiBfYy5hcHBseShfYixbX2Quc2VudCgpXSksWzIsdG9vbHRpcF19fSl9KX0sU3Vic2NyaWJlV2lkZ2V0LnByb3RvdHlwZS5jcmVhdGVUb29sdGlwQ29udGVudD1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIHRvb2x0aXBDb250ZW50LF9hO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9iKXtzd2l0Y2goX2IubGFiZWwpe2Nhc2UgMDpyZXR1cm4gdG9vbHRpcENvbnRlbnQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSxfYT10b29sdGlwQ29udGVudCxbNCx0aGlzLnRvb2x0aXBUZXh0RmFjdG9yeSgpXTtjYXNlIDE6cmV0dXJuIF9hLmlubmVyVGV4dD1fYi5zZW50KCksdG9vbHRpcENvbnRlbnQuY2xhc3NOYW1lPVwicHVzaHdvb3NoLXN1YnNjcmliZS13aWRnZXRfX3Rvb2x0aXAtY29udGVudFwiLFsyLHRvb2x0aXBDb250ZW50XX19KX0pfSxTdWJzY3JpYmVXaWRnZXQucHJvdG90eXBlLnRvb2x0aXBUZXh0RmFjdG9yeT1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIHBlcm1pc3Npb24sdG9vbHRpcFRleHQsaXNNYW51YWxseVVuc3Vic2NyaWJlZDtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuWzQsdGhpcy5wdy5kcml2ZXIuZ2V0UGVybWlzc2lvbigpXTtjYXNlIDE6cmV0dXJuIHBlcm1pc3Npb249X2Euc2VudCgpLHRvb2x0aXBUZXh0PXRoaXMuY29uZmlnLnRvb2x0aXBUZXh0LFs0LHN0b3JhZ2VfMS5rZXlWYWx1ZS5nZXQoY29uc3RhbnRzXzEuTUFOVUFMX1VOU1VCU0NSSUJFKV07Y2FzZSAyOnN3aXRjaChpc01hbnVhbGx5VW5zdWJzY3JpYmVkPV9hLnNlbnQoKSxwZXJtaXNzaW9uKXtjYXNlIGNvbnN0YW50c18xLlBFUk1JU1NJT05fR1JBTlRFRDpyZXR1cm5bMixpc01hbnVhbGx5VW5zdWJzY3JpYmVkP3Rvb2x0aXBUZXh0Lm5lZWRTdWJzY3JpYmU6dG9vbHRpcFRleHQuYWxyZWFkeVN1YnNjcmliZWRdO2Nhc2UgY29uc3RhbnRzXzEuUEVSTUlTU0lPTl9QUk9NUFQ6cmV0dXJuWzIsdG9vbHRpcFRleHQubmVlZFN1YnNjcmliZV07Y2FzZSBjb25zdGFudHNfMS5QRVJNSVNTSU9OX0RFTklFRDpyZXR1cm5bMix0b29sdGlwVGV4dC5ibG9ja1N1YnNjcmliZV07ZGVmYXVsdDpyZXR1cm5bMix0b29sdGlwVGV4dC5uZWVkU3Vic2NyaWJlXX1yZXR1cm5bMl19fSl9KX0sU3Vic2NyaWJlV2lkZ2V0LnByb3RvdHlwZS5jcmVhdGVQb3BvdmVyPWZ1bmN0aW9uKCl7dmFyIHBvcG92ZXJDb250ZW50V3JhcHBlcj1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLHBvcG92ZXI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSxfYT1wb3NpdGlvbmluZ18xLmRlZmF1bHQuZ2V0UG9wb3ZlclBvc2l0aW9uKHRoaXMuY29uZmlnLnBvc2l0aW9uLHRoaXMuY29uZmlnLnNpemUpLHBvc2l0aW9uPV9hWzBdLG1vZGlmaWNhdGlvbj1fYVsxXTtwb3BvdmVyLmNsYXNzTmFtZT1cInB1c2h3b29zaC1zdWJzY3JpYmUtd2lkZ2V0X19wb3BvdmVyIHB1c2h3b29zaC1zdWJzY3JpYmUtd2lkZ2V0X19wb3BvdmVyX19cIittb2RpZmljYXRpb24scG9wb3ZlckNvbnRlbnRXcmFwcGVyLmNsYXNzTmFtZT1cInB1c2h3b29zaC1zdWJzY3JpYmUtd2lkZ2V0X19wb3BvdmVyLWNvbnRlbnQtd3JhcHBlclwiLHRoaXMuc3R5bGUuaW5uZXJIVE1MKz1wb3NpdGlvbmluZ18xLmRlZmF1bHQuZ2V0UG9wb3ZlckFycm93UG9zaXRpb24odGhpcy5jb25maWcucG9zaXRpb24sdGhpcy5jb25maWcuc2l6ZSk7dmFyIHN0eWxlcz1PYmplY3QuYXNzaWduKHttYXhXaWR0aDpcImNhbGMoMTAwdncgLSBcIit0aGlzLmNvbmZpZy5pbmRlbnQrXCIgLSBcIit0aGlzLmNvbmZpZy5pbmRlbnQrXCIpXCJ9LHBvc2l0aW9uKTtyZXR1cm4gdGhpcy5hZGRTdHlsZXNUb0VsZW1lbnQoc3R5bGVzLHBvcG92ZXIpLHBvcG92ZXJDb250ZW50V3JhcHBlci5hcHBlbmRDaGlsZCh0aGlzLmNyZWF0ZVBvcG92ZXJDb250ZW50KCkpLHBvcG92ZXIuYXBwZW5kQ2hpbGQocG9wb3ZlckNvbnRlbnRXcmFwcGVyKSxwb3BvdmVyfSxTdWJzY3JpYmVXaWRnZXQucHJvdG90eXBlLmNyZWF0ZVBvcG92ZXJDb250ZW50PWZ1bmN0aW9uKCl7dmFyIF9hLHBvcG92ZXJDb250ZW50PWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7cG9wb3ZlckNvbnRlbnQuY2xhc3NOYW1lPVwicHVzaHdvb3NoLXN1YnNjcmliZS13aWRnZXRfX3BvcG92ZXItY29udGVudFwiO3ZhciBpbWFnZVByZWZlcmVuY2U9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImltZ1wiKTtpbWFnZVByZWZlcmVuY2Uud2lkdGg9NTAwLGltYWdlUHJlZmVyZW5jZS5oZWlnaHQ9MTMwO3ZhciBpbWFnZVVubG9jaz1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiaW1nXCIpO3JldHVybiBpbWFnZVVubG9jay53aWR0aD01MDAsaW1hZ2VVbmxvY2suaGVpZ2h0PTIzMCxfYT10aGlzLmhlbHBJbWFnZVNvdXJjZUZhY3RvcnkoKSxpbWFnZVByZWZlcmVuY2Uuc3JjPV9hWzBdLGltYWdlVW5sb2NrLnNyYz1fYVsxXSxwb3BvdmVyQ29udGVudC5hcHBlbmRDaGlsZChpbWFnZVByZWZlcmVuY2UpLHBvcG92ZXJDb250ZW50LmFwcGVuZENoaWxkKGltYWdlVW5sb2NrKSxwb3BvdmVyQ29udGVudH0sU3Vic2NyaWJlV2lkZ2V0LnByb3RvdHlwZS5oZWxwSW1hZ2VTb3VyY2VGYWN0b3J5PWZ1bmN0aW9uKCl7dmFyIHByZWZlcmVuY2VTb3VyY2UsdW5sb2NrU291cmNlO3JldHVybiBQbGF0Zm9ybUNoZWNrZXJfMS5kZWZhdWx0LmlzT3BlcmE/W3ByZWZlcmVuY2VTb3VyY2U9XCJodHRwczovL2Nkbi5wdXNod29vc2guY29tL3dlYnB1c2gvaW1nL29wZXJhLmpwZ1wiLHVubG9ja1NvdXJjZT1cImh0dHBzOi8vY2RuLnB1c2h3b29zaC5jb20vd2VicHVzaC9pbWcvb3BlcmFfdW5sb2NrLmpwZ1wiXTooMTE9PT1QbGF0Zm9ybUNoZWNrZXJfMS5kZWZhdWx0LnBsYXRmb3JtP25hdmlnYXRvci51c2VyQWdlbnQubWF0Y2goL0FuZHJvaWQvaSk/KHByZWZlcmVuY2VTb3VyY2U9XCJodHRwczovL2Nkbi5wdXNod29vc2guY29tL3dlYnB1c2gvaW1nL21vYmlsZV9jaHJvbWUuanBnXCIsdW5sb2NrU291cmNlPVwiaHR0cHM6Ly9jZG4ucHVzaHdvb3NoLmNvbS93ZWJwdXNoL2ltZy9tb2JpbGVfY2hyb21lX3VubG9jay5qcGdcIik6KHByZWZlcmVuY2VTb3VyY2U9XCJodHRwczovL2Nkbi5wdXNod29vc2guY29tL3dlYnB1c2gvaW1nL2Nocm9tZS5qcGdcIix1bmxvY2tTb3VyY2U9XCJodHRwczovL2Nkbi5wdXNod29vc2guY29tL3dlYnB1c2gvaW1nL2Nocm9tZV91bmxvY2suanBnXCIpOjEyPT09UGxhdGZvcm1DaGVja2VyXzEuZGVmYXVsdC5wbGF0Zm9ybT8ocHJlZmVyZW5jZVNvdXJjZT1cImh0dHBzOi8vY2RuLnB1c2h3b29zaC5jb20vd2VicHVzaC9pbWcvRkYuanBnXCIsdW5sb2NrU291cmNlPVwiaHR0cHM6Ly9jZG4ucHVzaHdvb3NoLmNvbS93ZWJwdXNoL2ltZy9GRl91bmxvY2suanBnXCIpOjEwPT09UGxhdGZvcm1DaGVja2VyXzEuZGVmYXVsdC5wbGF0Zm9ybT8ocHJlZmVyZW5jZVNvdXJjZT1cImh0dHBzOi8vY2RuLnB1c2h3b29zaC5jb20vd2VicHVzaC9pbWcvc2FmYXJpLmpwZ1wiLHVubG9ja1NvdXJjZT1cImh0dHBzOi8vY2RuLnB1c2h3b29zaC5jb20vd2VicHVzaC9pbWcvc2FmYXJpX3VubG9jay5qcGdcIik6KHByZWZlcmVuY2VTb3VyY2U9XCJodHRwczovL2Nkbi5wdXNod29vc2guY29tL3dlYnB1c2gvaW1nL2Nocm9tZS5qcGdcIix1bmxvY2tTb3VyY2U9XCJodHRwczovL2Nkbi5wdXNod29vc2guY29tL3dlYnB1c2gvaW1nL2Nocm9tZV91bmxvY2suanBnXCIpLFtwcmVmZXJlbmNlU291cmNlLHVubG9ja1NvdXJjZV0pfSxTdWJzY3JpYmVXaWRnZXQucHJvdG90eXBlLnJlbmRlcj1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGJlbGwsX2EsX2I7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Mpe3N3aXRjaChfYy5sYWJlbCl7Y2FzZSAwOnJldHVybiB0aGlzLndpZGdldD10aGlzLmNyZWF0ZUNvbnRhaW5lcigpLHRoaXMuc3R5bGU9dGhpcy5jcmVhdGVTdHlsZSgpLGJlbGw9dGhpcy5jcmVhdGVCZWxsKCksX2E9dGhpcyxbNCx0aGlzLmNyZWF0ZVRvb2x0aXAoKV07Y2FzZSAxOnJldHVybiBfYS50b29sdGlwPV9jLnNlbnQoKSxfYj10aGlzLFs0LHRoaXMuY3JlYXRlUG9wb3ZlcigpXTtjYXNlIDI6cmV0dXJuIF9iLnBvcG92ZXI9X2Muc2VudCgpLHRoaXMud2lkZ2V0LmFwcGVuZENoaWxkKHRoaXMuc3R5bGUpLHRoaXMud2lkZ2V0LmFwcGVuZENoaWxkKGJlbGwpLHRoaXMud2lkZ2V0LmFwcGVuZENoaWxkKHRoaXMudG9vbHRpcCksdGhpcy53aWRnZXQuYXBwZW5kQ2hpbGQodGhpcy5wb3BvdmVyKSxkb2N1bWVudC5ib2R5LmFwcGVuZENoaWxkKHRoaXMud2lkZ2V0KSx0aGlzLnB3LnB1c2goW1wib25TdWJzY3JpYmVcIix0aGlzLm9uU3Vic2NyaWJlRXZlbnRdKSx0aGlzLnB3LnB1c2goW1wib25VbnN1YnNjcmliZVwiLHRoaXMub25VbnN1YnNjcmliZUV2ZW50XSksdGhpcy5wdy5wdXNoKFtcIm9uUGVybWlzc2lvbkRlbmllZFwiLHRoaXMub25QZXJtaXNzaW9uRGVuaWVkRXZlbnRdKSx0aGlzLmlzRW5hYmxlQ2hhbm5lbHM/KHRoaXMud2lkZ2V0LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLHRoaXMub25DbGlja0JlbGxJZkVuYWJsZUNoYW5uZWxzKSxbMl0pOih0aGlzLmFkZEV2ZW50TGlzdGVuZXJzSWZEaXNhYmxlZENoYW5uZWxzKCksWzJdKX19KX0pfSxTdWJzY3JpYmVXaWRnZXQucHJvdG90eXBlLm9uQ2xpY2tCZWxsSWZFbmFibGVDaGFubmVscz1mdW5jdGlvbigpe3ZhciBfdGhpcz10aGlzO3RoaXMucHcucHVzaChmdW5jdGlvbihhcGkpe190aGlzLnB3LmRyaXZlci5jaGVja0lzUGVybWlzc2lvbkRlZmF1bHQoKT9fdGhpcy5wdy5zdWJzY3JpcHRpb25TZWdtZW50V2lkZ2V0LmluaXQoKTphcGkucG9zdEV2ZW50KGNvbnN0YW50c18xLlNVQlNDUklQVElPTl9TRUdNRU5UX0VWRU5ULHt9KX0pfSxTdWJzY3JpYmVXaWRnZXQucHJvdG90eXBlLmFkZEV2ZW50TGlzdGVuZXJzSWZEaXNhYmxlZENoYW5uZWxzPWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYSl7c3dpdGNoKF9hLmxhYmVsKXtjYXNlIDA6cmV0dXJuIHRoaXMud2lkZ2V0LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLHRoaXMuY2xpY2tCZWxsKSx3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsdGhpcy5jbGlja091dE9mUG9wb3ZlciksWzQsdGhpcy50cmlnZ2VyUHdFdmVudChjb25zdGFudHNfMS5FVkVOVF9TSE9XX1NVQlNDUklCRV9CVVRUT04sY29uc3RhbnRzXzEuS0VZX1NIT1dfU1VCU0NSSUJFX1dJREdFVCldO2Nhc2UgMTpyZXR1cm4gX2Euc2VudCgpLFsyXX19KX0pfSxTdWJzY3JpYmVXaWRnZXQucHJvdG90eXBlLnRvZ2dsZUhlbHBQb3BvdmVyPWZ1bmN0aW9uKCl7dGhpcy5wb3BvdmVyLmNsYXNzTGlzdC50b2dnbGUoXCJwdXNod29vc2gtc3Vic2NyaWJlLXdpZGdldF9fcG9wb3Zlcl9fdmlzaWJsZVwiKX0sU3Vic2NyaWJlV2lkZ2V0LnByb3RvdHlwZS5jbGlja0JlbGw9ZnVuY3Rpb24oKXtyZXR1cm4gX19hd2FpdGVyKHRoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBwZXJtaXNzaW9uO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9iKXtzd2l0Y2goX2IubGFiZWwpe2Nhc2UgMDpzd2l0Y2gocGVybWlzc2lvbj10aGlzLnB3LmRyaXZlci5nZXRQZXJtaXNzaW9uKCkscGVybWlzc2lvbil7Y2FzZSBjb25zdGFudHNfMS5QRVJNSVNTSU9OX0dSQU5URUQ6cmV0dXJuWzMsMV07Y2FzZSBjb25zdGFudHNfMS5QRVJNSVNTSU9OX1BST01QVDpyZXR1cm5bMywzXTtjYXNlIGNvbnN0YW50c18xLlBFUk1JU1NJT05fREVOSUVEOnJldHVyblszLDVdfXJldHVyblszLDZdO2Nhc2UgMTpyZXR1cm5bNCx0aGlzLnB3LnN1YnNjcmliZSgpXTtjYXNlIDI6cmV0dXJuIF9iLnNlbnQoKSxbMyw3XTtjYXNlIDM6cmV0dXJuWzQsdGhpcy5wdy5zdWJzY3JpYmUoKV07Y2FzZSA0OnJldHVybiBfYi5zZW50KCksWzMsN107Y2FzZSA1OnJldHVybiB0aGlzLnRvZ2dsZUhlbHBQb3BvdmVyKCksWzMsN107Y2FzZSA2OmNvbnNvbGUud2FybihcIlVua25vd24gYnJvd3NlciBub3RpZmljYXRpb24gcGVybWlzc2lvblwiKSxfYi5sYWJlbD03O2Nhc2UgNzpyZXR1cm5bNCx0aGlzLnRyaWdnZXJQd0V2ZW50KGNvbnN0YW50c18xLkVWRU5UX0NMSUNLX1NVQlNDUklCRV9CVVRUT04sY29uc3RhbnRzXzEuS0VZX0NMSUNLX1NVQlNDUklCRV9XSURHRVQpXTtjYXNlIDg6cmV0dXJuIF9iLnNlbnQoKSxbMl19fSl9KX0sU3Vic2NyaWJlV2lkZ2V0LnByb3RvdHlwZS5vblN1YnNjcmliZUV2ZW50PWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgaXNFbmFibGVDaGFubmVscyx0b29sdGlwQ29udGVudCxfdGhpcz10aGlzO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9hKXtyZXR1cm4gaXNFbmFibGVDaGFubmVscz10aGlzLnB3LmlzRW5hYmxlQ2hhbm5lbHMoKSxudWxsPT09KHRvb2x0aXBDb250ZW50PXRoaXMudG9vbHRpcC5xdWVyeVNlbGVjdG9yKFwiZGl2XCIpKT9bMl06KHRvb2x0aXBDb250ZW50LmlubmVyVGV4dD10aGlzLmNvbmZpZy50b29sdGlwVGV4dC5zdWNjZXNzU3Vic2NyaWJlLHRoaXMudG9vbHRpcC5jbGFzc0xpc3QuYWRkKFwicHVzaHdvb3NoLXN1YnNjcmliZS13aWRnZXRfX3Rvb2x0aXBfX3Zpc2libGVcIiksc2V0VGltZW91dChmdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIoX3RoaXMsdm9pZCAwLHZvaWQgMCxmdW5jdGlvbigpe3ZhciBfYTtyZXR1cm4gX19nZW5lcmF0b3IodGhpcyxmdW5jdGlvbihfYil7c3dpdGNoKF9iLmxhYmVsKXtjYXNlIDA6cmV0dXJuIHRoaXMudG9vbHRpcC5jbGFzc0xpc3QucmVtb3ZlKFwicHVzaHdvb3NoLXN1YnNjcmliZS13aWRnZXRfX3Rvb2x0aXBfX3Zpc2libGVcIiksX2E9dG9vbHRpcENvbnRlbnQsWzQsdGhpcy50b29sdGlwVGV4dEZhY3RvcnkoKV07Y2FzZSAxOnJldHVybiBfYS5pbm5lclRleHQ9X2Iuc2VudCgpLGlzRW5hYmxlQ2hhbm5lbHN8fHRoaXMud2lkZ2V0LmNsYXNzTGlzdC5hZGQoXCJwdXNod29vc2gtc3Vic2NyaWJlLXdpZGdldF9fc3Vic2NyaWJlZFwiKSxbMl19fSl9KX0sMmUzKSxbMl0pfSl9KX0sU3Vic2NyaWJlV2lkZ2V0LnByb3RvdHlwZS5vblBlcm1pc3Npb25EZW5pZWRFdmVudD1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIHRvb2x0aXBDb250ZW50LF9hO3JldHVybiBfX2dlbmVyYXRvcih0aGlzLGZ1bmN0aW9uKF9iKXtzd2l0Y2goX2IubGFiZWwpe2Nhc2UgMDpyZXR1cm5bNCx0aGlzLnB3LmlzRW5hYmxlQ2hhbm5lbHMoKV07Y2FzZSAxOnJldHVybiBfYi5zZW50KCkmJih0aGlzLndpZGdldC5yZW1vdmVFdmVudExpc3RlbmVyKFwiY2xpY2tcIix0aGlzLm9uQ2xpY2tCZWxsSWZFbmFibGVDaGFubmVscyksdGhpcy5hZGRFdmVudExpc3RlbmVyc0lmRGlzYWJsZWRDaGFubmVscygpKSxudWxsPT09KHRvb2x0aXBDb250ZW50PXRoaXMudG9vbHRpcC5xdWVyeVNlbGVjdG9yKFwiZGl2XCIpKT9bMl06KF9hPXRvb2x0aXBDb250ZW50LFs0LHRoaXMudG9vbHRpcFRleHRGYWN0b3J5KCldKTtjYXNlIDI6cmV0dXJuIF9hLmlubmVyVGV4dD1fYi5zZW50KCksWzJdfX0pfSl9LFN1YnNjcmliZVdpZGdldC5wcm90b3R5cGUuY2xpY2tPdXRPZlBvcG92ZXI9ZnVuY3Rpb24oZXYpe3RoaXMucG9wb3Zlci5jbGFzc0xpc3QuY29udGFpbnMoXCJwdXNod29vc2gtc3Vic2NyaWJlLXdpZGdldF9fcG9wb3Zlcl9fdmlzaWJsZVwiKSYmIWV2LnRhcmdldC5jbGFzc0xpc3QuY29udGFpbnMoXCJwdXNod29vc2gtc3Vic2NyaWJlLXdpZGdldF9fcG9wb3ZlclwiKSYmbnVsbD09PWV2LnRhcmdldC5jbG9zZXN0KFwiLnB1c2h3b29zaC1zdWJzY3JpYmUtd2lkZ2V0X19wb3BvdmVyXCIpJiYhZXYudGFyZ2V0LmNsYXNzTGlzdC5jb250YWlucyhcInB1c2h3b29zaC1zdWJzY3JpYmUtd2lkZ2V0X19iZWxsLWJ1dHRvblwiKSYmbnVsbD09PWV2LnRhcmdldC5jbG9zZXN0KFwiLnB1c2h3b29zaC1zdWJzY3JpYmUtd2lkZ2V0X19iZWxsLWJ1dHRvblwiKSYmdGhpcy5wb3BvdmVyLmNsYXNzTGlzdC5yZW1vdmUoXCJwdXNod29vc2gtc3Vic2NyaWJlLXdpZGdldF9fcG9wb3Zlcl9fdmlzaWJsZVwiKX0sU3Vic2NyaWJlV2lkZ2V0LnByb3RvdHlwZS50cmlnZ2VyUHdFdmVudD1mdW5jdGlvbihldmVudCx3aWRnZXQpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3JldHVyblsyXX0pfSl9LFN1YnNjcmliZVdpZGdldC5wcm90b3R5cGUub25VbnN1YnNjcmliZUV2ZW50PWZ1bmN0aW9uKCl7cmV0dXJuIF9fYXdhaXRlcih0aGlzLHZvaWQgMCx2b2lkIDAsZnVuY3Rpb24oKXt2YXIgdG9vbHRpcENvbnRlbnQsX2E7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Ipe3N3aXRjaChfYi5sYWJlbCl7Y2FzZSAwOnJldHVybiBudWxsPT09KHRvb2x0aXBDb250ZW50PXRoaXMudG9vbHRpcC5xdWVyeVNlbGVjdG9yKFwiZGl2XCIpKT9bMl06KF9hPXRvb2x0aXBDb250ZW50LFs0LHRoaXMudG9vbHRpcFRleHRGYWN0b3J5KCldKTtjYXNlIDE6cmV0dXJuIF9hLmlubmVyVGV4dD1fYi5zZW50KCksWzJdfX0pfSl9LFN1YnNjcmliZVdpZGdldH0oKTtkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwicHVzaHdvb3NoLmluaXRpYWxpemVkXCIsZnVuY3Rpb24oZXYpe2V2LmRldGFpbC5wdy5zdWJzY3JpYmVXaWRnZXRDb25maWcuZW5hYmxlJiZuZXcgU3Vic2NyaWJlV2lkZ2V0KGV2LmRldGFpbC5wdyl9KX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGNvbnN0YW50c18xPV9fd2VicGFja19yZXF1aXJlX18oNzcpLFBvc2l0aW9uaW5nPWZ1bmN0aW9uKCl7ZnVuY3Rpb24gUG9zaXRpb25pbmcoKXt9cmV0dXJuIFBvc2l0aW9uaW5nLmdldEJlbGxQb3NpdGlvbj1mdW5jdGlvbihwb3NpdGlvbixpbmRlbnQpe3ZhciBwb3NpdGlvblN0eWxlcztzd2l0Y2gocG9zaXRpb24pe2Nhc2UgY29uc3RhbnRzXzEuQkVMTF9QT1NJVElPTl9CT1RUT01fUklHSFQ6cG9zaXRpb25TdHlsZXM9e3RvcDpcImF1dG9cIixsZWZ0OlwiYXV0b1wiLGJvdHRvbTppbmRlbnQscmlnaHQ6aW5kZW50fTticmVhaztjYXNlIGNvbnN0YW50c18xLkJFTExfUE9TSVRJT05fQk9UVE9NX0xFRlQ6cG9zaXRpb25TdHlsZXM9e3RvcDpcImF1dG9cIixsZWZ0OmluZGVudCxib3R0b206aW5kZW50LHJpZ2h0OlwiYXV0b1wifTticmVhaztjYXNlIGNvbnN0YW50c18xLkJFTExfUE9TSVRJT05fVE9QX0xFRlQ6cG9zaXRpb25TdHlsZXM9e3RvcDppbmRlbnQsbGVmdDppbmRlbnQsYm90dG9tOlwiYXV0b1wiLHJpZ2h0OlwiYXV0b1wifTticmVhaztjYXNlIGNvbnN0YW50c18xLkJFTExfUE9TSVRJT05fVE9QX1JJR0hUOnBvc2l0aW9uU3R5bGVzPXt0b3A6aW5kZW50LGxlZnQ6XCJhdXRvXCIsYm90dG9tOlwiYXV0b1wiLHJpZ2h0OmluZGVudH07YnJlYWs7ZGVmYXVsdDpwb3NpdGlvblN0eWxlcz17dG9wOlwiYXV0b1wiLGxlZnQ6XCJhdXRvXCIsYm90dG9tOmluZGVudCxyaWdodDppbmRlbnR9fXJldHVybiBwb3NpdGlvblN0eWxlc30sUG9zaXRpb25pbmcuZ2V0VG9vbHRpcFBvc2l0aW9uPWZ1bmN0aW9uKGJlbGxQb3NpdGlvbixiZWxsU2l6ZSl7dmFyIHBvc2l0aW9uU3R5bGVzLHRvb2x0aXBNb2RpZmljYXRpb24saW5jcmVhc2VJbmRlbnQ9cGFyc2VJbnQoYmVsbFNpemUpKzEyK1wicHhcIjtzd2l0Y2goYmVsbFBvc2l0aW9uKXtjYXNlIGNvbnN0YW50c18xLkJFTExfUE9TSVRJT05fQk9UVE9NX1JJR0hUOnBvc2l0aW9uU3R5bGVzPXtyaWdodDppbmNyZWFzZUluZGVudH0sdG9vbHRpcE1vZGlmaWNhdGlvbj1cInJpZ2h0XCI7YnJlYWs7Y2FzZSBjb25zdGFudHNfMS5CRUxMX1BPU0lUSU9OX0JPVFRPTV9MRUZUOmNhc2UgY29uc3RhbnRzXzEuQkVMTF9QT1NJVElPTl9UT1BfTEVGVDpwb3NpdGlvblN0eWxlcz17bGVmdDppbmNyZWFzZUluZGVudH0sdG9vbHRpcE1vZGlmaWNhdGlvbj1cImxlZnRcIjticmVhaztjYXNlIGNvbnN0YW50c18xLkJFTExfUE9TSVRJT05fVE9QX1JJR0hUOnBvc2l0aW9uU3R5bGVzPXtyaWdodDppbmNyZWFzZUluZGVudH0sdG9vbHRpcE1vZGlmaWNhdGlvbj1cInJpZ2h0XCI7YnJlYWs7ZGVmYXVsdDpwb3NpdGlvblN0eWxlcz17cmlnaHQ6aW5jcmVhc2VJbmRlbnR9LHRvb2x0aXBNb2RpZmljYXRpb249XCJyaWdodFwifXJldHVybltwb3NpdGlvblN0eWxlcyx0b29sdGlwTW9kaWZpY2F0aW9uXX0sUG9zaXRpb25pbmcuZ2V0UG9wb3ZlclBvc2l0aW9uPWZ1bmN0aW9uKGJlbGxQb3NpdGlvbixiZWxsU2l6ZSl7dmFyIHBvc2l0aW9uU3R5bGVzLHBvcG92ZXJNb2RpZmljYXRpb24saW5jcmVhc2VJbmRlbnQ9cGFyc2VJbnQoYmVsbFNpemUpKzE1K1wicHhcIjtzd2l0Y2goYmVsbFBvc2l0aW9uKXtjYXNlIGNvbnN0YW50c18xLkJFTExfUE9TSVRJT05fQk9UVE9NX1JJR0hUOnBvc2l0aW9uU3R5bGVzPXtib3R0b206aW5jcmVhc2VJbmRlbnQscmlnaHQ6XCIwXCIsbGVmdDpcImF1dG9cIix0b3A6XCJhdXRvXCJ9LHBvcG92ZXJNb2RpZmljYXRpb249XCJib3R0b21cIjticmVhaztjYXNlIGNvbnN0YW50c18xLkJFTExfUE9TSVRJT05fQk9UVE9NX0xFRlQ6cG9zaXRpb25TdHlsZXM9e2JvdHRvbTppbmNyZWFzZUluZGVudCxsZWZ0OlwiMFwiLHJpZ2h0OlwiYXV0b1wiLHRvcDpcImF1dG9cIn0scG9wb3Zlck1vZGlmaWNhdGlvbj1cImJvdHRvbVwiO2JyZWFrO2Nhc2UgY29uc3RhbnRzXzEuQkVMTF9QT1NJVElPTl9UT1BfTEVGVDpwb3NpdGlvblN0eWxlcz17dG9wOmluY3JlYXNlSW5kZW50LGxlZnQ6XCIwXCIscmlnaHQ6XCJhdXRvXCIsYm90dG9tOlwiYXV0b1wifSxwb3BvdmVyTW9kaWZpY2F0aW9uPVwidG9wXCI7YnJlYWs7Y2FzZSBjb25zdGFudHNfMS5CRUxMX1BPU0lUSU9OX1RPUF9SSUdIVDpwb3NpdGlvblN0eWxlcz17dG9wOmluY3JlYXNlSW5kZW50LHJpZ2h0OlwiMFwiLGxlZnQ6XCJhdXRvXCIsYm90dG9tOlwiYXV0b1wifSxwb3BvdmVyTW9kaWZpY2F0aW9uPVwidG9wXCI7YnJlYWs7ZGVmYXVsdDpwb3NpdGlvblN0eWxlcz17Ym90dG9tOmluY3JlYXNlSW5kZW50LHJpZ2h0OlwiMFwiLGxlZnQ6XCJhdXRvXCIsdG9wOlwiYXV0b1wifSxwb3BvdmVyTW9kaWZpY2F0aW9uPVwiYm90dG9tXCJ9cmV0dXJuW3Bvc2l0aW9uU3R5bGVzLHBvcG92ZXJNb2RpZmljYXRpb25dfSxQb3NpdGlvbmluZy5nZXRQb3BvdmVyQXJyb3dQb3NpdGlvbj1mdW5jdGlvbihiZWxsUG9zaXRpb24sYmVsbFNpemUpe3ZhciBhcnJvd0FkZGl0aW9uYWxTdHlsZXM7c3dpdGNoKGJlbGxQb3NpdGlvbil7Y2FzZSBjb25zdGFudHNfMS5CRUxMX1BPU0lUSU9OX0JPVFRPTV9SSUdIVDphcnJvd0FkZGl0aW9uYWxTdHlsZXM9XCJcXG4ucHVzaHdvb3NoLXN1YnNjcmliZS13aWRnZXRfX3BvcG92ZXJfX2JvdHRvbTphZnRlciB7bGVmdDogYXV0bzsgcmlnaHQ6IFwiKyhwYXJzZUludChiZWxsU2l6ZSkvMi00KStcInB4XCI7YnJlYWs7Y2FzZSBjb25zdGFudHNfMS5CRUxMX1BPU0lUSU9OX0JPVFRPTV9MRUZUOmFycm93QWRkaXRpb25hbFN0eWxlcz1cIlxcbi5wdXNod29vc2gtc3Vic2NyaWJlLXdpZGdldF9fcG9wb3Zlcl9fYm90dG9tOmFmdGVyIHtyaWdodDogYXV0bzsgbGVmdDogXCIrKHBhcnNlSW50KGJlbGxTaXplKS8yLTEyKStcInB4XCI7YnJlYWs7Y2FzZSBjb25zdGFudHNfMS5CRUxMX1BPU0lUSU9OX1RPUF9MRUZUOmFycm93QWRkaXRpb25hbFN0eWxlcz1cIlxcbi5wdXNod29vc2gtc3Vic2NyaWJlLXdpZGdldF9fcG9wb3Zlcl9fdG9wOmFmdGVyIHtyaWdodDogYXV0bzsgbGVmdDogXCIrKHBhcnNlSW50KGJlbGxTaXplKS8yLTEyKStcInB4XCI7YnJlYWs7Y2FzZSBjb25zdGFudHNfMS5CRUxMX1BPU0lUSU9OX1RPUF9SSUdIVDphcnJvd0FkZGl0aW9uYWxTdHlsZXM9XCJcXG4ucHVzaHdvb3NoLXN1YnNjcmliZS13aWRnZXRfX3BvcG92ZXJfX3RvcDphZnRlciB7bGVmdDogYXV0bzsgcmlnaHQ6IFwiKyhwYXJzZUludChiZWxsU2l6ZSkvMi00KStcInB4XCI7YnJlYWs7ZGVmYXVsdDphcnJvd0FkZGl0aW9uYWxTdHlsZXM9XCJcXG4ucHVzaHdvb3NoLXN1YnNjcmliZS13aWRnZXRfX3BvcG92ZXJfX2JvdHRvbTphZnRlciB7bGVmdDogYXV0bzsgcmlnaHQ6IFwiKyhwYXJzZUludChiZWxsU2l6ZSkvMi00KStcInB4XCJ9cmV0dXJuIGFycm93QWRkaXRpb25hbFN0eWxlc30sUG9zaXRpb25pbmd9KCk7ZXhwb3J0cy5kZWZhdWx0PVBvc2l0aW9uaW5nfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxleHBvcnRzLmRlZmF1bHQ9ZnVuY3Rpb24oZmlsbENvbG9yLHN0cm9rZUNvbG9yKXtyZXR1cm4nPD94bWwgdmVyc2lvbj1cIjEuMFwiIGVuY29kaW5nPVwiVVRGLThcIiBzdGFuZGFsb25lPVwibm9cIj8+XFxuPHN2Z1xcbiAgIHhtbG5zOmRjPVwiaHR0cDovL3B1cmwub3JnL2RjL2VsZW1lbnRzLzEuMS9cIlxcbiAgIHhtbG5zOmNjPVwiaHR0cDovL2NyZWF0aXZlY29tbW9ucy5vcmcvbnMjXCJcXG4gICB4bWxuczpyZGY9XCJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjXCJcXG4gICB4bWxuczpzdmc9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiXFxuICAgeG1sbnM9XCJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2Z1wiXFxuICAgeG1sbnM6c29kaXBvZGk9XCJodHRwOi8vc29kaXBvZGkuc291cmNlZm9yZ2UubmV0L0RURC9zb2RpcG9kaS0wLmR0ZFwiXFxuICAgeG1sbnM6aW5rc2NhcGU9XCJodHRwOi8vd3d3Lmlua3NjYXBlLm9yZy9uYW1lc3BhY2VzL2lua3NjYXBlXCJcXG4gICB2ZXJzaW9uPVwiMS4xXCJcXG4gICBpZD1cIkNhcGFfMVwiXFxuICAgeD1cIjBweFwiXFxuICAgeT1cIjBweFwiXFxuICAgdmlld0JveD1cIjAgMCAzNDYuMDEzIDM0Ni4wMTNcIlxcbiAgIHN0eWxlPVwiZW5hYmxlLWJhY2tncm91bmQ6bmV3IDAgMCAzNDYuMDEzIDM0Ni4wMTM7d2lkdGg6IDgwJTsgaGVpZ2h0OiBhdXRvOyB2ZXJ0aWNhbC1hbGlnbjogbWlkZGxlO1wiXFxuICAgeG1sOnNwYWNlPVwicHJlc2VydmVcIlxcbiAgIGlua3NjYXBlOnZlcnNpb249XCIwLjkxIHIxMzcyNVwiXFxuICAgc29kaXBvZGk6ZG9jbmFtZT1cImFsYXJtX3doaXRlLnN2Z1wiPjxtZXRhZGF0YVxcbiAgICAgaWQ9XCJtZXRhZGF0YTUxXCI+PHJkZjpSREY+PGNjOldvcmtcXG4gICAgICAgICByZGY6YWJvdXQ9XCJcIj48ZGM6Zm9ybWF0PmltYWdlL3N2Zyt4bWw8L2RjOmZvcm1hdD48ZGM6dHlwZVxcbiAgICAgICAgICAgcmRmOnJlc291cmNlPVwiaHR0cDovL3B1cmwub3JnL2RjL2RjbWl0eXBlL1N0aWxsSW1hZ2VcIiAvPjxkYzp0aXRsZT48L2RjOnRpdGxlPjwvY2M6V29yaz48L3JkZjpSREY+PC9tZXRhZGF0YT48ZGVmc1xcbiAgICAgaWQ9XCJkZWZzNDlcIiAvPjxzb2RpcG9kaTpuYW1lZHZpZXdcXG4gICAgIGJvcmRlcm9wYWNpdHk9XCIxXCJcXG4gICAgIG9iamVjdHRvbGVyYW5jZT1cIjEwXCJcXG4gICAgIGdyaWR0b2xlcmFuY2U9XCIxMFwiXFxuICAgICBndWlkZXRvbGVyYW5jZT1cIjEwXCJcXG4gICAgIGlua3NjYXBlOnBhZ2VvcGFjaXR5PVwiMFwiXFxuICAgICBpbmtzY2FwZTpwYWdlc2hhZG93PVwiMlwiXFxuICAgICBpbmtzY2FwZTp3aW5kb3ctd2lkdGg9XCIxNjE4XCJcXG4gICAgIGlua3NjYXBlOndpbmRvdy1oZWlnaHQ9XCI4MjhcIlxcbiAgICAgaWQ9XCJuYW1lZHZpZXc0N1wiXFxuICAgICBzaG93Z3JpZD1cImZhbHNlXCJcXG4gICAgIGlua3NjYXBlOnpvb209XCIwLjY4MjA1NTNcIlxcbiAgICAgaW5rc2NhcGU6Y3g9XCIxNzMuMDA2NVwiXFxuICAgICBpbmtzY2FwZTpjeT1cIjE3My4wMDY1XCJcXG4gICAgIGlua3NjYXBlOndpbmRvdy14PVwiMFwiXFxuICAgICBpbmtzY2FwZTp3aW5kb3cteT1cIjBcIlxcbiAgICAgaW5rc2NhcGU6d2luZG93LW1heGltaXplZD1cIjBcIlxcbiAgICAgaW5rc2NhcGU6Y3VycmVudC1sYXllcj1cImczXCIgLz48Z1xcbiAgICAgaWQ9XCJnM1wiPjxwYXRoXFxuICAgICAgIGQ9XCJtIDI1Ni43NjIyNywyMjAuMTkwMDYgYyAtMS43NzUxMywtMi42OTc2NiAtMy40NTE1NCwtNS4yNDU2NCAtMy45ODk2NiwtNy40NjM4MiAtMC4wNDIsLTAuMTc4NjEgLTAuMDkxMSwtMC4zNjEyOCAtMC4xNjIzNywtMC42MTQzNiAtMi4yODM1NCwtNy42NzY0NyAwLjY5MTQ3LC0yNC40MzkyMSAyLjQ2ODg2LC0zNC40NTEyNCAwLjI2Nzg4LC0xLjUwMzk0IDAuNTIyNzQsLTIuOTQxOTcgMC43NTI4NiwtNC4yOTAzNSAwLjAyMzIsLTAuMTM2NzUgMC4wNDQsLTAuMjcyMTEgMC4wNzI0LC0wLjQ4MDA2IDEuOTU1ODIsLTE1LjI4MDUxIDIuNTg4MTEsLTM3LjkxOTU2IC01LjUxMDQ0LC01OC45OTE0NyAtNS42MDMyLC0xNC41Nzk3OCAtMTQuNDU5NzgsLTI1LjgyNjEyIC0yNi4zNTU5LC0zMy40ODM5MyAxLjI2NTk4LC05LjgxMjkzOCAtNC44NTk2NywtMTkuMzQzNjkxIC0xNC42NjY4MiwtMjIuMDUxMSAtOS44MDcxNSwtMi43MDc0MSAtMTkuOTU3MjQsMi4zMzIyNiAtMjMuOTAyOTgsMTEuNDA1NDEzIC0xNC4xMzgyLDAuNDY3NTMzIC0yNy41MTExMSw1LjU3NzA5NyAtMzkuODAxMTQsMTUuMjE5MjY3IC0xNy43NjEyOSwxMy45Mjk4IC0yOC44MzQzMSwzMy42ODc1NyAtMzQuOTkzODksNDcuODA3NTcgbCAtMC4wNDc5LDAuMTEzMzUgYyAtMC4wNTEyLDAuMTIxNzUgLTAuMDk5OCwwLjI0MTE0IC0wLjEzMjQ5LDAuMzI5NjIgLTAuNDk3MzMsMS4yODI5MiAtMS4wMTU1MiwyLjY0NTE0IC0xLjU1Njg5LDQuMDcyNTUgLTMuNjEzMTEsOS41MTA0MyAtOS42NjAwNCwyNS40MjgyNCAtMTUuNjExOTk1LDMwLjg5MzQyIC0wLjEwNjUyNCwwLjEwMDI3IC0wLjIwODIyOCwwLjIwMTg3IC0wLjM2MjM2MiwwLjM1NDM1IC0xLjYzNjI0MywxLjY2NTYzIC00LjM4Mjk0MSwyLjk5NDYzIC03LjI4ODk3OSw0LjQwMTAxIC03LjE0NTUzMSwzLjQ1MzAxIC0yMi4wMTM2MTMsMTAuNjQxNjYgLTE3LjIwNjM4OSwzMS42Nzg0NCAwLjkyOTE1NCw0LjA3MTA1IDQuMDA4NDM3LDcuMjkwNTcgOC4wMzM4NjEsOC40MDE4NSBsIDE2Ny41NzA4MDQsNDYuMjYwNCBjIDQuMDIyNTMsMS4xMTA0OCA4LjMxNTIxLC0wLjA3MjkgMTEuMjA1MiwtMy4wODk1OCAxNC45MTYxNywtMTUuNTg4NzQgNS44NDY5MywtMjkuMzg2NjggMS40ODYyNSwtMzYuMDIxMzMgelwiXFxuICAgICAgIGlkPVwicGF0aDVcIlxcbiAgICAgICBpbmtzY2FwZTpjb25uZWN0b3ItY3VydmF0dXJlPVwiMFwiXFxuICAgICAgIHZlY3Rvci1lZmZlY3Q9XCJub24tc2NhbGluZy1zdHJva2VcIlxcbiAgICAgICBzdHlsZT1cImZpbGw6JytmaWxsQ29sb3IrXCI7IHN0cm9rZTogXCIrc3Ryb2tlQ29sb3IrJzsgc3Ryb2tlLXdpZHRoOiAxOyBcIiAvPjxwYXRoXFxuICAgICAgIHZlY3Rvci1lZmZlY3Q9XCJub24tc2NhbGluZy1zdHJva2VcIlxcbiAgICAgICBkPVwibSAxNzQuMjY3MzcsMjU5LjcyMzc4IC0zOC43NjM5OSwtMTAuNzAxMzcgYyAtMS41OTI0MywtMC40Mzk2MiAtMy4yODE4MywtMC4xNTU5NiAtNC42MzU0OCwwLjc3NTQgLTIuNTM5MDksMS43NDk0IC0yLjg0MTgyLDQuOTMxNTkgLTMuMDIzMDQsNi44MzE4OCBsIC0wLjAxNTEsMC4xNTI0NyBjIC0xLjIyODE5LDEyLjY3MTA2IDYuNzk4NTQsMjQuMzMwNDYgMTkuMDg2ODgsMjcuNzIyODQgMTIuNTE1ODMsMy40NTUxOCAyNS44MzI0LC0yLjkxNTg2IDMwLjk2ODEsLTE0LjgwMzg1IGwgMC4wOTM1LC0wLjE5MjA1IGMgMC41MjMwNSwtMS4wNjQxOCAxLjc0NjEzLC0zLjU1NTU0IDAuNTA4ODIsLTYuMzExMTYgLTAuNDQzMDIsLTAuOTg0MzkgLTEuNTc5NCwtMi43NDUyOSAtNC4yMTk2NCwtMy40NzQxNiB6XCJcXG4gICAgICAgaWQ9XCJwYXRoN1wiXFxuICAgICAgIGlua3NjYXBlOmNvbm5lY3Rvci1jdXJ2YXR1cmU9XCIwXCJcXG4gICAgICAgc3R5bGU9XCJmaWxsOicrZmlsbENvbG9yK1wiOyBzdHJva2U6IFwiK3N0cm9rZUNvbG9yKyc7IHN0cm9rZS13aWR0aDogMTtcIiAvPjwvZz48Z1xcbiAgICAgaWQ9XCJnMTdcIiAvPjxnXFxuICAgICBpZD1cImcxOVwiIC8+PGdcXG4gICAgIGlkPVwiZzIxXCIgLz48Z1xcbiAgICAgaWQ9XCJnMjNcIiAvPjxnXFxuICAgICBpZD1cImcyNVwiIC8+PGdcXG4gICAgIGlkPVwiZzI3XCIgLz48Z1xcbiAgICAgaWQ9XCJnMjlcIiAvPjxnXFxuICAgICBpZD1cImczMVwiIC8+PGdcXG4gICAgIGlkPVwiZzMzXCIgLz48Z1xcbiAgICAgaWQ9XCJnMzVcIiAvPjxnXFxuICAgICBpZD1cImczN1wiIC8+PGdcXG4gICAgIGlkPVwiZzM5XCIgLz48Z1xcbiAgICAgaWQ9XCJnNDFcIiAvPjxnXFxuICAgICBpZD1cImc0M1wiIC8+PGdcXG4gICAgIGlkPVwiZzQ1XCIgLz48L3N2Zz4nfX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7dmFyIHJlc3VsdD1fX3dlYnBhY2tfcmVxdWlyZV9fKDE1Myk7bW9kdWxlLmV4cG9ydHM9XCJzdHJpbmdcIj09dHlwZW9mIHJlc3VsdD9yZXN1bHQ6cmVzdWx0LnRvU3RyaW5nKCl9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18peyhtb2R1bGUuZXhwb3J0cz1fX3dlYnBhY2tfcmVxdWlyZV9fKDE1NCkodm9pZCAwKSkucHVzaChbbW9kdWxlLmksJy8qIFdpZGdldCAqL1xcbi5wdXNod29vc2gtc3Vic2NyaWJlLXdpZGdldCB7XFxuICBwb3NpdGlvbjogZml4ZWQ7XFxuICBkaXNwbGF5OiBibG9jaztcXG4gIC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgwLCAwLCAwKTtcXG4gICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGUzZCgwLCAwLCAwKTtcXG59XFxuXFxuLnB1c2h3b29zaC1zdWJzY3JpYmUtd2lkZ2V0X19zdWJzY3JpYmVkIHtcXG4gIGRpc3BsYXk6IG5vbmU7XFxufVxcblxcbi5wdXNod29vc2gtc3Vic2NyaWJlLXdpZGdldCAucHVzaHdvb3NoLXN1YnNjcmliZS13aWRnZXRfX2JlbGwtYnV0dG9uIHtcXG4gIC13ZWJraXQtYm9yZGVyLXJhZGl1czogNTAlO1xcbiAgICAgICAgICBib3JkZXItcmFkaXVzOiA1MCU7XFxuICBjdXJzb3I6IHBvaW50ZXI7XFxuICBmb250LXNpemU6IDA7XFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxuICAtd2Via2l0LXRyYW5zZm9ybTogc2NhbGUoMC45KSB0cmFuc2xhdGUzZCgwLCAwLCAwKTtcXG4gICAgICAgICAgdHJhbnNmb3JtOiBzY2FsZSgwLjkpIHRyYW5zbGF0ZTNkKDAsIDAsIDApO1xcbiAgLXdlYmtpdC10cmFuc2l0aW9uOiAtd2Via2l0LXRyYW5zZm9ybSAuM3MgZWFzZS1pbi1vdXQ7XFxuICB0cmFuc2l0aW9uOiAtd2Via2l0LXRyYW5zZm9ybSAuM3MgZWFzZS1pbi1vdXQ7XFxuICAtby10cmFuc2l0aW9uOiB0cmFuc2Zvcm0gLjNzIGVhc2UtaW4tb3V0O1xcbiAgdHJhbnNpdGlvbjogdHJhbnNmb3JtIC4zcyBlYXNlLWluLW91dDtcXG4gIHRyYW5zaXRpb246IHRyYW5zZm9ybSAuM3MgZWFzZS1pbi1vdXQsIC13ZWJraXQtdHJhbnNmb3JtIC4zcyBlYXNlLWluLW91dDtcXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG59XFxuXFxuLnB1c2h3b29zaC1zdWJzY3JpYmUtd2lkZ2V0IC5wdXNod29vc2gtc3Vic2NyaWJlLXdpZGdldF9fYmVsbC1idXR0b246aG92ZXIge1xcbiAgLXdlYmtpdC10cmFuc2Zvcm06IHNjYWxlKDEpO1xcbiAgICAgIC1tcy10cmFuc2Zvcm06IHNjYWxlKDEpO1xcbiAgICAgICAgICB0cmFuc2Zvcm06IHNjYWxlKDEpO1xcbn1cXG5cXG4vKiBUb29sdGlwICovXFxuLnB1c2h3b29zaC1zdWJzY3JpYmUtd2lkZ2V0X190b29sdGlwIHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIGhlaWdodDogNDhweDtcXG4gIG1heC13aWR0aDogMzAwcHg7XFxuICBtaW4td2lkdGg6IDIwMHB4O1xcbiAgcGFkZGluZzogNXB4IDdweDtcXG4gIGJhY2tncm91bmQtY29sb3I6ICMzYjQ0NGI7XFxuICBjb2xvcjogI2ZmZmZmZjtcXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcXG4gIHZlcnRpY2FsLWFsaWduOiBtaWRkbGU7XFxuICAtd2Via2l0LWJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICAgICAgICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICBsaW5lLWhlaWdodDogMzhweDtcXG4gIGZvbnQtc2l6ZTogMDtcXG4gIGZvbnQtd2VpZ2h0OiBub3JtYWw7XFxuICB2aXNpYmlsaXR5OiBoaWRkZW47XFxuICBvcGFjaXR5OiAwO1xcbiAgLXdlYmtpdC10cmFuc2l0aW9uOiB2aXNpYmlsaXR5IDBzIGVhc2UtaW4gLjNzLFxcbiAgICAgICAgICAgICAgb3BhY2l0eSAuM3MgZWFzZS1pbjtcXG4gIC1vLXRyYW5zaXRpb246IHZpc2liaWxpdHkgMHMgZWFzZS1pbiAuM3MsXFxuICAgICAgICAgICAgICBvcGFjaXR5IC4zcyBlYXNlLWluO1xcbiAgdHJhbnNpdGlvbjogdmlzaWJpbGl0eSAwcyBlYXNlLWluIC4zcyxcXG4gICAgICAgICAgICAgIG9wYWNpdHkgLjNzIGVhc2UtaW47XFxuICB0b3A6IDUwJTtcXG4gIC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGUoMCwgLTUwJSk7XFxuICAgICAgLW1zLXRyYW5zZm9ybTogdHJhbnNsYXRlKDAsIC01MCUpO1xcbiAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZSgwLCAtNTAlKTtcXG4gIC13ZWJraXQtYm94LXNoYWRvdzogMXB4IDFweCA1cHggMCByZ2JhKDAsMCwwLDAuNSk7XFxuICAgICAgICAgIGJveC1zaGFkb3c6IDFweCAxcHggNXB4IDAgcmdiYSgwLDAsMCwwLjUpO1xcbn1cXG5cXG4ucHVzaHdvb3NoLXN1YnNjcmliZS13aWRnZXRfX3Rvb2x0aXBfX3JpZ2h0OmFmdGVyLFxcbi5wdXNod29vc2gtc3Vic2NyaWJlLXdpZGdldF9fdG9vbHRpcF9fbGVmdDphZnRlciB7XFxuICBjb250ZW50OiBcIlwiO1xcbiAgdG9wOiA1MCU7XFxuICBoZWlnaHQ6IDA7XFxuICB3aWR0aDogMDtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIHBvaW50ZXItZXZlbnRzOiBub25lO1xcbiAgYm9yZGVyLXRvcDogNXB4IHNvbGlkIHRyYW5zcGFyZW50O1xcbiAgYm9yZGVyLWJvdHRvbTogNXB4IHNvbGlkIHRyYW5zcGFyZW50O1xcbiAgYmFja2dyb3VuZDogIzNiNDQ0YjtcXG59XFxuXFxuLnB1c2h3b29zaC1zdWJzY3JpYmUtd2lkZ2V0X190b29sdGlwX19yaWdodDphZnRlciB7XFxuICBsZWZ0OiBjYWxjKDEwMCUgLSA3cHgpO1xcbiAgYm9yZGVyLXRvcDogNXB4IHNvbGlkICMzYjQ0NGI7XFxuICBib3JkZXItbGVmdDogNXB4IHNvbGlkICMzYjQ0NGI7XFxuICBib3JkZXItcmlnaHQ6IDVweCBzb2xpZCB0cmFuc3BhcmVudDtcXG4gIC13ZWJraXQtYm94LXNpemluZzogYm9yZGVyLWJveDtcXG4gICAgICAgICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcXG4gIC13ZWJraXQtdHJhbnNmb3JtLW9yaWdpbjogMCAwO1xcbiAgICAgIC1tcy10cmFuc2Zvcm0tb3JpZ2luOiAwIDA7XFxuICAgICAgICAgIHRyYW5zZm9ybS1vcmlnaW46IDAgMDtcXG4gIC13ZWJraXQtdHJhbnNmb3JtOiByb3RhdGUoLTQ1ZGVnKTtcXG4gICAgICAtbXMtdHJhbnNmb3JtOiByb3RhdGUoLTQ1ZGVnKTtcXG4gICAgICAgICAgdHJhbnNmb3JtOiByb3RhdGUoLTQ1ZGVnKTtcXG4gIC13ZWJraXQtYm94LXNoYWRvdzogMnB4IDJweCAycHggMCByZ2JhKDAsIDAsIDAsIDAuMjUpO1xcbiAgICAgICAgICBib3gtc2hhZG93OiAycHggMnB4IDJweCAwIHJnYmEoMCwgMCwgMCwgMC4yNSk7XFxufVxcblxcbi5wdXNod29vc2gtc3Vic2NyaWJlLXdpZGdldF9fdG9vbHRpcF9fbGVmdDphZnRlciB7XFxuICBsZWZ0OiAtN3B4O1xcbiAgYm9yZGVyLXRvcDogNXB4IHNvbGlkICMzYjQ0NGI7XFxuICBib3JkZXItcmlnaHQ6IDVweCBzb2xpZCAjM2I0NDRiO1xcbiAgYm9yZGVyLWxlZnQ6IDVweCBzb2xpZCB0cmFuc3BhcmVudDtcXG4gIC13ZWJraXQtYm94LXNpemluZzogYm9yZGVyLWJveDtcXG4gICAgICAgICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcXG4gIC13ZWJraXQtdHJhbnNmb3JtLW9yaWdpbjogMCAwO1xcbiAgICAgIC1tcy10cmFuc2Zvcm0tb3JpZ2luOiAwIDA7XFxuICAgICAgICAgIHRyYW5zZm9ybS1vcmlnaW46IDAgMDtcXG4gIC13ZWJraXQtdHJhbnNmb3JtOiByb3RhdGUoLTQ1ZGVnKTtcXG4gICAgICAtbXMtdHJhbnNmb3JtOiByb3RhdGUoLTQ1ZGVnKTtcXG4gICAgICAgICAgdHJhbnNmb3JtOiByb3RhdGUoLTQ1ZGVnKTtcXG4gIC13ZWJraXQtYm94LXNoYWRvdzogLTJweCAtMnB4IDJweCAwIHJnYmEoMCwgMCwgMCwgMC4yNSk7XFxuICAgICAgICAgIGJveC1zaGFkb3c6IC0ycHggLTJweCAycHggMCByZ2JhKDAsIDAsIDAsIDAuMjUpO1xcbn1cXG5cXG4ucHVzaHdvb3NoLXN1YnNjcmliZS13aWRnZXRfX2JlbGwtYnV0dG9uOmhvdmVyICsgLnB1c2h3b29zaC1zdWJzY3JpYmUtd2lkZ2V0X190b29sdGlwLFxcbi5wdXNod29vc2gtc3Vic2NyaWJlLXdpZGdldF9fdG9vbHRpcC5wdXNod29vc2gtc3Vic2NyaWJlLXdpZGdldF9fdG9vbHRpcF9fdmlzaWJsZSB7XFxuICBkaXNwbGF5OiBibG9jaztcXG4gIHZpc2liaWxpdHk6IHZpc2libGU7XFxuICBvcGFjaXR5OiAxO1xcbiAgLXdlYmtpdC10cmFuc2l0aW9uLWRlbGF5OiAwcztcXG4gICAgICAgLW8tdHJhbnNpdGlvbi1kZWxheTogMHM7XFxuICAgICAgICAgIHRyYW5zaXRpb24tZGVsYXk6IDBzO1xcbn1cXG5cXG4ucHVzaHdvb3NoLXN1YnNjcmliZS13aWRnZXQgLnB1c2h3b29zaC1zdWJzY3JpYmUtd2lkZ2V0X190b29sdGlwLWNvbnRlbnQge1xcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xcbiAgdmVydGljYWwtYWxpZ246IG1pZGRsZTtcXG4gIGZvbnQtc2l6ZTogMTRweDtcXG4gIGxpbmUtaGVpZ2h0OiAxLjQ7XFxuICB3aGl0ZS1zcGFjZTogbm93cmFwO1xcbiAgb3ZlcmZsb3c6IGhpZGRlbjtcXG4gIHBhZGRpbmctcmlnaHQ6IDVweDtcXG4gIC1vLXRleHQtb3ZlcmZsb3c6IGVsbGlwc2lzO1xcbiAgICAgdGV4dC1vdmVyZmxvdzogZWxsaXBzaXM7XFxuICBtYXgtd2lkdGg6IDEwMCU7XFxufVxcblxcbi8qIFBvcG92ZXIgKi9cXG5cXG4ucHVzaHdvb3NoLXN1YnNjcmliZS13aWRnZXQgLnB1c2h3b29zaC1zdWJzY3JpYmUtd2lkZ2V0X19wb3BvdmVyIHtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIHJpZ2h0OiBhdXRvO1xcbiAgLXdlYmtpdC1ib3gtc2hhZG93OiAxcHggMXB4IDVweCAwIHJnYmEoMCwgMCwgMCwgMC41KTtcXG4gICAgICAgICAgYm94LXNoYWRvdzogMXB4IDFweCA1cHggMCByZ2JhKDAsIDAsIDAsIDAuNSk7XFxuICAtd2Via2l0LWJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICAgICAgICAgIGJveC1zaXppbmc6IGJvcmRlci1ib3g7XFxuICBiYWNrZ3JvdW5kOiAjOWNhOGIxO1xcbiAgdmlzaWJpbGl0eTogaGlkZGVuO1xcbiAgb3BhY2l0eTogMDtcXG4gIC13ZWJraXQtdHJhbnNpdGlvbjogdmlzaWJpbGl0eSAwcyBlYXNlLWluIC41cyxcXG4gICAgICAgICAgICAgIG9wYWNpdHkgLjVzIGVhc2UtaW47XFxuICAtby10cmFuc2l0aW9uOiB2aXNpYmlsaXR5IDBzIGVhc2UtaW4gLjVzLFxcbiAgICAgICAgICAgICAgb3BhY2l0eSAuNXMgZWFzZS1pbjtcXG4gIHRyYW5zaXRpb246IHZpc2liaWxpdHkgMHMgZWFzZS1pbiAuNXMsXFxuICAgICAgICAgICAgICBvcGFjaXR5IC41cyBlYXNlLWluO1xcbn1cXG5cXG4ucHVzaHdvb3NoLXN1YnNjcmliZS13aWRnZXQgLnB1c2h3b29zaC1zdWJzY3JpYmUtd2lkZ2V0X19wb3BvdmVyX192aXNpYmxlIHtcXG4gIGRpc3BsYXk6IGJsb2NrO1xcbiAgdmlzaWJpbGl0eTogdmlzaWJsZTtcXG4gIG9wYWNpdHk6IDE7XFxuICAtd2Via2l0LXRyYW5zaXRpb24tZGVsYXk6IDBzO1xcbiAgICAgICAtby10cmFuc2l0aW9uLWRlbGF5OiAwcztcXG4gICAgICAgICAgdHJhbnNpdGlvbi1kZWxheTogMHM7XFxufVxcblxcbi5wdXNod29vc2gtc3Vic2NyaWJlLXdpZGdldF9fcG9wb3Zlcl9fYm90dG9tOmFmdGVyLFxcbi5wdXNod29vc2gtc3Vic2NyaWJlLXdpZGdldF9fcG9wb3Zlcl9fdG9wOmFmdGVyIHtcXG4gIGNvbnRlbnQ6IFwiXCI7XFxuICBoZWlnaHQ6IDA7XFxuICB3aWR0aDogMDtcXG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcXG4gIHBvaW50ZXItZXZlbnRzOiBub25lO1xcbiAgYm9yZGVyLXJpZ2h0OiA4cHggc29saWQgdHJhbnNwYXJlbnQ7XFxuICBib3JkZXItbGVmdDogOHB4IHNvbGlkICM5Y2E4YjE7XFxuICBiYWNrZ3JvdW5kOiAjOWNhOGIxO1xcbiAgLXdlYmtpdC10cmFuc2Zvcm0tb3JpZ2luOiAwIDA7XFxuICAgICAgLW1zLXRyYW5zZm9ybS1vcmlnaW46IDAgMDtcXG4gICAgICAgICAgdHJhbnNmb3JtLW9yaWdpbjogMCAwO1xcbiAgLXdlYmtpdC10cmFuc2Zvcm06IHJvdGF0ZSgtNDVkZWcpO1xcbiAgICAgIC1tcy10cmFuc2Zvcm06IHJvdGF0ZSgtNDVkZWcpO1xcbiAgICAgICAgICB0cmFuc2Zvcm06IHJvdGF0ZSgtNDVkZWcpO1xcbn1cXG5cXG4ucHVzaHdvb3NoLXN1YnNjcmliZS13aWRnZXRfX3BvcG92ZXJfX2JvdHRvbTphZnRlciB7XFxuICBib3JkZXItYm90dG9tOiA4cHggc29saWQgIzljYThiMTtcXG4gIGJvcmRlci10b3A6IDhweCBzb2xpZCB0cmFuc3BhcmVudDtcXG4gIC13ZWJraXQtYm94LXNpemluZzogYm9yZGVyLWJveDtcXG4gICAgICAgICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcXG4gIC13ZWJraXQtYm94LXNoYWRvdzogLTJweCAycHggMXB4IDAgcmdiYSgwLCAwLCAwLCAwLjI1KTtcXG4gICAgICAgICAgYm94LXNoYWRvdzogLTJweCAycHggMXB4IDAgcmdiYSgwLCAwLCAwLCAwLjI1KTtcXG4gIGJvdHRvbTogLTE2cHg7XFxufVxcblxcbi5wdXNod29vc2gtc3Vic2NyaWJlLXdpZGdldF9fcG9wb3Zlcl9fdG9wOmFmdGVyIHtcXG4gIHRvcDogMDtcXG4gIGJvcmRlci10b3A6IDhweCBzb2xpZCAjOWNhOGIxO1xcbiAgYm9yZGVyLWJvdHRvbTogOHB4IHNvbGlkIHRyYW5zcGFyZW50O1xcbiAgLXdlYmtpdC1ib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbiAgICAgICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbiAgLXdlYmtpdC1ib3gtc2hhZG93OiAxcHggLTFweCAxcHggMCByZ2JhKDAsIDAsIDAsIDAuMjUpO1xcbiAgICAgICAgICBib3gtc2hhZG93OiAxcHggLTFweCAxcHggMCByZ2JhKDAsIDAsIDAsIDAuMjUpO1xcbn1cXG5cXG4ucHVzaHdvb3NoLXN1YnNjcmliZS13aWRnZXRfX3BvcG92ZXItY29udGVudC13cmFwcGVyIHtcXG4gIG92ZXJmbG93OiBhdXRvO1xcbiAgbWF4LXdpZHRoOiAxMDAlO1xcbn1cXG5cXG5cXG4ucHVzaHdvb3NoLXN1YnNjcmliZS13aWRnZXQgLnB1c2h3b29zaC1zdWJzY3JpYmUtd2lkZ2V0X19wb3BvdmVyLWNvbnRlbnQge1xcbiAgZGlzcGxheTogLXdlYmtpdC1ib3g7XFxuICBkaXNwbGF5OiAtbXMtZmxleGJveDtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICAtd2Via2l0LWJveC1vcmllbnQ6IHZlcnRpY2FsO1xcbiAgLXdlYmtpdC1ib3gtZGlyZWN0aW9uOiBub3JtYWw7XFxuICAgICAgLW1zLWZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XFxuICAgICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XFxuICBwYWRkaW5nOiAxNHB4O1xcbiAgLXdlYmtpdC1ib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbiAgICAgICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbiAgZmxvYXQ6IGxlZnQ7XFxuICBtaW4td2lkdGg6IDEwMCU7XFxuICAtd2Via2l0LWJveC1hbGlnbjogY2VudGVyO1xcbiAgICAgIC1tcy1mbGV4LWFsaWduOiBjZW50ZXI7XFxuICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxufVxcblxcbi5wdXNod29vc2gtc3Vic2NyaWJlLXdpZGdldCAucHVzaHdvb3NoLXN1YnNjcmliZS13aWRnZXRfX3BvcG92ZXIgaW1nIHtcXG4gIGRpc3BsYXk6IGJsb2NrO1xcbn1cXG5cXG4ucHVzaHdvb3NoLXN1YnNjcmliZS13aWRnZXQgLnB1c2h3b29zaC1zdWJzY3JpYmUtd2lkZ2V0X19wb3BvdmVyIGltZzpmaXJzdC1jaGlsZCB7XFxuICBtYXJnaW4tYm90dG9tOiAxNHB4O1xcbn1cXG5cXG5AbWVkaWEgKG1heC13aWR0aDogNzY3cHgpIGFuZCAob3JpZW50YXRpb246IHBvcnRyYWl0KSB7XFxuICAucHVzaHdvb3NoLXN1YnNjcmliZS13aWRnZXQgLnB1c2h3b29zaC1zdWJzY3JpYmUtd2lkZ2V0X19wb3BvdmVyLWNvbnRlbnQge1xcbiAgICAtd2Via2l0LWJveC1vcmllbnQ6IHZlcnRpY2FsO1xcbiAgICAtd2Via2l0LWJveC1kaXJlY3Rpb246IG5vcm1hbDtcXG4gICAgICAgIC1tcy1mbGV4LWRpcmVjdGlvbjogY29sdW1uO1xcbiAgICAgICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XFxuICB9XFxuICAucHVzaHdvb3NoLXN1YnNjcmliZS13aWRnZXQgLnB1c2h3b29zaC1zdWJzY3JpYmUtd2lkZ2V0X19wb3BvdmVyIGltZyB7XFxuICAgIG1heC13aWR0aDogMjgwcHg7XFxuICAgIGhlaWdodDogYXV0bztcXG4gIH1cXG4gIC5wdXNod29vc2gtc3Vic2NyaWJlLXdpZGdldCAucHVzaHdvb3NoLXN1YnNjcmliZS13aWRnZXRfX3BvcG92ZXIgaW1nOmZpcnN0LWNoaWxkIHtcXG4gICAgbWFyZ2luLXJpZ2h0OiAwO1xcbiAgICBtYXJnaW4tYm90dG9tOiAxNHB4O1xcbiAgfVxcbn1cXG5AbWVkaWEgKG1heC13aWR0aDogNzY3cHgpIGFuZCAob3JpZW50YXRpb246IGxhbmRzY2FwZSkge1xcbiAgLnB1c2h3b29zaC1zdWJzY3JpYmUtd2lkZ2V0IC5wdXNod29vc2gtc3Vic2NyaWJlLXdpZGdldF9fcG9wb3Zlci1jb250ZW50IHtcXG4gICAgLXdlYmtpdC1ib3gtb3JpZW50OiBob3Jpem9udGFsO1xcbiAgICAtd2Via2l0LWJveC1kaXJlY3Rpb246IG5vcm1hbDtcXG4gICAgICAgIC1tcy1mbGV4LWRpcmVjdGlvbjogcm93O1xcbiAgICAgICAgICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7XFxuICB9XFxuICAucHVzaHdvb3NoLXN1YnNjcmliZS13aWRnZXQgLnB1c2h3b29zaC1zdWJzY3JpYmUtd2lkZ2V0X19wb3BvdmVyIGltZyB7XFxuICAgIG1heC13aWR0aDogMjgwcHg7XFxuICAgIGhlaWdodDogYXV0bztcXG4gIH1cXG4gIC5wdXNod29vc2gtc3Vic2NyaWJlLXdpZGdldCAucHVzaHdvb3NoLXN1YnNjcmliZS13aWRnZXRfX3BvcG92ZXIgaW1nOmZpcnN0LWNoaWxkIHtcXG4gICAgbWFyZ2luLXJpZ2h0OiAxNHB4O1xcbiAgICBtYXJnaW4tYm90dG9tOiAwO1xcbiAgfVxcbn1cXG4nLFwiXCJdKX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMpe21vZHVsZS5leHBvcnRzPWZ1bmN0aW9uKHVzZVNvdXJjZU1hcCl7dmFyIGxpc3Q9W107cmV0dXJuIGxpc3QudG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tYXAoZnVuY3Rpb24oaXRlbSl7dmFyIGNvbnRlbnQ9ZnVuY3Rpb24oaXRlbSx1c2VTb3VyY2VNYXApe3ZhciBjb250ZW50PWl0ZW1bMV18fFwiXCIsY3NzTWFwcGluZz1pdGVtWzNdO2lmKCFjc3NNYXBwaW5nKXJldHVybiBjb250ZW50O2lmKHVzZVNvdXJjZU1hcCYmXCJmdW5jdGlvblwiPT10eXBlb2YgYnRvYSl7dmFyIHNvdXJjZU1hcHBpbmc9ZnVuY3Rpb24oc291cmNlTWFwKXtyZXR1cm5cIi8qIyBzb3VyY2VNYXBwaW5nVVJMPWRhdGE6YXBwbGljYXRpb24vanNvbjtjaGFyc2V0PXV0Zi04O2Jhc2U2NCxcIitidG9hKHVuZXNjYXBlKGVuY29kZVVSSUNvbXBvbmVudChKU09OLnN0cmluZ2lmeShzb3VyY2VNYXApKSkpK1wiICovXCJ9KGNzc01hcHBpbmcpLHNvdXJjZVVSTHM9Y3NzTWFwcGluZy5zb3VyY2VzLm1hcChmdW5jdGlvbihzb3VyY2Upe3JldHVyblwiLyojIHNvdXJjZVVSTD1cIitjc3NNYXBwaW5nLnNvdXJjZVJvb3Qrc291cmNlK1wiICovXCJ9KTtyZXR1cm5bY29udGVudF0uY29uY2F0KHNvdXJjZVVSTHMpLmNvbmNhdChbc291cmNlTWFwcGluZ10pLmpvaW4oXCJcXG5cIil9cmV0dXJuW2NvbnRlbnRdLmpvaW4oXCJcXG5cIil9KGl0ZW0sdXNlU291cmNlTWFwKTtyZXR1cm4gaXRlbVsyXT9cIkBtZWRpYSBcIitpdGVtWzJdK1wie1wiK2NvbnRlbnQrXCJ9XCI6Y29udGVudH0pLmpvaW4oXCJcIil9LGxpc3QuaT1mdW5jdGlvbihtb2R1bGVzLG1lZGlhUXVlcnkpe1wic3RyaW5nXCI9PXR5cGVvZiBtb2R1bGVzJiYobW9kdWxlcz1bW251bGwsbW9kdWxlcyxcIlwiXV0pO2Zvcih2YXIgYWxyZWFkeUltcG9ydGVkTW9kdWxlcz17fSxpPTA7aTx0aGlzLmxlbmd0aDtpKyspe3ZhciBpZD10aGlzW2ldWzBdO1wibnVtYmVyXCI9PXR5cGVvZiBpZCYmKGFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaWRdPSEwKX1mb3IoaT0wO2k8bW9kdWxlcy5sZW5ndGg7aSsrKXt2YXIgaXRlbT1tb2R1bGVzW2ldO1wibnVtYmVyXCI9PXR5cGVvZiBpdGVtWzBdJiZhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2l0ZW1bMF1dfHwobWVkaWFRdWVyeSYmIWl0ZW1bMl0/aXRlbVsyXT1tZWRpYVF1ZXJ5Om1lZGlhUXVlcnkmJihpdGVtWzJdPVwiKFwiK2l0ZW1bMl0rXCIpIGFuZCAoXCIrbWVkaWFRdWVyeStcIilcIiksbGlzdC5wdXNoKGl0ZW0pKX19LGxpc3R9fSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgcHdJbmJveFdpZGdldD1fX3dlYnBhY2tfcmVxdWlyZV9fKDE1Nik7ZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcInB1c2h3b29zaC5pbml0aWFsaXplZFwiLGZ1bmN0aW9uKGV2KXtldi5kZXRhaWwucHcucHdpbmJveCYmZXYuZGV0YWlsLnB3LmluYm94V2lkZ2V0Q29uZmlnLmVuYWJsZSYmKGV2LmRldGFpbC5wdy5wd2luYm94V2lkZ2V0PW5ldyBwd0luYm94V2lkZ2V0LlBXSW5ib3hXaWRnZXQoZXYuZGV0YWlsLnB3KSl9KX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7bW9kdWxlLmV4cG9ydHM9ZnVuY3Rpb24obW9kdWxlcyl7dmFyIGluc3RhbGxlZE1vZHVsZXM9e307ZnVuY3Rpb24gX193ZWJwYWNrX3JlcXVpcmVfXyhtb2R1bGVJZCl7aWYoaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0pcmV0dXJuIGluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdLmV4cG9ydHM7dmFyIG1vZHVsZT1pbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXT17aTptb2R1bGVJZCxsOiExLGV4cG9ydHM6e319O3JldHVybiBtb2R1bGVzW21vZHVsZUlkXS5jYWxsKG1vZHVsZS5leHBvcnRzLG1vZHVsZSxtb2R1bGUuZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKSxtb2R1bGUubD0hMCxtb2R1bGUuZXhwb3J0c31yZXR1cm4gX193ZWJwYWNrX3JlcXVpcmVfXy5tPW1vZHVsZXMsX193ZWJwYWNrX3JlcXVpcmVfXy5jPWluc3RhbGxlZE1vZHVsZXMsX193ZWJwYWNrX3JlcXVpcmVfXy5kPWZ1bmN0aW9uKGV4cG9ydHMsbmFtZSxnZXR0ZXIpe19fd2VicGFja19yZXF1aXJlX18ubyhleHBvcnRzLG5hbWUpfHxPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxuYW1lLHtjb25maWd1cmFibGU6ITEsZW51bWVyYWJsZTohMCxnZXQ6Z2V0dGVyfSl9LF9fd2VicGFja19yZXF1aXJlX18ucj1mdW5jdGlvbihleHBvcnRzKXtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KX0sX193ZWJwYWNrX3JlcXVpcmVfXy5uPWZ1bmN0aW9uKG1vZHVsZSl7dmFyIGdldHRlcj1tb2R1bGUmJm1vZHVsZS5fX2VzTW9kdWxlP2Z1bmN0aW9uKCl7cmV0dXJuIG1vZHVsZS5kZWZhdWx0fTpmdW5jdGlvbigpe3JldHVybiBtb2R1bGV9O3JldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fLmQoZ2V0dGVyLFwiYVwiLGdldHRlciksZ2V0dGVyfSxfX3dlYnBhY2tfcmVxdWlyZV9fLm89ZnVuY3Rpb24ob2JqZWN0LHByb3BlcnR5KXtyZXR1cm4gT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKG9iamVjdCxwcm9wZXJ0eSl9LF9fd2VicGFja19yZXF1aXJlX18ucD1cIlwiLF9fd2VicGFja19yZXF1aXJlX18oX193ZWJwYWNrX3JlcXVpcmVfXy5zPTIpfShbZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGNvbnN0YW50c18xPV9fd2VicGFja19yZXF1aXJlX18oMSk7ZXhwb3J0cy5pc0VsZW1lbnRGaXhlZD1mdW5jdGlvbiBpc0VsZW1lbnRGaXhlZChlbGVtZW50KXt2YXIgaXNGaXhlZD1cImZpeGVkXCI9PT13aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZShlbGVtZW50KS5wb3NpdGlvbjtyZXR1cm4haXNGaXhlZCYmZWxlbWVudC5wYXJlbnRFbGVtZW50JiYoaXNGaXhlZD1pc0VsZW1lbnRGaXhlZChlbGVtZW50LnBhcmVudEVsZW1lbnQpKSxpc0ZpeGVkfSxleHBvcnRzLmdldEdsb2JhbD1mdW5jdGlvbigpe3JldHVybiBGdW5jdGlvbihcInJldHVybiB0aGlzXCIpKCl9LGV4cG9ydHMuZ2V0TWVzc2FnZVRpbWU9ZnVuY3Rpb24oZGF0ZSl7dmFyIGxvY2FsRGF0ZT1uZXcgRGF0ZShkYXRlKSxsb2NhbFRpbWU9bG9jYWxEYXRlLmdldEhvdXJzKCkrbG9jYWxEYXRlLmdldFRpbWV6b25lT2Zmc2V0KCkvNjA7bG9jYWxEYXRlLnNldEhvdXJzKGxvY2FsVGltZSk7dmFyIGdhcD0obmV3IERhdGUpLmdldFRpbWUoKS1sb2NhbERhdGUuZ2V0VGltZSgpO3JldHVybiBnYXA8PTZlND9cIkp1c3Qgbm93XCI6Z2FwPGNvbnN0YW50c18xLk1JTExJU0VDT05EU19JTl9IT1VSJiZnYXA+MD9NYXRoLmZsb29yKGdhcC82ZTQpK1wiIG1pbnV0ZXMgYWdvXCI6Z2FwPGNvbnN0YW50c18xLk1JTExJU0VDT05EU19JTl9EQVkmJmdhcD4wP01hdGguZmxvb3IoZ2FwLzM2ZTUpK1wiIGhvdXJzIGFnb1wiOmxvY2FsRGF0ZS5nZXREYXRlKCkrXCIgXCIrY29uc3RhbnRzXzEuTU9OVEhTW2xvY2FsRGF0ZS5nZXRNb250aCgpXStcIiBcIitsb2NhbERhdGUuZ2V0RnVsbFllYXIoKStcIiwgXCIrbG9jYWxEYXRlLmdldEhvdXJzKCkrXCI6XCIrKFwiMFwiK2xvY2FsRGF0ZS5nZXRNaW51dGVzKCkudG9TdHJpbmcoKSkuc2xpY2UoLTIpfSxleHBvcnRzLmdldFZhbGlkQ29sb3I9ZnVuY3Rpb24oY29sb3Ipe3JldHVyblwidHJhbnNwYXJlbnRcIj09PWNvbG9yP2NvbG9yOmNvbnN0YW50c18xLkNPTE9SX1RFU1RfUkVHRVhQLnRlc3QoY29sb3IpP2NvbG9yOlwiIzMzM1wifX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZXhwb3J0cy5NSUxMSVNFQ09ORFNfSU5fREFZPTg2NGU1LGV4cG9ydHMuTUlMTElTRUNPTkRTX0lOX0hPVVI9MzZlNSxleHBvcnRzLk1PTlRIUz1bXCJKYW5cIixcIkZlYlwiLFwiTWFyXCIsXCJBcHJcIixcIk1heVwiLFwiSnVuZVwiLFwiSnVseVwiLFwiQXVnXCIsXCJTZXB0XCIsXCJPY3RcIixcIk5vdlwiLFwiRGVjXCJdLGV4cG9ydHMuQ09ORklHX1NUWUxFUz1be25hbWU6XCJ3aWRnZXRXaWR0aFwiLHR5cGU6XCJzaXplXCJ9LHtuYW1lOlwiYm9yZGVyUmFkaXVzXCIsdHlwZTpcInNpemVcIn0se25hbWU6XCJ6SW5kZXhcIix0eXBlOlwibnVtYmVyXCJ9LHtuYW1lOlwiZm9udEZhbWlseVwiLHR5cGU6XCJzdHJpbmdcIn0se25hbWU6XCJiZ0NvbG9yXCIsdHlwZTpcImNvbG9yXCJ9LHtuYW1lOlwidGV4dENvbG9yXCIsdHlwZTpcImNvbG9yXCJ9LHtuYW1lOlwiYXJyb3dCb3JkZXJDb2xvclwiLHR5cGU6XCJjb2xvclwifSx7bmFtZTpcImJvcmRlckNvbG9yXCIsdHlwZTpcImNvbG9yXCJ9LHtuYW1lOlwiYmFkZ2VCZ0NvbG9yXCIsdHlwZTpcImNvbG9yXCJ9LHtuYW1lOlwiYmFkZ2VUZXh0Q29sb3JcIix0eXBlOlwiY29sb3JcIn0se25hbWU6XCJ0aW1lVGV4dENvbG9yXCIsdHlwZTpcImNvbG9yXCJ9LHtuYW1lOlwibWVzc2FnZVRpdGxlQ29sb3JcIix0eXBlOlwiY29sb3JcIn0se25hbWU6XCJlbXB0eUluYm94VGl0bGVDb2xvclwiLHR5cGU6XCJjb2xvclwifSx7bmFtZTpcImVtcHR5SW5ib3hUZXh0Q29sb3JcIix0eXBlOlwiY29sb3JcIn1dLGV4cG9ydHMuREVGQVVMVF9DT05GSUc9e2VuYWJsZTohMSx0cmlnZ2VySWQ6XCJwd0luYm94XCIscG9zaXRpb246XCJib3R0b21cIixhcHBlbmRUbzpcImJvZHlcIix0aXRsZTpcIkluYm94XCIsYmdDb2xvcjpcIiNmZmZmZmZcIix0ZXh0Q29sb3I6XCIjMzMzMzMzXCIsZm9udEZhbWlseTpcImluaGVyaXRcIixib3JkZXJSYWRpdXM6NCxib3JkZXJDb2xvcjpcInRyYW5zcGFyZW50XCIsYmFkZ2VCZ0NvbG9yOlwiI2ZmNGMwMFwiLGJhZGdlVGV4dENvbG9yOlwiI2ZmZmZmZlwiLHdpZGdldFdpZHRoOjM1MCx6SW5kZXg6MTAwLG1lc3NhZ2VUaXRsZUNvbG9yOlwiIzdhN2E3YVwiLHRpbWVUZXh0Q29sb3I6XCIjYzRjNGM0XCIsZW1wdHlJbmJveFRpdGxlOlwiWW91J3JlIGFsbCBjYXVnaHQgdXBcIixlbXB0eUluYm94VGl0bGVDb2xvcjpcIiMzMzMzMzNcIixlbXB0eUluYm94VGV4dDpcIlRoZXJlIGFyZSBubyBuZXcgbWVzc2FnZXMuIFN0YXkgdHVuZWQhXCIsZW1wdHlJbmJveFRleHRDb2xvcjpcIiM3YTdhN2FcIixlbXB0eUluYm94SWNvblVybDpcImh0dHBzOi8vcHVzaG9uLnB1c2h3b29zaC5jb20vaW1hZ2VzL2ljb24tZW1wdHktaW5ib3gucG5nXCIsYXJyb3dCb3JkZXJDb2xvcjpcInJnYmEoMCwwLDAsLjEpXCJ9LGV4cG9ydHMuQ09MT1JfVEVTVF9SRUdFWFA9L14oIyhbXFxkYS1mXXszfSl7MSwyfSR8KHJnYnxoc2wpYVxcKChcXGR7MSwzfSU/LFxccz8pezN9KDF8MD9cXC5cXGQrKVxcKSR8KHJnYnxoc2wpXFwoXFxkezEsM30lPygsXFxzP1xcZHsxLDN9JT8pezJ9XFwpJCkvfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgSW5ib3hXaWRnZXRfMT1fX3dlYnBhY2tfcmVxdWlyZV9fKDMpO2V4cG9ydHMuUFdJbmJveFdpZGdldD1JbmJveFdpZGdldF8xLmRlZmF1bHR9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pe1widXNlIHN0cmljdFwiO3ZhciBfX2Fzc2lnbj10aGlzJiZ0aGlzLl9fYXNzaWdufHxPYmplY3QuYXNzaWdufHxmdW5jdGlvbih0KXtmb3IodmFyIHMsaT0xLG49YXJndW1lbnRzLmxlbmd0aDtpPG47aSsrKWZvcih2YXIgcCBpbiBzPWFyZ3VtZW50c1tpXSlPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwocyxwKSYmKHRbcF09c1twXSk7cmV0dXJuIHR9O09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pO3ZhciB3aWRnZXRUZW1wbGF0ZXNfMT1fX3dlYnBhY2tfcmVxdWlyZV9fKDQpLGNvbnN0YW50c18xPV9fd2VicGFja19yZXF1aXJlX18oMSksaGVscGVyc18xPV9fd2VicGFja19yZXF1aXJlX18oMCksSW5ib3hXaWRnZXQ9ZnVuY3Rpb24oKXtmdW5jdGlvbiBJbmJveFdpZGdldChwdyl7dGhpcy5wdz1wdyx0aGlzLmNvbmZpZz1fX2Fzc2lnbih7fSxjb25zdGFudHNfMS5ERUZBVUxUX0NPTkZJRyx7YXJyb3dCb3JkZXJDb2xvcjp0aGlzLnB3LmluYm94V2lkZ2V0Q29uZmlnLmJvcmRlckNvbG9yJiZcInRyYW5zcGFyZW50XCIhPT10aGlzLnB3LmluYm94V2lkZ2V0Q29uZmlnLmJvcmRlckNvbG9yP3RoaXMucHcuaW5ib3hXaWRnZXRDb25maWcuYm9yZGVyQ29sb3I6XCJyZ2JhKDAsMCwwLC4xKVwifSx0aGlzLnB3LmluYm94V2lkZ2V0Q29uZmlnKSx0aGlzLnVwZGF0ZUluYm94PXRoaXMudXBkYXRlSW5ib3guYmluZCh0aGlzKSx0aGlzLm1hcmtWaXNpYmxlSXRlbXNBc1JlYWQ9dGhpcy5tYXJrVmlzaWJsZUl0ZW1zQXNSZWFkLmJpbmQodGhpcyksdGhpcy5vbldpZGdldENsaWNrSGFuZGxlcj10aGlzLm9uV2lkZ2V0Q2xpY2tIYW5kbGVyLmJpbmQodGhpcyksdGhpcy5vblRyaWdnZXJDbGlja0hhbmRsZXI9dGhpcy5vblRyaWdnZXJDbGlja0hhbmRsZXIuYmluZCh0aGlzKSx0aGlzLm9uV2luZG93U2Nyb2xsSGFuZGxlcj10aGlzLm9uV2luZG93U2Nyb2xsSGFuZGxlci5iaW5kKHRoaXMpLHRoaXMudG9nZ2xlPXRoaXMudG9nZ2xlLmJpbmQodGhpcyk7dHJ5e3RoaXMuaW5pdFRyaWdnZXIoKSx0aGlzLnVwZGF0ZUluYm94KCksdGhpcy5hZGRMaXN0ZW5lcnMoKX1jYXRjaChlcnIpe2NvbnNvbGUud2FybihlcnIpfX1yZXR1cm4gSW5ib3hXaWRnZXQucHJvdG90eXBlLnRvZ2dsZT1mdW5jdGlvbihpc09wZW5lZCl7KHZvaWQgMD09PWlzT3BlbmVkPyF0aGlzLmlzT3BlbmVkOmlzT3BlbmVkKT90aGlzLm9wZW5XaWRnZXQoKTp0aGlzLmNsb3NlV2lkZ2V0KCl9LEluYm94V2lkZ2V0LnByb3RvdHlwZS5pbml0VHJpZ2dlcj1mdW5jdGlvbigpe2lmKCF0aGlzLnB3LnB3aW5ib3gpdGhyb3cgbmV3IEVycm9yKFwiV2ViIGluYm94IGlzIG5vdCBhbGxvd2VkLlwiKTt2YXIgdHJpZ2dlcj1kb2N1bWVudC5nZXRFbGVtZW50QnlJZCh0aGlzLmNvbmZpZy50cmlnZ2VySWQpO2lmKCF0cmlnZ2VyKXRocm93IG5ldyBFcnJvcihcIkluYm94IHRyaWdnZXIgZWxlbWVudCBkb2Vzbid0IGV4aXN0LiBZb3UgbXVzdCBzZXQgdHJpZ2dlcklkIGluIGluYm94V2lkZ2V0IGNvbmZpZy4gU2VlIHRoZSBkb2N1bWVudGF0aW9uLlwiKTt0aGlzLnRyaWdnZXI9dHJpZ2dlcix0aGlzLnRyaWdnZXIuY2xhc3NMaXN0LmFkZChcInB3LWluYm94LXRyaWdnZXJcIiksdGhpcy5kZWZhdWx0TWFyZ2luPTEyLHRoaXMubWVzc2FnZXNFbGVtZW50cz17fSx0aGlzLm1lc3NhZ2VzPVtdLHRoaXMucmVhZEl0ZW1zPVtdLHRoaXMudXBkYXRlQ291bnRlcigwKSx0aGlzLmlzT3BlbmVkPSExLHRoaXMucmVuZGVyV2lkZ2V0KCksdGhpcy5pc0ZpeGVkPWhlbHBlcnNfMS5pc0VsZW1lbnRGaXhlZCh0aGlzLnRyaWdnZXIpfSxJbmJveFdpZGdldC5wcm90b3R5cGUucmVuZGVyV2lkZ2V0PWZ1bmN0aW9uKCl7dGhpcy53aWRnZXQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKSx0aGlzLndpZGdldC5pZD1cInB3SW5ib3hXaWRnZXRcIix0aGlzLndpZGdldC5jbGFzc05hbWU9XCJwdy1pbmJveC13aWRnZXRcIix0aGlzLndpZGdldC5jbGFzc0xpc3QudG9nZ2xlKFwicHctb3BlblwiLHRoaXMuaXNPcGVuZWQpLHRoaXMud2lkZ2V0UGFyZW50PWRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5jb25maWcuYXBwZW5kVG8pfHxkb2N1bWVudC5ib2R5LHRoaXMud2lkZ2V0UGFyZW50LmFwcGVuZENoaWxkKHRoaXMud2lkZ2V0KSx0aGlzLndpZGdldFBhcmVudC5hcHBlbmRDaGlsZCh0aGlzLmdldFN0eWxlKCkpLHRoaXMucmVuZGVyV2lkZ2V0SW5uZXIoKX0sSW5ib3hXaWRnZXQucHJvdG90eXBlLmdldFN0eWxlPWZ1bmN0aW9uKCl7dmFyIHN0eWxlcz1fX3dlYnBhY2tfcmVxdWlyZV9fKDUpLHN0eWxlTm9kZT1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwic3R5bGVcIik7cmV0dXJuIHN0eWxlTm9kZS5pbm5lckhUTUw9dGhpcy5jb25maWd1cmVTdHlsZShzdHlsZXMpLHN0eWxlTm9kZX0sSW5ib3hXaWRnZXQucHJvdG90eXBlLmNvbmZpZ3VyZVN0eWxlPWZ1bmN0aW9uKHN0eWxlcyl7dmFyIF90aGlzPXRoaXMscmVzdWx0U3R5bGVzPXN0eWxlcy50b1N0cmluZygpO3JldHVybiBjb25zdGFudHNfMS5DT05GSUdfU1RZTEVTLmZvckVhY2goZnVuY3Rpb24oc3R5bGUpe3ZhciB0ZW1wbGF0ZT1uZXcgUmVnRXhwKFwidmFyXFxcXCgtLVwiK3N0eWxlLm5hbWUrXCJcXFxcKVwiLFwiaWdcIikscmVzdWx0PV90aGlzLmdldFN0eWxlRm9ybWF0dGVyKHN0eWxlKTtyZXN1bHRTdHlsZXM9cmVzdWx0U3R5bGVzLnJlcGxhY2UodGVtcGxhdGUscmVzdWx0KX0pLHJlc3VsdFN0eWxlc30sSW5ib3hXaWRnZXQucHJvdG90eXBlLmdldFN0eWxlRm9ybWF0dGVyPWZ1bmN0aW9uKHN0eWxlKXtzd2l0Y2goc3R5bGUudHlwZSl7Y2FzZVwic2l6ZVwiOnJldHVybih0aGlzLmNvbmZpZ1tzdHlsZS5uYW1lXXx8MCkrXCJweFwiO2Nhc2VcIm51bWJlclwiOnJldHVybiBwYXJzZUZsb2F0KHRoaXMuY29uZmlnW3N0eWxlLm5hbWVdLnRvU3RyaW5nKCkpLnRvU3RyaW5nKCk7Y2FzZVwic3RyaW5nXCI6cmV0dXJuIHRoaXMuY29uZmlnW3N0eWxlLm5hbWVdLnRvU3RyaW5nKCk7Y2FzZVwiY29sb3JcIjpyZXR1cm4gaGVscGVyc18xLmdldFZhbGlkQ29sb3IodGhpcy5jb25maWdbc3R5bGUubmFtZV0udG9TdHJpbmcoKSk7ZGVmYXVsdDpyZXR1cm5cIm5vbmVcIn19LEluYm94V2lkZ2V0LnByb3RvdHlwZS5yZW5kZXJXaWRnZXRJbm5lcj1mdW5jdGlvbigpe2lmKHRoaXMubWVzc2FnZXMubGVuZ3RoPjApdGhpcy53aWRnZXQuY2xhc3NMaXN0LnJlbW92ZShcInB3LWluYm94LXdpZGdldC0tZW1wdHlcIiksdGhpcy53aWRnZXQuaW5uZXJIVE1MPXdpZGdldFRlbXBsYXRlc18xLndpZGdldFRlbXBsYXRlKHRoaXMuY29uZmlnLnRpdGxlKSx0aGlzLnJlbmRlck1lc3NhZ2VzKCk7ZWxzZXt0aGlzLndpZGdldC5jbGFzc0xpc3QuYWRkKFwicHctaW5ib3gtd2lkZ2V0LS1lbXB0eVwiKTt2YXIgX2E9dGhpcy5jb25maWcsZW1wdHlJbmJveFRpdGxlPV9hLmVtcHR5SW5ib3hUaXRsZSxlbXB0eUluYm94VGV4dD1fYS5lbXB0eUluYm94VGV4dCxlbXB0eUluYm94SWNvblVybD1fYS5lbXB0eUluYm94SWNvblVybDt0aGlzLndpZGdldC5pbm5lckhUTUw9d2lkZ2V0VGVtcGxhdGVzXzEud2lkZ2V0VGVtcGxhdGVFbXB0eShlbXB0eUluYm94SWNvblVybCxlbXB0eUluYm94VGl0bGUsZW1wdHlJbmJveFRleHQpfX0sSW5ib3hXaWRnZXQucHJvdG90eXBlLnJlbmRlck1lc3NhZ2VzPWZ1bmN0aW9uKCl7dmFyIF90aGlzPXRoaXM7dGhpcy5saXN0PXRoaXMud2lkZ2V0LnF1ZXJ5U2VsZWN0b3IoXCIucHctaW5ib3hfbGlzdFwiKXx8ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcInVsXCIpLHRoaXMubWVzc2FnZXMuZm9yRWFjaChmdW5jdGlvbihtZXNzYWdlKXt2YXIgbWVzc2FnZUVsZW1lbnQ9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImxpXCIpO21lc3NhZ2VFbGVtZW50LmNsYXNzTmFtZT1cInB3LWluYm94X2l0ZW1cIixtZXNzYWdlRWxlbWVudC5jbGFzc0xpc3QudG9nZ2xlKFwicHctbmV3XCIsIW1lc3NhZ2UuaXNSZWFkKSxtZXNzYWdlRWxlbWVudC5jbGFzc0xpc3QudG9nZ2xlKFwicHctdW5yZWFkXCIsIW1lc3NhZ2UuaXNBY3Rpb25QZXJmb3JtZWQpLG1lc3NhZ2VFbGVtZW50LnNldEF0dHJpYnV0ZShcImRhdGEtcHctaW5ib3gtbWVzc2FnZS1pZFwiLG1lc3NhZ2UuY29kZSksbWVzc2FnZUVsZW1lbnQuaW5uZXJIVE1MPXdpZGdldFRlbXBsYXRlc18xLm1lc3NhZ2VUZW1wbGF0ZShtZXNzYWdlKSxfdGhpcy5saXN0LmFwcGVuZENoaWxkKG1lc3NhZ2VFbGVtZW50KSxfdGhpcy5tZXNzYWdlc0VsZW1lbnRzW21lc3NhZ2UuY29kZV09bWVzc2FnZUVsZW1lbnR9KX0sSW5ib3hXaWRnZXQucHJvdG90eXBlLnVwZGF0ZUNvdW50ZXI9ZnVuY3Rpb24oY291bnQpe3RoaXMuY291bnQ9Y291bnQsdGhpcy50cmlnZ2VyLnNldEF0dHJpYnV0ZShcImRhdGEtcHctY291bnRcIixcIlwiK3RoaXMuY291bnQpLHRoaXMudHJpZ2dlci5jbGFzc0xpc3QudG9nZ2xlKFwicHctZW1wdHlcIiwwPT09dGhpcy5jb3VudCl9LEluYm94V2lkZ2V0LnByb3RvdHlwZS51cGRhdGVJbmJveE1lc3NhZ2VzPWZ1bmN0aW9uKG1lc3NhZ2VzKXt0aGlzLm1lc3NhZ2VzPW1lc3NhZ2VzLHRoaXMucmVuZGVyV2lkZ2V0SW5uZXIoKX0sSW5ib3hXaWRnZXQucHJvdG90eXBlLm9wZW5XaWRnZXQ9ZnVuY3Rpb24oKXt0aGlzLmlzT3BlbmVkPSEwLHRoaXMud2lkZ2V0LmNsYXNzTGlzdC5hZGQoXCJwdy1vcGVuXCIpLGRvY3VtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLHRoaXMub25XaWRnZXRDbGlja0hhbmRsZXIpLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsdGhpcy5vbldpbmRvd1Njcm9sbEhhbmRsZXIpLHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKFwicmVzaXplXCIsdGhpcy5vbldpbmRvd1Njcm9sbEhhbmRsZXIpLHRoaXMubWFya1Zpc2libGVJdGVtc0FzUmVhZCgpLHRoaXMubWVzc2FnZXMubGVuZ3RoPjAmJnRoaXMubGlzdC5hZGRFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsdGhpcy5tYXJrVmlzaWJsZUl0ZW1zQXNSZWFkKSx0aGlzLnBvc2l0aW9uV2lkZ2V0KCl9LEluYm94V2lkZ2V0LnByb3RvdHlwZS5jbG9zZVdpZGdldD1mdW5jdGlvbigpe3RoaXMuaXNPcGVuZWQ9ITEsZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsdGhpcy5vbldpZGdldENsaWNrSGFuZGxlciksZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsdGhpcy5vbldpbmRvd1Njcm9sbEhhbmRsZXIpLHdpbmRvdy5yZW1vdmVFdmVudExpc3RlbmVyKFwicmVzaXplXCIsdGhpcy5vbldpbmRvd1Njcm9sbEhhbmRsZXIpLHRoaXMudXBkYXRlUmVhZFN0YXR1cygpLHRoaXMubWVzc2FnZXMubGVuZ3RoPjAmJnRoaXMubGlzdC5yZW1vdmVFdmVudExpc3RlbmVyKFwic2Nyb2xsXCIsdGhpcy5tYXJrVmlzaWJsZUl0ZW1zQXNSZWFkKSx0aGlzLndpZGdldC5jbGFzc0xpc3QucmVtb3ZlKFwicHctb3BlblwiLFwicHctdG9wXCIsXCJwdy1ib3R0b21cIixcInB3LXJpZ2h0XCIsXCJwdy1sZWZ0XCIpLHRoaXMud2lkZ2V0LnJlbW92ZUF0dHJpYnV0ZShcInN0eWxlXCIpfSxJbmJveFdpZGdldC5wcm90b3R5cGUucG9zaXRpb25XaWRnZXQ9ZnVuY3Rpb24oKXt0aGlzLmlzT3BlbmVkJiYodGhpcy53aWRnZXRQYXJlbnQ9PT1kb2N1bWVudC5ib2R5P3RoaXMuZGVmYXVsdFBsYWNlV2lkZ2V0KCk6dGhpcy5jdXN0b21QbGFjZVdpZGdldCgpKX0sSW5ib3hXaWRnZXQucHJvdG90eXBlLmN1c3RvbVBsYWNlV2lkZ2V0PWZ1bmN0aW9uKCl7dmFyIHBvc2l0aW9uPXRoaXMuY29uZmlnLnBvc2l0aW9uO3RoaXMud2lkZ2V0UGFyZW50LnN0eWxlLnBvc2l0aW9uPVwicmVsYXRpdmVcIix0aGlzLndpZGdldC5jbGFzc0xpc3QuYWRkKFwicHctaW5ib3gtd2lkZ2V0LS1pbnNldFwiKSx0aGlzLndpZGdldC5jbGFzc0xpc3QuYWRkKFwicHctXCIrcG9zaXRpb24pfSxJbmJveFdpZGdldC5wcm90b3R5cGUuZGVmYXVsdFBsYWNlV2lkZ2V0PWZ1bmN0aW9uKCl7dmFyIHBvc2l0aW9uPXRoaXMucHcuaW5ib3hXaWRnZXRDb25maWcucG9zaXRpb24/dGhpcy5jb25maWcucG9zaXRpb246dGhpcy5nZXREZWZhdWx0UG9zaXRpb24oKSx3aWRnZXRSZWN0PXRoaXMud2lkZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO2lmKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCl7dmFyIHdpbmRvd1dpZHRoPU1hdGgubWF4KGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCx3aW5kb3cuaW5uZXJXaWR0aHx8MCksd2luZG93SGVpZ2h0PU1hdGgubWF4KGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQsd2luZG93LmlubmVySGVpZ2h0fHwwKTtzd2l0Y2god2lkZ2V0UmVjdC53aWR0aCsyKnRoaXMuZGVmYXVsdE1hcmdpbj53aW5kb3dXaWR0aCYmKHRoaXMud2lkZ2V0LnN0eWxlLndpZHRoPXdpbmRvd1dpZHRoLTIqdGhpcy5kZWZhdWx0TWFyZ2luK1wicHhcIiksd2lkZ2V0UmVjdC5oZWlnaHQrMjQ+d2luZG93SGVpZ2h0JiYodGhpcy53aWRnZXQuc3R5bGUuaGVpZ2h0PXdpbmRvd0hlaWdodC0yKnRoaXMuZGVmYXVsdE1hcmdpbitcInB4XCIpLHBvc2l0aW9uKXtjYXNlXCJ0b3BcIjp0aGlzLmFsaWduV2lkZ2V0VG9wKCk7YnJlYWs7Y2FzZVwicmlnaHRcIjp0aGlzLmFsaWduV2lkZ2V0UmlnaHQoKTticmVhaztjYXNlXCJsZWZ0XCI6dGhpcy5hbGlnbldpZGdldExlZnQoKTticmVhaztjYXNlXCJib3R0b21cIjp0aGlzLmFsaWduV2lkZ2V0Qm90dG9tKCl9fX0sSW5ib3hXaWRnZXQucHJvdG90eXBlLmFsaWduV2lkZ2V0VG9wPWZ1bmN0aW9uKCl7dmFyIHRyaWdnZXJSZWN0PXRoaXMudHJpZ2dlci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSx3aWRnZXRSZWN0PXRoaXMud2lkZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO2lmKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCl7dmFyIHdpbmRvd1dpZHRoPU1hdGgubWF4KGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCx3aW5kb3cuaW5uZXJXaWR0aHx8MCksYXJyb3c9dGhpcy53aWRnZXQucXVlcnlTZWxlY3RvcihcIi5wdy1pbmJveF9fYXJyb3dcIil8fGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7dGhpcy53aWRnZXQuY2xhc3NMaXN0LmFkZChcInB3LXRvcFwiKTt2YXIgbGVmdD1wYWdlWE9mZnNldCt0cmlnZ2VyUmVjdC5sZWZ0K01hdGguZmxvb3IodHJpZ2dlclJlY3Qud2lkdGgvMiktTWF0aC5mbG9vcih3aWRnZXRSZWN0LndpZHRoLzIpLGlzVW5kZXJMZWZ0PWxlZnQ8cGFnZVhPZmZzZXQsaXNVbmRlclJpZ2h0PWxlZnQrd2lkZ2V0UmVjdC53aWR0aD5wYWdlWE9mZnNldCt3aW5kb3dXaWR0aDtpc1VuZGVyTGVmdCYmKGxlZnQ9cGFnZVhPZmZzZXQrdGhpcy5kZWZhdWx0TWFyZ2luKSxpc1VuZGVyUmlnaHQmJihsZWZ0PXBhZ2VYT2Zmc2V0K3dpbmRvd1dpZHRoLXdpZGdldFJlY3Qud2lkdGgtdGhpcy5kZWZhdWx0TWFyZ2luKTt2YXIgdG9wPXBhZ2VZT2Zmc2V0K3RyaWdnZXJSZWN0LnRvcC13aWRnZXRSZWN0LmhlaWdodDt0aGlzLmFsaWduV2lkZ2V0RWxlbWVudChsZWZ0LHRvcCksYXJyb3cuc3R5bGUubGVmdD10cmlnZ2VyUmVjdC5sZWZ0K01hdGguZmxvb3IodHJpZ2dlclJlY3Qud2lkdGgvMiktbGVmdCtcInB4XCI7dmFyIHRvcE1hcmdpbj10aGlzLndpZGdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS50b3A7aWYodG9wTWFyZ2luPDApe3ZhciBuZXdIZWlnaHQ9dGhpcy53aWRnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkuaGVpZ2h0K3RvcE1hcmdpbi10aGlzLmRlZmF1bHRNYXJnaW4sbmV3VG9wPXRoaXMud2lkZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLnRvcC10b3BNYXJnaW4rdGhpcy5kZWZhdWx0TWFyZ2luO3RoaXMud2lkZ2V0LnN0eWxlLmhlaWdodD1uZXdIZWlnaHQrXCJweFwiLHRoaXMud2lkZ2V0LnN0eWxlLnRvcD1uZXdUb3ArXCJweFwifX19LEluYm94V2lkZ2V0LnByb3RvdHlwZS5hbGlnbldpZGdldFJpZ2h0PWZ1bmN0aW9uKCl7dmFyIHRyaWdnZXJSZWN0PXRoaXMudHJpZ2dlci5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKSx3aWRnZXRSZWN0PXRoaXMud2lkZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpO2lmKGRvY3VtZW50LmRvY3VtZW50RWxlbWVudCl7dmFyIHdpbmRvd1dpZHRoPU1hdGgubWF4KGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRXaWR0aCx3aW5kb3cuaW5uZXJXaWR0aHx8MCksd2luZG93SGVpZ2h0PU1hdGgubWF4KGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQsd2luZG93LmlubmVySGVpZ2h0fHwwKSxhcnJvdz10aGlzLndpZGdldC5xdWVyeVNlbGVjdG9yKFwiLnB3LWluYm94X19hcnJvd1wiKXx8ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTt0aGlzLndpZGdldC5jbGFzc0xpc3QuYWRkKFwicHctcmlnaHRcIik7dmFyIHRvcD1wYWdlWU9mZnNldCt0cmlnZ2VyUmVjdC50b3ArTWF0aC5mbG9vcih0cmlnZ2VyUmVjdC5oZWlnaHQvMiktTWF0aC5mbG9vcih3aWRnZXRSZWN0LmhlaWdodC8yKSxpc1VuZGVyVG9wPXRvcDxwYWdlWU9mZnNldCxpc1VuZGVyQm90dG9tPXBhZ2VZT2Zmc2V0K3dpbmRvd0hlaWdodDx0b3Ard2lkZ2V0UmVjdC5oZWlnaHQ7aXNVbmRlclRvcCYmKHRvcD1wYWdlWU9mZnNldCt0aGlzLmRlZmF1bHRNYXJnaW4pLGlzVW5kZXJCb3R0b20mJih0b3A9cGFnZVlPZmZzZXQrd2luZG93SGVpZ2h0LXdpZGdldFJlY3QuaGVpZ2h0LXRoaXMuZGVmYXVsdE1hcmdpbik7dmFyIGxlZnQ9cGFnZVhPZmZzZXQrdHJpZ2dlclJlY3QubGVmdCt0cmlnZ2VyUmVjdC53aWR0aDt0aGlzLmFsaWduV2lkZ2V0RWxlbWVudChsZWZ0LHRvcCksYXJyb3cuc3R5bGUudG9wPXRyaWdnZXJSZWN0LnRvcCtNYXRoLmZsb29yKHRyaWdnZXJSZWN0LmhlaWdodC8yKS10b3ArXCJweFwiO3ZhciByaWdodE1hcmdpbj13aW5kb3dXaWR0aC10aGlzLndpZGdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5yaWdodDtpZihyaWdodE1hcmdpbjx0aGlzLmRlZmF1bHRNYXJnaW4pe3ZhciBuZXdXaWR0aD10aGlzLndpZGdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS53aWR0aCtyaWdodE1hcmdpbi10aGlzLmRlZmF1bHRNYXJnaW47dGhpcy53aWRnZXQuc3R5bGUud2lkdGg9bmV3V2lkdGgrXCJweFwifX19LEluYm94V2lkZ2V0LnByb3RvdHlwZS5hbGlnbldpZGdldExlZnQ9ZnVuY3Rpb24oKXt2YXIgdHJpZ2dlclJlY3Q9dGhpcy50cmlnZ2VyLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLHdpZGdldFJlY3Q9dGhpcy53aWRnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCk7aWYoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KXt2YXIgd2luZG93SGVpZ2h0PU1hdGgubWF4KGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQsd2luZG93LmlubmVySGVpZ2h0fHwwKSxhcnJvdz10aGlzLndpZGdldC5xdWVyeVNlbGVjdG9yKFwiLnB3LWluYm94X19hcnJvd1wiKXx8ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImRpdlwiKTt0aGlzLndpZGdldC5jbGFzc0xpc3QuYWRkKFwicHctbGVmdFwiKTt2YXIgdG9wPXBhZ2VZT2Zmc2V0K3RyaWdnZXJSZWN0LnRvcCtNYXRoLmZsb29yKHRyaWdnZXJSZWN0LmhlaWdodC8yKS1NYXRoLmZsb29yKHdpZGdldFJlY3QuaGVpZ2h0LzIpLGlzVW5kZXJUb3A9dG9wPHBhZ2VZT2Zmc2V0LGlzVW5kZXJCb3R0b209cGFnZVlPZmZzZXQrd2luZG93SGVpZ2h0PHRvcCt3aWRnZXRSZWN0LmhlaWdodDtpc1VuZGVyVG9wJiYodG9wPXBhZ2VZT2Zmc2V0K3RoaXMuZGVmYXVsdE1hcmdpbiksaXNVbmRlckJvdHRvbSYmKHRvcD1wYWdlWU9mZnNldCt3aW5kb3dIZWlnaHQtd2lkZ2V0UmVjdC5oZWlnaHQtdGhpcy5kZWZhdWx0TWFyZ2luKTt2YXIgbGVmdD1wYWdlWE9mZnNldCt0cmlnZ2VyUmVjdC5sZWZ0LXdpZGdldFJlY3Qud2lkdGg7dGhpcy5hbGlnbldpZGdldEVsZW1lbnQobGVmdCx0b3ApLGFycm93LnN0eWxlLnRvcD10cmlnZ2VyUmVjdC50b3ArTWF0aC5mbG9vcih0cmlnZ2VyUmVjdC5oZWlnaHQvMiktdG9wK1wicHhcIjt2YXIgbGVmdE1hcmdpbj10aGlzLndpZGdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5sZWZ0O2lmKGxlZnRNYXJnaW48MCl7dmFyIG5ld1dpZHRoPXRoaXMud2lkZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLndpZHRoK2xlZnRNYXJnaW4tdGhpcy5kZWZhdWx0TWFyZ2luLG5ld0xlZnQ9dGhpcy53aWRnZXQuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCkubGVmdC1sZWZ0TWFyZ2luO3RoaXMud2lkZ2V0LnN0eWxlLndpZHRoPW5ld1dpZHRoK1wicHhcIix0aGlzLndpZGdldC5zdHlsZS5sZWZ0PW5ld0xlZnQrXCJweFwifX19LEluYm94V2lkZ2V0LnByb3RvdHlwZS5hbGlnbldpZGdldEJvdHRvbT1mdW5jdGlvbigpe3ZhciB0cmlnZ2VyUmVjdD10aGlzLnRyaWdnZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksd2lkZ2V0UmVjdD10aGlzLndpZGdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKTtpZihkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQpe3ZhciB3aW5kb3dXaWR0aD1NYXRoLm1heChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGgsd2luZG93LmlubmVyV2lkdGh8fDApLHdpbmRvd0hlaWdodD1NYXRoLm1heChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0LHdpbmRvdy5pbm5lckhlaWdodHx8MCksYXJyb3c9dGhpcy53aWRnZXQucXVlcnlTZWxlY3RvcihcIi5wdy1pbmJveF9fYXJyb3dcIil8fGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIik7dGhpcy53aWRnZXQuY2xhc3NMaXN0LmFkZChcInB3LWJvdHRvbVwiKTt2YXIgbGVmdD1wYWdlWE9mZnNldCt0cmlnZ2VyUmVjdC5sZWZ0K01hdGguZmxvb3IodHJpZ2dlclJlY3Qud2lkdGgvMiktTWF0aC5mbG9vcih3aWRnZXRSZWN0LndpZHRoLzIpLGlzVW5kZXJMZWZ0PWxlZnQ8cGFnZVhPZmZzZXQsaXNVbmRlclJpZ2h0PWxlZnQrd2lkZ2V0UmVjdC53aWR0aD5wYWdlWE9mZnNldCt3aW5kb3dXaWR0aDtpc1VuZGVyTGVmdCYmKGxlZnQ9cGFnZVhPZmZzZXQrdGhpcy5kZWZhdWx0TWFyZ2luKSxpc1VuZGVyUmlnaHQmJihsZWZ0PXBhZ2VYT2Zmc2V0K3dpbmRvd1dpZHRoLXdpZGdldFJlY3Qud2lkdGgtMTIpO3ZhciB0b3A9cGFnZVlPZmZzZXQrdHJpZ2dlclJlY3QudG9wK3RyaWdnZXJSZWN0LmhlaWdodDt0aGlzLmFsaWduV2lkZ2V0RWxlbWVudChsZWZ0LHRvcCksYXJyb3cuc3R5bGUubGVmdD10cmlnZ2VyUmVjdC5sZWZ0K01hdGguZmxvb3IodHJpZ2dlclJlY3Qud2lkdGgvMiktbGVmdCtcInB4XCI7dmFyIGJvdHRvbVJhbmdlPXdpbmRvd0hlaWdodC10aGlzLndpZGdldC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5ib3R0b207aWYoYm90dG9tUmFuZ2U8dGhpcy5kZWZhdWx0TWFyZ2luKXt2YXIgbmV3SGVpZ2h0PXRoaXMud2lkZ2V0LmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodCtib3R0b21SYW5nZS10aGlzLmRlZmF1bHRNYXJnaW47dGhpcy53aWRnZXQuc3R5bGUuaGVpZ2h0PW5ld0hlaWdodCtcInB4XCJ9fX0sSW5ib3hXaWRnZXQucHJvdG90eXBlLmFsaWduV2lkZ2V0RWxlbWVudD1mdW5jdGlvbihsZWZ0LHRvcCl7dGhpcy53aWRnZXQuc3R5bGUubGVmdD1sZWZ0K1wicHhcIix0aGlzLndpZGdldC5zdHlsZS50b3A9dG9wK1wicHhcIn0sSW5ib3hXaWRnZXQucHJvdG90eXBlLmdldERlZmF1bHRQb3NpdGlvbj1mdW5jdGlvbigpe3ZhciBfYT10aGlzLnRyaWdnZXIuZ2V0Qm91bmRpbmdDbGllbnRSZWN0KCksbGVmdD1fYS5sZWZ0LHRvcD1fYS50b3Asd2lkdGg9X2Eud2lkdGgsaGVpZ2h0PV9hLmhlaWdodDtpZighZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50KXJldHVyblwiXCI7dmFyIGFudGlNYXJnaW5zPXtyaWdodDpsZWZ0LGJvdHRvbTp0b3AsbGVmdDpNYXRoLm1heChkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50V2lkdGgsd2luZG93LmlubmVyV2lkdGh8fDApLShsZWZ0K3dpZHRoKSx0b3A6TWF0aC5tYXgoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCx3aW5kb3cuaW5uZXJIZWlnaHR8fDApLSh0b3AraGVpZ2h0KX0sbGVhc3RNYXJnaW49TWF0aC5taW4obGVmdCx0b3AsYW50aU1hcmdpbnMubGVmdCxhbnRpTWFyZ2lucy50b3ApLHBvc2l0aW9uPVwiYm90dG9tXCI7cmV0dXJuIE9iamVjdC5rZXlzKGFudGlNYXJnaW5zKS5mb3JFYWNoKGZ1bmN0aW9uKGtleSl7YW50aU1hcmdpbnNba2V5XT09PWxlYXN0TWFyZ2luJiYocG9zaXRpb249a2V5KX0pLHBvc2l0aW9ufSxJbmJveFdpZGdldC5wcm90b3R5cGUuYWRkTGlzdGVuZXJzPWZ1bmN0aW9uKCl7dmFyIF90aGlzPXRoaXM7dGhpcy50cmlnZ2VyLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLHRoaXMub25UcmlnZ2VyQ2xpY2tIYW5kbGVyKSx0aGlzLnB3LnB1c2goW1wib25QdXROZXdNZXNzYWdlVG9JbmJveFN0b3JlXCIsZnVuY3Rpb24oKXtfdGhpcy51cGRhdGVJbmJveCgpfV0pLHRoaXMucHcucHVzaChbXCJvblVwZGF0ZUluYm94TWVzc2FnZXNcIixmdW5jdGlvbigpe190aGlzLnVwZGF0ZUluYm94KCl9XSl9LEluYm94V2lkZ2V0LnByb3RvdHlwZS5tYXJrVmlzaWJsZUl0ZW1zQXNSZWFkPWZ1bmN0aW9uKCl7dmFyIF90aGlzPXRoaXM7aWYoMCE9PXRoaXMubWVzc2FnZXMubGVuZ3RoKXt2YXIgc2Nyb2xsVG9wPXRoaXMubGlzdC5jbGllbnRIZWlnaHQrdGhpcy5saXN0LnNjcm9sbFRvcC01MDtPYmplY3Qua2V5cyh0aGlzLm1lc3NhZ2VzRWxlbWVudHMpLmZvckVhY2goZnVuY3Rpb24oY29kZSl7aWYoX3RoaXMubWVzc2FnZXNFbGVtZW50c1tjb2RlXSYmIShfdGhpcy5tZXNzYWdlc0VsZW1lbnRzW2NvZGVdLm9mZnNldFRvcD5zY3JvbGxUb3ApKXt2YXIgbWVzc2FnZT1fdGhpcy5tZXNzYWdlcy5maW5kKGZ1bmN0aW9uKG1lc3NhZ2Upe3JldHVybiBtZXNzYWdlLmNvZGU9PT1jb2RlfSk7IW1lc3NhZ2V8fG1lc3NhZ2UuaXNSZWFkfHxfdGhpcy5yZWFkSXRlbXMuaW5kZXhPZihjb2RlKSsxfHxfdGhpcy5yZWFkSXRlbXMucHVzaChjb2RlKX19KX19LEluYm94V2lkZ2V0LnByb3RvdHlwZS51cGRhdGVSZWFkU3RhdHVzPWZ1bmN0aW9uKCl7dGhpcy5wdy5wd2luYm94LnJlYWRNZXNzYWdlc1dpdGhDb2Rlcyh0aGlzLnJlYWRJdGVtcykudGhlbih0aGlzLnVwZGF0ZUluYm94KX0sSW5ib3hXaWRnZXQucHJvdG90eXBlLnVwZGF0ZUluYm94PWZ1bmN0aW9uKCl7dmFyIF90aGlzPXRoaXM7dGhpcy5wdy5wd2luYm94LmxvYWRNZXNzYWdlcygpLnRoZW4oZnVuY3Rpb24obWVzc2FnZXMpe190aGlzLnVwZGF0ZUluYm94TWVzc2FnZXMobWVzc2FnZXMpfSksdGhpcy5wdy5wd2luYm94LnVucmVhZE1lc3NhZ2VzQ291bnQoKS50aGVuKGZ1bmN0aW9uKGNvdW50KXtfdGhpcy51cGRhdGVDb3VudGVyKGNvdW50KX0pfSxJbmJveFdpZGdldC5wcm90b3R5cGUucGVyZm9ybU1lc3NhZ2VBY3Rpb249ZnVuY3Rpb24oY29kZSl7dmFyIF90aGlzPXRoaXM7dGhpcy5wdy5wd2luYm94LnBlcmZvcm1BY3Rpb25Gb3JNZXNzYWdlV2l0aENvZGUoY29kZSkudGhlbihmdW5jdGlvbigpe190aGlzLnVwZGF0ZUluYm94KCl9KX0sSW5ib3hXaWRnZXQucHJvdG90eXBlLnJlbW92ZU1lc3NhZ2VzPWZ1bmN0aW9uKG1lc3NhZ2VzKXt2YXIgX3RoaXM9dGhpczttZXNzYWdlcy5mb3JFYWNoKGZ1bmN0aW9uKGNvZGUpe190aGlzLnJlYWRJdGVtcz1fdGhpcy5yZWFkSXRlbXMuc2xpY2UoX3RoaXMucmVhZEl0ZW1zLmluZGV4T2YoY29kZSksMSl9KSx0aGlzLnB3LnB3aW5ib3guZGVsZXRlTWVzc2FnZXNXaXRoQ29kZXMobWVzc2FnZXMpLnRoZW4oZnVuY3Rpb24oKXtfdGhpcy51cGRhdGVJbmJveCgpfSl9LEluYm94V2lkZ2V0LnByb3RvdHlwZS5vblRyaWdnZXJDbGlja0hhbmRsZXI9ZnVuY3Rpb24oZXZlbnQpe2V2ZW50LnN0b3BQcm9wYWdhdGlvbigpLGV2ZW50LnRhcmdldCYmdGhpcy50b2dnbGUoKX0sSW5ib3hXaWRnZXQucHJvdG90eXBlLm9uV2lkZ2V0Q2xpY2tIYW5kbGVyPWZ1bmN0aW9uKGV2ZW50KXtpZihldmVudC50YXJnZXQpe3ZhciBpdGVtRWxlbWVudD1ldmVudC50YXJnZXQuY2xvc2VzdChcIi5wdy1pbmJveF9pdGVtXCIpO2lmKGl0ZW1FbGVtZW50KXt2YXIgbWVzc2FnZUNvZGU9aXRlbUVsZW1lbnQuZ2V0QXR0cmlidXRlKFwiZGF0YS1wdy1pbmJveC1tZXNzYWdlLWlkXCIpO21lc3NhZ2VDb2RlJiYoZXZlbnQudGFyZ2V0LmNsb3Nlc3QoXCIucHctaW5ib3hfaXRlbS1yZW1vdmVcIik/dGhpcy5yZW1vdmVNZXNzYWdlcyhbbWVzc2FnZUNvZGVdKTp0aGlzLnBlcmZvcm1NZXNzYWdlQWN0aW9uKG1lc3NhZ2VDb2RlKSl9ZWxzZSB0aGlzLnRvZ2dsZSgpfX0sSW5ib3hXaWRnZXQucHJvdG90eXBlLm9uV2luZG93U2Nyb2xsSGFuZGxlcj1mdW5jdGlvbigpe3RoaXMuaXNGaXhlZCYmdGhpcy5pc09wZW5lZD90aGlzLnRvZ2dsZSgpOnRoaXMucG9zaXRpb25XaWRnZXQoKX0sSW5ib3hXaWRnZXR9KCk7ZXhwb3J0cy5kZWZhdWx0PUluYm94V2lkZ2V0fSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KTt2YXIgaGVscGVyc18xPV9fd2VicGFja19yZXF1aXJlX18oMCk7ZXhwb3J0cy53aWRnZXRUZW1wbGF0ZT1mdW5jdGlvbih0aXRsZSl7cmV0dXJuJ1xcbjxkaXYgY2xhc3M9XCJwdy1pbmJveF9fYXJyb3dcIj48L2Rpdj5cXG48ZGl2IGNsYXNzPVwicHctaW5ib3hfaW5uZXJcIj5cXG4gICAgPGRpdiBjbGFzcz1cInB3LWluYm94X3RpdGxlXCI+XFxuICAgICAgJyt0aXRsZSsnXFxuICAgIDwvZGl2PlxcbiAgICA8dWwgY2xhc3M9XCJwdy1pbmJveF9saXN0XCI+XFxuICAgIFxcbiAgICA8L3VsPlxcbjwvZGl2Pid9LGV4cG9ydHMud2lkZ2V0VGVtcGxhdGVFbXB0eT1mdW5jdGlvbihlbXB0eUluYm94SWNvblVybCxlbXB0eUluYm94VGl0bGUsZW1wdHlJbmJveFRleHQpe3JldHVybidcXG48ZGl2IGNsYXNzPVwicHctaW5ib3hfX2Fycm93XCI+PC9kaXY+XFxuPGRpdiBjbGFzcz1cInB3LWluYm94X2xpc3QtLWVtcHR5XCI+XFxuICAgIDxkaXYgY2xhc3M9XCJwdy1pbmJveF9saXN0LWljb25cIj5cXG4gICAgICA8aW1nIHNyYz1cIicrZW1wdHlJbmJveEljb25VcmwrJ1wiIGFsdD1cIicrZW1wdHlJbmJveFRpdGxlKydcIj5cXG4gICAgPC9kaXY+XFxuICAgIDxkaXYgY2xhc3M9XCJwdy1pbmJveF9saXN0LXRpdGxlXCI+XFxuICAgICAgJytlbXB0eUluYm94VGl0bGUrJ1xcbiAgICA8L2Rpdj5cXG4gICAgPGRpdiBjbGFzcz1cImlwdy1pbmJveF9saXN0LWJvZHlcIj5cXG4gICAgICAnK2VtcHR5SW5ib3hUZXh0K1wiXFxuICAgIDwvZGl2PlxcbjwvZGl2PlwifSxleHBvcnRzLm1lc3NhZ2VUZW1wbGF0ZT1mdW5jdGlvbihfYSl7dmFyIGltYWdlVXJsPV9hLmltYWdlVXJsLHRpdGxlPV9hLnRpdGxlLG1lc3NhZ2U9X2EubWVzc2FnZSxzZW5kRGF0ZT1fYS5zZW5kRGF0ZTtyZXR1cm4nXFxuPGRpdiBjbGFzcz1cInB3LWluYm94X2l0ZW0taW5uZXJcIj5cXG4gIDxkaXYgY2xhc3M9XCJwdy1pbmJveF9pY29uXCI+XFxuICAgIDxpbWcgc3JjPVwiJytpbWFnZVVybCsnXCIgYWx0PVwiJysodGl0bGV8fG1lc3NhZ2UpKydcIiBjbGFzcz1cInB3LWluYm94X21lc3NhZ2UtaW1hZ2VcIj5cXG4gIDwvZGl2PlxcbiAgPGRpdiBjbGFzcz1cInB3LWluYm94X2NvbnRlbnRcIj5cXG4gICAgJysodGl0bGU/JzxkaXYgY2xhc3M9XCJwdy1pbmJveF9pdGVtLXRpdGxlXCI+XFxuICAgICAgJyt0aXRsZStcIlxcbiAgICA8L2Rpdj5cIjpudWxsKSsnXFxuICAgIDxkaXYgY2xhc3M9XCJwdy1pbmJveF9pdGVtLWJvZHlcIj5cXG4gICAgICAnK21lc3NhZ2UrJ1xcbiAgICA8L2Rpdj5cXG4gICAgPGRpdiBjbGFzcz1cInB3LWluYm94X2l0ZW0tdGltZVwiPlxcbiAgICAgICcraGVscGVyc18xLmdldE1lc3NhZ2VUaW1lKHNlbmREYXRlKSsnXFxuICAgIDwvZGl2PlxcbiAgPC9kaXY+XFxuPC9kaXY+XFxuPHNwYW4gY2xhc3M9XCJwdy1pbmJveF9pdGVtLXJlbW92ZVwiPjwvc3Bhbj4nfX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7dmFyIHJlc3VsdD1fX3dlYnBhY2tfcmVxdWlyZV9fKDYpO21vZHVsZS5leHBvcnRzPVwic3RyaW5nXCI9PXR5cGVvZiByZXN1bHQ/cmVzdWx0OnJlc3VsdC50b1N0cmluZygpfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXsobW9kdWxlLmV4cG9ydHM9X193ZWJwYWNrX3JlcXVpcmVfXyg3KSh2b2lkIDApKS5wdXNoKFttb2R1bGUuaSxcIi5wdy1pbmJveC10cmlnZ2VyIHtcXG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcXG4gIGN1cnNvcjogcG9pbnRlcjtcXG59XFxuXFxuLnB3LWluYm94LXRyaWdnZXI6YWZ0ZXIge1xcbiAgY29udGVudDogYXR0cihkYXRhLXB3LWNvdW50KTtcXG4gIGRpc3BsYXk6IGJsb2NrO1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgcmlnaHQ6IDA7XFxuICB0b3A6IDA7XFxuICBiYWNrZ3JvdW5kOiB2YXIoLS1iYWRnZUJnQ29sb3IpO1xcbiAgLXdlYmtpdC1ib3JkZXItcmFkaXVzOiA4cHg7XFxuICAgICAgICAgIGJvcmRlci1yYWRpdXM6IDhweDtcXG4gIGNvbG9yOiB2YXIoLS1iYWRnZVRleHRDb2xvcik7XFxuICBmb250LXNpemU6IDEwcHg7XFxuICBmb250LXdlaWdodDogbm9ybWFsO1xcbiAgbGluZS1oZWlnaHQ6IDE2cHg7XFxuICB3aWR0aDogMTZweDtcXG4gIHBhZGRpbmc6IDAgMnB4O1xcbiAgLXdlYmtpdC1ib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbiAgICAgICAgICBib3gtc2l6aW5nOiBib3JkZXItYm94O1xcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xcbn1cXG5cXG4ucHctaW5ib3gtdHJpZ2dlci5wdy1lbXB0eTphZnRlciB7XFxuICBkaXNwbGF5OiBub25lO1xcbn1cXG5cXG4ucHctaW5ib3gtd2lkZ2V0ICoge1xcbiAgcG9zaXRpb246IHN0YXRpYztcXG4gIC13ZWJraXQtYm94LXNpemluZzogYm9yZGVyLWJveDtcXG4gICAgICAgICAgYm94LXNpemluZzogYm9yZGVyLWJveDtcXG4gIGZvbnQtc2l6ZTogMWVtO1xcbiAgb3V0bGluZTogbm9uZTtcXG4gIGZvbnQtZmFtaWx5OiB2YXIoLS1mb250RmFtaWx5KTtcXG59XFxuLnB3LWluYm94LXdpZGdldCB7XFxuICBmb250LXNpemU6IDE0cHg7XFxuICBwb3NpdGlvbjogYWJzb2x1dGU7XFxuICB0b3A6IDA7XFxuICBsZWZ0OiAtMTAwMHB4O1xcbiAgYmFja2dyb3VuZDogdmFyKC0tYmdDb2xvcik7XFxuICBib3JkZXI6IHNvbGlkIDFweCB2YXIoLS1ib3JkZXJDb2xvcik7XFxuICAtd2Via2l0LWJvcmRlci1yYWRpdXM6IHZhcigtLWJvcmRlclJhZGl1cyk7XFxuICAgICAgICAgIGJvcmRlci1yYWRpdXM6IHZhcigtLWJvcmRlclJhZGl1cyk7XFxuICB3aWR0aDogdmFyKC0td2lkZ2V0V2lkdGgpO1xcbiAgLXdlYmtpdC1ib3gtc2hhZG93OiAwIDFweCA0cHggMCByZ2JhKDAsMCwwLC4yNSk7XFxuICAgICAgICAgIGJveC1zaGFkb3c6IDAgMXB4IDRweCAwIHJnYmEoMCwwLDAsLjI1KTtcXG4gIHotaW5kZXg6IHZhcigtLXpJbmRleCk7XFxuICBvcGFjaXR5OiAwO1xcbiAgLXdlYmtpdC10cmFuc2l0aW9uOiBvcGFjaXR5IC42cyBlYXNlO1xcbiAgLW8tdHJhbnNpdGlvbjogb3BhY2l0eSAuNnMgZWFzZTtcXG4gIHRyYW5zaXRpb246IG9wYWNpdHkgLjZzIGVhc2U7XFxuICAtd2Via2l0LXRyYW5zaXRpb24tZGVsYXk6IDEwMG1zO1xcbiAgICAgICAtby10cmFuc2l0aW9uLWRlbGF5OiAxMDBtcztcXG4gICAgICAgICAgdHJhbnNpdGlvbi1kZWxheTogMTAwbXM7XFxufVxcbi5wdy1pbmJveC13aWRnZXQucHctb3BlbiB7XFxuICBvcGFjaXR5OiAxO1xcbiAgLXdlYmtpdC10cmFuc2l0aW9uLWRlbGF5OiAwbXM7XFxuICAgICAgIC1vLXRyYW5zaXRpb24tZGVsYXk6IDBtcztcXG4gICAgICAgICAgdHJhbnNpdGlvbi1kZWxheTogMG1zO1xcbn1cXG4ucHctaW5ib3gtd2lkZ2V0LnB3LWluYm94LXdpZGdldC0taW5zZXQge1xcbiAgdG9wOiBhdXRvO1xcbiAgbGVmdDogYXV0bztcXG4gIGRpc3BsYXk6IG5vbmU7XFxufVxcbi5wdy1pbmJveC13aWRnZXQucHctaW5ib3gtd2lkZ2V0LS1pbnNldC5wdy1vcGVuIHtcXG4gIGRpc3BsYXk6IGJsb2NrO1xcbn1cXG4ucHctaW5ib3gtd2lkZ2V0LnB3LWluYm94LXdpZGdldC0taW5zZXQucHctYm90dG9tIHtcXG4gIHRvcDogMTAwJTtcXG4gIGxlZnQ6IDUwJTtcXG4gIC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC01MCUpO1xcbiAgICAgIC1tcy10cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTUwJSk7XFxuICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgtNTAlKTtcXG59XFxuLnB3LWluYm94LXdpZGdldC5wdy1pbmJveC13aWRnZXQtLWluc2V0LnB3LXRvcCB7XFxuICBib3R0b206IDEwMCU7XFxuICBsZWZ0OiA1MCU7XFxuICAtd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlWCgtNTAlKTtcXG4gICAgICAtbXMtdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC01MCUpO1xcbiAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTUwJSk7XFxufVxcbi5wdy1pbmJveC13aWRnZXQucHctaW5ib3gtd2lkZ2V0LS1pbnNldC5wdy1yaWdodCB7XFxuICBsZWZ0OiAxMDAlO1xcbiAgdG9wOiA1MCU7XFxuICAtd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlWSgtNTAlKTtcXG4gICAgICAtbXMtdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC01MCUpO1xcbiAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTUwJSk7XFxufVxcbi5wdy1pbmJveC13aWRnZXQucHctaW5ib3gtd2lkZ2V0LS1pbnNldC5wdy1sZWZ0IHtcXG4gIHJpZ2h0OiAxMDAlO1xcbiAgdG9wOiA1MCU7XFxuICAtd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlWSgtNTAlKTtcXG4gICAgICAtbXMtdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC01MCUpO1xcbiAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTUwJSk7XFxufVxcbi5wdy1pbmJveC13aWRnZXQucHctaW5ib3gtd2lkZ2V0LS1lbXB0eSB7XFxuICBtYXgtaGVpZ2h0OiBub25lO1xcbn1cXG4ucHctaW5ib3gtd2lkZ2V0IC5wdy1pbmJveF9fYXJyb3cge1xcbiAgZGlzcGxheTogYmxvY2s7XFxuICB3aWR0aDogMDtcXG4gIGhlaWdodDogMDtcXG4gIGJvcmRlci13aWR0aDogMTBweDtcXG4gIGJvcmRlci1zdHlsZTogc29saWQ7XFxuICBib3JkZXItY29sb3I6IHRyYW5zcGFyZW50O1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbn1cXG4ucHctaW5ib3gtd2lkZ2V0IC5wdy1pbmJveF9fYXJyb3c6YmVmb3JlIHtcXG4gIGNvbnRlbnQ6IFxcXCJcXFwiO1xcbiAgZGlzcGxheTogYmxvY2s7XFxuICB3aWR0aDogMDtcXG4gIGhlaWdodDogMDtcXG4gIGJvcmRlci13aWR0aDogMTBweDtcXG4gIGJvcmRlci1zdHlsZTogc29saWQ7XFxuICBib3JkZXItY29sb3I6IHRyYW5zcGFyZW50O1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbn1cXG4ucHctaW5ib3gtd2lkZ2V0LnB3LXRvcCB7XFxuICBtYXJnaW4tdG9wOiAtMTJweDtcXG59XFxuLnB3LWluYm94LXdpZGdldC5wdy10b3AgLnB3LWluYm94X19hcnJvdyB7XFxuICBib3JkZXItdG9wLWNvbG9yOiB2YXIoLS1hcnJvd0JvcmRlckNvbG9yKTtcXG4gIGJvdHRvbTogLTIxcHg7XFxuICBsZWZ0OiA1MCU7XFxuICAtd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlWCgtNTAlKTtcXG4gICAgICAtbXMtdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC01MCUpO1xcbiAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTUwJSk7XFxufVxcbi5wdy1pbmJveC13aWRnZXQucHctdG9wIC5wdy1pbmJveF9fYXJyb3c6YmVmb3JlIHtcXG4gIGJvcmRlci10b3AtY29sb3I6IHZhcigtLWJnQ29sb3IpO1xcbiAgdG9wOiAtMTFweDtcXG4gIGxlZnQ6IC0xMHB4O1xcbn1cXG4ucHctaW5ib3gtd2lkZ2V0LnB3LWJvdHRvbSB7XFxuICBtYXJnaW4tdG9wOiAxMnB4O1xcbn1cXG4ucHctaW5ib3gtd2lkZ2V0LnB3LWJvdHRvbSAucHctaW5ib3hfX2Fycm93IHtcXG4gIGJvcmRlci1ib3R0b20tY29sb3I6IHZhcigtLWFycm93Qm9yZGVyQ29sb3IpO1xcbiAgdG9wOiAtMjFweDtcXG4gIGxlZnQ6IDUwJTtcXG4gIC13ZWJraXQtdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC01MCUpO1xcbiAgICAgIC1tcy10cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTUwJSk7XFxuICAgICAgICAgIHRyYW5zZm9ybTogdHJhbnNsYXRlWCgtNTAlKTtcXG59XFxuLnB3LWluYm94LXdpZGdldC5wdy1ib3R0b20gLnB3LWluYm94X19hcnJvdzpiZWZvcmUge1xcbiAgYm9yZGVyLWJvdHRvbS1jb2xvcjogdmFyKC0tYmdDb2xvcik7XFxuICBib3R0b206IC0xMXB4O1xcbiAgbGVmdDogLTEwcHg7XFxufVxcbi5wdy1pbmJveC13aWRnZXQucHctbGVmdCB7XFxuICBtYXJnaW4tbGVmdDogLTEycHg7XFxufVxcbi5wdy1pbmJveC13aWRnZXQucHctbGVmdCAucHctaW5ib3hfX2Fycm93IHtcXG4gIGJvcmRlci1sZWZ0LWNvbG9yOiB2YXIoLS1hcnJvd0JvcmRlckNvbG9yKTtcXG4gIHJpZ2h0OiAtMjFweDtcXG4gIHRvcDogNTAlO1xcbiAgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTUwJSk7XFxuICAgICAgLW1zLXRyYW5zZm9ybTogdHJhbnNsYXRlWSgtNTAlKTtcXG4gICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC01MCUpO1xcbn1cXG4ucHctaW5ib3gtd2lkZ2V0LnB3LWxlZnQgLnB3LWluYm94X19hcnJvdzpiZWZvcmUge1xcbiAgYm9yZGVyLWxlZnQtY29sb3I6IHZhcigtLWJnQ29sb3IpO1xcbiAgbGVmdDogLTExcHg7XFxuICB0b3A6IC0xMHB4O1xcbn1cXG4ucHctaW5ib3gtd2lkZ2V0LnB3LXJpZ2h0IHtcXG4gIG1hcmdpbi1sZWZ0OiAxMnB4O1xcbn1cXG4ucHctaW5ib3gtd2lkZ2V0LnB3LXJpZ2h0IC5wdy1pbmJveF9fYXJyb3cge1xcbiAgYm9yZGVyLXJpZ2h0LWNvbG9yOiB2YXIoLS1hcnJvd0JvcmRlckNvbG9yKTtcXG4gIGxlZnQ6IC0yMXB4O1xcbiAgdG9wOiA1MCU7XFxuICAtd2Via2l0LXRyYW5zZm9ybTogdHJhbnNsYXRlWSgtNTAlKTtcXG4gICAgICAtbXMtdHJhbnNmb3JtOiB0cmFuc2xhdGVZKC01MCUpO1xcbiAgICAgICAgICB0cmFuc2Zvcm06IHRyYW5zbGF0ZVkoLTUwJSk7XFxufVxcbi5wdy1pbmJveC13aWRnZXQucHctcmlnaHQgLnB3LWluYm94X19hcnJvdzpiZWZvcmUge1xcbiAgYm9yZGVyLXJpZ2h0LWNvbG9yOiB2YXIoLS1iZ0NvbG9yKTtcXG4gIHJpZ2h0OiAtMTFweDtcXG4gIHRvcDogLTEwcHg7XFxufVxcbi5wdy1pbmJveF9pbm5lciB7XFxuICBvdmVyZmxvdzogaGlkZGVuO1xcbiAgZGlzcGxheTogLXdlYmtpdC1ib3g7XFxuICBkaXNwbGF5OiAtd2Via2l0LWZsZXg7XFxuICBkaXNwbGF5OiAtbXMtZmxleGJveDtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICAtd2Via2l0LWJveC1vcmllbnQ6IHZlcnRpY2FsO1xcbiAgLXdlYmtpdC1ib3gtZGlyZWN0aW9uOiBub3JtYWw7XFxuICAtd2Via2l0LWZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XFxuICAgICAgLW1zLWZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XFxuICAgICAgICAgIGZsZXgtZGlyZWN0aW9uOiBjb2x1bW47XFxuICBoZWlnaHQ6IDEwMCU7XFxufVxcbi5wdy1pbmJveF90aXRsZSB7XFxuICBjb2xvcjogdmFyKC0tdGV4dENvbG9yKTtcXG4gIG1hcmdpbjogMDtcXG4gIHBhZGRpbmc6IDI4cHggMzJweCAxMnB4O1xcbiAgZm9udC1zaXplOiAyNHB4O1xcbiAgZm9udC13ZWlnaHQ6IDUwMDtcXG4gIGxpbmUtaGVpZ2h0OiAxLjE7XFxuICB0ZXh0LWFsaWduOiBsZWZ0O1xcbiAgLXdlYmtpdC1ib3gtZmxleDogMDtcXG4gIC13ZWJraXQtZmxleDogMCAwIDY2cHg7XFxuICAgICAgLW1zLWZsZXg6IDAgMCA2NnB4O1xcbiAgICAgICAgICBmbGV4OiAwIDAgNjZweDtcXG59XFxuLnB3LWluYm94X2xpc3Qge1xcbiAgb3ZlcmZsb3cteDogaGlkZGVuO1xcbiAgb3ZlcmZsb3cteTogYXV0bztcXG4gIG1pbi13aWR0aDogMjAwcHg7XFxuICBtYXgtaGVpZ2h0OiAzMDBweDtcXG4gIHBhZGRpbmc6IDA7XFxuICBtYXJnaW46IDA7XFxuICBsaXN0LXN0eWxlOiBub25lO1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgLXdlYmtpdC1ib3gtZmxleDogMTtcXG4gIC13ZWJraXQtZmxleDogMSAxIGF1dG87XFxuICAgICAgLW1zLWZsZXg6IDEgMSBhdXRvO1xcbiAgICAgICAgICBmbGV4OiAxIDEgYXV0bztcXG59XFxuXFxuLnB3LWluYm94X2l0ZW0ge1xcbiAgcG9zaXRpb246IHJlbGF0aXZlO1xcbiAgcGFkZGluZzogOHB4IDMycHg7XFxuICBtYXJnaW46IDA7XFxuICB0ZXh0LWFsaWduOiBsZWZ0O1xcbn1cXG4ucHctaW5ib3hfaXRlbS1pbm5lciB7XFxuICBkaXNwbGF5OiAtd2Via2l0LWJveDtcXG4gIGRpc3BsYXk6IC13ZWJraXQtZmxleDtcXG4gIGRpc3BsYXk6IC1tcy1mbGV4Ym94O1xcbiAgZGlzcGxheTogZmxleDtcXG4gIGN1cnNvcjogcG9pbnRlcjtcXG59XFxuLnB3LWluYm94X2ljb24ge1xcbiAgLXdlYmtpdC1ib3gtZmxleDogMDtcXG4gIC13ZWJraXQtZmxleDogMCAwIDQwcHg7XFxuICAgICAgLW1zLWZsZXg6IDAgMCA0MHB4O1xcbiAgICAgICAgICBmbGV4OiAwIDAgNDBweDtcXG59XFxuLnB3LWluYm94X21lc3NhZ2UtaW1hZ2Uge1xcbiAgd2lkdGg6IDI4cHg7XFxufVxcbi5wdy1pbmJveF9jb250ZW50IHtcXG4gIC13ZWJraXQtYm94LWZsZXg6IDA7XFxuICAtd2Via2l0LWZsZXg6IDAgMSAxMDAlO1xcbiAgICAgIC1tcy1mbGV4OiAwIDEgMTAwJTtcXG4gICAgICAgICAgZmxleDogMCAxIDEwMCU7XFxufVxcbi5wdy1pbmJveF9pdGVtLXRpdGxlIHtcXG4gIGNvbG9yOiB2YXIoLS1tZXNzYWdlVGl0bGVDb2xvcik7XFxuICBmb250LXNpemU6IDE0cHg7XFxuICBsaW5lLWhlaWdodDogMjBweDtcXG4gIG1hcmdpbi1ib3R0b206IDRweDtcXG59XFxuLnB3LWluYm94X2l0ZW0tYm9keSB7XFxuICBjb2xvcjogdmFyKC0tdGV4dENvbG9yKTtcXG4gIGZvbnQtc2l6ZTogMTRweDtcXG4gIGxpbmUtaGVpZ2h0OiAyMHB4O1xcbiAgbWFyZ2luLWJvdHRvbTogNHB4O1xcbn1cXG4ucHctaW5ib3hfaXRlbS10aW1lIHtcXG4gIGNvbG9yOiB2YXIoLS10aW1lVGV4dENvbG9yKTtcXG4gIGZvbnQtc2l6ZTogMTJweDtcXG4gIGxpbmUtaGVpZ2h0OiAxN3B4O1xcbn1cXG4ucHctaW5ib3hfaXRlbS1yZW1vdmUge1xcbiAgcG9zaXRpb246IGFic29sdXRlO1xcbiAgei1pbmRleDogMjtcXG4gIHRvcDogOHB4O1xcbiAgcmlnaHQ6IDhweDtcXG4gIGRpc3BsYXk6IG5vbmU7XFxuICB3aWR0aDogMTBweDtcXG4gIGhlaWdodDogMTBweDtcXG4gIGJhY2tncm91bmQ6IHRyYW5zcGFyZW50IHVybCgnaHR0cHM6Ly9jZG4ucHVzaHdvb3NoLmNvbS93ZWJwdXNoL2ltZy9pY29uQ2xvc2Uuc3ZnJykgNTAlIG5vLXJlcGVhdDtcXG4gIGN1cnNvcjogcG9pbnRlcjtcXG59XFxuLnB3LWluYm94X2l0ZW06aG92ZXIgLnB3LWluYm94X2l0ZW0tcmVtb3ZlIHtcXG4gIGRpc3BsYXk6IGJsb2NrO1xcbn1cXG5cXG4ucHctaW5ib3hfaXRlbS5wdy1uZXcgLnB3LWluYm94X2l0ZW0tdGl0bGUge1xcbiAgY29sb3I6IHZhcigtLXRleHRDb2xvcik7XFxuICBmb250LXdlaWdodDogNzAwO1xcbn1cXG5cXG4ucHctaW5ib3hfaXRlbS5wdy1uZXcgLnB3LWluYm94X2l0ZW0tYm9keSB7XFxuICBmb250LXdlaWdodDogNzAwO1xcbn1cXG5cXG4ucHctaW5ib3hfbGlzdC0tZW1wdHkge1xcbiAgcGFkZGluZzogNTBweCAxNnB4O1xcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xcbiAgbWF4LWhlaWdodDogMTAwJTtcXG4gIG92ZXJmbG93OiBhdXRvO1xcbn1cXG5cXG4ucHctaW5ib3hfbGlzdC0tZW1wdHkgLnB3LWluYm94X2xpc3QtaWNvbiB7XFxuICB0ZXh0LWFsaWduOiBjZW50ZXI7XFxuICBtYXJnaW4tYm90dG9tOiAzMHB4O1xcbn1cXG4ucHctaW5ib3hfbGlzdC0tZW1wdHkgLnB3LWluYm94X2xpc3QtaWNvbiBpbWcge1xcbiAgbWF4LXdpZHRoOiAxMDAlO1xcbn1cXG5cXG4ucHctaW5ib3hfbGlzdC0tZW1wdHkgLnB3LWluYm94X2xpc3QtdGl0bGUge1xcbiAgZm9udC1zaXplOiAyOHB4O1xcbiAgbGluZS1oZWlnaHQ6IDM2cHg7XFxuICBjb2xvcjogdmFyKC0tZW1wdHlJbmJveFRpdGxlQ29sb3IpO1xcbiAgbWFyZ2luLWJvdHRvbTogMjBweDtcXG59XFxuXFxuLnB3LWluYm94X2xpc3QtLWVtcHR5IC5pcHctaW5ib3hfbGlzdC1ib2R5IHtcXG4gIGZvbnQtc2l6ZTogMTRweDtcXG4gIGxpbmUtaGVpZ2h0OiAxOHB4O1xcbiAgY29sb3I6IHZhcigtLWVtcHR5SW5ib3hUZXh0Q29sb3IpO1xcbn1cXG5cIixcIlwiXSl9LGZ1bmN0aW9uKG1vZHVsZSxleHBvcnRzKXttb2R1bGUuZXhwb3J0cz1mdW5jdGlvbih1c2VTb3VyY2VNYXApe3ZhciBsaXN0PVtdO3JldHVybiBsaXN0LnRvU3RyaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMubWFwKGZ1bmN0aW9uKGl0ZW0pe3ZhciBjb250ZW50PWZ1bmN0aW9uKGl0ZW0sdXNlU291cmNlTWFwKXt2YXIgY29udGVudD1pdGVtWzFdfHxcIlwiLGNzc01hcHBpbmc9aXRlbVszXTtpZighY3NzTWFwcGluZylyZXR1cm4gY29udGVudDtpZih1c2VTb3VyY2VNYXAmJlwiZnVuY3Rpb25cIj09dHlwZW9mIGJ0b2Epe3ZhciBzb3VyY2VNYXBwaW5nPWZ1bmN0aW9uKHNvdXJjZU1hcCl7cmV0dXJuXCIvKiMgc291cmNlTWFwcGluZ1VSTD1kYXRhOmFwcGxpY2F0aW9uL2pzb247Y2hhcnNldD11dGYtODtiYXNlNjQsXCIrYnRvYSh1bmVzY2FwZShlbmNvZGVVUklDb21wb25lbnQoSlNPTi5zdHJpbmdpZnkoc291cmNlTWFwKSkpKStcIiAqL1wifShjc3NNYXBwaW5nKSxzb3VyY2VVUkxzPWNzc01hcHBpbmcuc291cmNlcy5tYXAoZnVuY3Rpb24oc291cmNlKXtyZXR1cm5cIi8qIyBzb3VyY2VVUkw9XCIrY3NzTWFwcGluZy5zb3VyY2VSb290K3NvdXJjZStcIiAqL1wifSk7cmV0dXJuW2NvbnRlbnRdLmNvbmNhdChzb3VyY2VVUkxzKS5jb25jYXQoW3NvdXJjZU1hcHBpbmddKS5qb2luKFwiXFxuXCIpfXJldHVybltjb250ZW50XS5qb2luKFwiXFxuXCIpfShpdGVtLHVzZVNvdXJjZU1hcCk7cmV0dXJuIGl0ZW1bMl0/XCJAbWVkaWEgXCIraXRlbVsyXStcIntcIitjb250ZW50K1wifVwiOmNvbnRlbnR9KS5qb2luKFwiXCIpfSxsaXN0Lmk9ZnVuY3Rpb24obW9kdWxlcyxtZWRpYVF1ZXJ5KXtcInN0cmluZ1wiPT10eXBlb2YgbW9kdWxlcyYmKG1vZHVsZXM9W1tudWxsLG1vZHVsZXMsXCJcIl1dKTtmb3IodmFyIGFscmVhZHlJbXBvcnRlZE1vZHVsZXM9e30saT0wO2k8dGhpcy5sZW5ndGg7aSsrKXt2YXIgaWQ9dGhpc1tpXVswXTtcIm51bWJlclwiPT10eXBlb2YgaWQmJihhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzW2lkXT0hMCl9Zm9yKGk9MDtpPG1vZHVsZXMubGVuZ3RoO2krKyl7dmFyIGl0ZW09bW9kdWxlc1tpXTtcIm51bWJlclwiPT10eXBlb2YgaXRlbVswXSYmYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpdGVtWzBdXXx8KG1lZGlhUXVlcnkmJiFpdGVtWzJdP2l0ZW1bMl09bWVkaWFRdWVyeTptZWRpYVF1ZXJ5JiYoaXRlbVsyXT1cIihcIitpdGVtWzJdK1wiKSBhbmQgKFwiK21lZGlhUXVlcnkrXCIpXCIpLGxpc3QucHVzaChpdGVtKSl9fSxsaXN0fX1dKX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIHdlYl9wdXNoX3N1YnNjcmliZV9wb3B1cF8xPV9fd2VicGFja19yZXF1aXJlX18oMTU4KTtkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwicHVzaHdvb3NoLmluaXRpYWxpemVkXCIsZnVuY3Rpb24oZXYpe2lmKGV2LmRldGFpbC5wdy5zdWJzY3JpYmVQb3B1cENvbmZpZyYmZXYuZGV0YWlsLnB3LnN1YnNjcmliZVBvcHVwQ29uZmlnLmVuYWJsZSl7dmFyIHBvcHVwXzE9bmV3IHdlYl9wdXNoX3N1YnNjcmliZV9wb3B1cF8xLlBXU3Vic2NyaWJlUG9wdXAoZXYuZGV0YWlsLnB3KTtwb3B1cF8xLmluaXRQb3B1cCgpLnRoZW4oZnVuY3Rpb24oKXtldi5kZXRhaWwucHcuc3Vic2NyaWJlUG9wdXA9cG9wdXBfMX0pfX0pfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXttb2R1bGUuZXhwb3J0cz1mdW5jdGlvbihtb2R1bGVzKXt2YXIgaW5zdGFsbGVkTW9kdWxlcz17fTtmdW5jdGlvbiBfX3dlYnBhY2tfcmVxdWlyZV9fKG1vZHVsZUlkKXtpZihpbnN0YWxsZWRNb2R1bGVzW21vZHVsZUlkXSlyZXR1cm4gaW5zdGFsbGVkTW9kdWxlc1ttb2R1bGVJZF0uZXhwb3J0czt2YXIgbW9kdWxlPWluc3RhbGxlZE1vZHVsZXNbbW9kdWxlSWRdPXtpOm1vZHVsZUlkLGw6ITEsZXhwb3J0czp7fX07cmV0dXJuIG1vZHVsZXNbbW9kdWxlSWRdLmNhbGwobW9kdWxlLmV4cG9ydHMsbW9kdWxlLG1vZHVsZS5leHBvcnRzLF9fd2VicGFja19yZXF1aXJlX18pLG1vZHVsZS5sPSEwLG1vZHVsZS5leHBvcnRzfXJldHVybiBfX3dlYnBhY2tfcmVxdWlyZV9fLm09bW9kdWxlcyxfX3dlYnBhY2tfcmVxdWlyZV9fLmM9aW5zdGFsbGVkTW9kdWxlcyxfX3dlYnBhY2tfcmVxdWlyZV9fLmQ9ZnVuY3Rpb24oZXhwb3J0cyxuYW1lLGdldHRlcil7X193ZWJwYWNrX3JlcXVpcmVfXy5vKGV4cG9ydHMsbmFtZSl8fE9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLG5hbWUse2NvbmZpZ3VyYWJsZTohMSxlbnVtZXJhYmxlOiEwLGdldDpnZXR0ZXJ9KX0sX193ZWJwYWNrX3JlcXVpcmVfXy5yPWZ1bmN0aW9uKGV4cG9ydHMpe09iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLFwiX19lc01vZHVsZVwiLHt2YWx1ZTohMH0pfSxfX3dlYnBhY2tfcmVxdWlyZV9fLm49ZnVuY3Rpb24obW9kdWxlKXt2YXIgZ2V0dGVyPW1vZHVsZSYmbW9kdWxlLl9fZXNNb2R1bGU/ZnVuY3Rpb24oKXtyZXR1cm4gbW9kdWxlLmRlZmF1bHR9OmZ1bmN0aW9uKCl7cmV0dXJuIG1vZHVsZX07cmV0dXJuIF9fd2VicGFja19yZXF1aXJlX18uZChnZXR0ZXIsXCJhXCIsZ2V0dGVyKSxnZXR0ZXJ9LF9fd2VicGFja19yZXF1aXJlX18ubz1mdW5jdGlvbihvYmplY3QscHJvcGVydHkpe3JldHVybiBPYmplY3QucHJvdG90eXBlLmhhc093blByb3BlcnR5LmNhbGwob2JqZWN0LHByb3BlcnR5KX0sX193ZWJwYWNrX3JlcXVpcmVfXy5wPVwiXCIsX193ZWJwYWNrX3JlcXVpcmVfXyhfX3dlYnBhY2tfcmVxdWlyZV9fLnM9MSl9KFtmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjtPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cyxcIl9fZXNNb2R1bGVcIix7dmFsdWU6ITB9KSxleHBvcnRzLkRFRkFVTFRfQ09ORklHPXt0ZXh0OlwiRG9u4oCZdCBtaXNzIG91dCBvbiBvdXIgbmV3cyBhbmQgdXBkYXRlcyEgRW5hYmxlIHB1c2ggbm90aWZpY2F0aW9uc1wiLGFza0xhdGVyQnV0dG9uVGV4dDpcIk5vdCBub3dcIixjb25maXJtU3Vic2NyaXB0aW9uQnV0dG9uVGV4dDpcIlN1YnNjcmliZVwiLGRlbGF5OjYwLHJldHJ5T2Zmc2V0OjYwNDgwMCxvdmVybGF5OiExLHBvc2l0aW9uOlwidG9wXCIsYmdDb2xvcjpcIiNmZmZcIixib3JkZXJDb2xvcjpcInRyYW5zcGFyZW50XCIsYm94U2hhZG93OlwiMCAzcHggNnB4IHJnYmEoMCwwLDAsMC4xNiksIDAgM3B4IDZweCByZ2JhKDAsMCwwLDAuMjMpXCIsdGV4dENvbG9yOlwiIzAwMFwiLHRleHRTaXplOlwiaW5oZXJpdFwiLGZvbnRGYW1pbHk6XCJpbmhlcml0XCIsc3Vic2NyaWJlQnRuQmdDb2xvcjpcIiM0Mjg1ZjRcIixzdWJzY3JpYmVCdG5UZXh0Q29sb3I6XCIjZmZmXCIsYXNrTGF0ZXJCdG5CZ0NvbG9yOlwidHJhbnNwYXJlbnRcIixhc2tMYXRlckJ0blRleHRDb2xvcjpcIiMwMDBcIix0aGVtZTpcIm1hdGVyaWFsXCIsdmlld3BvcnQ6XCJodG1sXCJ9LGV4cG9ydHMuQ09MT1JfVEVTVF9SRUdFWFA9L14oIyhbXFxkYS1mXXszfSl7MSwyfSR8KHJnYnxoc2wpYVxcKChcXGR7MSwzfSU/LFxccz8pezN9KDF8MD9cXC5cXGQrKVxcKSR8KHJnYnxoc2wpXFwoXFxkezEsM30lPygsXFxzP1xcZHsxLDN9JT8pezJ9XFwpJCkvLGV4cG9ydHMuUEVSTUlTU0lPTl9ERU5JRUQ9XCJkZW5pZWRcIixleHBvcnRzLlBFUk1JU1NJT05fR1JBTlRFRD1cImdyYW50ZWRcIixleHBvcnRzLkNPTkZJR19TVFlMRVM9W3tuYW1lOlwiYmdDb2xvclwiLHR5cGU6XCJjb2xvclwifSx7bmFtZTpcImJvcmRlckNvbG9yXCIsdHlwZTpcImNvbG9yXCJ9LHtuYW1lOlwiYm94U2hhZG93XCIsdHlwZTpcInN0cmluZ1wifSx7bmFtZTpcInRleHRDb2xvclwiLHR5cGU6XCJjb2xvclwifSx7bmFtZTpcInRleHRTaXplXCIsdHlwZTpcInN0cmluZ1wifSx7bmFtZTpcImZvbnRGYW1pbHlcIix0eXBlOlwic3RyaW5nXCJ9LHtuYW1lOlwic3Vic2NyaWJlQnRuQmdDb2xvclwiLHR5cGU6XCJjb2xvclwifSx7bmFtZTpcInN1YnNjcmliZUJ0blRleHRDb2xvclwiLHR5cGU6XCJjb2xvclwifSx7bmFtZTpcImFza0xhdGVyQnRuQmdDb2xvclwiLHR5cGU6XCJjb2xvclwifSx7bmFtZTpcImFza0xhdGVyQnRuVGV4dENvbG9yXCIsdHlwZTpcImNvbG9yXCJ9XX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIFN1YnNjcmliZVBvcHVwXzE9X193ZWJwYWNrX3JlcXVpcmVfXygyKTtleHBvcnRzLlBXU3Vic2NyaWJlUG9wdXA9U3Vic2NyaWJlUG9wdXBfMS5kZWZhdWx0fSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXtcInVzZSBzdHJpY3RcIjt2YXIgX19hc3NpZ249dGhpcyYmdGhpcy5fX2Fzc2lnbnx8T2JqZWN0LmFzc2lnbnx8ZnVuY3Rpb24odCl7Zm9yKHZhciBzLGk9MSxuPWFyZ3VtZW50cy5sZW5ndGg7aTxuO2krKylmb3IodmFyIHAgaW4gcz1hcmd1bWVudHNbaV0pT2JqZWN0LnByb3RvdHlwZS5oYXNPd25Qcm9wZXJ0eS5jYWxsKHMscCkmJih0W3BdPXNbcF0pO3JldHVybiB0fSxfX2F3YWl0ZXI9dGhpcyYmdGhpcy5fX2F3YWl0ZXJ8fGZ1bmN0aW9uKHRoaXNBcmcsX2FyZ3VtZW50cyxQLGdlbmVyYXRvcil7cmV0dXJuIG5ldyhQfHwoUD1Qcm9taXNlKSkoZnVuY3Rpb24ocmVzb2x2ZSxyZWplY3Qpe2Z1bmN0aW9uIGZ1bGZpbGxlZCh2YWx1ZSl7dHJ5e3N0ZXAoZ2VuZXJhdG9yLm5leHQodmFsdWUpKX1jYXRjaChlKXtyZWplY3QoZSl9fWZ1bmN0aW9uIHJlamVjdGVkKHZhbHVlKXt0cnl7c3RlcChnZW5lcmF0b3IudGhyb3codmFsdWUpKX1jYXRjaChlKXtyZWplY3QoZSl9fWZ1bmN0aW9uIHN0ZXAocmVzdWx0KXtyZXN1bHQuZG9uZT9yZXNvbHZlKHJlc3VsdC52YWx1ZSk6bmV3IFAoZnVuY3Rpb24ocmVzb2x2ZSl7cmVzb2x2ZShyZXN1bHQudmFsdWUpfSkudGhlbihmdWxmaWxsZWQscmVqZWN0ZWQpfXN0ZXAoKGdlbmVyYXRvcj1nZW5lcmF0b3IuYXBwbHkodGhpc0FyZyxfYXJndW1lbnRzfHxbXSkpLm5leHQoKSl9KX0sX19nZW5lcmF0b3I9dGhpcyYmdGhpcy5fX2dlbmVyYXRvcnx8ZnVuY3Rpb24odGhpc0FyZyxib2R5KXt2YXIgZix5LHQsZyxfPXtsYWJlbDowLHNlbnQ6ZnVuY3Rpb24oKXtpZigxJnRbMF0pdGhyb3cgdFsxXTtyZXR1cm4gdFsxXX0sdHJ5czpbXSxvcHM6W119O3JldHVybiBnPXtuZXh0OnZlcmIoMCksdGhyb3c6dmVyYigxKSxyZXR1cm46dmVyYigyKX0sXCJmdW5jdGlvblwiPT10eXBlb2YgU3ltYm9sJiYoZ1tTeW1ib2wuaXRlcmF0b3JdPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXN9KSxnO2Z1bmN0aW9uIHZlcmIobil7cmV0dXJuIGZ1bmN0aW9uKHYpe3JldHVybiBmdW5jdGlvbihvcCl7aWYoZil0aHJvdyBuZXcgVHlwZUVycm9yKFwiR2VuZXJhdG9yIGlzIGFscmVhZHkgZXhlY3V0aW5nLlwiKTtmb3IoO187KXRyeXtpZihmPTEseSYmKHQ9MiZvcFswXT95LnJldHVybjpvcFswXT95LnRocm93fHwoKHQ9eS5yZXR1cm4pJiZ0LmNhbGwoeSksMCk6eS5uZXh0KSYmISh0PXQuY2FsbCh5LG9wWzFdKSkuZG9uZSlyZXR1cm4gdDtzd2l0Y2goeT0wLHQmJihvcD1bMiZvcFswXSx0LnZhbHVlXSksb3BbMF0pe2Nhc2UgMDpjYXNlIDE6dD1vcDticmVhaztjYXNlIDQ6cmV0dXJuIF8ubGFiZWwrKyx7dmFsdWU6b3BbMV0sZG9uZTohMX07Y2FzZSA1Ol8ubGFiZWwrKyx5PW9wWzFdLG9wPVswXTtjb250aW51ZTtjYXNlIDc6b3A9Xy5vcHMucG9wKCksXy50cnlzLnBvcCgpO2NvbnRpbnVlO2RlZmF1bHQ6aWYoISh0PSh0PV8udHJ5cykubGVuZ3RoPjAmJnRbdC5sZW5ndGgtMV0pJiYoNj09PW9wWzBdfHwyPT09b3BbMF0pKXtfPTA7Y29udGludWV9aWYoMz09PW9wWzBdJiYoIXR8fG9wWzFdPnRbMF0mJm9wWzFdPHRbM10pKXtfLmxhYmVsPW9wWzFdO2JyZWFrfWlmKDY9PT1vcFswXSYmXy5sYWJlbDx0WzFdKXtfLmxhYmVsPXRbMV0sdD1vcDticmVha31pZih0JiZfLmxhYmVsPHRbMl0pe18ubGFiZWw9dFsyXSxfLm9wcy5wdXNoKG9wKTticmVha310WzJdJiZfLm9wcy5wb3AoKSxfLnRyeXMucG9wKCk7Y29udGludWV9b3A9Ym9keS5jYWxsKHRoaXNBcmcsXyl9Y2F0Y2goZSl7b3A9WzYsZV0seT0wfWZpbmFsbHl7Zj10PTB9aWYoNSZvcFswXSl0aHJvdyBvcFsxXTtyZXR1cm57dmFsdWU6b3BbMF0/b3BbMV06dm9pZCAwLGRvbmU6ITB9fShbbix2XSl9fX07T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGNvbnN0YW50c18xPV9fd2VicGFja19yZXF1aXJlX18oMCkscG9wdXBUZW1wbGF0ZXNfMT1fX3dlYnBhY2tfcmVxdWlyZV9fKDMpLGNvbnN0YW50c18yPV9fd2VicGFja19yZXF1aXJlX18oMCksaGVscGVyc18xPV9fd2VicGFja19yZXF1aXJlX18oNCksU3Vic2NyaWJlUG9wdXA9ZnVuY3Rpb24oKXtmdW5jdGlvbiBTdWJzY3JpYmVQb3B1cChwdyl7dGhpcy5wdz1wdyx0aGlzLmNvbmZpZz1fX2Fzc2lnbih7fSxjb25zdGFudHNfMS5ERUZBVUxUX0NPTkZJRyx0aGlzLnB3LnN1YnNjcmliZVBvcHVwQ29uZmlnKSx0aGlzLm9uQXNrTGF0ZXJDbGljaz10aGlzLm9uQXNrTGF0ZXJDbGljay5iaW5kKHRoaXMpLHRoaXMub25TdWJzY3JpYmVDbGljaz10aGlzLm9uU3Vic2NyaWJlQ2xpY2suYmluZCh0aGlzKX1yZXR1cm4gU3Vic2NyaWJlUG9wdXAucHJvdG90eXBlLmluaXRQb3B1cD1mdW5jdGlvbigpe3JldHVybiBfX2F3YWl0ZXIodGhpcyx2b2lkIDAsdm9pZCAwLGZ1bmN0aW9uKCl7dmFyIGlzU3Vic2NyaWJlZCxpc01hbnVhbFVuc3Vic2NyaWJlZCxwZXJtaXNzaW9uLGxhc3RQb3B1cE9wZW4sbGFzdFBvcHVwT3BlblRpbWUsbm93LF90aGlzPXRoaXM7cmV0dXJuIF9fZ2VuZXJhdG9yKHRoaXMsZnVuY3Rpb24oX2Epe3N3aXRjaChfYS5sYWJlbCl7Y2FzZSAwOnJldHVybls0LHRoaXMucHcuaXNTdWJzY3JpYmVkKCldO2Nhc2UgMTpyZXR1cm4gaXNTdWJzY3JpYmVkPV9hLnNlbnQoKSxbNCx0aGlzLnB3LmRhdGEuZ2V0U3RhdHVzTWFudWFsVW5zdWJzY3JpYmVkKCldO2Nhc2UgMjpyZXR1cm4gaXNNYW51YWxVbnN1YnNjcmliZWQ9X2Euc2VudCgpLGlzU3Vic2NyaWJlZHx8aXNNYW51YWxVbnN1YnNjcmliZWQ/WzJdOls0LHRoaXMucHcuZHJpdmVyLmdldFBlcm1pc3Npb24oKV07Y2FzZSAzOnJldHVybihwZXJtaXNzaW9uPV9hLnNlbnQoKSk9PT1jb25zdGFudHNfMi5QRVJNSVNTSU9OX0dSQU5URUR8fHBlcm1pc3Npb249PT1jb25zdGFudHNfMi5QRVJNSVNTSU9OX0RFTklFRD9bMl06KHRoaXMucmVuZGVyUG9wdXAoKSx0aGlzLmFwcGVuZFN0eWxlcygpLGxhc3RQb3B1cE9wZW49bG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJMQVNUX09QRU5fU1VCU0NSSVBUSU9OX1BPUFVQXCIpLGxhc3RQb3B1cE9wZW5UaW1lPWxhc3RQb3B1cE9wZW4/cGFyc2VJbnQobGFzdFBvcHVwT3Blbik6MCxub3c9KG5ldyBEYXRlKS5nZXRUaW1lKCksbGFzdFBvcHVwT3BlblRpbWUrMWUzKnRoaXMuY29uZmlnLnJldHJ5T2Zmc2V0PG5vdyYmc2V0VGltZW91dChmdW5jdGlvbigpe190aGlzLnRvZ2dsZSghMCl9LDFlMyp0aGlzLmNvbmZpZy5kZWxheSksWzJdKX19KX0pfSxTdWJzY3JpYmVQb3B1cC5wcm90b3R5cGUudG9nZ2xlPWZ1bmN0aW9uKGlzU2hvd24peyhcImJvb2xlYW5cIj09dHlwZW9mIGlzU2hvd24/aXNTaG93bjohdGhpcy5pc1Nob3duKT90aGlzLnNob3dQb3B1cCgpOnRoaXMuY2xvc2VQb3B1cCgpfSxTdWJzY3JpYmVQb3B1cC5wcm90b3R5cGUuc2hvd1BvcHVwPWZ1bmN0aW9uKCl7dGhpcy5pc1Nob3duPSEwLHRoaXMucG9wdXAuY2xhc3NMaXN0LmFkZChcInB3LXNob3dcIiksZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QuYWRkKFwicHctcG9wdXAtb3BlbmVkXCIpO3ZhciBldmVudD1uZXcgQ3VzdG9tRXZlbnQoXCJzaG93UG9wdXBcIix7YnViYmxlczohMSxjYW5jZWxhYmxlOiExLGRldGFpbDp7cG9wdXA6dGhpcy5wb3B1cH19KTtpZih0aGlzLnBvcHVwLmRpc3BhdGNoRXZlbnQoZXZlbnQpLCEoTWF0aC5tYXgoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoLHdpbmRvdy5pbm5lcldpZHRofHwwKTw1NDEpKXt2YXIgX2E9dGhpcy5jb25maWcsdGhlbWU9X2EudGhlbWUsdmlld3BvcnQ9X2Eudmlld3BvcnQscG9zaXRpb249X2EucG9zaXRpb247aWYoXCJ0b3BiYXJcIj09PXRoZW1lJiZcInRvcFwiPT09cG9zaXRpb24pe3ZhciB2aWV3cG9ydEVsZW1lbnQ9ZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih2aWV3cG9ydCl8fGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksY3VycmVudE1hcmdpblRvcD13aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSh2aWV3cG9ydEVsZW1lbnQpLm1hcmdpblRvcHx8XCIwXCI7dmlld3BvcnRFbGVtZW50LnN0eWxlLnRyYW5zaXRpb249XCJtYXJnaW4tdG9wIC4zcyBlYXNlLW91dFwiLHZpZXdwb3J0RWxlbWVudC5zdHlsZS5tYXJnaW5Ub3A9cGFyc2VJbnQoY3VycmVudE1hcmdpblRvcCkrdGhpcy5wb3B1cC5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5oZWlnaHQrXCJweFwifX19LFN1YnNjcmliZVBvcHVwLnByb3RvdHlwZS5jbG9zZVBvcHVwPWZ1bmN0aW9uKCl7dGhpcy5pc1Nob3duPSExLHRoaXMucG9wdXAuY2xhc3NMaXN0LnJlbW92ZShcInB3LXNob3dcIiksZG9jdW1lbnQuYm9keS5jbGFzc0xpc3QucmVtb3ZlKFwicHctcG9wdXAtb3BlbmVkXCIpO3ZhciBldmVudD1uZXcgQ3VzdG9tRXZlbnQoXCJoaWRlUG9wdXBcIix7YnViYmxlczohMSxjYW5jZWxhYmxlOiExLGRldGFpbDp7cG9wdXA6dGhpcy5wb3B1cH19KTt0aGlzLnBvcHVwLmRpc3BhdGNoRXZlbnQoZXZlbnQpO3ZhciBub3c9KG5ldyBEYXRlKS5nZXRUaW1lKCkudG9TdHJpbmcoKTtpZihsb2NhbFN0b3JhZ2Uuc2V0SXRlbShcIkxBU1RfT1BFTl9TVUJTQ1JJUFRJT05fUE9QVVBcIixub3cpLCEoTWF0aC5tYXgoZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudFdpZHRoLHdpbmRvdy5pbm5lcldpZHRofHwwKTw1NDEpKXt2YXIgX2E9dGhpcy5jb25maWcsdGhlbWU9X2EudGhlbWUsdmlld3BvcnQ9X2Eudmlld3BvcnQscG9zaXRpb249X2EucG9zaXRpb247aWYoXCJ0b3BiYXJcIj09PXRoZW1lJiZcInRvcFwiPT09cG9zaXRpb24pe3ZhciB2aWV3cG9ydEVsZW1lbnQ9ZG9jdW1lbnQucXVlcnlTZWxlY3Rvcih2aWV3cG9ydCl8fGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJkaXZcIiksY3VycmVudE1hcmdpblRvcD13aW5kb3cuZ2V0Q29tcHV0ZWRTdHlsZSh2aWV3cG9ydEVsZW1lbnQpLm1hcmdpblRvcHx8XCIwXCI7dmlld3BvcnRFbGVtZW50LnN0eWxlLm1hcmdpblRvcD1wYXJzZUludChjdXJyZW50TWFyZ2luVG9wKS10aGlzLnBvcHVwLmdldEJvdW5kaW5nQ2xpZW50UmVjdCgpLmhlaWdodCtcInB4XCJ9fX0sU3Vic2NyaWJlUG9wdXAucHJvdG90eXBlLnJlbmRlclBvcHVwPWZ1bmN0aW9uKCl7dGhpcy5wb3B1cD1kb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiZGl2XCIpLHRoaXMucG9wdXAuaWQ9XCJwd1N1YnNjcmliZVBvcHVwXCI7dmFyIF9hPXRoaXMuY29uZmlnLHRleHQ9X2EudGV4dCxhc2tMYXRlckJ1dHRvblRleHQ9X2EuYXNrTGF0ZXJCdXR0b25UZXh0LGNvbmZpcm1TdWJzY3JpcHRpb25CdXR0b25UZXh0PV9hLmNvbmZpcm1TdWJzY3JpcHRpb25CdXR0b25UZXh0LGljb25Vcmw9X2EuaWNvblVybCxwb3NpdGlvbj1fYS5wb3NpdGlvbixvdmVybGF5PV9hLm92ZXJsYXksdGhlbWU9X2EudGhlbWU7dGhpcy5wb3B1cC5jbGFzc05hbWU9XCJwdy1zdWJzY3JpYmUtcG9wdXAgcHctcG9zaXRpb24tXCIrcG9zaXRpb24rXCIgcHctc3Vic2NyaWJlLXBvcHVwLVwiK3RoZW1lLHRoaXMucG9wdXAuY2xhc3NMaXN0LnRvZ2dsZShcInB3LXN1YnNjcmliZS1wb3B1cF9fb3ZlcmxheVwiLG92ZXJsYXkpLHRoaXMucG9wdXAuaW5uZXJIVE1MPXBvcHVwVGVtcGxhdGVzXzEuaW5uZXJUZW1wbGF0ZSh7dGV4dDp0ZXh0LGFza0xhdGVyQnV0dG9uVGV4dDphc2tMYXRlckJ1dHRvblRleHQsY29uZmlybVN1YnNjcmlwdGlvbkJ1dHRvblRleHQ6Y29uZmlybVN1YnNjcmlwdGlvbkJ1dHRvblRleHQsaWNvblVybDppY29uVXJsfSksZG9jdW1lbnQuYm9keS5hcHBlbmRDaGlsZCh0aGlzLnBvcHVwKSx0aGlzLmFkZExpc3RlbmVycygpfSxTdWJzY3JpYmVQb3B1cC5wcm90b3R5cGUuYXBwZW5kU3R5bGVzPWZ1bmN0aW9uKCl7dmFyIHN0eWxlcz1fX3dlYnBhY2tfcmVxdWlyZV9fKDUpLHN0eWxlPWRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoXCJzdHlsZVwiKTtzdHlsZS5pbm5lckhUTUw9dGhpcy5jb25maWd1cmVTdHlsZShzdHlsZXMpLGRvY3VtZW50LmJvZHkuYXBwZW5kQ2hpbGQoc3R5bGUpfSxTdWJzY3JpYmVQb3B1cC5wcm90b3R5cGUuZ2V0U3R5bGVGb3JtYXR0ZXI9ZnVuY3Rpb24oc3R5bGUpe3N3aXRjaChzdHlsZS50eXBlKXtjYXNlXCJzaXplXCI6cmV0dXJuKHRoaXMuY29uZmlnW3N0eWxlLm5hbWVdfHwwKStcInB4XCI7Y2FzZVwibnVtYmVyXCI6cmV0dXJuIHBhcnNlRmxvYXQodGhpcy5jb25maWdbc3R5bGUubmFtZV0udG9TdHJpbmcoKSkudG9TdHJpbmcoKTtjYXNlXCJzdHJpbmdcIjpyZXR1cm4gdGhpcy5jb25maWdbc3R5bGUubmFtZV0udG9TdHJpbmcoKTtjYXNlXCJjb2xvclwiOnJldHVybiBoZWxwZXJzXzEuZ2V0VmFsaWRDb2xvcih0aGlzLmNvbmZpZ1tzdHlsZS5uYW1lXS50b1N0cmluZygpKTtkZWZhdWx0OnJldHVyblwibm9uZVwifX0sU3Vic2NyaWJlUG9wdXAucHJvdG90eXBlLmNvbmZpZ3VyZVN0eWxlPWZ1bmN0aW9uKHN0eWxlcyl7dmFyIF90aGlzPXRoaXMscmVzdWx0U3R5bGVzPXN0eWxlcy50b1N0cmluZygpO3JldHVybiBjb25zdGFudHNfMS5DT05GSUdfU1RZTEVTLmZvckVhY2goZnVuY3Rpb24oc3R5bGUpe3ZhciB0ZW1wbGF0ZT1uZXcgUmVnRXhwKFwidmFyXFxcXCgtLVwiK3N0eWxlLm5hbWUrXCJcXFxcKVwiLFwiaWdcIikscmVzdWx0PV90aGlzLmdldFN0eWxlRm9ybWF0dGVyKHN0eWxlKTtyZXN1bHRTdHlsZXM9cmVzdWx0U3R5bGVzLnJlcGxhY2UodGVtcGxhdGUscmVzdWx0KX0pLHJlc3VsdFN0eWxlc30sU3Vic2NyaWJlUG9wdXAucHJvdG90eXBlLmFkZExpc3RlbmVycz1mdW5jdGlvbigpe3ZhciBhc2tMYXRlckJ1dHRvbj10aGlzLnBvcHVwLnF1ZXJ5U2VsZWN0b3IoJ2J1dHRvbltuYW1lPVwicHdBc2tMYXRlclwiXScpfHxkb2N1bWVudC5jcmVhdGVFbGVtZW50KFwiYnV0dG9uXCIpLHN1YnNjcmliZUJ1dHRvbj10aGlzLnBvcHVwLnF1ZXJ5U2VsZWN0b3IoJ2J1dHRvbltuYW1lPVwicHdTdWJzY3JpYmVcIl0nKXx8ZG9jdW1lbnQuY3JlYXRlRWxlbWVudChcImJ1dHRvblwiKTthc2tMYXRlckJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIix0aGlzLm9uQXNrTGF0ZXJDbGljayksc3Vic2NyaWJlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLHRoaXMub25TdWJzY3JpYmVDbGljayl9LFN1YnNjcmliZVBvcHVwLnByb3RvdHlwZS5vbkFza0xhdGVyQ2xpY2s9ZnVuY3Rpb24oKXt0aGlzLnRvZ2dsZSghMSl9LFN1YnNjcmliZVBvcHVwLnByb3RvdHlwZS5vblN1YnNjcmliZUNsaWNrPWZ1bmN0aW9uKCl7dGhpcy5wdy5zdWJzY3JpYmUoKSx0aGlzLnRvZ2dsZSghMSl9LFN1YnNjcmliZVBvcHVwfSgpO2V4cG9ydHMuZGVmYXVsdD1TdWJzY3JpYmVQb3B1cH0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSksZXhwb3J0cy5pbm5lclRlbXBsYXRlPWZ1bmN0aW9uKF9hKXt2YXIgaWNvblVybD1fYS5pY29uVXJsLHRleHQ9X2EudGV4dCxhc2tMYXRlckJ1dHRvblRleHQ9X2EuYXNrTGF0ZXJCdXR0b25UZXh0LGNvbmZpcm1TdWJzY3JpcHRpb25CdXR0b25UZXh0PV9hLmNvbmZpcm1TdWJzY3JpcHRpb25CdXR0b25UZXh0O3JldHVybic8ZGl2IGNsYXNzPVwicHctc3Vic2NyaXB0aW9uLXBvcHVwLWlubmVyXCI+XFxuICAgIDxkaXYgY2xhc3M9XCJwdy1zdWJzY3JpcHRpb24tcG9wdXAtY29udGVudFwiPlxcbiAgICAgICcrKGljb25Vcmw/JzxkaXYgY2xhc3M9XCJwdy1zdWJzY3JpcHRpb24tcG9wdXAtaWNvblwiPlxcbiAgICAgICAgPGltZyBzcmM9XCInK2ljb25VcmwrJ1wiPlxcbiAgICAgIDwvZGl2Pic6XCJcIikrJ1xcbiAgICAgIDxkaXYgY2xhc3M9XCJwdy1zdWJzY3JpcHRpb24tcG9wdXAtdGV4dFwiPlxcbiAgICAgICAgJyt0ZXh0KydcXG4gICAgICA8L2Rpdj5cXG4gICAgPC9kaXY+XFxuICAgIDxkaXYgY2xhc3M9XCJwdy1zdWJzY3JpcHRpb24tcG9wdXAtY29udHJvbHNcIj5cXG4gICAgICA8YnV0dG9uIG5hbWU9XCJwd1N1YnNjcmliZVwiIGNsYXNzPVwicHctc3Vic2NyaWJlLXBvcHVwLWJ1dHRvbiBwdy1zdWJzY3JpYmUtcG9wdXAtYnV0dG9uLWFjdGl2ZVwiPicrY29uZmlybVN1YnNjcmlwdGlvbkJ1dHRvblRleHQrJzwvYnV0dG9uPlxcbiAgICAgIDxidXR0b24gbmFtZT1cInB3QXNrTGF0ZXJcIiBjbGFzcz1cInB3LXN1YnNjcmliZS1wb3B1cC1idXR0b25cIj4nK2Fza0xhdGVyQnV0dG9uVGV4dCtcIjwvYnV0dG9uPlxcbiAgICA8L2Rpdj5cXG4gIDwvZGl2PlwifX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7XCJ1c2Ugc3RyaWN0XCI7T2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsXCJfX2VzTW9kdWxlXCIse3ZhbHVlOiEwfSk7dmFyIGNvbnN0YW50c18xPV9fd2VicGFja19yZXF1aXJlX18oMCk7ZXhwb3J0cy5nZXRWYWxpZENvbG9yPWZ1bmN0aW9uKGNvbG9yKXtyZXR1cm5cInRyYW5zcGFyZW50XCI9PT1jb2xvcj9jb2xvcjpjb25zdGFudHNfMS5DT0xPUl9URVNUX1JFR0VYUC50ZXN0KGNvbG9yKT9jb2xvcjpcIiMzMzNcIn0sZXhwb3J0cy5nZXRHbG9iYWw9ZnVuY3Rpb24oKXtyZXR1cm4gRnVuY3Rpb24oXCJyZXR1cm4gdGhpc1wiKSgpfX0sZnVuY3Rpb24obW9kdWxlLGV4cG9ydHMsX193ZWJwYWNrX3JlcXVpcmVfXyl7dmFyIHJlc3VsdD1fX3dlYnBhY2tfcmVxdWlyZV9fKDYpO21vZHVsZS5leHBvcnRzPVwic3RyaW5nXCI9PXR5cGVvZiByZXN1bHQ/cmVzdWx0OnJlc3VsdC50b1N0cmluZygpfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyxfX3dlYnBhY2tfcmVxdWlyZV9fKXsobW9kdWxlLmV4cG9ydHM9X193ZWJwYWNrX3JlcXVpcmVfXyg3KSh2b2lkIDApKS5wdXNoKFttb2R1bGUuaSxcIi5wdy1zdWJzY3JpYmUtcG9wdXAge1xcbiAgcG9zaXRpb246IGZpeGVkO1xcbiAgbGVmdDogNTAlO1xcbiAgLXdlYmtpdC10cmFuc2Zvcm06IHRyYW5zbGF0ZVgoLTUwJSk7XFxuICAgICAgLW1zLXRyYW5zZm9ybTogdHJhbnNsYXRlWCgtNTAlKTtcXG4gICAgICAgICAgdHJhbnNmb3JtOiB0cmFuc2xhdGVYKC01MCUpO1xcbiAgLXdlYmtpdC1ib3gtcGFjazogY2VudGVyO1xcbiAgICAgIC1tcy1mbGV4LXBhY2s6IGNlbnRlcjtcXG4gICAgICAgICAganVzdGlmeS1jb250ZW50OiBjZW50ZXI7XFxuICB6LWluZGV4OiAxMDAwMDAwO1xcbiAgZGlzcGxheTogLXdlYmtpdC1ib3g7XFxuICBkaXNwbGF5OiAtbXMtZmxleGJveDtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICAtd2Via2l0LXRyYW5zaXRpb246IGFsbCAuNHMgZWFzZS1vdXQ7XFxuICAtby10cmFuc2l0aW9uOiBhbGwgLjRzIGVhc2Utb3V0O1xcbiAgdHJhbnNpdGlvbjogYWxsIC40cyBlYXNlLW91dDtcXG59XFxuXFxuLnB3LXN1YnNjcmliZS1wb3B1cC5wdy1wb3NpdGlvbi10b3Age1xcbiAgdG9wOiBjYWxjKC0xMDAlIC0gMjRweCk7XFxufVxcbi5wdy1zdWJzY3JpYmUtcG9wdXAucHctcG9zaXRpb24tdG9wLnB3LXNob3cge1xcbiAgdG9wOiAwO1xcbn1cXG5cXG4ucHctc3Vic2NyaWJlLXBvcHVwLnB3LXBvc2l0aW9uLWJvdHRvbSB7XFxuICBib3R0b206IGNhbGMoLTEwMCUgLSAyNHB4KTtcXG59XFxuLnB3LXN1YnNjcmliZS1wb3B1cC5wdy1wb3NpdGlvbi1ib3R0b20ucHctc2hvdyB7XFxuICBib3R0b206IDA7XFxufVxcblxcbi5wdy1zdWJzY3JpYmUtcG9wdXAucHctcG9zaXRpb24tY2VudGVyIHtcXG4gIGRpc3BsYXk6IG5vbmU7XFxufVxcbi5wdy1zdWJzY3JpYmUtcG9wdXAucHctcG9zaXRpb24tY2VudGVyLnB3LXNob3cge1xcbiAgdG9wOiA1MCU7XFxuICBkaXNwbGF5OiAtd2Via2l0LWJveDtcXG4gIGRpc3BsYXk6IC1tcy1mbGV4Ym94O1xcbiAgZGlzcGxheTogZmxleDtcXG59XFxuXFxuLnB3LXN1YnNjcmliZS1wb3B1cF9fb3ZlcmxheSB7XFxuICBwb3NpdGlvbjogZml4ZWQ7XFxuICBsZWZ0OiAwO1xcbiAgcmlnaHQ6IDA7XFxuICAtd2Via2l0LXRyYW5zZm9ybTogbm9uZTtcXG4gICAgICAtbXMtdHJhbnNmb3JtOiBub25lO1xcbiAgICAgICAgICB0cmFuc2Zvcm06IG5vbmU7XFxuICBoZWlnaHQ6IDEwMCU7XFxuICAtd2Via2l0LWJveC1wYWNrOiBjZW50ZXI7XFxuICAgICAgLW1zLWZsZXgtcGFjazogY2VudGVyO1xcbiAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGNlbnRlcjtcXG4gIGJhY2tncm91bmQ6IHJnYmEoMCwwLDAsLjQpO1xcbiAgei1pbmRleDogMTAwMDAwMDtcXG4gIGRpc3BsYXk6IG5vbmU7XFxuICB0b3A6IDA7XFxufVxcblxcbi5wdy1zdWJzY3JpYmUtcG9wdXBfX292ZXJsYXkucHctcG9zaXRpb24tdG9wIHtcXG4gIC13ZWJraXQtYm94LWFsaWduOiBzdGFydDtcXG4gICAgICAtbXMtZmxleC1hbGlnbjogc3RhcnQ7XFxuICAgICAgICAgIGFsaWduLWl0ZW1zOiBmbGV4LXN0YXJ0O1xcbn1cXG5cXG4ucHctc3Vic2NyaWJlLXBvcHVwX19vdmVybGF5LnB3LXBvc2l0aW9uLWJvdHRvbSB7XFxuICAtd2Via2l0LWJveC1hbGlnbjogZW5kO1xcbiAgICAgIC1tcy1mbGV4LWFsaWduOiBlbmQ7XFxuICAgICAgICAgIGFsaWduLWl0ZW1zOiBmbGV4LWVuZDtcXG59XFxuXFxuLnB3LXN1YnNjcmliZS1wb3B1cF9fb3ZlcmxheS5wdy1wb3NpdGlvbi1jZW50ZXIge1xcbiAgLXdlYmtpdC1ib3gtYWxpZ246IGNlbnRlcjtcXG4gICAgICAtbXMtZmxleC1hbGlnbjogY2VudGVyO1xcbiAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xcbn1cXG5cXG4ucHctc3Vic2NyaXB0aW9uLXBvcHVwLWlubmVyIHtcXG4gIG1heC13aWR0aDogNDAwcHg7XFxuICBmb250LXNpemU6IHZhcigtLXRleHRTaXplKTtcXG4gIGNvbG9yOiB2YXIoLS10ZXh0Q29sb3IpO1xcbiAgZm9udC1mYW1pbHk6IHZhcigtLWZvbnRGYW1pbHkpO1xcbiAgYm9yZGVyLXN0eWxlOiBzb2xpZDtcXG4gIGJvcmRlci13aWR0aDogMXB4O1xcbiAgYm9yZGVyLWNvbG9yOiB2YXIoLS1ib3JkZXJDb2xvcik7XFxuICBiYWNrZ3JvdW5kOiB2YXIoLS1iZ0NvbG9yKTtcXG4gIC13ZWJraXQtYm94LXNoYWRvdzogdmFyKC0tYm94U2hhZG93KTtcXG4gICAgICAgICAgYm94LXNoYWRvdzogdmFyKC0tYm94U2hhZG93KTtcXG59XFxuXFxuLnB3LXN1YnNjcmlwdGlvbi1wb3B1cC1jb250ZW50IHtcXG4gIHBhZGRpbmc6IDE2cHggMTZweCA0cHg7XFxuICBkaXNwbGF5OiAtd2Via2l0LWJveDtcXG4gIGRpc3BsYXk6IC1tcy1mbGV4Ym94O1xcbiAgZGlzcGxheTogZmxleDtcXG4gIC13ZWJraXQtYm94LXBhY2s6IHN0cmV0Y2g7XFxuICAgICAgLW1zLWZsZXgtcGFjazogc3RyZXRjaDtcXG4gICAgICAgICAganVzdGlmeS1jb250ZW50OiBzdHJldGNoO1xcbn1cXG5cXG4ucHctc3Vic2NyaXB0aW9uLXBvcHVwLWljb24ge1xcbiAgLXdlYmtpdC1ib3gtZmxleDogMDtcXG4gICAgICAtbXMtZmxleDogMCAwIDUwcHg7XFxuICAgICAgICAgIGZsZXg6IDAgMCA1MHB4O1xcbiAgbWFyZ2luLXJpZ2h0OiAxMnB4O1xcbiAgcGFkZGluZy10b3A6IDRweDtcXG59XFxuXFxuLnB3LXN1YnNjcmlwdGlvbi1wb3B1cC1pY29uIGltZyB7XFxuICBtYXgtd2lkdGg6IDYwcHg7XFxuICBtYXgtaGVpZ2h0OiA2MHB4O1xcbn1cXG5cXG4ucHctc3Vic2NyaXB0aW9uLXBvcHVwLXRleHQge1xcbiAgLXdlYmtpdC1ib3gtZmxleDogMTtcXG4gICAgICAtbXMtZmxleDogMSAxIDMwMHB4O1xcbiAgICAgICAgICBmbGV4OiAxIDEgMzAwcHg7XFxufVxcblxcbi5wdy1zdWJzY3JpcHRpb24tcG9wdXAtY29udHJvbHMge1xcbiAgZGlzcGxheTogLXdlYmtpdC1ib3g7XFxuICBkaXNwbGF5OiAtbXMtZmxleGJveDtcXG4gIGRpc3BsYXk6IGZsZXg7XFxuICAtbXMtZmxleC13cmFwOiB3cmFwO1xcbiAgICAgIGZsZXgtd3JhcDogd3JhcDtcXG4gIC13ZWJraXQtYm94LXBhY2s6IGNlbnRlcjtcXG4gICAgICAtbXMtZmxleC1wYWNrOiBjZW50ZXI7XFxuICAgICAgICAgIGp1c3RpZnktY29udGVudDogY2VudGVyO1xcbiAgcGFkZGluZzogOHB4IDE2cHggMTZweDtcXG59XFxuXFxuYnV0dG9uLnB3LXN1YnNjcmliZS1wb3B1cC1idXR0b24ge1xcbiAgYm9yZGVyOiBzb2xpZCAxcHggdHJhbnNwYXJlbnQ7XFxuICAtd2Via2l0LWJvcmRlci1yYWRpdXM6IDJweDtcXG4gICAgICAgICAgYm9yZGVyLXJhZGl1czogMnB4O1xcbiAgZGlzcGxheTogaW5saW5lLWJsb2NrO1xcbiAgaGVpZ2h0OiAzNnB4O1xcbiAgbGluZS1oZWlnaHQ6IDM2cHg7XFxuICBwYWRkaW5nOiAwIDE2cHg7XFxuICB0ZXh0LXRyYW5zZm9ybTogdXBwZXJjYXNlO1xcbiAgdmVydGljYWwtYWxpZ246IG1pZGRsZTtcXG4gIC13ZWJraXQtdGFwLWhpZ2hsaWdodC1jb2xvcjogdHJhbnNwYXJlbnQ7XFxuICBmb250LXNpemU6IDE0cHg7XFxuICBvdXRsaW5lOiAwO1xcbiAgdGV4dC1kZWNvcmF0aW9uOiBub25lO1xcbiAgY29sb3I6IHZhcigtLWFza0xhdGVyQnRuVGV4dENvbG9yKTtcXG4gIHRleHQtYWxpZ246IGNlbnRlcjtcXG4gIGxldHRlci1zcGFjaW5nOiAuNXB4O1xcbiAgY3Vyc29yOiBwb2ludGVyO1xcbiAgYmFja2dyb3VuZDogdmFyKC0tYXNrTGF0ZXJCdG5CZ0NvbG9yKTtcXG4gIG1hcmdpbjogNHB4IDhweDtcXG59XFxuYnV0dG9uLnB3LXN1YnNjcmliZS1wb3B1cC1idXR0b246aG92ZXIge1xcbiAgYmFja2dyb3VuZDogcmdiYSgwLDAsMCwuMDQpO1xcbn1cXG5idXR0b24ucHctc3Vic2NyaWJlLXBvcHVwLWJ1dHRvbjphY3RpdmUge1xcbiAgYmFja2dyb3VuZDogcmdiYSgwLDAsMCwuMTIpO1xcbn1cXG5cXG5idXR0b24ucHctc3Vic2NyaWJlLXBvcHVwLWJ1dHRvbi5wdy1zdWJzY3JpYmUtcG9wdXAtYnV0dG9uLWFjdGl2ZSB7XFxuICBjb2xvcjogdmFyKC0tc3Vic2NyaWJlQnRuVGV4dENvbG9yKTtcXG4gIGJhY2tncm91bmQ6IHZhcigtLXN1YnNjcmliZUJ0bkJnQ29sb3IpO1xcbiAgLXdlYmtpdC1ib3gtc2hhZG93OiAwIDJweCAycHggMCByZ2JhKDAsMCwwLDAuMTQpLFxcbiAgMCAzcHggMXB4IC0ycHggcmdiYSgwLDAsMCwwLjEyKSxcXG4gIDAgMXB4IDVweCAwIHJnYmEoMCwwLDAsMC4yKTtcXG4gICAgICAgICAgYm94LXNoYWRvdzogMCAycHggMnB4IDAgcmdiYSgwLDAsMCwwLjE0KSxcXG4gIDAgM3B4IDFweCAtMnB4IHJnYmEoMCwwLDAsMC4xMiksXFxuICAwIDFweCA1cHggMCByZ2JhKDAsMCwwLDAuMik7XFxufVxcbmJ1dHRvbi5wdy1zdWJzY3JpYmUtcG9wdXAtYnV0dG9uLnB3LXN1YnNjcmliZS1wb3B1cC1idXR0b24tYWN0aXZlOmhvdmVyIHtcXG4gIC13ZWJraXQtYm94LXNoYWRvdzogMCAzcHggM3B4IDAgcmdiYSgwLDAsMCwwLjE0KSxcXG4gIDAgMXB4IDdweCAwIHJnYmEoMCwwLDAsMC4xMiksXFxuICAwIDNweCAxcHggLTFweCByZ2JhKDAsMCwwLDAuMik7XFxuICAgICAgICAgIGJveC1zaGFkb3c6IDAgM3B4IDNweCAwIHJnYmEoMCwwLDAsMC4xNCksXFxuICAwIDFweCA3cHggMCByZ2JhKDAsMCwwLDAuMTIpLFxcbiAgMCAzcHggMXB4IC0xcHggcmdiYSgwLDAsMCwwLjIpO1xcbn1cXG5idXR0b24ucHctc3Vic2NyaWJlLXBvcHVwLWJ1dHRvbi5wdy1zdWJzY3JpYmUtcG9wdXAtYnV0dG9uLWFjdGl2ZTphY3RpdmUge1xcbiAgLXdlYmtpdC1ib3gtc2hhZG93OiAwIDJweCAycHggMCByZ2JhKDAsMCwwLDAuMTQpLFxcbiAgMCAzcHggMXB4IC0ycHggcmdiYSgwLDAsMCwwLjEyKSxcXG4gIDAgMXB4IDVweCAwIHJnYmEoMCwwLDAsMC4yKTtcXG4gICAgICAgICAgYm94LXNoYWRvdzogMCAycHggMnB4IDAgcmdiYSgwLDAsMCwwLjE0KSxcXG4gIDAgM3B4IDFweCAtMnB4IHJnYmEoMCwwLDAsMC4xMiksXFxuICAwIDFweCA1cHggMCByZ2JhKDAsMCwwLDAuMik7XFxufVxcblxcbkBtZWRpYSBzY3JlZW4gYW5kIChtaW4td2lkdGg6IDU0MXB4KSB7XFxuXFxuICAucHctc3Vic2NyaWJlLXBvcHVwLXRvcGJhciB7XFxuICAgIHdpZHRoOiAxMDAlO1xcbiAgfVxcblxcbiAgLnB3LXN1YnNjcmliZS1wb3B1cC10b3BiYXIgLnB3LXN1YnNjcmlwdGlvbi1wb3B1cC1pbm5lciB7XFxuICAgIG1heC13aWR0aDogMTAwJTtcXG4gICAgd2lkdGg6IDEwMCU7XFxuICAgIGRpc3BsYXk6IC13ZWJraXQtYm94O1xcbiAgICBkaXNwbGF5OiAtbXMtZmxleGJveDtcXG4gICAgZGlzcGxheTogZmxleDtcXG4gICAgLXdlYmtpdC1ib3gtb3JpZW50OiBob3Jpem9udGFsO1xcbiAgICAtd2Via2l0LWJveC1kaXJlY3Rpb246IG5vcm1hbDtcXG4gICAgICAgIC1tcy1mbGV4LWRpcmVjdGlvbjogcm93O1xcbiAgICAgICAgICAgIGZsZXgtZGlyZWN0aW9uOiByb3c7XFxuICAgIHBhZGRpbmc6IDJweCA0MHB4O1xcbiAgICAtd2Via2l0LWJveC1wYWNrOiBqdXN0aWZ5O1xcbiAgICAgICAgLW1zLWZsZXgtcGFjazoganVzdGlmeTtcXG4gICAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IHNwYWNlLWJldHdlZW47XFxuICAgIC13ZWJraXQtYm94LWFsaWduOiBjZW50ZXI7XFxuICAgICAgICAtbXMtZmxleC1hbGlnbjogY2VudGVyO1xcbiAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxuICAgIC1tcy1mbGV4LXdyYXA6IG5vd3JhcDtcXG4gICAgICAgIGZsZXgtd3JhcDogbm93cmFwO1xcbiAgfVxcblxcbiAgLnB3LXN1YnNjcmliZS1wb3B1cC10b3BiYXIgLnB3LXN1YnNjcmlwdGlvbi1wb3B1cC1jb250ZW50IHtcXG4gICAgcGFkZGluZzogMDtcXG4gICAgLXdlYmtpdC1ib3gtcGFjazogc3RhcnQ7XFxuICAgICAgICAtbXMtZmxleC1wYWNrOiBzdGFydDtcXG4gICAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IGZsZXgtc3RhcnQ7XFxuICAgIC13ZWJraXQtYm94LWFsaWduOiBjZW50ZXI7XFxuICAgICAgICAtbXMtZmxleC1hbGlnbjogY2VudGVyO1xcbiAgICAgICAgICAgIGFsaWduLWl0ZW1zOiBjZW50ZXI7XFxuICAgIC13ZWJraXQtYm94LWZsZXg6IDE7XFxuICAgICAgICAtbXMtZmxleDogMSAxIDYwJTtcXG4gICAgICAgICAgICBmbGV4OiAxIDEgNjAlO1xcbiAgfVxcblxcbiAgLnB3LXN1YnNjcmliZS1wb3B1cC10b3BiYXIgLnB3LXN1YnNjcmlwdGlvbi1wb3B1cC1pY29uIGltZyB7XFxuICAgIG1heC13aWR0aDogMjhweDtcXG4gICAgbWF4LWhlaWdodDogMjhweDtcXG4gIH1cXG5cXG4gIC5wdy1zdWJzY3JpYmUtcG9wdXAtdG9wYmFyIGJ1dHRvbi5wdy1zdWJzY3JpYmUtcG9wdXAtYnV0dG9uIHtcXG4gICAgaGVpZ2h0OiAzMnB4O1xcbiAgICBsaW5lLWhlaWdodDogMzJweDtcXG4gIH1cXG5cXG4gIC5wdy1zdWJzY3JpYmUtcG9wdXAtdG9wYmFyIC5wdy1zdWJzY3JpcHRpb24tcG9wdXAtY29udHJvbHMge1xcbiAgICBwYWRkaW5nOiAwIDAgMCAxNnB4O1xcbiAgICAtd2Via2l0LWJveC1hbGlnbjogY2VudGVyO1xcbiAgICAgICAgLW1zLWZsZXgtYWxpZ246IGNlbnRlcjtcXG4gICAgICAgICAgICBhbGlnbi1pdGVtczogY2VudGVyO1xcbiAgfVxcbn1cXG5AbWVkaWEgc2NyZWVuIGFuZCAobWF4LXdpZHRoOiA1NDBweCkge1xcbiAgLnB3LXN1YnNjcmliZS1wb3B1cCxcXG4gIC5wdy1zdWJzY3JpYmUtcG9wdXAucHctcG9zaXRpb24tdG9wLFxcbiAgLnB3LXN1YnNjcmliZS1wb3B1cC5wdy1wb3NpdGlvbi1jZW50ZXIsXFxuICAucHctc3Vic2NyaWJlLXBvcHVwLnB3LXBvc2l0aW9uLWJvdHRvbSB7XFxuICAgIHRvcDogYXV0bztcXG4gICAgYm90dG9tOiAtMTEwJTtcXG4gICAgbGVmdDogMDtcXG4gICAgcmlnaHQ6IDA7XFxuICAgIC13ZWJraXQtdHJhbnNmb3JtOiBub25lO1xcbiAgICAgICAgLW1zLXRyYW5zZm9ybTogbm9uZTtcXG4gICAgICAgICAgICB0cmFuc2Zvcm06IG5vbmU7XFxuICAgIGRpc3BsYXk6IC13ZWJraXQtYm94O1xcbiAgICBkaXNwbGF5OiAtbXMtZmxleGJveDtcXG4gICAgZGlzcGxheTogZmxleDtcXG4gICAgLXdlYmtpdC10cmFuc2l0aW9uOiBib3R0b20gLjRzIGVhc2Utb3V0O1xcbiAgICAtby10cmFuc2l0aW9uOiBib3R0b20gLjRzIGVhc2Utb3V0O1xcbiAgICB0cmFuc2l0aW9uOiBib3R0b20gLjRzIGVhc2Utb3V0O1xcbiAgICAtd2Via2l0LWJveC1hbGlnbjogZW5kO1xcbiAgICAgICAgLW1zLWZsZXgtYWxpZ246IGVuZDtcXG4gICAgICAgICAgICBhbGlnbi1pdGVtczogZmxleC1lbmQ7XFxuICB9XFxuXFxuICAucHctc3Vic2NyaWJlLXBvcHVwLnB3LXN1YnNjcmliZS1wb3B1cF9fb3ZlcmxheSB7XFxuICAgIGhlaWdodDogMTAwJTtcXG4gICAgLXdlYmtpdC1ib3gtYWxpZ246IGVuZDtcXG4gICAgICAgIC1tcy1mbGV4LWFsaWduOiBlbmQ7XFxuICAgICAgICAgICAgYWxpZ24taXRlbXM6IGZsZXgtZW5kO1xcbiAgfVxcblxcbiAgLnB3LXN1YnNjcmliZS1wb3B1cC5wdy1zaG93IHtcXG4gICAgYm90dG9tOiAwO1xcbiAgfVxcblxcbiAgLnB3LXN1YnNjcmliZS1wb3B1cF9fb3ZlcmxheSAucHctc3Vic2NyaXB0aW9uLXBvcHVwLWlubmVyIHtcXG4gICAgLXdlYmtpdC1ib3gtYWxpZ246IGVuZDtcXG4gICAgICAgIC1tcy1mbGV4LWFsaWduOiBlbmQ7XFxuICAgICAgICAgICAgYWxpZ24taXRlbXM6IGZsZXgtZW5kO1xcbiAgICAtd2Via2l0LWJveC1wYWNrOiBzdHJldGNoO1xcbiAgICAgICAgLW1zLWZsZXgtcGFjazogc3RyZXRjaDtcXG4gICAgICAgICAgICBqdXN0aWZ5LWNvbnRlbnQ6IHN0cmV0Y2g7XFxuICB9XFxuXFxuICAucHctc3Vic2NyaXB0aW9uLXBvcHVwLWlubmVyIHtcXG4gICAgbWF4LXdpZHRoOiAxMDAlO1xcbiAgICB3aWR0aDogMTAwJTtcXG4gIH1cXG59XFxuXCIsXCJcIl0pfSxmdW5jdGlvbihtb2R1bGUsZXhwb3J0cyl7bW9kdWxlLmV4cG9ydHM9ZnVuY3Rpb24odXNlU291cmNlTWFwKXt2YXIgbGlzdD1bXTtyZXR1cm4gbGlzdC50b1N0cmluZz1mdW5jdGlvbigpe3JldHVybiB0aGlzLm1hcChmdW5jdGlvbihpdGVtKXt2YXIgY29udGVudD1mdW5jdGlvbihpdGVtLHVzZVNvdXJjZU1hcCl7dmFyIGNvbnRlbnQ9aXRlbVsxXXx8XCJcIixjc3NNYXBwaW5nPWl0ZW1bM107aWYoIWNzc01hcHBpbmcpcmV0dXJuIGNvbnRlbnQ7aWYodXNlU291cmNlTWFwJiZcImZ1bmN0aW9uXCI9PXR5cGVvZiBidG9hKXt2YXIgc291cmNlTWFwcGluZz1mdW5jdGlvbihzb3VyY2VNYXApe3JldHVyblwiLyojIHNvdXJjZU1hcHBpbmdVUkw9ZGF0YTphcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9dXRmLTg7YmFzZTY0LFwiK2J0b2EodW5lc2NhcGUoZW5jb2RlVVJJQ29tcG9uZW50KEpTT04uc3RyaW5naWZ5KHNvdXJjZU1hcCkpKSkrXCIgKi9cIn0oY3NzTWFwcGluZyksc291cmNlVVJMcz1jc3NNYXBwaW5nLnNvdXJjZXMubWFwKGZ1bmN0aW9uKHNvdXJjZSl7cmV0dXJuXCIvKiMgc291cmNlVVJMPVwiK2Nzc01hcHBpbmcuc291cmNlUm9vdCtzb3VyY2UrXCIgKi9cIn0pO3JldHVybltjb250ZW50XS5jb25jYXQoc291cmNlVVJMcykuY29uY2F0KFtzb3VyY2VNYXBwaW5nXSkuam9pbihcIlxcblwiKX1yZXR1cm5bY29udGVudF0uam9pbihcIlxcblwiKX0oaXRlbSx1c2VTb3VyY2VNYXApO3JldHVybiBpdGVtWzJdP1wiQG1lZGlhIFwiK2l0ZW1bMl0rXCJ7XCIrY29udGVudCtcIn1cIjpjb250ZW50fSkuam9pbihcIlwiKX0sbGlzdC5pPWZ1bmN0aW9uKG1vZHVsZXMsbWVkaWFRdWVyeSl7XCJzdHJpbmdcIj09dHlwZW9mIG1vZHVsZXMmJihtb2R1bGVzPVtbbnVsbCxtb2R1bGVzLFwiXCJdXSk7Zm9yKHZhciBhbHJlYWR5SW1wb3J0ZWRNb2R1bGVzPXt9LGk9MDtpPHRoaXMubGVuZ3RoO2krKyl7dmFyIGlkPXRoaXNbaV1bMF07XCJudW1iZXJcIj09dHlwZW9mIGlkJiYoYWxyZWFkeUltcG9ydGVkTW9kdWxlc1tpZF09ITApfWZvcihpPTA7aTxtb2R1bGVzLmxlbmd0aDtpKyspe3ZhciBpdGVtPW1vZHVsZXNbaV07XCJudW1iZXJcIj09dHlwZW9mIGl0ZW1bMF0mJmFscmVhZHlJbXBvcnRlZE1vZHVsZXNbaXRlbVswXV18fChtZWRpYVF1ZXJ5JiYhaXRlbVsyXT9pdGVtWzJdPW1lZGlhUXVlcnk6bWVkaWFRdWVyeSYmKGl0ZW1bMl09XCIoXCIraXRlbVsyXStcIikgYW5kIChcIittZWRpYVF1ZXJ5K1wiKVwiKSxsaXN0LnB1c2goaXRlbSkpfX0sbGlzdH19XSl9XSl9KTsiXSwibWFwcGluZ3MiOiJBQUFBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBIiwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///../../../node_modules/web-push-notifications/lib/index.js\n");

/***/ })

}]);